Add-CTFile
----------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **FilePath**

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|true    |2       |True (ByPropertyName, ByValue)|

#### **Server**

|Type     |Required|Position|PipelineInput|Aliases|
|---------|--------|--------|-------------|-------|
|`[CHost]`|true    |1       |False        |Host   |

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-CTFile [-Server] <CHost> [-FilePath] <String[]> [<CommonParameters>]
```

Add-HP3Snapshot
---------------

### Synopsis
Creates HPE 3PAR StoreServ storage snapshots.

---

### Description

This cmdlet creates a snapshot of a selected HPE 3PAR StoreServ storage volume.

---

### Examples
> Example 1

$storage = Get-HP3Storage -Name "HPE 3PAR StoreServe Storage"
$volume = Get-HP3Volume -Storage $storage
Add-HP3Snapshot -Volume $volume -Name "vol_SS_01" -Description "Vol 01 snapshot"
This example shows how to create a snapshot of a selected volume.
Perform the following steps:
1. Run the Get-HP3Storage cmdlet. Specify the Name parameter value. Save it to the $storage variable.
2. Run the Get-HP3Volume cmdlet. Set the $storage variable as the Storage parameter value. Save the volume to the $volume variable.
3. Run the Add-HP3Snapshot cmdlet. Set the $volume variable as the Volume parameter value. Specify the Name parameter value. Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies the description of the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Volume**
Specifies the storage volume for which you want to take snapshot.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSanVolume]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-HP3Snapshot [-Description <String>] [-Name <String>] -Volume <CSanVolume> [<CommonParameters>]
```

Add-HP3Storage
--------------

### Synopsis
Adds HPE 3PAR StoreServ storage systems to Veeam Backup & Replication.

---

### Description

This cmdlet adds selected HPE 3PAR StoreServ storage systems to backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems. During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.

TIP: Use the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
1. Run the Sync-HP3Storage cmdlet to rescan of the entire storage system.
2. Run the Sync-HP3Volume cmdlet to rescan selected HPE 3PAR StoreServ volumes added to backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1

$credentials = Get-VBRCredentials -Name "HPE 3PAR StoreServe Administrator"
$proxy = Get-VBRViProxy -Name 172.18.21.25
Add-HP3Storage -Name 172.18.44.8 -Credentials $credentials -Proxy $proxy -Description "HPE 3PAR StoreServe Storage" -Url https://172.18.44.8:8080
This example shows how to add a HPE 3PAR StoreServ storage system to the backup infrastructure using credentials.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
3. Run the Add-HP3Storage cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $credentials variable as the Credentials parameter value.
- Set the $proxy variable as the Proxy parameter value.
- Specify the Description parameter value.
- Specify the Url parameter value.

---

### Parameters
#### **AgentFC**
For the EnableAgentBackup parameter.
Defines that the storage works over FC protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentISCSI**
For the EnableAgentBackup parameter.
Defines that the storage works over iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentProxy**
For the EnableAgentBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerFileProxyServer[]]`|false   |named   |False        |

#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableAgentBackup**
Enables the Veeam Agent backup option.
If you provide this parameter, you will be able to integrate your storage systems with Veeam Agent for Microsoft Windows installed on computers in your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableVMwareBackup**
Enables the VMware backup option.
If you provide this parameter, you will be able to use storage snapshots to backup and restore VMware vSphere VMs hosted on storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FibreChannel**
For the EnableVMwareBackup parameter.
Defines that the storage works over FibreChannel protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an HPE 3PAR StoreServ storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **iSCSI**
For the EnableVMwareBackup parameter.
Defines that the storage works over iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MountServer**
Specifies the mount server that you want to use to work with this storage.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies the storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NFS**
For the EnableVMwareBackup parameter.
Defines that the storage works over NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Proxy**
For the EnableVMwareBackup parameter.
Specifies the array of proxies you want to use with this storage.
If set, Veeam Backup & Replication will use the selected proxies. If not set, Veeam Backup & Replication will use automatic proxy selection.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Url**
Specifies the HPE 3PAR Web Services API URL.
The HPE 3PAR Web Services API delivers a programming interface for performing storage management tasks with HPE 3PAR StoreServ storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-HP3Storage [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] -Credentials <CInternalCredentials> [-Description <String>] [-EnableAgentBackup] 
```
```PowerShell
[-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] -Name <String> [-NFS] [-Proxy <IProxy[]>] [-SkipRescan] [-Url <String>] [<CommonParameters>]
```
```PowerShell
Add-HP3Storage [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-Description <String>] [-EnableAgentBackup] [-EnableVMwareBackup] [-FibreChannel] 
```
```PowerShell
[-Force] [-iSCSI] [-MountServer <CHost>] -Name <String> [-NFS] -Password <String> [-Proxy <IProxy[]>] [-SkipRescan] [-Url <String>] -UserName <String> [<CommonParameters>]
```

Add-HP4Snapshot
---------------

### Synopsis
Creates HPE StoreVirtual storage snapshots.

---

### Description

This cmdlet creates a snapshot of a selected HPE StoreVirtual storage volume.

Alias Add-VBRHPSnapshot

---

### Examples
> Example 1

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
$volume = Get-HP4Volume -Storage $storage -Name "HPE Volume 01"
Add-HP4Snapshot -Volume $volume -Name "HPE Volume 01 Snapshot"
This example shows how to create a snapshot of a volume.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Volume cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value. Save the result to the $volume variable.
3. Run the Add-HP4Snapshot cmdlet. Set the $volume variable as the Volume parameter value. Specify the Name parameter value.

---

### Parameters
#### **ApplicationManagedShapshot**
Defines if the VM on the target volume should be quiesced to bring VM data to a consistent state.
If omitted, Veeam Backup & Replication will create a point-in-time snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Description**
Specifies the description of the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Volume**
Specifies the storage volume for which you want to take snapshot.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSanVolume]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-HP4Snapshot [-ApplicationManagedShapshot] [-Description <String>] [-Name <String>] -Volume <CSanVolume> [<CommonParameters>]
```

Add-HP4Storage
--------------

### Synopsis
Adds HPE StoreVirtual storage systems to Veeam Backup & Replication.

---

### Description

This cmdlet adds selected HPE StoreVirtual storage systems to backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems. During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.

TIP: Use the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
- Run the Sync-HP4Storage cmdlet to rescan of the entire storage system.

- Run the Sync-HP4Volume cmdlet to rescan selected HPE StoreVirtual volumes added to backup infrastructure.

Alias Add-VBRHPStorage

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1

$credentials = -Name "HPE StoreVirtual P4000 Administrator"
$proxy = Get-VBRViProxy -Name 167.16.2.130
Add-HP4Storage -DnsOrIpAddress 167.16.2.134 -Credentials $credentials -Proxy $proxy -Description "HPE StoreVirtual P4000 Storage"
This example shows how to add an HPE StoreVirtual storage system to the backup infrastructure using credentials.

Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
3. Run the Add-HP4Storage cmdlet. Specify the following settings:
- Specify the DnsOrIpAddress parameter value.
- Set the $credentials variable as the Credentials parameter value.
- Set the $proxy variable as the Proxy parameter value.
- Specify the Description parameter value.

---

### Parameters
#### **AgentFC**
For the EnableAgentBackup parameter.
Defines that the storage works over FC protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentISCSI**
For the EnableAgentBackup parameter.
Defines that the storage works over iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentProxy**
For the EnableAgentBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerFileProxyServer[]]`|false   |named   |False        |

#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DnsOrIpAddress**
Specifies the storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **EnableAgentBackup**
Enables the Veeam Agent backup option.
If you provide this parameter, you will be able to integrate your storage systems with Veeam Agent for Microsoft Windows installed on computers in your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableVMwareBackup**
Enables the VMware backup option.
If you provide this parameter, you will be able to use storage snapshots to backup and restore VMware vSphere VMs hosted on storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FibreChannel**
For the EnableVMwareBackup parameter.
Defines that the storage works over FibreChannel protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a HPE StoreVirtual storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **iSCSI**
For the EnableVMwareBackup parameter.
Defines that the storage works over iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MountServer**
Specifies the mount server that you want to use to work with this storage.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies the name of the management group to which the storage belongs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NFS**
For the EnableVMwareBackup parameter.
Defines that the storage works over NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Proxy**
For the EnableVMwareBackup parameter.
Specifies the array of proxies you want to use with this storage.
If set, Veeam Backup & Replication will use the selected proxies. If not set, Veeam Backup & Replication will use automatic proxy selection.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-HP4Storage [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] -Credentials <CInternalCredentials> [-Description <String>] -DnsOrIpAddress <String> 
```
```PowerShell
[-EnableAgentBackup] [-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] [-Name <String>] [-NFS] [-Proxy <IProxy[]>] [-SkipRescan] 
```
```PowerShell
[<CommonParameters>]
```
```PowerShell
Add-HP4Storage [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-Description <String>] -DnsOrIpAddress <String> [-EnableAgentBackup] 
```
```PowerShell
[-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] [-Name <String>] [-NFS] -Password <String> [-Proxy <IProxy[]>] [-SkipRescan] -UserName 
```
```PowerShell
<String> [<CommonParameters>]
```

Add-HyperFlexHost
-----------------

### Synopsis
Adds Cisco HyperFlex storage systems to the backup infrastructure.

---

### Description

This cmdlet adds the Cisco HyperFlex storage systems to the backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems. During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.

Tip
Use the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, run the Sync-HyperFlexHost cmdlet to rescan of the entire storage system.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1. Adding Cisco HyperFlex Storage by Username and Password

```PowerShell
Add-HyperFlexHost -Name 192.0.2.1 -UserName "Cisco HX Administrator" -Password "SecurePa$$w0rd"
This command adds the 192.0.2.1 Cisco HyperFlex storage system by specifying user name and password.
```
> Example 2.  Adding Cisco HyperFlex Storage System Using Credentials

$credentials = Get-VBRCredentials -Name "Cisco HX Administrator"
Add-HyperFlexHost -Name 192.0.2.1 -Credentials $credentials
This example shows how to add the 192.0.2.1 Cisco HyperFlex storage system to the backup infrastructure using the Cisco HX Administrator credentials.

Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Add-HyperFlexHost cmdlet. Specify the Name parameter value. Set the $credentials variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a Cisco HyperFlex without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Proxy**
Specifies the array of proxies you want to use with this storage.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-HyperFlexHost -Credentials <CInternalCredentials> [-Description <String>] [-Force] -Name <String> [-Proxy <IProxy[]>] [-SkipRescan] [<CommonParameters>]
```
```PowerShell
Add-HyperFlexHost [-Description <String>] [-Force] -Name <String> -Password <String> [-Proxy <IProxy[]>] [-SkipRescan] -UserName <String> [<CommonParameters>]
```

Add-NetAppHost
--------------

### Synopsis
Adds NetApp storage systems to Veeam Backup & Replication.

---

### Description

This cmdlet adds selected NetApp storage systems to backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems.
During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.
TIP: Use the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
- Run Sync-NetAppHost to rescan of the entire storage system.
- Run Sync-NetAppVolume to rescan selected NetApp volumes added to backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1

$credentials = Get-VBRCredentials -Name "NetApp Administrator"
$proxy = Get-VBRViProxy -Name 167.16.21.25
Add-NetAppHost -Name 167.16.2.134 -Credentials $credentials -Proxy $proxy -Description "NetApp Storage"
This example shows how to add a NetApp storage system to backup infrastructure using credentials.
1. Run Get-VBRCredentials to get a credentials record for the storage system.
Save the result to the $credentials variable.
2. Run Get-VBRViProxy to get a backup proxy that will be used for storage rescan and for Backup from Storage Snapshots.
Save the result to the $proxy variable.
3. Run Add-NetAppHost with the $credentials and $proxy variables.

---

### Parameters
#### **AgentFC**
For the EnableAgentBackup parameter.
Defines that the storage works over the FS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentISCSI**
For the EnableAgentBackup parameter.
Defines that the storage works over the iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentProxy**
For the EnableAgentBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerFileProxyServer[]]`|false   |named   |False        |

#### **CreateRulesAutomatically**
For the EnableVMwareBackup parameter.
Defines that the cmdlet will allow Veeam Backup & Replication to automatically create required SMB and NFS export rules on the storage system.
If you provide this parameter, the rules will be created automatically in case the proxies are unavailable.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableAgentBackup**
Enables the Veeam Agent backup option.
If you provide this parameter, you will be able to integrate your storage systems with Veeam Agent for Microsoft Windows installed on computers in your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableNASBackup**
Enables the NAS backup option.
If you provide this parameter, you will be able to integrate your storage systems with NAS file shares added to your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableVMwareBackup**
Enables the VMware backup option.
If you provide this parameter, you will be able to use storage snapshots to backup and restore VMware vSphere VMs hosted on storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FibreChannel**
For the EnableVMwareBackup parameter.
Defines that the storage works over the FibreChannel protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a ThinkSystem storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **iSCSI**
For the EnableVMwareBackup parameter.
Defines that the storage works over the iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **IsHTTP**
If set to TRUE, HTTP protocol will be used to connect to the NetApp storage.
Otherwise, HTTPS protocol will be selected. By default, HTTPS is used.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Boolean]`|false   |named   |False        |

#### **MountServer**
Specifies the mount server that you want to use to work with this storage.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies the storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NASCreateRulesAutomatically**
For the EnableNASBackup parameter.
Defines that the cmdlet will allow Veeam Backup & Replication to automatically create required SMB and NFS export rules on the storage system.
If you provide this parameter, the rules will be created automatically in case the proxies are unavailable.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASNFS**
For the EnableNASBackup parameter.
Defines that the storage works over the SMB protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASProxy**
For the EnableNASBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

#### **NASSMB**
For the EnableNASBackup parameter. Indicates that the storage works over the SMB protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NFS**
For the EnableVMwareBackup parameter.
Defines that the storage works over the NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Sets a port used to connect to the NetApp storage.
By default, port 443 is used.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Proxy**
For the EnableVMwareBackup parameter.
Specifies an array of proxies you want to use with this storage.
If not set, Veeam Backup & Replication will use automatic proxy selection.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-NetAppHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-CreateRulesAutomatically] -Credentials <CInternalCredentials> [-Description <String>] 
```
```PowerShell
[-EnableAgentBackup] [-EnableNASBackup] [-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-IsHTTP <Boolean>] [-MountServer <CHost>] -Name <String> 
```
```PowerShell
[-NASCreateRulesAutomatically] [-NASNFS] [-NASProxy <VBRNASProxyServer[]>] [-NASSMB] [-NFS] [-Port <Int32>] [-Proxy <IProxy[]>] [-SkipRescan] [<CommonParameters>]
```
```PowerShell
Add-NetAppHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-CreateRulesAutomatically] [-Description <String>] [-EnableAgentBackup] 
```
```PowerShell
[-EnableNASBackup] [-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-IsHTTP <Boolean>] [-MountServer <CHost>] -Name <String> [-NASCreateRulesAutomatically] [-NASNFS] 
```
```PowerShell
[-NASProxy <VBRNASProxyServer[]>] [-NASSMB] [-NFS] -Password <String> [-Port <Int32>] [-Proxy <IProxy[]>] [-SkipRescan] -UserName <String> [<CommonParameters>]
```

Add-NetAppSnapshot
------------------

### Synopsis
Creates NetApp storage snapshots.

---

### Description

This cmdlet creates a snapshot of a selected NetApp storage volume.

---

### Examples
> Example 1

$apphost = Get-NetAppHost -Name "NetApp Store"
Get-NetAppVolume -Host $apphost -Name "Vol 01" | Add-NetAppSnapshot -Name "vol_SS_01"
This example shows how to create a snapshot of the Vol 01 volume.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $apphost variable.
2. Run the Get-NetAppVolume cmdlet. Set the $apphost variable as the Host parameter value. Specify the Name parameter value.
3. Pipe the cmdlet output to the Add-NetAppSnapshot cmdlet. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the name you want to assign to the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Volume**
Specifies the storage volume for which you want to take snapshot.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSanVolume]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-NetAppSnapshot [-Name <String>] -Volume <CSanVolume> [<CommonParameters>]
```

Add-NimbleHost
--------------

### Synopsis
Adds HPE Nimble storage systems to Veeam Backup & Replication.

---

### Description

This cmdlet adds selected HPE Nimble storage systems to backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems. During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.

TIP:  Use the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
- Run the Sync-NimbleHost cmdlet to rescan of the entire storage system.
- Run the Sync-NimbleVolume cmdlet to rescan selected HPE Nimble volumes added to backup infrastructure.

---

### Related Links
* [Get-VBRViProxy](Get-VBRViProxy.md)

* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1

$credentials = Get-VBRCredentials -Name "HPE Nimble Administrator"
$proxy = Get-VBRViProxy -Name 172.17.53.5
Add-NimbleHost -Name 172.17.53.38 -Credentials $credentials -Description "HPE Nimble Storage iSCSI" -Proxy $proxy -iSCSI
This example shows how to add an HPE Nimble storage system to the backup infrastructure using credentials.

Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
3. Run the Add-NimbleHost cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $credentials variable as the Credentials parameter value.
- Specify the Description parameter value.
- Set the $proxy variable as the Proxy parameter value.
- Provide the iSCSI parameter.

---

### Parameters
#### **AgentFC**
For the EnableAgentBackup parameter.
Defines that the storage works over FC protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentISCSI**
For the EnableAgentBackup parameter.
Defines that the storage works over iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentProxy**
For the EnableAgentBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerFileProxyServer[]]`|false   |named   |False        |

#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableAgentBackup**
Enables the Veeam Agent backup option.
If you provide this parameter, you will be able to integrate your storage systems with Veeam Agent for Microsoft Windows installed on computers in your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableVMwareBackup**
Enables the VMware backup option.
If you provide this parameter, you will be able to use storage snapshots to backup and restore VMware vSphere VMs hosted on storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FibreChannel**
For the EnableVMwareBackup parameter.
Defines that Veeam Backup & Replication will connect to the HPE Nimble storage over the FibreChannel protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a Nimble storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **iSCSI**
For the EnableVMwareBackup parameter.
Defines that Veeam Backup & Replication will connect to the HPE Nimble storage over the iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MountServer**
Specifies the mount server that you want to use to work with this storage.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies a storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Proxy**
For the EnableVMwareBackup parameter.
Specifies the array of proxies you want to use to work with this storage.
If set, Veeam Backup & Replication will use the selected proxies. If not set, Veeam Backup & Replication will use automatic proxy selection.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **RESTAPIPort**
For HPE Nimble OS 2.3 and later.
Specifies the port for HPE Nimble RESTful API to communicate with storage.
Default: 5392.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-NimbleHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] -Credentials <CInternalCredentials> [-Description <String>] [-EnableAgentBackup] 
```
```PowerShell
[-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] -Name <String> [-Proxy <IProxy[]>] [-RESTAPIPort <Int32>] [-SkipRescan] [<CommonParameters>]
```
```PowerShell
Add-NimbleHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-Description <String>] [-EnableAgentBackup] [-EnableVMwareBackup] [-FibreChannel] 
```
```PowerShell
[-Force] [-iSCSI] [-MountServer <CHost>] -Name <String> -Password <String> [-Proxy <IProxy[]>] [-RESTAPIPort <Int32>] [-SkipRescan] -UserName <String> [<CommonParameters>]
```

Add-NimbleSnapshot
------------------

### Synopsis
Creates HPE Nimble storage snapshots.

---

### Description

This cmdlet creates a snapshot of a selected HPE Nimble storage volume.

---

### Examples
> Example 1

$storage = Get-NimbleHost -Name "HPE Nimble-FC"
$volume = Get-NimbleVolume -Host $storage -Name "VOL01"
Add-NimbleSnapshot -Volume $volume -Name "DailySnapshot01"
This example shows how to create a volume snapshot.

Perform the following steps:
1. Run the Get-NimbleHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-NimbleVolume cmdlet. Set the $storage variable as the Host parameter value. Specify the Name parameter value. Save the result to the $volume variable.
3. Run the Add-NimbleSnapshot cmdlet. Set the $volume variable as the Volume parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the name you want to assign to the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Volume**
Specifies the storage volume for which you want to take snapshot.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSanVolume]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-NimbleSnapshot [-Name <String>] -Volume <CSanVolume> [<CommonParameters>]
```

Add-StoragePluginHost
---------------------

### Synopsis
Adds Universal Storage API integrated systems to Veeam Backup & Replication.

---

### Description

This cmdlet adds selected Universal Storage API integrated systems to backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems. During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.

TIP: Use the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
- Run Sync-StoragePluginHost to rescan of the entire storage system.
- Run Sync-StoragePluginVolume to rescan selected integrated systems volumes added to backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

* [Get-VBRStoragePlugin](Get-VBRStoragePlugin.md)

---

### Examples
> Example 1

Get-VBRStoragePlugin
$credentials = Get-VBRCredentials -Name "IBM Administrator"
$proxy = Get-VBRViProxy -Name 172.17.41.34
Add-StoragePluginHost -PluginType Ibm -Name 172.17.41.3 -Credentials $credentials -Description "IBM iSCSI" -Proxy $proxy
This example shows how to add an IBM Spectrum Virtualize storage system to Veeam Backup & Replication.

Perform the following steps:
1. Run the Get-VBRStoragePlugin cmdlet. To add the IBM Spectrum Virtualize storage system to Veeam Backup & Replication, you will need the IBM Plug-in.
2. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
3. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
4. Run the Add-StoragePluginHost cmdlet. Specify the following settings:
- Set the Ibm option for the PluginType parameter value.
- Specify the Name parameter value.
- Set the $credentials variable as the Credentials parameter value.
- Specify the Description parameter value.
- Set the $proxy variable as the Proxy parameter value.

---

### Parameters
#### **AgentFC**
For the EnableAgentBackup parameter.
Defines that the storage works over the FS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentISCSI**
For the EnableAgentBackup parameter.
Defines that the storage works over the iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentProxy**
For the EnableAgentBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerFileProxyServer[]]`|false   |named   |False        |

#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableAgentBackup**
Enables the Veeam Agent backup option.
Defines that the cmdlet will allow backup of Veeam Agents.
If you provide this parameter, you will be able to integrate your storage systems with Veeam Agent for Microsoft Windows installed on computers in your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableVMwareBackup**
Enables the VMware backup option.
If you provide this parameter, you will be able to use storage snapshots to backup and restore VMware vSphere VMs hosted on storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FibreChannel**
For the EnableVMwareBackup parameter.
Defines that the storage works over the FibreChannel protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a ThinkSystem storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **iSCSI**
For the EnableVMwareBackup parameter.
Defines that the storage works over the iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MountServer**
Specifies the mount server that you want to use to work with this storage.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies the storage IP address or DNS name of the storage you want to add.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Nfs**
For the EnableVMwareBackup parameter.
Defines that the storage works over the NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **PluginType**
Specifies the storage plug-in.
The cmdlet will use this plug-in for adding the associated storage to Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Sets a port used to connect to the storage.
By default, port 443 is used.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Proxy**
For the EnableVMwareBackup parameter.
Specifies an array of proxies you want to use with this storage.
If not set, Veeam Backup & Replication will use automatic proxy selection.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-StoragePluginHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] -Credentials <CInternalCredentials> [-Description <String>] [-EnableAgentBackup] 
```
```PowerShell
[-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] -Name <String> [-Nfs] -PluginType <String> [-Port <Int32>] [-Proxy <IProxy[]>] [-SkipRescan] 
```
```PowerShell
[<CommonParameters>]
```
```PowerShell
Add-StoragePluginHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-Description <String>] [-EnableAgentBackup] [-EnableVMwareBackup] 
```
```PowerShell
[-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] -Name <String> [-Nfs] -Password <String> -PluginType <String> [-Port <Int32>] [-Proxy <IProxy[]>] [-SkipRescan] 
```
```PowerShell
-UserName <String> [<CommonParameters>]
```

Add-StoragePluginSnapshot
-------------------------

### Synopsis
Creates snapshots of Universal Storage API integrated systems.

---

### Description

This cmdlet creates a snapshot of a selected storage volume.

---

### Related Links
* [Get-StoragePluginHost](Get-StoragePluginHost.md)

* [Get-StoragePluginVolume](Get-StoragePluginVolume.md)

---

### Examples
> Example 1

$storage = Get-StoragePluginHost -Name "IBM Spectrum"
$volume = Get-StoragePluginVolume -Host $storage -Name "VOLUME-01"
Add-StoragePluginSnapshot -Volume $volume -Name "DailySnapshot01"
This example shows how to create a volume snapshot.

Perform the following steps:
1. Run the Get-StoragePluginHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-StoragePluginVolume cmdlet. Set the $storage variable as the Host parameter value. Specify the Name parameter value. Save the result to the $volume variable.
3. Run the Add-StoragePluginSnapshot cmdlet. Set the $volume variable as the Volume parameter value. Specify the Name parameter value.

---

### Parameters
#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the snapshot.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Volume**
Specifies the storage volume for which you want to take snapshot.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSanVolume]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-StoragePluginSnapshot [-Description <String>] -Name <String> -Volume <CSanVolume> [<CommonParameters>]
```

Add-ThinkSystemHost
-------------------

### Synopsis
Adds ThinkSystem storage systems to the backup infrastructure.

---

### Description

This cmdlet adds selected ThinkSystem storage systems to the backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of these storage systems.
During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.

TIP: Provide the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
- Run the Sync-NetAppHost cmdlet to rescan of the entire storage system.
- Run the Sync-NetAppVolume cmdlet to rescan selected NetApp volumes added to backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1. Adding a ThinkSystem Storage System by Username and Password

```PowerShell
Add-ThinkSystemHost -Name 167.16.2.134 -UserName "Lenovo Administrator" -Password "SecurePa$$w0rd"
This command adds a ThinkSystem storage system to the backup infrastructure using username and password.
```
> Example 2. Adding a ThinkSystem Storage System by Credentials

$credentials = Get-VBRCredentials -Name "Lenovo Administrator"
$proxy = Get-VBRViProxy -Name 167.16.21.25
Add-ThinkSystemHost -Name 167.16.2.134 -Credentials $credentials -Proxy $proxy -Description "Lenovo Storage"
This example shows how to add a ThinkSystem storage system to the backup infrastructure using credentials.

Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
3. Run the Add-ThinkSystemHost cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $credentials variable as the Credentials parameter value.
- Set the $proxy variable as the Proxy parameter value.
- Specify the Description parameter value.

---

### Parameters
#### **AgentFC**
For the EnableAgentBackup parameter.
Defines that the storage works over the FS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentISCSI**
For the EnableAgentBackup parameter.
Defines that the storage works over the iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentProxy**
For the EnableAgentBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerFileProxyServer[]]`|false   |named   |False        |

#### **CreateRulesAutomatically**
For the EnableVMwareBackup parameter.
Defines that the cmdlet will allow Veeam Backup & Replication to automatically create required SMB and NFS export rules on the storage system.
If you provide this parameter, the rules will be created automatically in case the proxies are unavailable.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableAgentBackup**
Enables the Veeam Agent backup option.
If you provide this parameter, you will be able to integrate your storage systems with Veeam Agent for Microsoft Windows installed on computers in your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableNASBackup**
Enables the NAS backup option.
If you provide this parameter, you will be able to integrate your storage systems with NAS file shares added to your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableVMwareBackup**
Enables the VMware backup option.
If you provide this parameter, you will be able to use storage snapshots to backup and restore VMware vSphere VMs hosted on storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FibreChannel**
For the EnableVMwareBackup parameter.
Defines that the storage works over FibreChannel protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a HPE 3PAR StoreServ storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **iSCSI**
For the EnableVMwareBackup parameter.
Defines that the storage works over iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **IsHTTP**
If set to TRUE, HTTP protocol will be used to connect to the ThinkSystem storage.  Otherwise, HTTPS protocol will be selected.
Defaul: HTTPS.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Boolean]`|false   |named   |False        |

#### **MountServer**
Specifies an array of proxies you want to use with this storage.
Veeam Backup & Replication will use this proxy to rescan and Backup from Storage Snapshots.
If not set, Veeam Backup & Replication will use automatic proxy selection.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies the storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NASCreateRulesAutomatically**
For the EnableNASBackup parameter.
Defines that the cmdlet will allow Veeam Backup & Replication to automatically create required SMB and NFS export rules on the storage system.
If you provide this parameter, the rules will be created automatically in case the proxies are unavailable.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASNFS**
For the EnableNASBackup parameter.
Defines that the storage works over the NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASProxy**
For the EnableNASBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

#### **NASSMB**
For the EnableNASBackup parameter.
Defines that the storage works over the SMB protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NFS**
For the EnableVMwareBackup parameter.
Defines that the storage works over NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Specifies a port used to connect to the ThinkSystem storage.
By default, port 443 is used.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Proxy**
For the EnableVMwareBackup parameter.
Specifies an array of proxies you want to use with this storage. Veeam Backup & Replication will use this proxy to rescan and Backup from Storage Snapshots.
Note: If you do not provide this parameter,  Veeam Backup & Replication  will use the automatic proxy selection.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **SkipRescan**
Specifies the mount server that you want to use to work with this storage.
Veeam Backup & Replication will use this server for file-level and application items restore.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-ThinkSystemHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-CreateRulesAutomatically] -Credentials <CInternalCredentials> [-Description 
```
```PowerShell
<String>] [-EnableAgentBackup] [-EnableNASBackup] [-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-IsHTTP <Boolean>] [-MountServer <CHost>] -Name <String> 
```
```PowerShell
[-NASCreateRulesAutomatically] [-NASNFS] [-NASProxy <VBRNASProxyServer[]>] [-NASSMB] [-NFS] [-Port <Int32>] [-Proxy <IProxy[]>] [-SkipRescan] [<CommonParameters>]
```
```PowerShell
Add-ThinkSystemHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-CreateRulesAutomatically] [-Description <String>] [-EnableAgentBackup] 
```
```PowerShell
[-EnableNASBackup] [-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-IsHTTP <Boolean>] [-MountServer <CHost>] -Name <String> [-NASCreateRulesAutomatically] [-NASNFS] 
```
```PowerShell
[-NASProxy <VBRNASProxyServer[]>] [-NASSMB] [-NFS] -Password <String> [-Port <Int32>] [-Proxy <IProxy[]>] [-SkipRescan] -UserName <String> [<CommonParameters>]
```

Add-ThinkSystemSnapshot
-----------------------

### Synopsis
Creates ThinkSystem storage snapshots.

---

### Description

This cmdlet creates a snapshot of a selected ThinkSystem storage volume.

---

### Related Links
* [Add-ThinkSystemHost](Add-ThinkSystemHost.md)

* [Get-ThinkSystemVolume](Get-ThinkSystemVolume.md)

---

### Examples
> Creating Snapshot

$apphost = Get-ThinkSystemHost -Name "ThinkSystem Store"
$volume = Get-ThinkSystemVolume -Host $apphost -Name "Vol 01"
Add-ThinkSystemSnapshot -Volume $volume -Name "vol_SS_01"
This example shows how to create a snapshot of a volume.
Perform the following steps:
1. Run the Add-ThinkSystemHost cmdlet.
Specify the Name parameter value.
Save the result to the $apphost variable.
2. Run the Get-ThinkSystemVolume cmdlet.
Specify the Name and Host parameter values.
Save the result to the $volume variable.
3. Run the Add-ThinkSystemSnapshot cmdlet.
Set the $volume variable as the Volume parameter value.
Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the name you want to assign to the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Volume**
Specifies the storage volume for which you want to take snapshot.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSanVolume]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-ThinkSystemSnapshot [-Name <String>] -Volume <CSanVolume> [<CommonParameters>]
```

Add-VBRAdCloudTenant
--------------------

### Synopsis
Creates Active Directory tenant accounts.

---

### Description

This cmdlet creates Active Directory tenant accounts.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRCloudTenantResource](New-VBRCloudTenantResource.md)

---

### Examples
> Adding Active Directory Tenant Account

$repository = Get-VBRBackupRepository -Name "SilverRepository"
$backupresources = New-VBRCloudTenantResource -Repository $repository -RepositoryFriendlyName "Standard Tier Repository" -Quota 10
Add-VBRAdCloudTenant -Name "tech\jane.doe" -Domain "tech.local" -DomainUrl "users.tech.local" -DomainUsername "Administrator" -DomainUserPassword "SecurePa$$" -Resources $backupresources
This example shows how to create the jane.doe Active Directory tenant account with the following settings:
- The backup resources option is enabled.
- The user is located on the tech.local domain controller.
- The URL of the domain controller is dc01.tech.local.
- Veeam Backup & Replication uses the Administrator user and the SecurePa$$ password to verify that the jane.doe user is added to the dc01.tech.local domain.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the New-VBRCloudTenantResource cmdlet. Specify the Repository, RepositoryFriendlyName and the Quota parameter values. Save the result to the $backupresources variable.
3. Run the Add-VBRaDCloudTenant cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Domain parameter value.
- Specify the DomainUrl parameter value.
- Specify the DomainUsername parameter value.
- Specify the DomainUserPassword parameter value.
- Set the $backupresources variable as the Resources parameter value.

---

### Parameters
#### **BackupProtectionPeriod**
For the EnableBackupProtection parameter. Specifies the number of days to keep the tenant's deleted backups on the service provider side. Can be set to 1-99.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Description**
Specifies the description of the simple tenant account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Domain**
Specifies a domain name where an Active Directory user is located.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **DomainCredentials**
Specifies the credentials that the cmdlet will use to connect to the domain controller. Accepts the CCredentials object. To get this object, run the Get-VBRCredentials cmdlet.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|false   |named   |False        |

#### **DomainPort**
Specifies a port number which will be used to connect to the domain.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **DomainUrl**
Specifies a URL of the Domain Controller. The cmdlet will connect to this domain controller to verify that the user, for whom you want to create a tenant account, exists in Active Directory and this user is available.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **DomainUsername**
Specifies a name of a user who has permissions to get a list of the users from the domain controller.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DomainUserPassword**
Specifies a password of a user who has permissions to get a list of the users from the domain controller.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupProtection**
Prevents the tenant's backups from complete removal. With this option, the tenant's deleted backups will be placed to the recycle bin on the service provider's side. The backups will be kept in the bin for the specified protection period. When this period ends, the backups are removed permanently. To specify the protection period, provide the BackupProtectionPeriod parameter.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableGatewayFailover**
Enables gateway pool failover option. In case the gateway pool is down, Veeam Backup & Replication will route the data through the gateway that is not added to any gateway pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableLeaseExpiration**
Defines that an Active Directory tenant account must use lease expiration settings. Provide the LeaseExpirationDate parameter to set the lease expiration date.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableThrottling**
Enables the network throttling to set the bandwidth limitations. Provide the ThrottlingValue and ThrottlingUnit parameters to set the maximum value.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GatewayPool**
Specifies the gateway pool. Veeam Backup & Replication will route the data through the specified gateway pool.  Accepts the VBRCloudGatewayPool[] object. To create this object, run the Get-VBRCloudGatewayPool cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRCloudGatewayPool[]]`|false   |named   |False        |

#### **GatewaySelectionType**
Specifies the type of gateway, you want to assign to the vCD cloud tenant accounts.
* StandaloneGateways - use this option to route the data through the gateway that is not added to the gateway pool.
* GatewayPool - use this option to route the data through the gateway pool.
Valid Values:

* StandaloneGateways
* GatewayPool

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCloudGatewaySelectionType]`|false   |named   |False        |

#### **LeaseExpirationDate**
For the EnableLeaseExpiration option. Specifies the lease expiration date. Default: 23:59:59.9999999, 31.12.9999.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|false   |named   |False        |

#### **MaxConcurrentTask**
Specifies the maximum number of tasks the tenant can process in parallel. The number of tasks is the number of VM disks processed by one job targeted at the cloud repository or cloud host.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies an Active Directory user for which you want to create a tenant account. The cmdlet will create a tenant account with this user.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Resources**
Specifies an array of backup resource quotas you want to allocate to the simple tenant account. You must set the Resources or the ReplicationResources parameter, or a combination of both, to create a tenant.  Note: When you assign multiple resource quotas to one tenant account, the resource quotas must have unique Repository Friendly Names and they must use different repositories.  Accepts the VBRCloudTenantResource[] object. To create this object, run the New-VBRCloudTenantResource cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRCloudTenantResource[]]`|false   |named   |False        |

#### **ThrottlingUnit**
For the EnableThrottling option.
Specifies the measure units for the bandwidth value. You can select either of the following:
* MbitPerSec
* MbytePerSec
* KbytePerSec
Default: MbytePerSec.
Valid Values:

* MbitPerSec
* MbytePerSec
* KbytePerSec

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRSpeedUnit]`|false   |named   |False        |

#### **ThrottlingValue**
For the EnableThrottling option. Specifies the maximum bandwidth value in Mbps for transferring the tenant data to the SP side.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Decimal]`|false   |named   |False        |

#### **UseServiceAccount**
Defines that the cmdlet will use the service account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAdCloudTenant [-BackupProtectionPeriod <Int32>] [-Description <String>] -Domain <String> [-DomainCredentials <CCredentials>] [-DomainPort <Int32>] -DomainUrl <String> 
```
```PowerShell
[-EnableBackupProtection] [-EnableGatewayFailover] [-EnableLeaseExpiration] [-EnableThrottling] [-GatewayPool <VBRCloudGatewayPool[]>] [-GatewaySelectionType 
```
```PowerShell
{StandaloneGateways | GatewayPool}] [-LeaseExpirationDate <DateTime>] [-MaxConcurrentTask <Int32>] -Name <String> [-Resources <VBRCloudTenantResource[]>] [-ThrottlingUnit 
```
```PowerShell
{MbitPerSec | MbytePerSec | KbytePerSec}] [-ThrottlingValue <Decimal>] [<CommonParameters>]
```
```PowerShell
Add-VBRAdCloudTenant [-BackupProtectionPeriod <Int32>] [-Description <String>] -Domain <String> [-DomainPort <Int32>] -DomainUrl <String> [-DomainUsername <String>] 
```
```PowerShell
[-DomainUserPassword <String>] [-EnableBackupProtection] [-EnableGatewayFailover] [-EnableLeaseExpiration] [-EnableThrottling] [-GatewayPool <VBRCloudGatewayPool[]>] 
```
```PowerShell
[-GatewaySelectionType {StandaloneGateways | GatewayPool}] [-LeaseExpirationDate <DateTime>] [-MaxConcurrentTask <Int32>] -Name <String> [-Resources 
```
```PowerShell
<VBRCloudTenantResource[]>] [-ThrottlingUnit {MbitPerSec | MbytePerSec | KbytePerSec}] [-ThrottlingValue <Decimal>] [<CommonParameters>]
```
```PowerShell
Add-VBRAdCloudTenant [-BackupProtectionPeriod <Int32>] [-Description <String>] -Domain <String> [-DomainPort <Int32>] -DomainUrl <String> [-EnableBackupProtection] 
```
```PowerShell
[-EnableGatewayFailover] [-EnableLeaseExpiration] [-EnableThrottling] [-GatewayPool <VBRCloudGatewayPool[]>] [-GatewaySelectionType {StandaloneGateways | GatewayPool}] 
```
```PowerShell
[-LeaseExpirationDate <DateTime>] [-MaxConcurrentTask <Int32>] -Name <String> [-Resources <VBRCloudTenantResource[]>] [-ThrottlingUnit {MbitPerSec | MbytePerSec | 
```
```PowerShell
KbytePerSec}] [-ThrottlingValue <Decimal>] [-UseServiceAccount] [<CommonParameters>]
```

Add-VBRAdvancedLatencyOptions
-----------------------------

### Synopsis
Defines latency settings for a specific datastore.

---

### Description

This creates the VBRAdvancedLatencyOptions object that defines latency settings for a specific datastore.

---

### Related Links
* [Find-VBRViDatastore](Find-VBRViDatastore.md)

* [Get-VBRServer](Get-VBRServer.md)

* [Get-VBRHvServerVolume](Get-VBRHvServerVolume.md)

---

### Examples
> Example 1. Defining Latency Settings for VMware Datastore

$server = Get-VBRServer -Name esx06.tech.local
$datastore = Find-VBRViDatastore -Server $server
Add-VBRAdvancedLatencyOptions -ViDatastore $datastore -LatencyLimitMs 50
This example shows how to set the I/O latency limit of new tasks that are targeted at the VMware datastore to 50 ms.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViDatastore cmdlet. Set the $server variable as the Server parameter value. Save the result to the $datastore variable.
3. Run the Add-VBRAdvancedLatencyOptions cmdlet. Set the $datastore variable as the ViDatastore parameter value. Specify the LatencyLimitMs parameter value.
> Example 2. Defining Latency Settings for Hyper-V Datastores

$server = Get-VBRServer -Name hyperv09.tech.local
$volume = Get-VBRHvServerVolume -Server $server
Add-VBRAdvancedLatencyOptions -HvVolume $volume -ThrottlingIOLimitMs 40
This example shows how to set the I/O latency speed limit to 40 ms for The Hyper-V datastore.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvServerVolume cmdlet. Set the $server variable as the Server parameter value. Save the result to the $volume variable.
3. Run the Add-VBRAdvancedLatencyOptions cmdlet. Set the $volume variable as the HvVolume parameter value. Specify the ThrottlingIOLimitMs parameter value.

---

### Parameters
#### **HvVolume**
Specifies the following types of datastores:
* Microsoft Hyper-V
* Microsoft SMB3 servers
The cmdlet will define latency settings for these datastores.

|Type                       |Required|Position|PipelineInput                 |
|---------------------------|--------|--------|------------------------------|
|`[VBRHvServerVolumeObject]`|true    |named   |True (ByPropertyName, ByValue)|

#### **LatencyLimitMs**
Specifies the I/O latency limit at which Veeam Backup & Replication will not assign new tasks that are targeted at the datastore.
Default: 20 ms.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ThrottlingIOLimitMs**
Specifies the I/O latency speed limit. When Veeam Backup & Replication reaches this limit, it will decrease the speed at which it either gets data from a datastore or writes data to it.
Default: 30 ms

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ViDatastore**
Specifies the VMware datastores. The cmdlet will define latency settings for these datastores.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRViDatastore]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRViDatastore

Veeam.Backup.PowerShell.Infos.VBRHvServerVolumeObject

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAdvancedLatencyOptions -HvVolume <VBRHvServerVolumeObject> [-LatencyLimitMs <Int32>] [-ThrottlingIOLimitMs <Int32>] [<CommonParameters>]
```
```PowerShell
Add-VBRAdvancedLatencyOptions [-LatencyLimitMs <Int32>] [-ThrottlingIOLimitMs <Int32>] -ViDatastore <VBRViDatastore> [<CommonParameters>]
```

Add-VBRAmazonAccount
--------------------

### Synopsis
Creates AWS credentials records.

---

### Description

This cmdlet creates the VBRAmazonAccount object. This object contains AWS credentials records to access the following services:
- Amazon S3
- Amazon EC2
- S3 compatible (including IBM Cloud object storage)

---

### Examples
> Creating AWS Credentials Record

```PowerShell
Add-VBRAmazonAccount -AccessKey "ABCDEFGHIGKLMNOP" -SecretKey "vmdkflvm8908GUIEIE" -Description "Amazon credentials"
This command creates an AWS credentials record.
```

---

### Parameters
#### **AccessKey**
Specifies an access key. The cmdlet will use this key to add AWS credentials records to Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Description**
Specifies a description for AWS credentials records.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SecretKey**
Specifies a secret key. The cmdlet will use this secret key to add the Amazon credentials records to Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAmazonAccount -AccessKey <String> [-Description <String>] -SecretKey <String> [<CommonParameters>]
```

Add-VBRAmazonS3CompatibleRepository
-----------------------------------

### Synopsis
Adds S3 compatible and S3-integrated object storage repositories to the backup infrastructure.

---

### Description

This cmdlet adds S3 compatible and S3-integrated object storage repositories to Veeam Backup & Replication.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3CompatibleService](Connect-VBRAmazonS3CompatibleService.md)

* [Get-VBRAmazonS3Bucket](Get-VBRAmazonS3Bucket.md)

* [Get-VBRAmazonS3Folder](Get-VBRAmazonS3Folder.md)

---

### Examples
> Adding Amazon S3 Object Storage to Backup Infrastructure

$account = Get-VBRAmazonAccount
$connect = Connect-VBRAmazonS3CompatibleService -Account $account -CustomRegionId "us-east-1" -ServicePoint "http://123.45.67.89:9000"
$bucket = Get-VBRAmazonS3Bucket -Connection $connect -Name "New Bucket"
$folder = Get-VBRAmazonS3Folder -Name "New Folder" -Bucket $bucket -Connection $connect
Add-VBRAmazonS3CompatibleRepository -AmazonS3Folder $folder -Connection $connect -Name "New Repository"
This example shows how to add an Amazon S3 compatible object storage repository to the backup infrastructure.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3CompatibleService cmdlet. Set the $account variable as the Account parameter value. Specify the CustomRegionId and ServicePoint parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connect variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $bucket variable.
4. Run the Get-VBRAmazonS3Folder cmdlet. Specify the Name parameter value. Set the $bucket variable as the Bucket parameter value. Set the $connect variable as the Connection parameter value. Save the result to the $folder variable.
5. Run the Add-VBRAmazonS3CompatibleRepository cmdlet. Set the $folder variable as the AmazonS3Folder parameter value. Set the $connect variable as the Connection parameter value. Specify the Name parameter value.

---

### Parameters
#### **AmazonS3Folder**
Specifies an S3 compatible folder. Veeam Backup & Replication will move backup files into this folder.

|Type                 |Required|Position|PipelineInput |
|---------------------|--------|--------|--------------|
|`[VBRAmazonS3Folder]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with S3 compatible object storage. The cmdlet will add it as a backup repository.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRAmazonS3CompatibleConnection]`|true    |named   |False        |

#### **Description**
Specifies a description of an S3 compatible object storage. The cmdlet will add object storage with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupImmutability**
Defines that the cmdlet will enable the immutability option.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableConcurrentTasksLimit**
Defines that the cmdlet will enable limits for concurrent tasks that can be processed by the object storage repository.
Use the MaxConcurrentTasks paramter to specify the number of tasks.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableSizeLimit**
Defines that the cmdlet will enable size limits for data blocks that you want to store in an S3 compatible storage.
Use the SizeLimit parameter to specify the size limits.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ForceOwnershipChange**
Defines that the cmdlet will force ownership change of the object storage folder.
If you do not provide this parameter and the object storage folder is owned by another host, you will not be able to add object storage to the backup infrastructure.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ImmutabilityPeriod**
For the EnableBackupImmutability parameter.
Defines the immutability period in days.
Default: 30 days.
Maximum: 999 days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MaxConcurrentTasks**
Specifies a maximum number of concurrent tasks that can be processed at once by the object storage repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MountServerOptions**
Specifies settings of a mount server for object storage repositories.
Note: This parameter is required for object storage repositories that you want to add as performance extents to a scale-out backup repository.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRRepositoryMountServerOptions]`|false   |named   |False        |

#### **Name**
Specifies a name of an S3 compatible object storage. The cmdlet will add object storage with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ProxyAppliance**
Specifies a helper appliance. Veeam Backup & Replication will use this appliance to perform a health check of backup files and apply retention to file backup job files.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **SizeLimit**
For the EnableSizeLimit parameter.
Specifies size limits in GB for data blocks that you want to store in an S3 compatible object storage added as a backup repository.
Permitted value: 1024 - 1073741824.
Default: 10240.
Note: [For S3-integrated repository] If you specify size limits that exceed an actual capacity of the S3-integrated repository, you will get a warning. Provide the Force parameter to skip this warning.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Folder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAmazonS3CompatibleRepository -AmazonS3Folder <VBRAmazonS3Folder> -Connection <VBRAmazonS3CompatibleConnection> [-Description <String>] [-EnableBackupImmutability] 
```
```PowerShell
[-EnableConcurrentTasksLimit] [-EnableSizeLimit] [-Force] [-ForceOwnershipChange] [-ImmutabilityPeriod <Int32>] [-MaxConcurrentTasks <Int32>] [-MountServerOptions 
```
```PowerShell
<VBRRepositoryMountServerOptions>] [-Name <String>] [-ProxyAppliance <CHost>] [-SizeLimit <Int32>] [<CommonParameters>]
```

Add-VBRAmazonS3ExternalRepository
---------------------------------

### Synopsis
Adds external Amazon S3 storage repository to the backup infrastructure.

---

### Description

This cmdlet adds external Amazon S3 object storage repository to the backup infrastructure.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

* [Get-VBRAmazonS3Bucket](Get-VBRAmazonS3Bucket.md)

* [Get-VBRAmazonS3Folder](Get-VBRAmazonS3Folder.md)

* [Add-VBREncryptionKey](Add-VBREncryptionKey.md)

---

### Examples
> Example 1. Adding Amazon S3 External Repository

$account = Get-VBRAmazonAccount
$connect = Connect-VBRAmazonS3Service -Account $account[1] -RegionType Global -ServiceType ExternalRepository
$bucket = Get-VBRAmazonS3Bucket -Connection $connect -Name "veeam-tw"
$folder = Get-VBRAmazonS3Folder -Name "frozenbucket" -Bucket $bucket -Connection $connect
Add-VBRAmazonS3ExternalRepository -Name "New Repository" -AmazonS3Folder $folder -Connection $connect
This example shows how to add the Amazon S3 object storage repository named New Repository as an external repository into the backup infrastructure.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connect variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $bucket variable.
4. Run the Get-VBRAmazonS3Folder cmdlet. Specify the Name parameter value. Set the $bucket variable as the Bucket parameter value. Set the $connect variable as the Connection parameter value. Save the result to the $folder variable.
5. Run the Add-VBRAmazonS3Repository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $folder variable as the AmazonS3Folder parameter
- Set the $connect variable as the Connection parameter value.
> Example 2. Adding Amazon S3 External Repository and Decrypting the Imported Backup Files

$account = Get-VBRAmazonAccount
$connect = Connect-VBRAmazonS3Service -Account $account[1] -RegionType Global -ServiceType ExternalRepository
$bucket = Get-VBRAmazonS3Bucket -Connection $connect -Name "veeam-tw"
$folder = Get-VBRAmazonS3Folder -Name "frozenbucket" -Bucket $bucket -Connection $connect
$securepassword = Read-Host -Prompt "Enter password" -AsSecureString
$key = Add-VBREncryptionKey -Password $securepassword
Add-VBRAmazonS3ExternalRepository -Name "New Repository" -AmazonS3Folder $folder -Connection $connect -DecryptBackups -DecryptionKey $key
This example shows how to add Amazon S3 object storage repository named New Repository as an external repository into the backup infrastructure. Veeam Backup & Replication will decrypt backup files that are imported from the external repository.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Specify the Account, RegionType and ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connect variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $bucket variable.
4. Run the Get-VBRAmazonS3Folder cmdlet. Specify the Name parameter value. Set the $bucket variable as the Bucket parameter value. Set the $connect variable as the Connection parameter value. Save the result to the $folder variable.
5. Run the Read-Host cmdlet. cmdlet. Specify the message that the console will display as a prompt. Specify the AsSecureString parameter. Save the result to the $securepassword variable.
6. Run the Add-VBREncryptionKey cmdlet. Specify the Password parameter. Save the result to the $key variable.
7. Run the Add-VBRAmazonS3Repository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $folder variable as the AmazonS3Folder parameter value.
- Set the $connect variable as the Connection parameter value.
- Provide the DecryptBackups parameter.
- Set the $key variable as the DecryptionKey parameter value.

---

### Parameters
#### **AmazonS3Folder**
Specifies a name of a folder in the Amazon S3 bucket where EC2 instance backups reside.

|Type                 |Required|Position|PipelineInput |
|---------------------|--------|--------|--------------|
|`[VBRAmazonS3Folder]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with the Amazon S3 storage repository that you want to add as an external repository.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRAmazonS3ExternalConnection]`|true    |named   |False        |

#### **DecryptBackups**
Defines that Veeam Backup & Replication will decrypt encrypted backups.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **DecryptionKey**
Specifies the password that Veeam Backup & Replication will use to decrypt the backup files.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBREncryptionKey]`|false   |named   |False        |

#### **Description**
Specifies a description of the Amazon S3 storage repository that you want to add as an external repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an external repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name of the Amazon S3 storage repository that you want to add as an external repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Folder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAmazonS3ExternalRepository -AmazonS3Folder <VBRAmazonS3Folder> -Connection <VBRAmazonS3ExternalConnection> [-DecryptBackups] [-DecryptionKey <VBREncryptionKey>] 
```
```PowerShell
[-Description <String>] [-Force] [-Name <String>] [<CommonParameters>]
```

Add-VBRAmazonS3GlacierRepository
--------------------------------

### Synopsis
Adds Amazon S3 Glacier archive storage repository to the backup infrastructure.

---

### Description

This cmdlet adds Amazon S3 Glacier archive storage repository to the backup infrastructure.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

* [Get-VBRAmazonS3Bucket](Get-VBRAmazonS3Bucket.md)

* [Get-VBRAmazonS3Folder](Get-VBRAmazonS3Folder.md)

* [Get-VBRAmazonS3Region](Get-VBRAmazonS3Region.md)

* [Get-VBRAmazonEC2InstanceType](Get-VBRAmazonEC2InstanceType.md)

* [Get-VBRAmazonEC2VPC](Get-VBRAmazonEC2VPC.md)

* [Get-VBRAmazonEC2SecurityGroup](Get-VBRAmazonEC2SecurityGroup.md)

* [Get-VBRAmazonEC2Subnet](Get-VBRAmazonEC2Subnet.md)

* [New-VBRAmazonEC2ProxyAppliance](New-VBRAmazonEC2ProxyAppliance.md)

---

### Examples
> Adding Amazon S3 Glacier Repository to Backup Infrastructure

$account = Get-VBRAmazonAccount -AccessKey "XXXXXXXXXXXXXXXXXXX" -SecretKey "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType ArchiveTier
$bucket = Get-VBRAmazonS3Bucket -Connection $connection -Name "connect"
$folder = Get-VBRAmazonS3Folder -Connection $connection -Bucket $bucket -Name "veeam"
$region = Get-VBRAmazonS3Region -Account $account -RegionType Global -Name "ap-northeast-1"
$instance = Get-VBRAmazonEC2InstanceType -Region $region -Name "al.xlarge"
$vpc = Get-VBRAmazonEC2VPC -Region $region
$sgroup = Get-VBRAmazonEC2SecurityGroup -VPC $vpc -Name "veeamvpc"
$subnet = Get-VBRAmazonEC2Subnet -VPC $vpc -Name "veeamsubnet"
$proxy = New-VBRAmazonEC2ProxyAppliance -InstanceType $instance -Subnet $subnet -SecurityGroup $sgroup -RedirectorPort 443
Add-VBRAmazonS3GlacierRepository -Connection $connection -AmazonS3Folder $folder -AmazonProxySpec $proxy -Name Repository09
This example shows how to add Amazon S3 Glacier object storage as a backup repository to the backup infrastructure.
Perform the following steps:
1. Specify Amazon connection settings:
a. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey and SecretKey parameter values. Save the result to the $account variable.
b. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
2. Specify object storage settings:
a. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connection variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $bucket variable.
b. Run the Get-VBRAmazonS3Folder cmdlet. Set the $connection variable as the Connection parameter value. Set the $bucket variable as the Bucket parameter value. Specify the Name parameter value. Save the result to the $folder variable.
3. Define the Amazon proxy settings:
a. Run the Get-VBRAmazonS3Region cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and Name parameter values. Save the result to the $region variable.
b. Run the Get-VBRAmazonEC2InstanceType cmdlet. Set the $region variable as the Region parameter value. Specify the Name parameter value. Save the result to the $instance variable.
c. Run the Get-VBRAmazonEC2VPC cmdlet. Set the $region variable as the Region parameter value. Save the result to the $vpc variable.
d. Run the Get-VBRAmazonEC2SecurityGroup cmdlet. Set the $vpc variable as the VPC parameter value. Specify the Name parameter value. Save the result to the $sgroup variable.
e. Run the Get-VBRAmazonEC2Subnet cmdlet. Set the $vpc variable as the VPC parameter value. Specify the Name parameter value. Save the result to $subnet variable.
f. Run the New-VBRAmazonEC2ProxyAppliance cmdlet. Set the $instance variable as the InstanceType parameter value. Set the $subnet variable as the Subnet parameter value. Set the $sgroup variable as the SecurityGroup parameter value. Specify the RedirectorPort parameter value. Save the result to $proxy variable.
4. Run the Add-VBRAmazonS3GlacierRepository cmdlet. Specify the following settings:
- Set the $connection variable as the Connection parameter value.
- Set the $folder variable as the AmazonS3Folder parameter value.
- Set the $proxy variable as the AmazonProxySpec parameter value.
- Specify the Name parameter value.

---

### Parameters
#### **AmazonProxySpec**
Specifies the archiver appliance that will transfer the data from Amazon S3 to Amazon S3 Glacier object storage.

|Type                          |Required|Position|PipelineInput        |
|------------------------------|--------|--------|---------------------|
|`[VBRAmazonEC2ProxyAppliance]`|false   |named   |True (ByPropertyName)|

#### **AmazonS3Folder**
Specifies an Amazon S3 folder. Veeam Backup & Replication will move backup files into this folder.

|Type                 |Required|Position|PipelineInput |
|---------------------|--------|--------|--------------|
|`[VBRAmazonS3Folder]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with an Amazon S3 Glacier object storage that you want to add as an archive repository.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRAmazonS3Connection]`|true    |named   |False        |

#### **Description**
Specifies a description of an Amazon S3 Glacier object storage. The cmdlet will add object storage with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupImmutability**
Enables the immutability option.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name of an Amazon S3 Glacier object storage. The cmdlet will add object storage with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **UseDeepArchive**
Defines that the cmdlet will create a repository where blocks are marked with the Glacier Deep Archive storage class.
Note: Note: If you do not provide the UseDeepArchive and UseInstantRetrieval parameters, the cmdlet will create a repository where blocks are marked as the Amazon S3 Glacier Flexible Retrieval storage class.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UseInstantRetrieval**
Defines that the cmdlet will create a repository where blocks are marked with the Amazon S3 Glacier Instant Retrieval storage class.
Note: If you do not provide the UseDeepArchive and UseInstantRetrieval parameters, the cmdlet will create a repository where blocks are marked as the Amazon S3 Glacier Flexible Retrieval storage class.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Folder

Veeam.Backup.PowerShell.Infos.VBRAmazonEC2ProxyAppliance

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRAmazonS3GlacierRepository

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAmazonS3GlacierRepository [-AmazonProxySpec <VBRAmazonEC2ProxyAppliance>] -AmazonS3Folder <VBRAmazonS3Folder> -Connection <VBRAmazonS3Connection> [-Description 
```
```PowerShell
<String>] [-EnableBackupImmutability] [-Force] [-Name <String>] [-UseDeepArchive] [-UseInstantRetrieval] [<CommonParameters>]
```

Add-VBRAmazonS3Repository
-------------------------

### Synopsis
Adds Amazon S3 object storage repository to the backup infrastructure.

---

### Description

This cmdlet adds Amazon S3 object storage repository to the backup infrastructure.
IMPORTANT! Run the Add-VBRAmazonS3ExternalRepository to add Amazon S3 object storage as an external backup repository.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

* [Get-VBRAmazonS3Bucket](Get-VBRAmazonS3Bucket.md)

* [Get-VBRAmazonS3Folder](Get-VBRAmazonS3Folder.md)

---

### Examples
> Adding Amazon S3 Object Storage to Backup Infrastructure

$account = Get-VBRAmazonAccount
$connect = Connect-VBRAmazonS3Service -Account $account[1] -RegionType Global -ServiceType CapacityTier
$bucket = Get-VBRAmazonS3Bucket -Connection $connect -Name "Bucket-01"
$folder = Get-VBRAmazonS3Folder -Name "bucket" -Bucket $bucket -Connection $connect
Add-VBRAmazonS3Repository -Name "AmazonS3Repository" -Connection $connect -AmazonS3Folder $folder -EnableIAStorageClass -EnableSizeLimit -SizeLimit 1024
This example shows how to add Amazon S3 object storage as a backup repository to Veeam Backup & Replication. The repository will have the following settings:
- The object storage limits are enabled and are set to 1024 GB.
- The infrequent access storage class is enabled.
You will need to perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Specify the Account, RegionType and ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connect variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $bucket variable.
4. Run the Get-VBRAmazonS3Folder cmdlet. Specify the Name parameter value. Set the $bucket variable as the Bucket parameter value. Set the $connect variable as the Connection parameter value. Save the result to the $folder variable.
5. Run the Add-VBRAmazonS3Repository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $connect variable as the Connection parameter value.
- Set the $folder variable as the AmazonS3Folder parameter value.
- Provide the EnableIAStorageClass parameter.
- Provide the EnableSizeLimit parameter.
- Provide the SizeLimit parameter value.

---

### Parameters
#### **AmazonProxySpec**
Specifies a helper appliance. Veeam Backup & Replication will use this appliance to perform a health check of backup files and apply retention to file backup job files.

|Type                          |Required|Position|PipelineInput        |
|------------------------------|--------|--------|---------------------|
|`[VBRAmazonEC2ProxyAppliance]`|false   |named   |True (ByPropertyName)|

#### **AmazonS3Folder**
Specifies an Amazon S3 folder.

|Type                 |Required|Position|PipelineInput |
|---------------------|--------|--------|--------------|
|`[VBRAmazonS3Folder]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with Amazon S3 object storage that you want to add as the backup repository.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRAmazonS3Connection]`|true    |named   |False        |

#### **Description**
Specifies a description of an Amazon S3 object storage. The cmdlet will add object storage with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupImmutability**
Defines that the cmdlet will enable the immutability option.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableConcurrentTasksLimit**
Enables limits for concurrent tasks that can be processed by the object storage repository.
Use the MaxConcurrentTasks paramter to specify the number of tasks.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableIAStorageClass**
Defines that the cmdlet will enable the infrequent access storage class for data blocks that are stored in an Amazon S3 object storage.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableOZIAStorageClass**
Defines that the cmdlet will enable the One Zone-IA storage class for data blocks that are stored in an Amazon S3 object storage.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableSizeLimit**
Enables size limits for data blocks that you want to store in an Amazon S3 object storage.
Use the SizeLimit parameter to specify the size limits.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ForceOwnershipChange**
Defines that the cmdlet will force ownership change of the object storage folder.
If you do not provide this parameter and the object storage folder is owned by another host, you will not be able to add object storage to the backup infrastructure.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ImmutabilityPeriod**
For the EnableBackupImmutability parameter.
Defines the immutability period in days.
Default: 30

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MaxConcurrentTasks**
Specifies a maximum number of concurrent tasks that can be processed at once by the object storage repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MountServerOptions**
Specifies settings of a mount server for object storage repositories.
Note: This parameter is required for object storage repositories that you want to add as performance extents to a scale-out backup repository.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRRepositoryMountServerOptions]`|false   |named   |False        |

#### **Name**
Specifies a name of an Amazon S3 object storage. The cmdlet will add object storage with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SizeLimit**
For the EnableSizeLimit parameter.
Specifies size limits in GB for data blocks that you want to store in an Amazon S3 object storage.
Permitted value: 1024 - 1073741824.
Default: 10240 GB.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Folder

Veeam.Backup.PowerShell.Infos.VBRAmazonEC2ProxyAppliance

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAmazonS3Repository [-AmazonProxySpec <VBRAmazonEC2ProxyAppliance>] -AmazonS3Folder <VBRAmazonS3Folder> -Connection <VBRAmazonS3Connection> [-Description <String>] 
```
```PowerShell
[-EnableBackupImmutability] [-EnableConcurrentTasksLimit] [-EnableIAStorageClass] [-EnableOZIAStorageClass] [-EnableSizeLimit] [-Force] [-ForceOwnershipChange] 
```
```PowerShell
[-ImmutabilityPeriod <Int32>] [-MaxConcurrentTasks <Int32>] [-MountServerOptions <VBRRepositoryMountServerOptions>] [-Name <String>] [-SizeLimit <Int32>] [<CommonParameters>]
```

Add-VBRAmazonS3Server
---------------------

### Synopsis
Adds Amazon S3 storage as unstructured data source to the inventory.

---

### Description

This cmdlet adds Amazon S3 storage to the inventory. You can use this object storage as a source of data for object storage backup job.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonS3Region](Get-VBRAmazonS3Region.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Adding Amazon S3 Storage as Unstructured Data Source

$account = Get-VBRAmazonAccount -AccessKey "XXXXXXXX" -SecretKey "XXXXXXXXXXXX" -Description "AWS account"
$region = Get-VBRAmazonS3Region -RegionId "eu-central-1"
$cacherepository = Get-VBRBackupRepository -Name "WinSrv"
Add-VBRAmazonS3Server -FriendlyName "Amazon S3 OS" -Account $account -Region $region -CacheRepository $cacherepository
This example shows how to add Amazon S3 storage as unstructured data source to the inventory.

Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey, SecretKey and the Description parameters values. Save the result to the $account variable.
2. Run the Get-VBRAmazonS3Region cmdlet. Specify the RegionId parameter value. Save the result to the $region variable.
3. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $cacherepository variable.
4. Run the Add-VBRAmazonS3Server cmdlet. Specify the following settings:
- Specify the FriendlyName parameter value.
- Set the $account variable as the Account parameter value.
- Set the $region variable as the Region parameter value.
- Set the $cacherepository variable as the CacheRepository parameter value.

---

### Parameters
#### **Account**
Specifies an Amazon S3 credentials record. Veeam Backup & Replication will use this credentials record to connect to Amazon S3 storage. Accepts the VBRAmazonAccount object.  To get this object, run the Get-VBRAmazonAccount cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAmazonAccount]`|true    |named   |False        |

#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from object storage. You can specify either of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupIOControlLevel]`|false   |named   |False        |

#### **BucketName**
Specifies a name of the Amazon S3 bucket. The cmdlet will connect to this bucket.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **FriendlyName**
Specify a name that you want to assign to the object storage.

|Type      |Required|Position|PipelineInput |
|----------|--------|--------|--------------|
|`[String]`|true    |named   |True (ByValue)|

#### **ProxyMode**
Specifies the backup proxy options:
* Automatic: use this option if you want Veeam Backup & Replication to choose the backup proxy that will process object storage.
* SelectedProxy: use this option if you want to specify the backup proxy that will process object storage.  Use the SelectedProxyServer parameter to specify the backup proxy.
Valid Values:

* Automatic
* SelectedProxy

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNASProxyMode]`|false   |named   |False        |

#### **Region**
Specifies an array of Amazon S3 regions where Amazon S3 buckets are located. The cmdlet will return an array of Amazon S3 buckets from these Amazon S3 regions. Accepts the VBRAmazonS3Region object.  To get this object, run the Get-VBRAmazonS3Region cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRAmazonS3Region]`|true    |named   |False        |

#### **SelectedProxyServer**
For the SelectedProxy option of the ProxyMode parameter. Specifies the backup proxy. Veeam Backup & Replication will use this backup proxy to back up Amazon S3 object storage. Accepts the VBRNASProxyServer[] object.  To get this object, run the Get-VBRNASProxyServer cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAmazonS3Server -Account <VBRAmazonAccount> [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] [-BucketName <String>] -CacheRepository 
```
```PowerShell
<CBackupRepository> -FriendlyName <String> [-ProxyMode {Automatic | SelectedProxy}] -Region <VBRAmazonS3Region> [-SelectedProxyServer <VBRNASProxyServer[]>] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRApplicationBackupJob
---------------------------

### Synopsis
Creates application backup policies.

---

### Description

This cmdlet creates application backup policies. To create application backup policies, you must specify a container object with discovered application entities (for example, individual computers, databases, protection groups, and so on) that you plan to back up and the target location for storing backups.
1. Run Get-VBRProtectionGroup to get the protection group.
2. Run Get-VBRBackupRepository to get the repository.
3. Run Add-VBRApplicationBackupJob to create application backup policy.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRApplicationBackupOptions](New-VBRApplicationBackupOptions.md)

* [New-VBRApplicationScheduleOptions](New-VBRApplicationScheduleOptions.md)

* [New-VBRSAPHANAProcessingOptions](New-VBRSAPHANAProcessingOptions.md)

* [New-VBRDatabaseProcessingOptions](New-VBRDatabaseProcessingOptions.md)

* [New-VBRSAPHANAOptions](New-VBRSAPHANAOptions.md)

* [New-VBRSAPHANACredentialsOptions](New-VBRSAPHANACredentialsOptions.md)

---

### Examples
> Example - Creating Application Backup Policy for Veeam Plug-in for SAP HANA

$group = Get-VBRProtectionGroup -Name "Database Servers"
$repository = Get-VBRBackupRepository -Name "Default Backup Repository"
$backup_options = New-VBRApplicationBackupOptions -FullBackupScheduleType Weekly -WeeklyScheduleType SelectedDays -SelectedDays Sunday, Wednesday
$daily = New-VBRDailyOptions -DayOfWeek Friday -Period 7:00
$schedule_options = New-VBRApplicationScheduleOptions -Type Daily -DailyOptions $daily
$db_administrator = Get-VBRCredentials
$processing_settings = New-VBRSAPHANAProcessingOptions -Credentials $db_administrator -DeleteSourceLogs Keep -ArchiveLogBackupPeriod 15
$db_processing_options = New-VBRDatabaseProcessingOptions -BackupObject $group -SAPOnOracleProcessingOptions $processing_settings
$hana_options = New-VBRSAPHANAOptions -ParallelChannelsCount 3
$os_administrator = Get-VBRCredentials
$db_hana_administrator = Get-VBRCredentials
$hana_credentials = New-VBRSAPHANACredentialsOptions -SAPSystem SH4 -SSHCredentials $os_administrator -BackupCredentials $db_hana_administrator
Add-VBRApplicationBackupJob -BackupObject $group -BackupRepository $repository -Name "Backup Job" -Description "Daily backup of SAP systems" -BackupOptions $backup_options -EnableSchedule -ScheduleOptions $schedule_options -DatabaseProcessingOptions $db_processing_options -SAPHANAOptions $hana_options -SAPHANACredentialsOptions $hana_credentials
This example shows how to create the application backup policy for Veeam Plug-in for SAP HANA.

Perform the following steps:
1. Get a protection group and a backup repository:
- Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
- Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Define backup settings and backup schedule:
- Run the New-VBRApplicationBackupOptions cmdlet. Specify the FullBackupScheduleType, WeeklyScheduleType and the SelectedDays parameter values. Save the result to the $backup_options variable.
- Run the New-VBRDailyOptions cmdlet. Specify the DayOfWeek and the Period parameter values. Save the result to the $daily variable.
- Run the New-VBRApplicationScheduleOptions cmdlet. Specify the Type and the DailyOptions parameter values. Save the result to the $schedule_options variable.
3. Define processing and backup settings:
- Run the Get-VBRCredentials cmdlet. Save the result to the $db_administrator variable.
- Run the New-VBRSAPHANAProcessingOptions cmdlet. Specify the Credentials, DeleteSourceLogs and the ArchiveLogBackupPeriod parameter values. Save the result to the $processing_settings variable.
- Run the New-VBRDatabaseProcessingOptions cmdlet. Specify the DayOfWeek and the SAPOnOracleProcessingOptions parameter values. Save the result to the $db_processing_options variable.
- Run the New-VBRSAPHANAOptions cmdlet. Specify the ParallelChannelsCount parameter value. Save the result to the $hana_options variable.
4. Get SAP HANA credentials settings:
- Run the Get-VBRCredentials cmdlet. Save the result to the $os_administrator variable.
- Run the Get-VBRCredentials cmdlet. Save the result to the $db_hana_administrator variable.
- Run the New-VBRSAPHANACredentialsOptions cmdlet. Specify the SAPSystem, SSHCredentials and the BackupCredentials parameter values. Save the result to the $hana_credentials variable.
5. Run the Add-VBRApplicationBackupJob cmdlet. Specify the following settings:
- Set the $group variable as the BackupObject parameter value.
- Set the $repository variable as the BackupRepository parameter value.
- Specify the Name parameter value.
- Specify the Description parameter value.
- Set the $backup_options variable as the BackupOptions parameter value.
- Provide the EnableSchedule parameter.
- Set the $schedule_options variable as the ScheduleOptions parameter value.
- Set the $db_processing_options variable as the DatabaseProcessingOptions parameter value.
- Set the $hana_options variable as the SAPHANAOptions parameter value.
- Set the $hana_credentials variable as the SAPHANACredentialsOptions parameter value.

---

### Parameters
#### **BackupObject**
Specifies an array of discovered application entities: individual computers, databases, protection groups, and so on. The cmdlet will add these entities to the application backup policy. Accepts the Object[] object. To get this object, run the Get-VBRProtectionGroup cmdlet.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[Object[]]`|true    |named   |False        |

#### **BackupOptions**
Specifies backup settings for the application backup policy. Accepts the VBRApplicationBackupOptions object.  To define this object, run the New-VBRApplicationBackupOptions cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRApplicationBackupOptions]`|false   |named   |False        |

#### **BackupRepository**
Specifies the target backup location for the application backup policy. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **DatabaseProcessingOptions**
Specifies database processing settings for the application backup policy. Accepts the VBRDatabaseProcessingOptions[] object. To define this object, run the New-VBRDatabaseProcessingOptions cmdlet.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRDatabaseProcessingOptions[]]`|false   |named   |False        |

#### **Description**
Specifies the description of the application backup policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableSchedule**
Enables the option to schedule the application backup policy to run on a regular basis.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name that you want to assign to the application backup policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings for the application backup policy. Accepts the VBRNotificationOptions object. To define this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OracleRMANOptions**
Note: This option works only for Veeam Plug-in for Oracle RMAN. Specifies the backup settings for Veeam Plug-in for Oracle RMAN. Accepts the VBROracleRMANOptions object.  To define this object, run the New-VBROracleRMANOptions cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBROracleRMANOptions]`|false   |named   |False        |

#### **OracleRMANStorageOptions**
Note: This option works only for Veeam Plug-in for Oracle RMAN. Specifies the storage options for Veeam Plug-in for Oracle RMAN. Accepts the VBROracleRMANStorageOptions object.  To define this object, run the New-VBROracleRMANStorageOptions cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBROracleRMANStorageOptions]`|false   |named   |False        |

#### **RetentionPolicy**
Specifies the retention policy for backups created by Veeam Plug-in. Note: The retention policy specifies the number of restore points or a number of days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SAPHANACredentialsOptions**
Note: This option works only for Veeam Plug-in for SAP HANA. Specifies the credentials settings for Veeam Plug-in for SAP HANA. Accepts the VBRSAPHANACredentialsOptions[] object.  To define this object, run the New-VBRSAPHANAOptions cmdlet.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRSAPHANACredentialsOptions[]]`|false   |named   |False        |

#### **SAPHANAOptions**
Note: This option works only for Veeam Plug-in for SAP HANA. Specifies the backup settings for Veeam Plug-in for SAP HANA. Accepts the VBROracleRMANOptions object.  To define this object, run the New-VBRSAPHANAOptions cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRSAPHANAOptions]`|false   |named   |False        |

#### **SAPOnOracleMode**
Note: This option works only for Veeam Plug-in for SAP on Oracle. Specifies the backup mode for Veeam Plug-in for SAP on Oracle:
* RMAN: for BR*Tools with RMAN (rman_util mode).
* BACKINT: for BR*Tools with BACKINT (util_file_online mode).
Valid Values:

* RMAN
* BACKINT

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRSAPOnOracleMode]`|false   |named   |False        |

#### **SAPOnOracleOptions**
Note: This option works only for Veeam Plug-in for SAP on Oracle. Specifies the backup settings for Veeam Plug-in for SAP on Oracle. Accepts the VBRSAPOnOracleOptions object. To define this object, run the New-VBRSAPOnOracleOptions cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRSAPOnOracleOptions]`|false   |named   |False        |

#### **SAPOnOracleStorageOptions**
Note: This option works only for Veeam Plug-in for SAP on Oracle. Specifies the storage settings for Veeam Plug-in for SAP on Oracle. Accepts the VBRSAPOnOracleStorageOptions object. To define this object, run the New-VBRSAPOnOracleStorageOptions cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRSAPOnOracleStorageOptions]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies the settings for the application backup policy schedule. Accepts the types returned by the following cmdlets:
* New-VBRServerScheduleType
* New-VBRApplicationScheduleOptions

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRApplicationScheduleOptions]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRApplicationBackupJob -BackupObject <Object[]> [-BackupOptions <VBRApplicationBackupOptions>] -BackupRepository <CBackupRepository> [-DatabaseProcessingOptions 
```
```PowerShell
<VBRDatabaseProcessingOptions[]>] [-Description <String>] [-EnableSchedule] [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] [-OracleRMANOptions 
```
```PowerShell
<VBROracleRMANOptions>] [-OracleRMANStorageOptions <VBROracleRMANStorageOptions>] [-RetentionPolicy <Int32>] [-SAPHANACredentialsOptions <VBRSAPHANACredentialsOptions[]>] 
```
```PowerShell
[-SAPHANAOptions <VBRSAPHANAOptions>] [-SAPOnOracleMode {RMAN | BACKINT}] [-SAPOnOracleOptions <VBRSAPOnOracleOptions>] [-SAPOnOracleStorageOptions 
```
```PowerShell
<VBRSAPOnOracleStorageOptions>] [-ScheduleOptions <VBRApplicationScheduleOptions>] [<CommonParameters>]
```

Add-VBRApplicationGroup
-----------------------

### Synopsis
Creates application groups for SureBackup jobs.

---

### Description

This cmdlet creates application groups for SureBackup jobs.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRJobObject](Get-VBRJobObject.md)

* [New-VBRSureBackupVM](New-VBRSureBackupVM.md)

---

### Examples
> Example 1. Creating Application Group

$job = Get-VBRJob -Name "Exchange backup"
$backupobject = Get-VBRJobObject -Job $job
$vm = New-VBRSureBackupVM -VM $backupobject
Add-VBRApplicationGroup -VM $vm
This example shows how to create an application group with default name and description.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Save the result to the $job variable.
3. Run the New-VBRSureBackupVM cmdlet. Set the $backupobject variable as the VM parameter value. Save the result to the $vm variable.
4. Run the Add-VBRApplicationGroup cmdlet. Set the $vm variable as the VM parameter value.
> Example 2. Creating Application Group with Name

$job = Get-VBRJob -Name "Exchange backup"
$backupobject = Get-VBRJobObject -Job $job
$vm = New-VBRSureBackupVM -VM $backupobject
Add-VBRApplicationGroup -VM $vm -Name "Microsoft Exchange Appgroup"
This example shows how to create an application group with the Microsoft Exchange Appgroup name.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Save the result to the $job variable.  3. Run the New-VBRSureBackupVM cmdlet. Set the $backupobject variable as the VM parameter value. Save the result to the $vm variable.
4. Run the Add-VBRApplicationGroup cmdlet. Set the $vm variable as the VM parameter value. Specify the Name parameter value.
> Example 3. Creating Application Group with Name and Description

$job = Get-VBRJob -Name "Exchange backup"
$backupobject = Get-VBRJobObject -Job $job
$vm = New-VBRSureBackupVM -VM $backupobject
Add-VBRApplicationGroup -VM $vm -Name "Microsoft Exchange Appgroup" -Description "Application group for Exchange-related VMs"
This example shows how to create an application group with the Microsoft Exchange Appgroup name and the Application group for Exchange-related VMs description.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Save the result to the $job variable.
3. Run the New-VBRSureBackupVM cmdlet. Set the $backupobject variable as the VM parameter value. Save the result to the $vm variable.
4. Run the Add-VBRApplicationGroup cmdlet. Specify the following settings:
- Set the $vm variable as the VM parameter value.
- Specify the Name parameter value.
- Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies a description of an application group. The cmdlet will create the application group with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a name of an application group. The cmdlet will create the application group with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **VM**
Specifies an array of VMs. The cmdlet will add these VMs to the application group.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[VBRSureBackupVM[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSureBackupVM[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRApplicationGroup [-Description <String>] [-Name <String>] -VM <VBRSureBackupVM[]> [<CommonParameters>]
```

Add-VBRArchiveBackupAvailabilityPeriod
--------------------------------------

### Synopsis
Extends the availability period of the backup files from the archive storage.

---

### Description

This cmdlet extends the availability of the backup files retrieved from the archive extent of the scale-out backup repository.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

---

### Examples
> Retrieving Backup Files from Amazon S3 Glacier Archive Extent

$backup = Get-VBRBackup -Name "NEW_YEAR_JOB_2"
$rp = Get-VBRRestorePoint -Backup $backup | sort creation_time | select -First 1 
Add-VBRArchiveBackupAvailabilityPeriod -RestorePoint $rp[0] -AvailabilityPeriodDays 2
This example shows how to extend the availability of the backup files retrieved from the archive extent of the scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $rp variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the first restore point in the array).
3. Run the Add-VBRArchiveBackupAvailabilityPeriod cmdlet. Set the $rp variable as the RestorePoint parameter value. Specify the AvailabilityPeriodDays parameter value.

---

### Parameters
#### **AvailabilityPeriodDays**
Specifies a period (in days) during which the retrieved archive backup files will be available.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[UInt32]`|true    |named   |False        |

#### **RestorePoint**
Specifies the restore point for which you want to extend the availability.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[COib]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.COib

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRPublishedBackupSession

---

### Notes

---

### Syntax
```PowerShell
Add-VBRArchiveBackupAvailabilityPeriod -AvailabilityPeriodDays <UInt32> -RestorePoint <COib> [-RunAsync] [<CommonParameters>]
```

Add-VBRAzureAccount
-------------------

### Synopsis
Adds a Microsoft Azure compute account to Veeam Backup & Replication.

---

### Description

This cmdlet adds a credentials record for Microsoft Azure compute account to Veeam Backup & Replication and imports information about subscriptions and resources associated with the Microsoft Azure compute account.
You can add the following types of the accounts:
- Microsoft Azure account
- Microsoft Azure Stack Hub compute account
The cmdlet will open a Microsoft Azure wizard. Follow the steps of the wizard to add the account.
Consider the following:
- This cmdlet does not create a Microsoft Azure compute account. You must set up the Microsoft Azure account beforehand.
- This cmdlet does not support Microsoft Azure compute accounts with the Azure Service Manager (ASM, also known as a "classic" type).
- Veeam Backup & Replication no longer supports Azure Germany since Microsoft closed Microsoft Cloud Deutschland.

---

### Examples
> Example 1. Adding Microsoft Azure Compute Account

Add-VBRAzureAccount -Name "Azure Compute Administrator" -TenantId "XXXXXXXX" -ApplicationId "42f83f98" -SecretKey "XXXXXXXXXXXXXXXXXXX" -Region Global
This command adds the Microsoft Azure compute account into your Veeam Backup & Replication infrastructure with the following settings:
- The name of the account is Azure Compute Administrator.
- The ID of a tenant (directory) where the AD application resides is XXXXXXXX.
- The ID of the application is 42f83f98.
- The application secret is XXXXXXXXXXXXXXXXXXX.
- The region type is Global.
> Example 2. Adding Microsoft Azure Stack Hub Compute Account

```PowerShell
Add-VBRAzureAccount -ResourceManagerEndpoint "management.local.azurestack.external" -Name "Azure Stack Administrator"
This command adds the Microsoft Azure Stack Hub compute account named Azure Stack Administrator. The account connects to the management.local.veeamstack.external virtual IP address of Azure Resource Manager.
```

---

### Parameters
#### **ApplicationId**
Specifies the ID of the AD application. The cmdlet will use this application to connect to Microsoft Azure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **AzureCredentials**
Note: This parameter is obsolete and will be deprecated in next version.
Specifies an exiting Azure AD application. Veeam Backup & Replication will use this Azure AD application to connect to Microsoft Azure.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|false   |named   |False        |

#### **CertificatePath**
For certificate-based authentication.
Specifies a path to the folder where the certificate is located. The cmdlet will use it to authenticate against Azure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Description**
Specifies a description of credentials record for Microsoft Azure compute account. The cmdlet will add credentials record with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a name of credentials record for for Microsoft Azure compute account. The cmdlet will add credentials record with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
For certificate-based authentication. Specifies a password that the cmdlet will use it to authenticate against Azure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Region**
Specifies the region type of the Microsoft Azure account. You can select the following types of regions:
* Global
* Germany
* China
* Government
Valid Values:

* Global
* China
* Government

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRAzureRegionType]`|false   |named   |False        |

#### **ResourceManagerEndpoint**
To connect to Microsoft Azure Stack Hub compute account. Specifies the virtual IP address of Azure Resource Manager. The account will connect to this resource manager.
Note: You must specify the IP address in the following format: management.<region>.<FQDN>.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **SecretKey**
For the password-based authentication. Specifies the application secret that the cmdlet will use to authenticate against Microsoft Azure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TenantId**
For existing account connection type.
Specifies an ID of a tenant (directory) where the AD application resides. The cmdlet will use this tenant ID to connect to the Azure AD application.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes
This cmdlet does not create Microsoft Azure account. You must set up the Microsoft Azure account beforehand.

---

### Syntax
```PowerShell
Add-VBRAzureAccount [-ApplicationId <String>] [-AzureCredentials <CCredentials>] [-CertificatePath <String>] [-Description <String>] -Name <String> [-Password <String>] 
```
```PowerShell
[-Region {Global | China | Government}] [-SecretKey <String>] [-TenantId <String>] [<CommonParameters>]
```
```PowerShell
Add-VBRAzureAccount [-ApplicationId <String>] [-AzureCredentials <CCredentials>] [-CertificatePath <String>] [-Description <String>] -Name <String> [-Password <String>] 
```
```PowerShell
-ResourceManagerEndpoint <String> [-SecretKey <String>] [-TenantId <String>] [<CommonParameters>]
```

Add-VBRAzureADAccount
---------------------

### Synopsis
Adds Azure Entra ID-based storage accounts to Veeam Backup & Replication.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet adds Azure Entra ID-based storage accounts to Veeam Backup & Replication.

---

### Examples
> Example 1. Adding Azure Entra ID-Based Storage Account with Password-Based Authentication

Add-VBRAzureADAccount -ApplicationId "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" -CertificatePath "C:\Users\Administrator\Locked" -StorageAccountName "EntraID" -TenantId "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" -Description "Administrator Entra ID"  -Password "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" -Region Global
This command adds the Azure Entra ID-based storage account to Veeam Backup & Replication. The cmdlet uses a password-based authentication.
> Example 2. Adding Azure Entra ID-Based Storage Account Using Certificate

Add-VBRAzureADAccount -ApplicationId "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" -Description "Administrator Entra ID" -Region Global -SecretKey XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -StorageAccountName "EntraID" -TenantId "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
This command adds the Azure Entra ID-based storage account to Veeam Backup & Replication. The cmdlet uses certificate type of authentication.

---

### Parameters
#### **ApplicationId**
Specifies the ID of Microsoft Entra ID application.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **CertificatePath**
For certificate-based authentication. Specifies a path to the folder where the certificate is located. The cmdlet will use it to authenticate against Microsoft Entra.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Description**
Specifies a description of an Azure Entra ID-based storage account. The cmdlet will add this storage account with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Password**
For certificate-based authentication. Specifies a password that the cmdlet will use it to authenticate against Microsoft Entra.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Region**
Specifies the Microsoft Azure region where Azure Entra ID-based storage account is located. You can select the following types of regions:
* Global
* Government
* China
Valid Values:

* Global
* China
* Government

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureBlobRegionType]`|false   |named   |False        |

#### **SecretKey**
For password-based authentication. Specifies an application secret that the cmdlet will use to authenticate against Microsoft Entra.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **StorageAccountName**
Specifies a name of an Azure Entra ID-based storage account. The cmdlet will use it as a friendly name and will add the storage account using this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **TenantId**
For existing account connection type. Specifies an ID of a tenant (directory) where the Microsoft Entra ID application resides.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureADAccount -ApplicationId <String> -CertificatePath <String> [-Description <String>] [-Password <String>] [-Region {Global | China | Government}] 
```
```PowerShell
-StorageAccountName <String> -TenantId <String> [<CommonParameters>]
```
```PowerShell
Add-VBRAzureADAccount -ApplicationId <String> [-Description <String>] [-Region {Global | China | Government}] -SecretKey <String> -StorageAccountName <String> -TenantId 
```
```PowerShell
<String> [<CommonParameters>]
```

Add-VBRAzureArchiveRepository
-----------------------------

### Synopsis
Adds Azure Archive repository to the backup infrastructure.

---

### Description

This cmdlet adds Azure Archive repository to the backup infrastructure.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

* [Get-VBRAzureBlobFolder](Get-VBRAzureBlobFolder.md)

* [Get-VBRAzureAccount](Get-VBRAzureAccount.md)

* [Get-VBRAzureSubscription](Get-VBRAzureSubscription.md)

* [Get-VBRAzureLocation](Get-VBRAzureLocation.md)

* [Get-VBRAzureVMSize](Get-VBRAzureVMSize.md)

* [Get-VBRAzureVirtualNetwork](Get-VBRAzureVirtualNetwork.md)

* [Get-VBRAzureVirtualNetworkSubnet](Get-VBRAzureVirtualNetworkSubnet.md)

* [Get-VBRAzureResourceGroup](Get-VBRAzureResourceGroup.md)

* [New-VBRAzureComputeProxyAppliance](New-VBRAzureComputeProxyAppliance.md)

---

### Examples
> Adding Azure Archive Repository

$account = Get-VBRAzureBlobAccount -Name "Azure_Blob"
$connection = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType ArchiveTier
$container =Get-VBRAzureBlobContainer -Connection $connection -Name "container01"
$folder = Get-VBRAzureBlobFolder -Container $container -Connection $connection -Name "folder02"
$subscriptaccount = Get-VBRAzureAccount
$subscription = Get-VBRAzureSubscription -Account $subscriptaccount
$location = Get-VBRAzureLocation -Subscription $subscription
$vmsize = Get-VBRAzureVMSize -Subscription $subscription -Location $location
$network = Get-VBRAzureVirtualNetwork -Subscription $subscription -Name "VeeamInternalNetwork"
$subnet = Get-VBRAzureVirtualNetworkSubnet -Network $network -Name "VeeamInternalSubnet"
$rg = Get-VBRAzureResourceGroup -Subscription $subscription -Name "VeeamResourceGroup"
$proxy = New-VBRAzureComputeProxyAppliance -VMSize $vmsize -Network $network -Subnet $subnet -ResourceGroup $rg -RedirectorPort 443
Add-VBRAzureArchiveRepository -Connection $connection -AzureBlobFolder $folder -AzureProxySpec $proxy -Name "MyAzureArchive"
This example shows how to add the Azure Archive repository to the backup infrastructure.
Perform the following steps:
1. Specify Azure connection settings:
- Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
- Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
2. Specify object storage settings:
- Run the Get-VBRAzureBlobContainer cmdlet. Set the $connection variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $container variable.
- Run the Get-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connection variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $folder variable.
3. Define the Azure proxy settings:
- Run the Get-VBRAzureAccount cmdlet. Save the result to the $subscriptaccount variable.
- Run the Get-VBRAzureSubscription cmdlet. Set the $subscriptaccount variable as the Account parameter value. Save the result to the $subscription variable.
- Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable the Subscription parameter value. Save the result to the $location variable.
- Run the Get-VBRAzureVMSize cmdlet. Set the $subscription variable as the Subscription parameter value. Set the $location variable as the Location parameter value. Save the result to the $vmsize variable.
- Run the Get-VBRAzureVirtualNetwork cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value. Save the result to the $network variable.
- Run the Get-VBRAzureVirtualNetworkSubnet cmdlet. Set the $network variable as the Network parameter value. Specify the Name parameter values. Save the result to the $subnet variable.
- Run the Get-VBRAzureResourceGroup cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value. Save the result to the $rg variable.
- Run the New-VBRAzureComputeProxyAppliance cmdlet. Set the $vmsize variable as the VMSize parameter value. Set the $network variable as the Network parameter value. Set the $subnet variable as the Subnet parameter value. Set the $rg variable as the ResourceGroup parameter value. Specify the RedirectorPort parameter value. Save the result to the $proxy variable.
4. Run the Add-VBRAzureArchiveRepository cmdlet. Specify the following settings:
- Set the $connection variable as the Connection parameter value.
- Set the $folder variable as the AzureBlobFolder parameter value.
- Set the $proxy variable as the AzureProxySpec parameter value.
- Specify the Name parameter value.

---

### Parameters
#### **AzureBlobFolder**
Specifies an Azure Blob folder. Veeam Backup & Replication will move backup files into this folder.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRAzureBlobFolder]`|true    |named   |False        |

#### **AzureProxySpec**
Specifies an archiver appliance that transfers data from Azure Blob storage to Azure Archive Storage.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRAzureComputeProxyAppliance]`|false   |named   |False        |

#### **Connection**
Specifies an active session with an Azure Archive repository that you want to add to the backup infrastructure.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRAzureBlobConnection]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies a description of an Azure Archive repository. The cmdlet will add an archive repository with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupImmutability**
Defines that the cmdlet will enable the immutability option.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name of an Azure Archive repository. The cmdlet will add an archive repository with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **UseInstantRetrieval**
Defines that the cmdlet will create a repository where data blocks are marked with the cool access tier.
Note: If you do not provide the UseInstantRetrieval parameter, the cmdlet will create a repository where blocks are marked as the archive access tier.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobConnection

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRAzureArchiveRepository

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureArchiveRepository -AzureBlobFolder <VBRAzureBlobFolder> [-AzureProxySpec <VBRAzureComputeProxyAppliance>] -Connection <VBRAzureBlobConnection> [-Description 
```
```PowerShell
<String>] [-EnableBackupImmutability] [-Force] [-Name <String>] [-UseInstantRetrieval] [<CommonParameters>]
```

Add-VBRAzureBlobAccount
-----------------------

### Synopsis
Creates Microsoft Azure Blob credentials records.

---

### Description

This cmdlet creates a VBRAzureBlobAccount object.
This object contains credentials records of a Microsoft Azure storage account that has permissions to access the Blob storage resources.

---

### Examples
> Adding Microsoft Azure Blob Credentials Record

$securepassword = Read-Host "Enter your password" -AsSecureString
Enter your password: **********
Add-VBRAzureBlobAccount -Name "Login" -SharedKey $securepassword
This example shows how to add an Microsoft Azure Blob credentials record.
Perform the following steps:
1. Run the Read-Host cmdlet. Specify the message that the console will display as a prompt. Provide the AsSecureString parameter. Save the result to the $securepassword variable.
2. Enter the password.
3. Run the Add-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Set the $securepassword variable as the SharedKey parameter value.

---

### Parameters
#### **Description**
Specifies a description for the Microsoft Azure Blob credentials record.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a login name. The cmdlet will use this login name to add the Microsoft Azure Blob credentials record.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **SharedKey**
Specifies a shared key. The cmdlet will use this shared key to add the Microsoft Azure Blob credentials record.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureBlobAccount [-Description <String>] -Name <String> -SharedKey <String> [<CommonParameters>]
```

Add-VBRAzureBlobRepository
--------------------------

### Synopsis
Adds Azure Blob object storage repository to the backup infrastructure.

---

### Description

This cmdlet adds Azure Blob object storage repository to to the backup infrastructure.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

* [New-VBRAzureBlobFolder](New-VBRAzureBlobFolder.md)

---

### Examples
> Example 1. Adding Microsoft Azure Object Storage [Mapping to Existing Folder]

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect
$folder = Get-VBRAzureBlobFolder -Container $container -Connection $connect
Add-VBRAzureBlobRepository -AzureBlobFolder $folder[3] -Connection $connect
This example shows how to add Microsoft Azure Object Storage to the backup infrastructure and map object storage repository to an existing folder.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connect variable as the Connection parameter value. Save the result to the $container variable.
4. Run the Get-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connect variable as the Connection parameter value. Save the result to the $folder variable.
The Get-VBRAzureBlobFolder cmdlet will return an array of folders. Mind the ordinal number of the necessary folders (in our example, it is the fourth restore point in the array).
5. Run the Add-VBRAzureBlobRepository cmdlet. Set the $folder variable as the AzureBlobFolder parameter value. Set the $connect variable as the Connection parameter value.
> Example 2. Adding Microsoft Azure Object Storage [Mapping to New Folder]

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect
$folder = New-VBRAzureBlobFolder -Container $container -Connection $connect -Name "Images"
Add-VBRAzureBlobRepository -AzureBlobFolder $folder -Connection $connect
This example shows how to add Microsoft Azure Object Storage to the backup infrastructure and map object storage repository to a new folder. The cmdlet will map object storage repository to the Images folder.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connect variable. 3. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connect variable as the Connection parameter value. Save the result to the $container variable.
4. Run the New-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connect variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $folder variable. 5. Run the Add-VBRAzureBlobRepository cmdlet. Set the $folder variable as the AzureBlobFolder parameter value. Set the $connect variable as the Connection parameter value.

---

### Parameters
#### **AzureBlobFolder**
Specifies an Azure Blob folder. The cmdlet will map object storage repository to this folder.

|Type                  |Required|Position|PipelineInput |
|----------------------|--------|--------|--------------|
|`[VBRAzureBlobFolder]`|true    |named   |True (ByValue)|

#### **AzureProxySpec**
Specifies a helper appliance. Veeam Backup & Replication will use this appliance to perform a health check of backup files and apply retention to NAS backup files.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRAzureComputeProxyAppliance]`|false   |named   |False        |

#### **Connection**
Specifies an active session with Azure Blob storage that you want to add as the backup repository.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureBlobConnection]`|true    |named   |False        |

#### **Description**
Specifies a description of Azure Blob storage. The cmdlet will add Azure Blob storage to Veeam Backup & Replication with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupImmutability**
Defines that the cmdlet will enable the immutability option.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableConcurrentTasksLimit**
Enables limits for concurrent tasks that can be processed by the object storage repository.
Use the MaxConcurrentTasks paramter to specify the number of tasks.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableCoolAccessTier**
Defines that Veeam Backup & Replication will keep blocks of data in the Cool access tier.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableSizeLimit**
Defines that the cmdlet will enable size limits for an Azure Blob storage that you want to add as a backup repository.
Use the SizeLimit parameter to specify the size limits.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ForceOwnershipChange**
Defines that the cmdlet will force ownership change of the object storage folder.
If you do not provide this parameter and the object storage folder is owned by another host, you will not be able to add object storage to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ImmutabilityPeriod**
For the EnableBackupImmutability parameter.
Defines the immutability period in days.
Default: 30 days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MaxConcurrentTasks**
Specifies a maximum number of concurrent tasks that can be processed at once by the object storage repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MountServerOptions**
Specifies settings of a mount server for object storage repositories.
Note: This parameter is required for object storage repositories that you want to add as performance extents to a scale-out backup repository.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRRepositoryMountServerOptions]`|false   |named   |False        |

#### **Name**
Specifies a name of an object storage. The cmdlet will add Azure Blob storage to Veeam Backup & Replication with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SizeLimit**
For the EnableSizeLimit parameter.
Specifies size limits in GB for data blocks that you want to store in Azure Blob storage added as an object storage repository.
Permitted value: 1024 - 1073741824.
Default: 10240

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobFolder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureBlobRepository -AzureBlobFolder <VBRAzureBlobFolder> [-AzureProxySpec <VBRAzureComputeProxyAppliance>] -Connection <VBRAzureBlobConnection> [-Description 
```
```PowerShell
<String>] [-EnableBackupImmutability] [-EnableConcurrentTasksLimit] [-EnableCoolAccessTier] [-EnableSizeLimit] [-Force] [-ForceOwnershipChange] [-ImmutabilityPeriod <Int32>] 
```
```PowerShell
[-MaxConcurrentTasks <Int32>] [-MountServerOptions <VBRRepositoryMountServerOptions>] [-Name <String>] [-SizeLimit <Int32>] [<CommonParameters>]
```

Add-VBRAzureBlobServer
----------------------

### Synopsis
Adds Microsoft Azure Blob storage as unstructured data source to the inventory.

---

### Description

This cmdlet adds Microsoft Azure Blob storage as unstructured data source to the inventory.

---

### Related Links
* [Add-VBRAzureBlobAccount](Add-VBRAzureBlobAccount.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRNASProxyServer](Get-VBRNASProxyServer.md)

---

### Examples
> Example - Adding Microsoft Azure Blob as Unstructured Data Source

$creds = Add-VBRAzureBlobAccount -Name "string" -SharedKey "string"
$cacherepository = Get-VBRBackupRepository -Name "WinSrv"
Add-VBRAzureBlobServer -FriendlyName "Azure Blob" -Account $creds -RegionType Global -CacheRepository $cacherepository
This example shows how to add Microsoft Azure Blob as unstructured data source to the inventory.

Perform the following steps:
1. Run the Add-VBRAzureBlobAccount cmdlet. Specify the Name and the SharedKey parameters values. Save the result to the $creds variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $cacherepository variable.
3. Run the Add-VBRAzureBlobServer cmdlet. Specify the following settings:
- Specify the FriendlyName parameter value.
- Set the $creds variable as the Account parameter value.
- Specify the RegionType parameter value.
- Set the $cacherepository variable as the CacheRepository parameter value.

---

### Parameters
#### **Account**
Specifies Microsoft Azure Blob credentials records. The cmdlet will use these credentials record to connect to object storage. Accepts the VBRAzureBlobAccount object.  To get this object, run the Get-VBRAzureBlobAccount cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRAzureBlobAccount]`|true    |named   |False        |

#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from object storage. You can specify either of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupIOControlLevel]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **FriendlyName**
Specify a name that you want to assign to the object storage.

|Type      |Required|Position|PipelineInput |
|----------|--------|--------|--------------|
|`[String]`|true    |named   |True (ByValue)|

#### **ProxyMode**
Specifies the backup proxy options:
* Automatic: use this option if you want Veeam Backup & Replication to choose the backup proxy that will process object storage.
* SelectedProxy: use this option if you want to specify the backup proxy that will process object storage. Use the SelectedProxyServer parameter to specify the backup proxy.
Valid Values:

* Automatic
* SelectedProxy

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNASProxyMode]`|false   |named   |False        |

#### **RegionType**
Specifies the region type of Microsoft Azure Blob storage. The cmdlet will connect to the selected region type and will set up a connection with Microsoft Azure Blob storage. You can select the following types of regions:
* Global
* Government
* China
Valid Values:

* Global
* China
* Government

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureBlobRegionType]`|true    |named   |False        |

#### **SelectedProxyServer**
For the SelectedProxy option of the ProxyMode parameter. Specifies the backup proxy. Veeam Backup & Replication will use this backup proxy to back up Microsoft Azure Blob object storage. Accepts the VBRNASProxyServer[] object.  To get this object, run the Get-VBRNASProxyServer cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureBlobServer -Account <VBRAzureBlobAccount> [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> -FriendlyName 
```
```PowerShell
<String> [-ProxyMode {Automatic | SelectedProxy}] -RegionType {Global | China | Government} [-SelectedProxyServer <VBRNASProxyServer[]>] [<CommonParameters>]
```

Add-VBRAzureComputeBackupCopyJob
--------------------------------

### Synopsis
Creates Azure IaaS backup copy jobs.

---

### Description

This cmdlet creates Azure IaaS backup copy jobs of Azure VMs that are stored on a Microsoft Azure Blob Storage repository. Azure IaaS backup copy jobs will copy the backups from Microsoft Azure Blob Storage external repositories to target repositories.

The cmdlet creates jobs in a disabled state. Run Enable-VBRJob to enable jobs.

---

### Related Links
* [Get-VBRAzureComputeBackup](Get-VBRAzureComputeBackup.md)

---

### Examples
> Creating Azure Backup Copy Job

$backup = Get-VBRAzureComputeBackup -Name "November report"
Add-VBRAzureComputeBackupCopyJob -Backup $backup
This example shows how to create an Azure backup copy job.

Perform the following steps:

1. Run the Get-VBRAzureComputeBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.   2. Run the Add-VBRAzureComputeBackupCopyJob cmdlet. Set the $backup variable as the Backup parameter value.

---

### Parameters
#### **Backup**
Specifies an array of Azure backups that you want to copy.

|Type                       |Required|Position|PipelineInput |
|---------------------------|--------|--------|--------------|
|`[VBRAzureComputeBackup[]]`|true    |named   |True (ByValue)|

#### **BackupWindowOptions**
Specifies a number of restore points to keep on a target backup repository.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

#### **Description**
Specifies a description of a backup copy job. The cmdlet will create the job with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a name of a backup copy job. The cmdlet will create the job with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **RecoveryPointObjective**
Specifies the period of time when a backup copy job is allowed to run.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRRecoveryPointObjective]`|false   |named   |False        |

#### **Repository**
Specifies a target backup repository. The cmdlet will copy Azure backups to this repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RetentionPolicy**
Specifies a number of restore points to keep on a target backup repository.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRRetentionPolicy]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureComputeBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureComputeBackupCopyJob -Backup <VBRAzureComputeBackup[]> [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] [-Name <String>] 
```
```PowerShell
[-RecoveryPointObjective <VBRRecoveryPointObjective>] [-Repository <CBackupRepository>] [-RetentionPolicy <VBRRetentionPolicy>] [<CommonParameters>]
```

Add-VBRAzureDataBoxRepository
-----------------------------

### Synopsis
Adds Azure Data Box storage as an object storage repository to the backup infrastructure.

---

### Description

This cmdlet adds Azure Data Box storage as an object storage repository to the backup infrastructure.
IMPORTANT! This cmdlet adds the Azure Data Box storage that can be used as a capacity extent of the scale-out backup repository.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureDataBoxService](Connect-VBRAzureDataBoxService.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

* [Get-VBRAzureBlobFolder](Get-VBRAzureBlobFolder.md)

---

### Examples
> Adding Azure Data Box Storage to Backup Infrastructure

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureDataBoxService -Account $account -ServicePoint "http://123.45.67.89:9000"
$container = Get-VBRAzureBlobContainer -Connection $connect
$folder = Get-VBRAzureBlobFolder -Container $container -Connection $connect
Add-VBRAzureDataBoxRepository -AzureBlobFolder $folder -Connection $connect -Name "DataBox 009"
This example shows how to add the DataBox 009 Azure Data Box storage to the backup infrastructure.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureDataBoxService cmdlet. Set the $account variable as the Account parameter value. Specify the ServicePoint parameter value. Save the result to the $connect variable.
3. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connect variable as the Connection parameter value. Save the result to the $container variable.
4. Run the Get-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connect variable as the Connection parameter value. Save the result to the $folder variable.
5. Run the Add-VBRAzureDataBoxRepository cmdlet. Specify the following settings:
- Set the $folder variable as the AzureBlobFolder parameter value.
- Set the $connect variable as the Connection parameter value.
- Specify the Name parameter value.

---

### Parameters
#### **AzureBlobFolder**
Specifies an Azure Data Box folder. The cmdlet will move the backup files to the specified folder.

|Type                  |Required|Position|PipelineInput |
|----------------------|--------|--------|--------------|
|`[VBRAzureBlobFolder]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with Azure Data Box storage that you want to add as the backup repository.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRAzureDataBoxConnection]`|true    |named   |False        |

#### **Description**
Specifies a description of Azure Data Box storage. The cmdlet will add Azure Data Box storage to Veeam Backup & Replication with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableConcurrentTasksLimit**
Enables limits for concurrent tasks that can be processed by the object storage repository.
Use the MaxConcurrentTasks parameter to specify the number of tasks.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MaxConcurrentTasks**
Specifies a maximum number of concurrent tasks that can be processed at once by the object storage repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies a name of Azure Data Box storage. The cmdlet will add Azure Data Box storage to Veeam Backup & Replication with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobFolder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureDataBoxRepository -AzureBlobFolder <VBRAzureBlobFolder> -Connection <VBRAzureDataBoxConnection> [-Description <String>] [-EnableConcurrentTasksLimit] [-Force] 
```
```PowerShell
[-MaxConcurrentTasks <Int32>] [-Name <String>] [<CommonParameters>]
```

Add-VBRAzureExternalRepository
------------------------------

### Synopsis
Adds external Microsoft Azure Blob storage repository to the backup infrastructure.

---

### Description

This cmdlet adds external Microsoft Azure Blob storage repository to the backup infrastructure.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

* [Get-VBRAzureBlobFolder](Get-VBRAzureBlobFolder.md)

---

### Examples
> Adding Microsoft Azure Blob Storage as External Repository

$account = Get-VBRAzureBlobAccount
$connection = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType ExternalRepository
$container = Get-VBRAzureBlobContainer -Connection $connection -Name "Azure External Repository"
$folder = Get-VBRAzureBlobFolder -Container $container -Connection $connection
Add-VBRAzureExternalRepository -Name "AzureExternalRepo" -Description "New external repository" -AzureBlobFolder $folder -Connection $connection
This example shows how to add the Microsoft Azure Blob storage as an external repository to the backup infrastructure.
Perform the following steps:
1. Get the Azure Blob folder:
a. Run the Get-VBRAzureBlobAccount cmdlet. Save the result to the $account variable.
b. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
c. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connection variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $container variable.
d. Run the Get-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connection variable as the Connection parameter value. Save the result to the $folder variable.
2. Run the Add-VBRAzureExternalRepository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Description parameter value.
- Set the $folder variable as the AzureBlobFolder parameter value.
- Set the $connection variable as the Connection parameter value.

---

### Parameters
#### **AzureBlobFolder**
Specifies a name of an Azure Blob storage container where Azure VMs backups reside.

|Type                  |Required|Position|PipelineInput |
|----------------------|--------|--------|--------------|
|`[VBRAzureBlobFolder]`|true    |named   |True (ByValue)|

#### **AzureSubscription**
Specifies subscriptions associated with a Microsoft Azure account.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRAzureSubscription]`|false   |named   |False        |

#### **Connection**
Specifies an active session with Microsoft Azure Blob storage that you want to add as an external repository.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureBlobConnection]`|true    |named   |False        |

#### **DecryptBackups**
Defines that Veeam Backup & Replication will decrypt encrypted backups.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **DecryptionKey**
Specifies the password that Veeam Backup & Replication will use to decrypt the backup files.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBREncryptionKey]`|false   |named   |False        |

#### **Description**
Specifies a description of Microsoft Azure Blob storage that you want to add as an external repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an external repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name of Microsoft Azure Blob storage that you want to add as an external repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobFolder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureExternalRepository -AzureBlobFolder <VBRAzureBlobFolder> [-AzureSubscription <VBRAzureSubscription>] -Connection <VBRAzureBlobConnection> [-DecryptBackups] 
```
```PowerShell
[-DecryptionKey <VBREncryptionKey>] [-Description <String>] [-Force] [-Name <String>] [<CommonParameters>]
```

Add-VBRAzureStorageServer
-------------------------

### Synopsis
Adds Microsoft Azure object storage as unstructured data source to the inventory.

---

### Description

This cmdlet adds Microsoft Azure object storage as unstructured data source to the inventory. You can add the following object storage repositories:
- Microsoft Azure Blob Storage
- Microsoft Azure Data Lake

---

### Related Links
* [Add-VBRAzureBlobAccount](Add-VBRAzureBlobAccount.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRNASProxyServer](Get-VBRNASProxyServer.md)

---

### Examples
> Adding Microsoft Azure Data Lake as Unstructured Data Source

$creds = Add-VBRAzureBlobAccount -Name "string" -SharedKey "string"
$cacherepository = Get-VBRBackupRepository -Name "WinSrv"
Add-VBRAzureStorageServer -FriendlyName "Azure Blob" -Account $creds -RegionType Global -CacheRepository $cacherepository
This example shows how to add Microsoft Azure Data Lake object storage as unstructured data source to the inventory.

Perform the following steps:
1. Run the Add-VBRAzureBlobAccount cmdlet. Specify the Name and the SharedKey parameters values. Save the result to the $creds variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $cacherepository variable.
3. Run the Add-VBRAzureBlobServer cmdlet. Specify the following settings:
- Specify the FriendlyName parameter value.
- Set the $creds variable as the Account parameter value.
- Specify the RegionType parameter value.
- Set the $cacherepository variable as the CacheRepository parameter value.

---

### Parameters
#### **Account**
Specifies Microsoft Azure credentials records. The cmdlet will use these credentials record to connect to object storage.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRAzureBlobAccount]`|true    |named   |False        |

#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from object storage. You can specify either of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupIOControlLevel]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **FriendlyName**
Specify a name that you want to assign to the object storage.

|Type      |Required|Position|PipelineInput |
|----------|--------|--------|--------------|
|`[String]`|true    |named   |True (ByValue)|

#### **ProxyMode**
Specifies the backup proxy options:
* Automatic: use this option if you want Veeam Backup & Replication to choose the backup proxy that will process object storage.
* SelectedProxy: use this option if you want to specify the backup proxy that will process object storage. Use the SelectedProxyServer parameter to specify the backup proxy.
Valid Values:

* Automatic
* SelectedProxy

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNASProxyMode]`|false   |named   |False        |

#### **RegionType**
Specifies the region type of Microsoft Azure storage. The cmdlet will connect to the selected region type and will set up a connection with Microsoft Azure storage. You can select the following types of regions:
* Global
* Government
* China
Valid Values:

* Global
* China
* Government

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureBlobRegionType]`|true    |named   |False        |

#### **SelectedProxyServer**
For the SelectedProxy option of the ProxyMode parameter. Specifies the backup proxy. Veeam Backup & Replication will use this backup proxy to back up Microsoft Azure Blob object storage.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRAzureStorageServer -Account <VBRAzureBlobAccount> [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> -FriendlyName 
```
```PowerShell
<String> [-ProxyMode {Automatic | SelectedProxy}] -RegionType {Global | China | Government} [-SelectedProxyServer <VBRNASProxyServer[]>] [<CommonParameters>]
```

Add-VBRBackupCopyJob
--------------------

### Synopsis
Creates a backup copy job.

---

### Description

This cmdlet creates a new backup copy job.
You can use backups, backup jobs, repositories or backup infrastructure as a source for the backup copy job.
You can transfer data in the following ways:
- Using WAN accelerators. This mode is recommended for off-site backups.
To create and run a backup copy job using WAN accelerators you need to have source and target WAN accelerators created. Run the Add-VBRWANAccelerator cmdlet to create a WAN accelerator. WAN optimization is available only in Veeam Backup & Replication Enterprise Plus, Veeam Universal License Edition.
- Directly. With this method, the job sends the data directly to the target backup repository without performing data deduplication. This mode is recommended for on-site backups, or off-site backups using fast connections.
Use an appropriate parameter set for each way.

---

### Related Links
* [Get-VBRWANAccelerator](Get-VBRWANAccelerator.md)

---

### Examples
> Example 1. Creating Backup Copy Job Which Transfers Data Directly

```PowerShell
Add-VBRBackupCopyJob -Mode Immediate -DirectOperation -Name CopyJob1
This command creates a backup copy job that will transfer data directly.
```
> Example 2. Creating Backup Copy Job Which Transfers Data Using WAN Accelerators

$wansource = Get-VBRWANAccelerator
$wantarget = Get-VBRWANAccelerator
Add-VBRBackupCopyJob -Mode Immediate -SourceAccelerator $wansource -TargetAccelerator $wantarget -Name CopyJob1
This example shows how to create a backup copy job that will transfer data over WAN accelerators.
Perform the following steps:
1. Run the Get-VBRWANAccelerator cmdlet. Save the result to the $wansource variable.
2. Run the Get-VBRWANAccelerator cmdlet. Save the result to the $wantarget variable.
3. Run the Add-VBRBackupCopyJob cmdlet. Specify the following settings:
- Set the Immediate value as the Mode parameter value.
- Set the $wansource variable as the SourceAccelerator parameter value.
- Set the $wansource variable as the TargetAccelerator parameter value.
- Specify the Name parameter value.

---

### Parameters
#### **Backup**
Specifies the array of backups. The cmdlet will add these backups as source to the backup copy job.
You can specify only the array of the following backups:
* EC2 instance backups.
* Azure backups.
* Google Cloud VM instance backups.

|Type           |Required|Position|PipelineInput        |
|---------------|--------|--------|---------------------|
|`[VBRBackup[]]`|false   |named   |True (ByPropertyName)|

#### **BackupJob**
Specifies an array of jobs. The cmdlet will add these jobs as source to the backup copy job.

|Type            |Required|Position|PipelineInput        |
|----------------|--------|--------|---------------------|
|`[CBackupJob[]]`|false   |named   |True (ByPropertyName)|

#### **BackupWindowOptions**
Specifies a time interval within which a backup copy job can start.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

#### **Description**
Specifies a description for a backup copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DirectOperation**
Defines that a backup copy job will send  the data directly to the target backup repository without performing data deduplication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **EnableTransactionLogCopy**
Defines that a backup copy job will process transaction logs of the source job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GFSOptions**
Specifies a GFS retention. The cmdlet will create a backup copy job with the specified policy.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRComputerGFSOptions]`|false   |named   |False        |

#### **HealthCheckOptions**
Specifies the healthcheck schedule. The cmdlet will create a file backup job with this healthcheck schedule.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRHealthCheckOptions]`|false   |named   |False        |

#### **IgnoreLocation**
Defines that the job will be created even if original and target computer locations do not match.
If you do not specify this parameter and locations are different, the job will not start.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Mode**
Specifies a backup copy job mode: Periodic or Immediate.
Valid Values:

* Periodic
* Immediate

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRBackupCopyJobMode]`|true    |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification options of a backup copy job.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **ProcessLatestAvailablePoint**
Defines that the most recent restore point will be processed instead of waiting for the most current backup file to become available.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RetentionNumber**
For the RetentionType set to the RestoreDays property.
Specifies a number of days for which you want to store backup files in the target location.
Default: 7 days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **RetentionType**
Specifies the retention type for a backup copy job managed by the Veeam Backup server. You can specify one of the following types:
* RestorePoints
* RestoreDays
Valid Values:

* RestorePoints
* RestoreDays

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRRetentionType]`|false   |named   |False        |

#### **RPOWarningOptions**
Specifies an array of the number of hours when data must be copied from the source repository to the target repository.
Default: 1.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRRpoNotificationOption[]]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies schedule options. The cmdlet will create a backup job with these schedule options.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRServerScheduleOptions]`|false   |named   |False        |

#### **ScriptOptions**
Specifies pre-job and post-job script options for a backup copy job. The cmdlet will create the job with these settings.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **SourceAccelerator**
Specifies the WAN accelerator on the source side.
Remember to set the pair of source and target WAN accelerators.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|true    |named   |False        |

#### **SourceRepository**
Specifies an array of source backup repositories.

|Type                   |Required|Position|PipelineInput        |
|-----------------------|--------|--------|---------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName)|

#### **StorageOptions**
Specifies the storage settings of the backup repository. The cmdlet will create a backup copy job with these settings.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRBackupCopyJobStorageOptions]`|false   |named   |False        |

#### **TargetAccelerator**
Specifies the WAN accelerator on the target side.
Remember to set the pair of source and target WAN accelerators.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

#### **TargetBackup**
WARNING! THIS PARAMETER IS INTERNAL.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|false   |named   |False        |

#### **TargetRepository**
Specifies a target backup repository. The cmdlet will copy backups to this repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRBackup[]

Veeam.Backup.Core.CBackupJob[]

Veeam.Backup.Core.CBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRBackupCopyJob [-Backup <VBRBackup[]>] [-BackupJob <CBackupJob[]>] [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] -DirectOperation 
```
```PowerShell
[-EnableTransactionLogCopy] [-GFSOptions <VBRComputerGFSOptions>] [-HealthCheckOptions <VBRHealthCheckOptions>] [-IgnoreLocation] -Mode {Periodic | Immediate} [-Name 
```
```PowerShell
<String>] [-NotificationOptions <VBRNotificationOptions>] [-ProcessLatestAvailablePoint] [-RetentionNumber <Int32>] [-RetentionType {RestorePoints | RestoreDays}] 
```
```PowerShell
[-RPOWarningOptions <VBRRpoNotificationOption[]>] [-ScheduleOptions <VBRServerScheduleOptions>] [-ScriptOptions <VBRJobScriptOptions>] [-SourceRepository 
```
```PowerShell
<CBackupRepository[]>] [-StorageOptions <VBRBackupCopyJobStorageOptions>] [-TargetBackup <CBackup>] [-TargetRepository <CBackupRepository>] [<CommonParameters>]
```
```PowerShell
Add-VBRBackupCopyJob [-Backup <VBRBackup[]>] [-BackupJob <CBackupJob[]>] [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] [-EnableTransactionLogCopy] 
```
```PowerShell
[-GFSOptions <VBRComputerGFSOptions>] [-HealthCheckOptions <VBRHealthCheckOptions>] [-IgnoreLocation] -Mode {Periodic | Immediate} [-Name <String>] [-NotificationOptions 
```
```PowerShell
<VBRNotificationOptions>] [-ProcessLatestAvailablePoint] [-RetentionNumber <Int32>] [-RetentionType {RestorePoints | RestoreDays}] [-RPOWarningOptions 
```
```PowerShell
<VBRRpoNotificationOption[]>] [-ScheduleOptions <VBRServerScheduleOptions>] [-ScriptOptions <VBRJobScriptOptions>] -SourceAccelerator <CWanAccelerator> [-SourceRepository 
```
```PowerShell
<CBackupRepository[]>] [-StorageOptions <VBRBackupCopyJobStorageOptions>] [-TargetAccelerator <CWanAccelerator>] [-TargetBackup <CBackup>] [-TargetRepository 
```
```PowerShell
<CBackupRepository>] [<CommonParameters>]
```

Add-VBRBackupJob
----------------

### Synopsis
Creates a new backup job.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Description**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **FileName**

|Type      |Required|Position|PipelineInput|Aliases       |
|----------|--------|--------|-------------|--------------|
|`[String]`|false   |named   |False        |TargetFileName|

#### **Folder**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |3       |False        |

#### **Name**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **Objects**

|Type        |Required|Position|PipelineInput                 |Aliases|
|------------|--------|--------|------------------------------|-------|
|`[String[]]`|true    |named   |True (ByPropertyName, ByValue)|VM     |

#### **Server**

|Type     |Required|Position|PipelineInput|Aliases|
|---------|--------|--------|-------------|-------|
|`[CHost]`|true    |2       |False        |Host   |

#### **Type**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |1       |False        |

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRBackupJob [-Name] <String> [[-Type] <String>] [-Server] <CHost> [-Folder] <String> [-Description <String>] [-FileName <String>] -Objects <String[]> 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRBackupRepository
-----------------------

### Synopsis
Adds a backup repository to the backup infrastructure.

---

### Description

This cmdlet adds a new backup repository to the backup infrastructure.
To add a scale-out backup repository, run the Add-VBRScaleOutBackupRepository cmdlet.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Add-VBRLinux](Add-VBRLinux.md)

---

### Examples
> Example 1. Adding Windows Server as Backup Repository

$server = Get-VBRServer -Name "Win2012"
Add-VBRBackupRepository -Name "Win2012Repo" -Server $server -Folder "c:\Backup Repository" -Type WinLocal
This example shows how to add the Win2012 Windows server as a new backup repository named "Win2012Repo". The cmdlet will add the backup repository with the following settings:
- The server to add is obtained with Get-VBRServer and assigned to the $server variable beforehand.
- The folder that is used as the backup repository is located on "C:\Backup Repository".
- The server type is set to "WinLocal".

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $server variable as the Server parameter value.
- Specify the Folder parameter value.
- Specify the Type parameter value.
> Example 2. Adding Linux Server as Backup Repository

$linsrv = Add-VBRLinux -Name "172.18.4.67" -SSHUser Admin -SSHPassword P@$$w0rd  
Add-VBRBackupRepository -Name "Linux Repository" -Server $linsrv -Type LinuxLocal -Folder "/home/Admin/backups/"
The example shows how to add a Linux server as a backup repository. Veeam Backup & Replication will store backup files in the folder located in the following path: /home/Admin/backups.
Perform the following steps:
1. Run the Add-VBRLinux cmdlet. Specify the necessary parameters. Save the result to the $linsrv variable.
2. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the Type parameter to the LinuxLocal value.
- Set the $srv variable as the Server parameter value.
- Specify the Folder parameter value.
> Example 3. Adding SMB (CIFS) Shared Folder as Backup Repository

$server = Get-VBRServer -Name "TestServer05"
$mountserver = Get-VBRServer -Name "TestServer05"
$administrator = Get-VBRCredentials -Name "Administrator"
Add-VBRBackupRepository -Type CifsShare -Name "Nimble Script Share" -Server $server -Folder "\\nimble\Backups" -MountServer $mountserver -ImportBackup:$true -LimitConcurrentJobs -MaxConcurrentJobs 6 -Credentials $administrator
This example shows how to add an SMB (CIFS) shared folder on a Windows server as the Backups Vol 01 backup repository. The cmdlet will add the backup repository with the following settings:
- Veeam Backup & Replication uses credentials to authenticate against the shared folder.
- The server type is set to CifsShare.
- The \nimble\Backups folder is used as the backup repository.
- The same server is used as a mount server.
- The ImportBackup parameter is set to import the existing backup files.
- The maximum allowed number of concurrent tasks is set to 6.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $mountserver variable.
3. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $administrator variable.
4. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Specify the Type parameter value.
- Specify the Name parameter value.
- Set the $server variable as the Server parameter value.
- Specify the Folder parameter value.
- Set the $mountserver variable as the MountServer parameter value.
- Set the ImportBackup parameter to $true.
- Provide the LimitConcurrentJobs parameter.
- Specify the MaxConcurrentJobs parameter value.
- Set the $administrator as the Credentials parameter value.
> Example 4. Adding Dedupe Storage Aplliance as Backup Repository

$server = Get-VBRServer -Name "WinSrv05"
Add-VBRBackupRepository -Folder ddboost://10.0.0.80:storage/ -Type DataDomain -DDServerName 10.0.0.80 -Server $server -UserName sysadmin -Password Pa55word
This example shows how to add a Dell Data Domain storage appliance as a backup repository. The cmdlet will add the backup repository with the following settings:
- Dell Data Domain connects to the WinSrv05 explicitly set gateway server.
- The DFC prefix is not set to allow Veeam Backup & Replication to communicate with Dell Data Domain storage over the TCP/IP protocol.
- Veeam Backup & Replication will store backup files in the folder located in the following path: ddboost://10.0.0.80:storage/
- The Username/Password is used to get access to the appliance.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Specify the Folder parameter value.
- Specify the Type parameter value.
- Specify the DDServerName parameter value.
- Set the $server variable as the Server parameter value.
- Specify the UserName parameter value.
- Specify the Password parameter value.
> Example 5. Adding Backup Repository on Rotated Drive

$server = Get-VBRServer -Name "WinSrv05"  
Add-VBRBackupRepository -Name RDX -Type WinLocal -RotatedDrive -Description "Rotated drive" -Server $server -Folder F:\Repo
This example shows how to add backup repository on a rotated drive connected to a Windows server. The cmdlet will add the backup repository with the following settings:
- The server type is set to WinLocal.
- Veeam Backup & Replication will store backup files in the folder located in the following path: F:\Repo.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Type parameter value.
- Provide the RotatedDrive parameter.
- Specify the Description parameter value.
- Set the $server variable as the Server parameter value.
- Specify the Folder parameter value.
> Example 6. Adding Quantum DXi Storage Appliance as Backup Repository

$server = Get-VBRServer -Name "WinSrv05"  
Add-VBRBackupRepository -Name "Quantum DXi" -Type Quantum -Folder "/shares/Quantum-Share-01" -Server $server
This example shows how to add a Quantum DXi storage appliance as a backup repository. Veeam Backup & Replication will store backup files in the folder located in the following path: /shares/Quantum-Share-01.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Type parameter value.
- Specify the Folder parameter value.
- Set the $server variable as the Server parameter value.
> Example 7. Adding ExaGrid Share as Backup Repository

$linsrv = Add-VBRLinux -Name "172.18.4.67" -SSHUser Admin -SSHPassword P@$$w0rd  
Add-VBRBackupRepository -Name ExaGrid -Server $srv -Type ExaGrid -Folder "/home/Admin/Share01-07/MyRepo/"
The example shows how to add ExaGrid as a backup repository. Veeam Backup & Replication will store backup files in the folder located in the following path: /home/Admin/Share01-07/MyRepo. The pattern of this folder path consists of the following elements:
1. /home: A home directory
2. /Admin: Must be the same as the user name that you use to authenticate against the Linux server when you add it to Veeam Backup & Replication. In our example it is specified by the SSHUser parameter of the Add-VBRLinux cmdlet.
3. /Share01-07: The folder that you must create on the Exagrid appliances beforehand.
4. [Optional] /MyRepo/: Subfolder that you may want to create in the Share01-07 folder.
Perform the following steps:
1. Run the Add-VBRLinux cmdlet. Specify the necessary parameters. Save the result to the $linsrv variable.
2. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the Type parameter to the ExaGrid value.
- Set the $srv variable as the Server parameter value.
- Specify the Folder parameter value.
> Example 8. Adding HPE StoreOnce as Backup Repository

$creds = Get-VBRCredentials -Name "HPEStorOnce"  
Add-VBRBackupRepository -Type HPStoreOnceIntegration -Name "Atlanta Repository" -StoreOnceServerName "HPEStoreO01-dl.local" -Folder "storeonce://HPEStoreO01-dl.local:Store-015@/" -Credentials $creds
This example shows how to add HPE StoreOnce as a backup repository. Veeam Backup & Replication will store backup files in the folder located in the following path: storeonce://HPEStoreO01-dl.local:Store-015/. The pattern of this folder path consists of the following elements:
1. //HPEStoreO01-dl.local: The name of HPE StoreOnce.
2. :Store-015@/: The name of the HPE StoreOnce Catalyst Store.
Note: It is not recommended to specify any subfolders in this folder, since currently Veeam Backup & Replication is able to display only the name of HPE StoreOnce Catalyst Store. If you indeed want to specify a subfolder, review this KB article but keep in mind that you will not be able to manage the backup repository with the user interface of Veeam Backup & Replication.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $creds variable.
2. Run the Add-VBRBackupRepository cmdlet. Specify the following settings:
- Set the Type parameter to the HPStoreOnceIntegration value.
- Specify the Name parameter value.
- Specify the StoreOnceServerName parameter value.
- Specify the Folder parameter value.
- Set the $creds variable as the Credentials parameter value.

---

### Parameters
#### **AlignDataBlocks**
Defines that the backup blocks size will be aligned by a 4Kb block boundary. Data alignment provides better deduplication on storage systems with fixed block size.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AutoSelectGateway**
Enables automatic selection of gateway servers. Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Credentials**
Specifies credentials you want to use for authenticating with the backup repository host.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|false   |named   |False        |

#### **DataRateLimit**
Used for setting combined data ingestion rate for the LimitDatarate parameter.
Specifies the combined data ingestion rate for the repository.
Permitted value: 1 to 1024 (MByte/s).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **DDBoostEncryptionType**
Specifies the native Dell Data Domain encryption level: High, Medium, None.
Valid Values:

* None
* Medium
* High

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRDDBoostEncryptionType]`|false   |named   |False        |

#### **DDServerName**
Specifies the Data Domain server name. Enter the name in the following formats depending on the connection mode:
* If Dell Data Domain works over TCP/IP, enter a full DNS name or an IP address of the Dell Data Domain server.
* If Dell Data Domain works over Fibre Channel, enter a name of the Data Domain server starting with the 'DFC-' prefix, for example, DFC-DataDomain690.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DecompressDataBlocks**
Defines that the backup data blocks must be decompressed before storing to the repository.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Description**
Specifies the description of the backup repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupImmutability**
Enables the immutability option for a backup repository.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableXFSFastClone**
Enables the Fast Clone technology for the backup repository.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Folder**
Specifies the full path to the folder where you want to store the backups.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Force**
Defines that the cmdlet will add a backup repository without showing warnings in the PowerShell console.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ImmutabilityPeriod**
For the immutability option.
Defines a number of days within which Veeam Backup & Replication will not delete blocks of data from the backup repository.
Default: 30 days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ImportBackup**
Defines that the cmdlet will import backups that are currently located on the server you are adding as repository.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ImportIndex**
Defines that the cmdlet will import the guest OS file system index.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LimitConcurrentJobs**
Defines that the number of concurrent jobs using this repository must be limited.
Use the MaxConcurrentJobs parameter to set the maximum value.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LimitDatarate**
Defines that the total speed of writing data to the backup repository disk must be restricted.
Use the DataRateLimit parameter to set the maximum value.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MaxConcurrentJobs**
Used for setting maximum value for the LimitConcurrentJobs parameter.
Specifies the maximum allowed number of concurrent tasks for the backup repository.
Permitted values: 1 to 128.
Permitted values for Dell Data Domain: 1 to 270.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MountFolder**
Specifies the path to the mount folder. Veeam Backup & Replication will use this folder to mount VM disks and to keep write cache data.

|Type      |Required|Position|PipelineInput|Aliases        |
|----------|--------|--------|-------------|---------------|
|`[String]`|false   |named   |False        |VPowerNFSFolder|

#### **MountPort**
Specifies the port number of the mount server.
Default: 1058.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MountServer**
Specifies the mount server associated with the backup repository. You can assign the mount server role to the backup repository itself or to a server that resides close to the backup repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the new backup repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NFSRepositoryEncoding**
Specifies encoding for NFS share. You can specify either of the following values:
* utf
* ansi
Valid Values:

* utf
* ansi

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRNASEncoding]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the backup repository host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **RotatedDrive**
Defines that the repository you want to add is a rotated drive (removable media).
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RotatedDriveCleanupMode**
Defines how Veeam Backup & Replication behaves when a drive is swapped:
* ContinueBackupChain: use this option to continue the backup chain.
* ClearBackupFolder: use this option to delete all backups created by a job.
* ClearRepositoryFolder: use this option to delete all backups stored in the repository folder (for example, C:\Backups). Note that Veeam Backup & Replication will delete all backups, even backups created by other jobs.
Default: ContinueBackupChain.
Valid Values:

* ContinueBackupChain
* ClearBackupFolder
* ClearRepositoryFolder

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRRotatedDriveCleanupMode]`|false   |named   |False        |

#### **Server**
Specifies the host where the backup repository you want to add is located and host that will be used as gateway servers.
Use this parameter to explicitly set the host for the following repository types:
* WinLocal: to specify a Windows based server where you want to create the backup repository or to which you want to connect the rotated drives.
* LinuxLocal type: to specify a Linux based server where you want to create the backup repository or to which you want to connect the rotated drives.
Note: when you specify an array of hosts, the first host is used as a backup repository, the others are used as gateway servers. - CifsShare, DataDomain or HPStoreOnce: to specify a Windows based server to which the storage appliance is connected and which will be used as a gateway server.
Default: This server.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CHost[]]`|false   |named   |False        |

#### **StoreOnceServerName**
Specifies the HPE StoreOnce server name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **StoreOnceWanLink**
Defines that the HPE StoreOnce must use source-side deduplication.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Type**
Specifies the type you want to assign to the repository:
* WinLocal
* LinuxLocal
* CifsShare
* ExaGrid
* DataDomain
* HPStoreOnceIntegration
* Quantum
* Nfs
* Infinidat
* Fujitsu
* HPStoreOnceCloudBank
* Hardened
Valid Values:

* WinLocal
* LinuxLocal
* CifsShare
* ExaGrid
* DataDomain
* HPStoreOnceIntegration
* Quantum
* Nfs
* Infinidat
* Fujitsu
* HPStoreOnceCloudBank
* Hardened

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRRepositoryType]`|true    |named   |False        |

#### **UsePerVMFile**
Defines that the backup repository must create per-VM backup files.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name you want to use for authenticating with the backup repository host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **VPowerNFSPort**
Specifies the port number of the vPower NFS Service. Veeam Backup & Replication will set up a direct connection between the backup repository and ESXi to which the vPower NFS datastore is mounted.
Default: 2049.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRBackupRepository [-AlignDataBlocks] [-AutoSelectGateway] [-Credentials <CCredentials>] [-DataRateLimit <Int32>] [-DDBoostEncryptionType {None | Medium | High}] 
```
```PowerShell
[-DDServerName <String>] [-DecompressDataBlocks] [-Description <String>] [-EnableBackupImmutability] [-EnableXFSFastClone] -Folder <String> [-Force] [-ImmutabilityPeriod 
```
```PowerShell
<Int32>] [-ImportBackup] [-ImportIndex] [-LimitConcurrentJobs] [-LimitDatarate] [-MaxConcurrentJobs <Int32>] [-MountFolder <String>] [-MountPort <Int32>] [-MountServer 
```
```PowerShell
<CHost>] [-Name <String>] [-NFSRepositoryEncoding {utf | ansi}] [-RotatedDrive] [-RotatedDriveCleanupMode {ContinueBackupChain | ClearBackupFolder | ClearRepositoryFolder}] 
```
```PowerShell
[-Server <CHost[]>] [-StoreOnceServerName <String>] [-StoreOnceWanLink] -Type {WinLocal | LinuxLocal | CifsShare | ExaGrid | DataDomain | HPStoreOnceIntegration | Quantum | 
```
```PowerShell
Nfs | Infinidat | Fujitsu | HPStoreOnceCloudBank | Hardened} [-UsePerVMFile] [-VPowerNFSPort <Int32>] [<CommonParameters>]
```
```PowerShell
Add-VBRBackupRepository [-AlignDataBlocks] [-AutoSelectGateway] [-DataRateLimit <Int32>] [-DDBoostEncryptionType {None | Medium | High}] [-DDServerName <String>] 
```
```PowerShell
[-DecompressDataBlocks] [-Description <String>] [-EnableBackupImmutability] [-EnableXFSFastClone] -Folder <String> [-Force] [-ImmutabilityPeriod <Int32>] [-ImportBackup] 
```
```PowerShell
[-ImportIndex] [-LimitConcurrentJobs] [-LimitDatarate] [-MaxConcurrentJobs <Int32>] [-MountFolder <String>] [-MountPort <Int32>] [-MountServer <CHost>] [-Name <String>] 
```
```PowerShell
[-NFSRepositoryEncoding {utf | ansi}] [-Password <String>] [-RotatedDrive] [-RotatedDriveCleanupMode {ContinueBackupChain | ClearBackupFolder | ClearRepositoryFolder}] 
```
```PowerShell
[-Server <CHost[]>] [-StoreOnceServerName <String>] [-StoreOnceWanLink] -Type {WinLocal | LinuxLocal | CifsShare | ExaGrid | DataDomain | HPStoreOnceIntegration | Quantum | 
```
```PowerShell
Nfs | Infinidat | Fujitsu | HPStoreOnceCloudBank | Hardened} [-UsePerVMFile] [-UserName <String>] [-VPowerNFSPort <Int32>] [<CommonParameters>]
```

Add-VBRBackupServerCertificate
------------------------------

### Synopsis
Specifies a TLS certificate used to establish secure communication from backup infrastructure components to the backup server.

---

### Description

This cmdlet specifies a TLS certificate to be used to establish a secure connection from backup infrastructure components to the backup server. You can generate a new self-signed TLS certificate or import an existing TLS certificate from the Microsoft Windows certificate store.

Important! Consider the following:
- With Veeam PowerShell, you cannot import a TLS certificate from a file in the PFX format.
- Changing the TLS certificate requires the restart of the backup service. All active backup and restore tasks will be interrupted.

---

### Related Links
* [Get-VBRBackupServerCertificate](Get-VBRBackupServerCertificate.md)

---

### Examples
> Example 1. Generating Self-Signed Certificate

Add-VBRBackupServerCertificate -Name "Veeam Software AG certificate"
This command generates a self-signed certificate in Veeam Backup & Replication.
> Example 2. Importing Certificate from Certificate Store

$certificate = Get-VBRBackupServerCertificate -FromStore | Where FriendlyName -eq "ABC"
Add-VBRBackupServerCertificate -Certificate $certificate
This example shows how to import an existing TLS certificate signed by a CA from the Microsoft Windows certificate store.
Perform the following steps:
1. Run the Get-VBRBackupServerCertificate cmdlet. Provide the FromStore parameter value. Pipe the cmdlet output to the Where command to find certificates with ABC in the FriendlyName property. Save the result to the $certificate variable.
2. Run the Add-VBRBackupServerCertificate cmdlet. Set the $certificate variable as the Certificate parameter value.

---

### Parameters
#### **Certificate**
Specifies the certificate you want to use.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRBackupServerCertificate]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies a friendly name for the self-signed TLS certificate.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRBackupServerCertificate

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRBackupServerCertificate -Certificate <VBRBackupServerCertificate> [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Add-VBRBackupServerCertificate -Name <String> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Add-VBRBackupToRetentionQueue
-----------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

```PowerShell
PS C:\>
```

---

### Parameters
#### **BackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **RepositoryId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRBackupToRetentionQueue -BackupId <Guid> -RepositoryId <Guid> [<CommonParameters>]
```

Add-VBRBackupToTapeJob
----------------------

### Synopsis
Creates a backup to tape job or a GFS job.

---

### Description

This cmdlet creates a new backup to tape job or a GFS job. You can target the job to a simple or a GFS media pool.

NOTE

Consider the following:
- The cmdlet checks if the data of the VMs added to the job changes its geographic location.
- The cmdlet will not run if the geographic location of the repository where VM backups reside and the target media pool location do not match. If you still want to run the cmdlet, use the Force parameter.
- If you choose to archive data from backup repositories, the backup to tape job will process only the backups that were created with backup jobs configured on this Veeam backup server. Imported backups and configuration backups will be skipped from processing.

---

### Related Links
* [Get-VBRTapeMediaPool](Get-VBRTapeMediaPool.md)

* [New-VBRFullBackupToTapePolicy](New-VBRFullBackupToTapePolicy.md)

* [New-VBRBackupToTapeScheduleOptions](New-VBRBackupToTapeScheduleOptions.md)

* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBREPJob](Get-VBREPJob.md)

* [New-VBRNotificationOptions](New-VBRNotificationOptions.md)

* [New-VBRJobScriptOptions](New-VBRJobScriptOptions.md)

* [New-VBRBackupToTapeScheduleOptions](New-VBRBackupToTapeScheduleOptions.md)

* [New-VBRTapeGFSScheduleOptions](New-VBRTapeGFSScheduleOptions.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRLocation](Get-VBRLocation.md)

---

### Examples
> Example Creating Backup to Tape Job with Backup Job as Source

$job = Get-VBRJob -Name "SQL 1 Backup"
$mediapool = Get-VBRTapeMediaPool -Name "SQL Backups Media Pool"
$dailyoptions = New-VBRDailyOptions -DayOfWeek Friday -Period 23:00
$scheduleoptions = New-VBRBackupToTapeScheduleOptions -DailyOptions $dailyoptions -Enabled
Add-VBRBackupToTapeJob -Name "SQL to Tape" -Description "SQL archive" -Object $job -FullBackupMediaPool $mediapool -ProcessIncrementalBackup -IncrementalBackupMediaPool $mediapool -ExportDays Monday -ScheduleOptions $scheduleoptions
This example shows how to create a backup to tape job for SQL 1 Backup source job. The tape job will use the same media pool to back up full and incremental backups.

Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRTapeMediaPool cmdlet. Specify the Name parameter value. Save the result to the $mediapool variable.
3. Run the New-VBRDailyOptions cmdlet. Set Friday as the DayOfWeek parameter value and 23:00 as the Period parameter value. Save the result to the $dailyoptions variable.
4. Run the New-VBRBackupToTapeScheduleOptions cmdlet. Set the $dailyoptions variable as the DailyOptions parameter value. Provide the Enabled parameter. Save the result to the $scheduleoptions variable.
5. Run the Add-VBRBackupToTapeJob cmdlet. Specify the following settings:
- Specify the Name and the Description parameter value.
- Set the $job variable as the Object parameter value.
- Set the $mediapool variable as the FullBackupMediaPool and IncrementalBackupMediaPool parameters value.
- Provide the ProcessIncrementalBackup parameter.
- Specify the ExportDays parameter value.
- Set the $scheduleoptions variable as the ScheduleOptions parameter value.

---

### Parameters
#### **AlwaysCopyFromLatestFull**
Defines that on each run the tape job must copy only the latest backup chain. Otherwise, on each run the tape job will copy all restore points produced by the source backup jobs that are available on disk.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **CopyFromLatestFull**
Defines that on the first run the tape job must copy only the latest backup chain. Otherwise,on the first run the job will copy all restore points produced by the source backup jobs that are available on disk.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Description**
Specifies the description of the backup to tape job. If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EjectCurrentMedium**
Defines that the tapes will be automatically ejected from drive after the job finishes. The ejected tape is moved to a standard library slot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableParallelDrivesUsage**
Enables parallel processing of media pools. Default: False

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ExportCurrentMediaSet**
Defines that the tapes belonging to the media set will be automatically placed to Import/Export (Mail) slot for further export. Use the ExportDays parameter to set days on which you want to export tapes.
If you use this parameter, but do not set the ExportDays parameter, the tapes will be exported every day.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ExportDays**
Used to set days for exporting tapes for the ExportCurrentMediaSet parameter. Specifies days on which the tapes written by this tape job will be automatically exported: Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday.
Valid Values:

* Sunday
* Monday
* Tuesday
* Wednesday
* Thursday
* Friday
* Saturday

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[DayOfWeek[]]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will create a job even if the geographic location of the repositories where VM backups reside and the target media pool location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FullBackupMediaPool**
For non-GFS jobs. Specifies the media pool where you want to store full backups produced by this tape job. Accepts the VBRTapeMediaPool object, GUID or string.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRTapeMediaPool]`|true    |named   |False        |

#### **FullBackupPolicy**
Specifies virtual full settings. Accepts the VBRFullBackupToTapePolicy object.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRFullBackupToTapePolicy]`|false   |named   |False        |

#### **GFSMediaPool**
For GFS jobs. Specifies the target GFS media pool. Accepts the VBRTapeGFSMediaPool object, GUID or string.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRTapeGFSMediaPool]`|true    |named   |False        |

#### **GFSScheduleOptions**
Specifies the schedule settings for the GFS media pool. Accepts the VBRTapeGFSScheduleOptions object.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRTapeGFSScheduleOptions]`|false   |named   |False        |

#### **IncrementalBackupMediaPool**
For non-GFS jobs. Used to set media pool for the ProcessIncrementalBackup parameter. Specifies the media pool where you want to store incremental backups produced by this tape job. Accepts the VBRTapeMediaPool object, GUID or string.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRTapeMediaPool]`|false   |named   |False        |

#### **JobScriptOptions**
Specifies scripting options. Accepts the VBRJobScriptOptions object.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **LimitTapeDrives**
Defines that the cmdlet will limit the number of drives to use for processing this tape job. Default: 2 drives.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup to tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NotificationOptions**
Specifies the email notification options. Accepts the VBRNotificationOptions object.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **Object**
Specifies the array of backup jobs or backup repositories that will be the source for this tape job. Accepts the CBackupJob, CBackupRepository, VBRComputerBackupJob, VBREPJob, VBRCloudTenant or VBRCloudTenantResourcey objects.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[Object[]]`|false   |named   |False        |

#### **PreventInterruption**
Defines that, if the source job starts while the tape job is still running, the source job will be placed on hold instead of interrupting the tape job and resulting in incomplete tape backups. Using this option may result in source backup jobs starting significantly later than their scheduled start time, thus potentially missing recovery point objectives.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ProcessIncrementalBackup**
Defines that this tape job will archive incremental backups. Use the IncrementalBackupMediaPool to specify a separate media pool for storing incremental backups. If you do not set the IncrementalBackupMediaPool parameter, incremental backups will be stored to the media pool the you set for full backups.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies backup to tape job schedule. By default, the following settings are applied: - Enabled: false
* Type: Daily
* DailyOptions: Type: SelectedDays, Period: 18:00, DayOfWeek: Saturday
* MonthlyOptions: Period: 22:00, DayNumberInMonth: Fourth, DayOfWeek: Saturday, Months: January, February, March, April, May, June, July, August, September, October, November, December
* ScheduleOptions: From Sunday to Saturday, from 00:00 to 23:00, Enabled: true
* JobId: null

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRBackupToTapeScheduleOptions]`|false   |named   |False        |

#### **UseHardwareCompression**
Defines that tape library must perform hardware compression for archives. Do not use this option for archiving Veeam backups or other already compressed files.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **WaitForBackupJob**
Defines that the tape job must wait for the source backup job to finish. Use the WaitPeriod parameter to set the time period.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **WaitPeriod**
Used to set time period for the WaitForBackupJob parameter.  Specifies the time period for which the tape job must wait for the source backup jobs to finish. Allowed values: 1-777 minutes. Accepts TimeSpan, int or string.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[TimeSpan]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRBackupToTapeJob [-AlwaysCopyFromLatestFull] [-CopyFromLatestFull] [-Description <String>] [-EjectCurrentMedium] [-EnableParallelDrivesUsage] [-ExportCurrentMediaSet] 
```
```PowerShell
[-ExportDays {Sunday | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday}] [-Force] -FullBackupMediaPool <VBRTapeMediaPool> [-FullBackupPolicy 
```
```PowerShell
<VBRFullBackupToTapePolicy>] [-IncrementalBackupMediaPool <VBRTapeMediaPool>] [-JobScriptOptions <VBRJobScriptOptions>] [-LimitTapeDrives <Int32>] -Name <String> 
```
```PowerShell
[-NotificationOptions <VBRNotificationOptions>] [-Object <Object[]>] [-PreventInterruption] [-ProcessIncrementalBackup] [-ScheduleOptions <VBRBackupToTapeScheduleOptions>] 
```
```PowerShell
[-UseHardwareCompression] [-WaitForBackupJob] [-WaitPeriod <TimeSpan>] [<CommonParameters>]
```
```PowerShell
Add-VBRBackupToTapeJob [-AlwaysCopyFromLatestFull] [-CopyFromLatestFull] [-Description <String>] [-EjectCurrentMedium] [-EnableParallelDrivesUsage] [-ExportCurrentMediaSet] 
```
```PowerShell
[-ExportDays {Sunday | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday}] [-Force] [-FullBackupPolicy <VBRFullBackupToTapePolicy>] -GFSMediaPool 
```
```PowerShell
<VBRTapeGFSMediaPool> [-GFSScheduleOptions <VBRTapeGFSScheduleOptions>] [-JobScriptOptions <VBRJobScriptOptions>] [-LimitTapeDrives <Int32>] -Name <String> 
```
```PowerShell
[-NotificationOptions <VBRNotificationOptions>] [-Object <Object[]>] [-PreventInterruption] [-ProcessIncrementalBackup] [-ScheduleOptions <VBRBackupToTapeScheduleOptions>] 
```
```PowerShell
[-UseHardwareCompression] [-WaitForBackupJob] [-WaitPeriod <TimeSpan>] [<CommonParameters>]
```

Add-VBRCatalystCopyJob
----------------------

### Synopsis
Creates backup copy jobs for HPE StoreOnce repositories.

---

### Description

This cmdlet creates backup copy jobs for HPE StoreOnce repositories.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRBackupWindowOptions](New-VBRBackupWindowOptions.md)

---

### Examples
> Example 1. Creating Backup Copy Job for Specific HPE StoreOnce Repositories

$source = Get-VBRBackupRepository -Name "HPE StoreOnce 1"
$target = Get-VBRBackupRepository -Name "HPE StoreOnce 2"
Add-VBRCatalystCopyJob -Name "StoreOnce copy job" -SourceRepository $source -TargetRepository $target -Description "Copy job for StoreOnce repository"
This example shows how to create a backup copy job that will copy data from the source HPE StoreOnce 1 repository to the target HPE StoreOnce 2 repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $source variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $target variable.
3. Run the Add-VBRCatalystCopyJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $source variable as the SourceRepository parameter value.
- Set the $target variable as the TargetRepository parameter value.
- Specify the Description parameter value.
> Example 2. Creating Backup Copy Job for HPE StoreOnce Repository with Backup Window Options

$source = Get-VBRBackupRepository -Name "HPE SO 05"
$target = Get-VBRBackupRepository -Name "HPE SO 07"
$windowoptions = New-VBRBackupWindowOptions -FromDay Friday -FromHour 22 -ToDay Saturday -ToHour 22 -Enabled
Add-VBRCatalystCopyJob -Name "StoreOnce copy job" -SourceRepository $source -TargetRepository $target -Description "Copy job for StoreOnce repository" -BackupWindowOptions $windowoptions
This example shows how to create a backup copy job for an HPE StoreOnce repository. The job will run during the following period of time:
- From 22:00 to 22:59 on Friday
- From 22:00 to 22:59 on Saturday
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $source variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $target variable.
3. Run the New-VBRBackupWindowOptions cmdlet. Specify the necessary parameters. Save the result to the $windowoptions variable.
4. Run the Add-VBRCatalystCopyJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $source variable as the SourceRepository parameter value.
- Set the $target variable as the TargetRepository parameter value.
- Specify the Description  parameter value.
- Set the $windowoptions variable as the BackupWindowOptions parameter value.
> Example 3. Creating Backup Copy Job for List of HPE StoreOnce Repositories

$source = Get-VBRBackupRepository -Name "HPE StoreOnce 1", "HPE StoreOnce 2", "HPE StoreOnce 3"
$target = Get-VBRBackupRepository -Name "HPE StoreOnce 4", "HPE StoreOnce 5", "HPE StoreOnce 6"
Add-VBRCatalystCopyJob -Name "StoreOnce copy job" -SourceRepository $source -TargetRepository $target -Description "Copy job for StoreOnce repository"
This example shows how to create a backup copy job that will copy data from a list of source repositories to a list of the target repositories. Veeam Backup & Replication will copy data according to the following scheme:
- From HPE StoreOnce 1 to HPE StoreOnce 4
- From HPE StoreOnce 2 to HPE StoreOnce 5
- From HPE StoreOnce 3 to HPE StoreOnce 6
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $source variable.
The Get-VBRBackupRepository cmdlet will return an array of source HPE StoreOnce repositories.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $target variable.
The Get-VBRBackupRepository cmdlet will return an array of target HPE StoreOnce repositories.
3. Run the Add-VBRCatalystCopyJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $source variable as the SourceRepository parameter value.
- Set the $target variable as the TargetRepository parameter value.
- Specify the Description parameter value.

---

### Parameters
#### **BackupWindowOptions**
Specifies backup window settings for a job. The cmdlet will create the the backup copy job with these settings.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

#### **Description**
Specifies a description of a backup copy job. The cmdlet will create the backup copy job with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableHealthCheck**
Defines that the cmdlet will enable the Health check option.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will create backup copy jobs without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **KeepSecondaryCopies**
Defines that the cmdlet will enable retention policy for the backup files in the target location.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name of a backup copy job. The cmdlet will create the copy job with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **NotificationOptions**
Specifies notification settings. The cmdlet will create the backup copy job with these settings.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **ScriptOptions**
Specifies job scrip options. The cmdlet will create a copy job with these script options.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **SecondaryCopiesRetentionPeriod**
Specifies a number of days for which you want to store backup files in the target location.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SourceRepository**
Specifies an array of source HPE StoreOnce repositories. The cmdlet will copy backup files from these repositories.
You can specify the following types of repositories:
* HPE StoreOnce repositories.
* HPE StoreOnce repositories added as extents to a Scale-Out Backup Repository.
Note: The array of source repositories must contain the same number of the repositories as the array of the target repositories.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|true    |named   |False        |

#### **TargetRepository**
Specifies an array of target HPE StoreOnce repositories. The cmdlet will copy backup files to these repositories.
You can specify the following types of repositories:
* HPE StoreOnce repositories.
* HPE StoreOnce repositories added as extents to a Scale-Out Backup Repository.
Note: The array of target repositories must contain the same number of the repositories as the array of the source repositories.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCatalystCopyJob [-Name] <String> [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] [-EnableHealthCheck] [-Force] [-KeepSecondaryCopies] 
```
```PowerShell
[-NotificationOptions <VBRNotificationOptions>] [-ScriptOptions <VBRJobScriptOptions>] [-SecondaryCopiesRetentionPeriod <Int32>] -SourceRepository <CBackupRepository[]> 
```
```PowerShell
-TargetRepository <CBackupRepository[]> [<CommonParameters>]
```

Add-VBRCDPPolicy
----------------

### Synopsis
Creates CDP policies.

---

### Description

This cmdlet creates CDP policies.
Note: The cmdlet will create a CDP policy in the disabled state unless you enable a policy schedule. Run the Enable-VBRCDPPolicy cmdlet to enable the policy.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Example 1. Creating CDP Policy that Replicates VM to Cluster

$vm = Find-VBRViEntity -Name "WinSrv05"
$cluster = Find-VBRViEntity -Name "CDP"
Add-VBRCDPPolicy -Entity $vm -TargetCluster $cluster -Name "SQL09" -Description "Microsoft SQL database replica"
This example shows how to create the SQL09 CDP policy that will replicate the WinSrv05 VM to the CDP cluster. The description of the policy is set to Microsoft SQL database replica.

Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $cluster variable.
3. Run the Add-VBRCDPPolicy cmdlet. Set the $vm variable as the Entity parameter value. Set the $cluster variable as the TargetCluster parameter value.
> Example 2. Creating CDP Policy that Replicates VM to ESXi Host

$vm = Find-VBRViEntity -Name "DevOps Production"
$host = Find-VBRViEntity -Name "esx05.tech.local"
Add-VBRCDPPolicy -Entity $vm -TargetHost $host -Name "DevOps61021" -Description "DevOpsVM replica"
This example shows how to create the DevOps61021 CDP policy that will replicate the DevOps Production VM to the esx05.tech.local VMware host. The description of the policy is set to DevOpsVM replica.

Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $host variable.
3. Run the Add-VBRCDPPolicy cmdlet. Specify the following settings:
- Set the $vm variable as the Entity parameter value.
- Set the $host variable as the TargetHost parameter value.
- Specify the Name parameter value.
- Specify the Description parameter value.

---

### Parameters
#### **CompressionLevel**
Specifies the compression level of the replicated data:
* None: use this option if you do not want to enable data compression.
* Dedupe-friendly: use this option to set a dedupe-friendly compression level.
* Optimal: use this option to set an optimal compression level.
* High: use this option to set a high compression level.
* Extreme: use this option to set an extreme compression level.
Default: Optimal.
Valid Values:

* None
* DedupeFriendly
* Optimal
* High
* Extreme

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRCompressionLevel]`|false   |named   |False        |

#### **Datastore**
Specifies a datastore to which you want to replicate VMs.
Accepts the VBRViDatastoreBase object. To get this object, run the Find-VBRViDatastore cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViDatastoreBase]`|false   |named   |False        |

#### **Description**
Specifies a description for a CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DiskType**
Specifies the type of disks for replicas:
* Source: use this option to create replica disks of the same type as the source VM.
* Thick: use this option to create thick replica disks.
* Thin: use this option to create thin replica disks.
* ThickEagerZeroed: use this option to create thick eager zeroed replica disks.
Valid Values:

* Source
* Thick
* Thin
* ThickEagerZeroed

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[EDiskCreationMode]`|false   |named   |False        |

#### **Entity**
Specifies an array of VMs that you want to add to a CDP policy.
Accepts the IViItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IViItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Exclusions**
Specifies an array of VMs that you want to exclude from a CDP policy processing.
Accepts the IViItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[IViItem[]]`|false   |named   |False        |

#### **Folder**
Specifies a folder to which you want to replicate VMs.
Accepts the CViFolderItem object. To get this object, run the Find-VBRViEntity cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[CViFolderItem]`|false   |named   |False        |

#### **GuestProcessingOptions**
Specifies guest processing settings of a CDP policy.
Accepts the VBRReplicaApplicationProcessingOptions object. To create this object, run the New-VBRReplicaApplicationProcessingOptions cmdlet.

|Type                                      |Required|Position|PipelineInput|
|------------------------------------------|--------|--------|-------------|
|`[VBRReplicaApplicationProcessingOptions]`|false   |named   |False        |

#### **Name**
Specifies a name for a CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings of a CDP policy.
Accepts the VBRNotificationOptions object. To create this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OriginalVM**
For replica mapping.
Specifies an array of production VMs that you want to replicate using replica mapping.
The CDP policy will map this VM to the VM in the disaster recovery site.
Use the ReplicaVM parameter to specify the replicated VM on the disaster recovery site.
Accepts the CViVmItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **ReIpRule**
Specifies re-IP rules.
Accepts the VBRViReplicaReIpRule or VBRViReplicaReIpIPv6Rule object. To get this object, run the Get-VBRViReplicaReIpRule cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[IViReIpRule[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping.
Specifies an array VM on the disaster recovery site. The cmdlet will map the production VM to this VM.
Use the OriginalVM parameter to specify the production VM.
Accepts the CViVmItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding.
Specifies a backup repository that keeps a full backup of VMs that you want to replicate.
Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **ResourcePool**
Specifies a resource pool to which you want to replicate VMs.
Accepts the CViResourcePoolItem object. To get this object, run the Find-VBRViEntity cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CViResourcePoolItem]`|false   |named   |False        |

#### **RetentionOptions**
Specifies retention settings of a CDP policy.
Accepts the VBRCDPPolicyRetentionOptions object. To create this object, run the New-VBRCDPPolicyRetentionOptions cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCDPPolicyRetentionOptions]`|false   |named   |False        |

#### **SourceNetwork**
For network mapping.
Specifies an array of production networks to which the VMs added to a CDP policy are connected.
Note: The number of source networks must match the number of target networks.
Accepts the VBRViNetworkInfo[] object. To get this object, run the Get-VBRViServerNetworkInfo cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **SourceProxy**
Specifies the proxy in the production site that you want to assign to the CDP policy.
Default: Automatic selection.
Accepts the VBRCDPProxy[] object. To get this object, run the Get-VBRCDPProxy cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRCDPProxy[]]`|false   |named   |False        |

#### **StoragePolicy**
Specifies a VMware storage policy that must be applied to the replica virtual disks.
Accepts the VBRViStoragePolicy object. To get this object, run the Find-VBRViStoragePolicy cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViStoragePolicy]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that the cmdlet will add to the name of VMs replicated with CDP policies.
Default: "_replica".

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetCluster**
Specifies the target cluster. The cmdlet will replicate VMs to this cluster.
Accepts the CViClusterItem object. To get this object, run the Find-VBRViEntity cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CViClusterItem]`|true    |named   |False        |

#### **TargetHost**
Specifies the target ESXi host. The cmdlet will replicate VMs to this ESXi host.
Accepts the CEsxItem object. To get this object, run the Find-VBRViEntity cmdlet.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[CEsxItem]`|true    |named   |False        |

#### **TargetNetwork**
For network mapping.
Specifies an array of networks in the disaster recovery site. VMs that are replicated with the CDP policy will be connected to these networks.
Note: The number of source networks must match the number of target networks.
Accepts the VBRViNetworkInfo[] object. To get this object, run the Get-VBRViServerNetworkInfo cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **TargetProxy**
Specifies the target proxy that you want to assign to the CDP policy.
Default: Automatic selection.
Accepts the VBRCDPProxy[] object. To get this object, run the Get-VBRCDPProxy cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRCDPProxy[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCDPPolicy [-CompressionLevel {None | DedupeFriendly | Optimal | High | Extreme}] [-Datastore <VBRViDatastoreBase>] [-Description <String>] [-DiskType {Source | Thick 
```
```PowerShell
| Thin | ThickEagerZeroed}] -Entity <IViItem[]> [-Exclusions <IViItem[]>] [-Folder <CViFolderItem>] [-GuestProcessingOptions <VBRReplicaApplicationProcessingOptions>] [-Name 
```
```PowerShell
<String>] [-NotificationOptions <VBRNotificationOptions>] [-OriginalVM <CViVmItem[]>] [-ReIpRule <IViReIpRule[]>] [-ReplicaVM <CViVmItem[]>] [-RepositorySeed 
```
```PowerShell
<CBackupRepository>] [-ResourcePool <CViResourcePoolItem>] [-RetentionOptions <VBRCDPPolicyRetentionOptions>] [-SourceNetwork <VBRViNetworkInfo[]>] [-SourceProxy 
```
```PowerShell
<VBRCDPProxy[]>] [-StoragePolicy <VBRViStoragePolicy>] [-Suffix <String>] -TargetCluster <CViClusterItem> [-TargetNetwork <VBRViNetworkInfo[]>] [-TargetProxy 
```
```PowerShell
<VBRCDPProxy[]>] [<CommonParameters>]
```
```PowerShell
Add-VBRCDPPolicy [-CompressionLevel {None | DedupeFriendly | Optimal | High | Extreme}] [-Datastore <VBRViDatastoreBase>] [-Description <String>] [-DiskType {Source | Thick 
```
```PowerShell
| Thin | ThickEagerZeroed}] -Entity <IViItem[]> [-Exclusions <IViItem[]>] [-Folder <CViFolderItem>] [-GuestProcessingOptions <VBRReplicaApplicationProcessingOptions>] [-Name 
```
```PowerShell
<String>] [-NotificationOptions <VBRNotificationOptions>] [-OriginalVM <CViVmItem[]>] [-ReIpRule <IViReIpRule[]>] [-ReplicaVM <CViVmItem[]>] [-RepositorySeed 
```
```PowerShell
<CBackupRepository>] [-ResourcePool <CViResourcePoolItem>] [-RetentionOptions <VBRCDPPolicyRetentionOptions>] [-SourceNetwork <VBRViNetworkInfo[]>] [-SourceProxy 
```
```PowerShell
<VBRCDPProxy[]>] [-StoragePolicy <VBRViStoragePolicy>] [-Suffix <String>] -TargetHost <CEsxItem> [-TargetNetwork <VBRViNetworkInfo[]>] [-TargetProxy <VBRCDPProxy[]>] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRCDPProxy
---------------

### Synopsis
Adds VMware CDP proxies to the backup infrastructure.

---

### Description

This cmdlet adds VMware CDP proxies to the backup infrastructure.
When you add a proxy, you assign the role of the CDP proxy to a Windows-based or Linux-based server.
Note that the server to which you want to set a role of the CDP proxy, must be added to the backup infrastructure.
Run the Add-VBRWinServer cmdlet to add a Microsoft Windows server the backup infrastructure or the Add-VBRLinux cmdlet to add a Linux server.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Adding VMware CDP Proxy with Default Settings

$server = Get-VBRServer -Name "WindowsSRV05"
Add-VBRCDPProxy -Server $server -Description "CDPPRoxy05" -Force
This example shows how to add the WindowsSRV05 server as a VMware CDP proxy.

The proxy will be added with the default settings:
- The cmdlet will run without showing any warning in the PowerShell console.
- The global cache is located in the C:\VeeamCDP folder.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRCDPProxy cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Specify the Description parameter value.
- Provide the Force parameter.
> Example 2. Adding VMware CDP Proxy with Custom Cache Settings

$server = Get-VBRServer -Name "WindowsSRV05"
Add-VBRCDPProxy -Server $server -Description "CDPPRoxy05" -CacheSize "20" -CachePath "C:\CDPCache" -Force
This example shows how to add the WindowsSRV05 server as a VMware CDP proxy.

The proxy will be added with the custom global cache settings:
� The global cache size is set to 20 GB.
� The global cache is located in the C:\CDPCache folder.
� The cmdlet will run without showing any warning in the PowerShell console.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRCDPProxy cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Specify the CacheSize parameter value.
- Specify the CachePath parameter value.
- Specify the Description parameter value.
- Provide the Force parameter.

---

### Parameters
#### **CachePath**
Specifies a path to the folder where you want to keep a global cache.
Default:
* For Microsoft Windows servers: C:\VeeamCDP
* For Linux servers: /VeeamCDP

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **CacheSize**
Specifies the cache size for a VMware CDP proxy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[UInt32]`|false   |named   |False        |

#### **CacheSizeUnit**
For the CacheSize option.
Specifies the measure unit of the cache size. You can specify one of the following units: GB, TB.
Default: GB.
Valid Values:

* GB
* TB

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupCacheSizeUnit]`|false   |named   |False        |

#### **Description**
Specifies a description.
The cmdlet will add a VMware CDP proxy with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a VMware CDP proxy without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Server**
Specifies a server that you want to add as a VMware CDP proxy.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

#### **SourceProxyTrafficPort**
Specifies a port number that a source host or cluster will use to communicate with a proxy.
This parameter applies if the proxy that you configure acts as a source proxy.
Permitted values: 30332 to 30339.
Default: 33032.
Note: Do not provide the same port number for the source and target proxy.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **TargetProxyTrafficPort**
Specifies a port number that a source proxy will use to communicate with a target proxy.
This parameter applies if the proxy that you configure acts as a target proxy.
Permitted values: 1 to 65535.
Default: 33033.
Note: Do not provide the same port number for the source and target proxy.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCDPProxy [-CachePath <String>] [-CacheSize <UInt32>] [-CacheSizeUnit {GB | TB}] [-Description <String>] [-Force] -Server <CHost> [-SourceProxyTrafficPort <Int32>] 
```
```PowerShell
[-TargetProxyTrafficPort <Int32>] [<CommonParameters>]
```

Add-VBRCloudArchiveBackupAvailabilityPeriod
-------------------------------------------

### Synopsis
Extends the availability of the tenant backup files located in the archive storage.

---

### Description

Extends the availability of the tenant backup files located in the archive storage.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

* [Get-VBRCloudArchiveRestorePoint](Get-VBRCloudArchiveRestorePoint.md)

---

### Examples
> Extending Availability of Tenant Backup Files Located in Archive Storage

$tenant = Get-VBRCloudTenant -Name "ABC Company"
$restorepoint = Get-VBRCloudArchiveRestorePoint -Tenant $tenant -Id "3e57a915-2755-4297-be14-deddb8564ca9"
Add-VBRCloudArchiveBackupAvailabilityPeriod -RestorePoint $restorepoint -AvailabilityPeriodDays 5
This example shows how to extend availability of the 3e57a915-2755-4297-be14-deddb8564ca9 restore point of the ABC Company tenant.
Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Get-VBRCloudArchiveRestorePoint cmdlet. Set the $tenant variable as the Tenant parameter value. Specify the Id parameter value. Save the result to the $restorepoint variable.
3. Run the Add-VBRCloudArchiveBackupAvailabilityPeriod cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Specify the AvailabilityPeriodDays parameter value.

---

### Parameters
#### **AvailabilityPeriodDays**
Specifies a period in days during which the retrieved archive backup files will be available.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[UInt32]`|true    |named   |False        |

#### **RestorePoint**
Specifies the restore point for which you want to extend the availability.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CCommonOib]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CCommonOib

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudArchiveBackupAvailabilityPeriod -AvailabilityPeriodDays <UInt32> -RestorePoint <CCommonOib> [-RunAsync] [<CommonParameters>]
```

Add-VBRCloudCDPPolicy
---------------------

### Synopsis
Creates a cloud CDP policy.

---

### Description

This cmdlet creates a cloud CDP policy.

NOTE:

The cmdlet will create a cloud CDP policy in the disabled state unless you enable a policy schedule. Run the Enable-VBRCDPPolicy cmdlet to enable the policy.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Get-VBRCloudServer](Get-VBRCloudServer.md)

* [Get-VBRCloudDatastore](Get-VBRCloudDatastore.md)

---

### Examples
> Example - Creating Cloud CDP Policy

$vm = Find-VBRViEntity -Name "DB server"
$host = Get-VBRCloudServer
$datastore = Get-VBRCloudDatastore
Add-VBRCloudCDPPolicy -Entity $vm -Server $host[3] -Datastore $datastore[3] -Name "DB_replication"
This example shows how to create the DB_replication cloud CDP policy.

Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable. 2. Run the Get-VBRCloudServer cmdlet. Save the result to the $host variable.
The Get-VBRCloudServer cmdlet will return an array of hosts. Mind the ordinal number of the necessary host (in our example, it is the fourth host in the array).
3. Run the Get-VBRCloudDatastore cmdlet. Save the result to the $datastore variable.
The Get-VBRCloudDatastore cmdlet will return an array of datastores. Mind the ordinal number of the necessary datastore (in our example, it is the fourth datastore in the array).
4.	Run the Add-VBRCloudCDPPolicy cmdlet. Specify the following settings:
� Set the $vm variable as the Entity parameter value.
� Set the $host variable as the Server parameter value.
� Set the $datastore variable as the Datastore parameter value.
� Specify the Name parameter value.

---

### Parameters
#### **Datastore**
Returns datastores or disk volumes allocated under cloud resources. The cmdlet will keep cloud CDP replicas in this datastore. Accepts the VBRCloudDatastore object. To get this object, run the Get-VBRCloudDatastore cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRCloudDatastore]`|true    |named   |False        |

#### **Description**
Specifies a description of a cloud CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DiskType**
Specifies the format that will be used to restore replica disk files:
* Source: the restored replica disks will be the same format as source.
* Thick: the restored replica disks will be thick.
* Thin: the restored replica disks will be thick.
Default: Source.
Valid Values:

* Source
* Thick
* Thin
* ThickEagerZeroed

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[EDiskCreationMode]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMs you want to add to the policy. Accepts the IViItem[] object. To create this object, run the Find-VBRViEntity cmdlet.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IViItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create a cloud CDP policy without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GuestProcessingOptions**
Specifies guest processing settings of a cloud CDP policy. Accepts the VBRReplicaApplicationProcessingOptions object. To create this object, run the New-VBRReplicaApplicationProcessingOptions cmdlet.

|Type                                      |Required|Position|PipelineInput|
|------------------------------------------|--------|--------|-------------|
|`[VBRReplicaApplicationProcessingOptions]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name you want to assign to a cloud CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings of a cloud CDP policy.
Accepts the VBRNotificationOptions object. To create this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OriginalVM**
For replica mapping.
Specifies an array of production VMs that you want to replicate using replica mapping.
The cloud CDP policy will map this VM to the VM in the disaster recovery site.
Use the ReplicaVM parameter to specify the replicated VM on the disaster recovery site.
Accepts the CViVmItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping.
Specifies an array of VMs in the disaster recovery site. The cmdlet will map the production VM to this VM.
Use the OriginalVM parameter to specify the production VM.
Accepts the CViVmItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRViCloudVM[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding.
Specifies a backup repository that keeps a full backup of VMs that you want to replicate.
Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RetentionOptions**
Specifies retention settings of a cloud CDP policy.
Accepts the VBRCDPPolicyRetentionOptions object. To create this object, run the New-VBRCDPPolicyRetentionOptions cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCDPPolicyRetentionOptions]`|false   |named   |False        |

#### **Server**
Specifies a cloud host allocated by a service provider through the hardware plan. The cloud CDP replicas will be created in this host.
Accepts the VBRCloudServer object. To get this object, run the Get-VBRCloudServer cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRCloudServer]`|true    |named   |False        |

#### **SourceNetwork**
For network mapping.
Specifies an array of production networks to which the VMs added to a cloud CDP policy are connected.
Note: The number of source networks must match the number of target networks.
Accepts the VBRViNetworkInfo[] object. To get this object, run the Get-VBRViServerNetworkInfo cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **SourceProxy**
Specifies the array of VMware CDP source proxies added to the backup infrastructure. The cmdlet will use these proxies to transfer data.
Default: Automatic selection.
Accepts the VBRCDPProxy[] object. To get this object, run the Get-VBRCDPProxy cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRCDPProxy[]]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that will be appended to the name of the VM you are replicating. This name will be used to register the replicated VM on the target server.
Note: If you omit this parameter, the replicated VMs will get the '_replica' suffix.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
For network mapping.
Specifies an array of networks in the disaster recovery site. VMs that are replicated with the cloud CDP policy will be connected to these networks.
Note: The number of source networks must match the number of target networks.
Accepts the VBRViNetworkInfo[] object. To get this object, run the Get-VBRViServerNetworkInfo cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRCloudServerNetworkInfo[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudCDPPolicy -Datastore <VBRCloudDatastore> [-Description <String>] [-DiskType {Source | Thick | Thin | ThickEagerZeroed}] -Entity <IViItem[]> [-Force] 
```
```PowerShell
[-GuestProcessingOptions <VBRReplicaApplicationProcessingOptions>] [-HighPriority] [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] [-OriginalVM 
```
```PowerShell
<CViVmItem[]>] [-ReplicaVM <VBRViCloudVM[]>] [-RepositorySeed <CBackupRepository>] [-RetentionOptions <VBRCDPPolicyRetentionOptions>] -Server <VBRCloudServer> 
```
```PowerShell
[-SourceNetwork <VBRViNetworkInfo[]>] [-SourceProxy <VBRCDPProxy[]>] [-Suffix <String>] [-TargetNetwork <VBRCloudServerNetworkInfo[]>] [<CommonParameters>]
```

Add-VBRCloudGateway
-------------------

### Synopsis
Creates cloud gateways for Veeam Cloud Connect.

---

### Description

This cmdlet creates a cloud gateway.

Performing operations on Cloud Connect infrastructure requires the VCP licence.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Adding New Gateway with Direct Network Connection

$server = Get-VBRServer -Name "Cloud_Gateway"
Add-VBRCloudGateway -Server $server -Description "Gateway directly connected to Internet" -IpAddress 104.45.85.123 -IncomingPort 6260 -NetworkMode Direct
This example shows how to add a new cloud gateway with a direct network connection.  The port that will be used by Veeam Backup & Replication to connect to the gateway server is 6260.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
2. Run the Add-VBRCloudGateway cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Specify the Description parameter value.
- Specify the IpAddress parameter value.
- Specify the IncomingPort parameter value.
- Set the Direct option for the NetworkMode parameter.
> Example 2. Adding New Gateway in Local Network Behind NAT Gateway

Add-VBRCloudGateway -Server $server -Description "Gateway behind NAT" -IpAddress 104.45.95.227 -IncomingPort 6180 -NATPort 7180 -NetworkMode NAT
This example shows how to add a new cloud gateway in the local network behind the NAT gateway with the following settings:
- The external NAT gateway IP is 104.45.95.227.
- The port that will be used by Veeam Backup & Replication to connect to the gateway server is 6180.
- The port that will be used by the NAT gateway is 7180.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
2. Run the Add-VBRCloudGateway cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Specify the Description parameter value.
- Specify the IpAddress parameter value.
- Specify the IncomingPort parameter value.
- Specify the NATPort parameter value.
- Set the NAT option for the NetworkMode parameter.

---

### Parameters
#### **Description**
Specifies the description of the cloud gateway.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **IncomingPort**
SSpecifies a port on the NAT gateway used for listening to connections from users and passing cloud commands from users to the SP Veeam backup server. Permitted values: 1 to 65535. Default: 6180.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **IpAddress**
Specifies an external IP address of the NAT or network interface gateway. Accepts the IPAddress object or string.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NATPort**
Specifies an external port that will be used by the Veeam backup server to connect to the gateway. Permitted values: 1 to 65535. Default: (for Direct) null, (for NAT) 6180.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **NetworkMode**
Specifies the network mode: Direct, NAT.
Valid Values:

* Direct
* NAT

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRGatewayNetworkMode]`|false   |named   |False        |

#### **Server**
Specifies server that will perform the role of a cloud gateway. You can select any server added to Veeam Backup & Replication on assign the cloud gateway role to the Veeam backup server itself. Accepted server types: Windows, Local. Default: Local. Accepts the CHost object. To get this object, run the Get-VBRServer cmdlet.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudGateway [-Description <String>] [-IncomingPort <Int32>] [-IpAddress <String>] [-NATPort <Int32>] [-NetworkMode {Direct | NAT}] [-Server <CHost>] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRCloudGatewayCertificate
------------------------------

### Synopsis
Assigns a TLS certificate to the service provider.

---

### Description

This cmdlet assigns a TLS certificate to the service provider. You can only use the TLS certificate imported from the certificate store.

---

### Related Links
* [Get-VBRCloudGatewayCertificate](Get-VBRCloudGatewayCertificate.md)

---

### Examples
> Example - Assigning TLS Certificate to Service Provider

$certificate = Get-VBRCloudGatewayCertificate -FromStore | Where FriendlyName -eq "Omega Company"
Add-VBRCloudGatewayCertificate -Certificate $certificate
This example shows how to get a certificate from the certificate store and assign it to the service provider.

Perform the following steps:
1. Run the Get-VBRCloudGatewayCertificate cmdlet. Provide the FromStore parameter value. Pipe the cmdlet output to the Where command to filter certificates by the FriendlyName parameter. Save the result to the $certificate variable.
2. Run the Add-VBRCloudGatewayCertificate cmdlet. Set the $certificate variable as the Certificate parameter value.

---

### Parameters
#### **Certificate**
Specifies the certificate you want to use. Accepts the VBRCloudCertificate object. To get this object, run the Get-VBRCloudGatewayCertificate cmdlet.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRCloudCertificate]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudCertificate

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudGatewayCertificate -Certificate <VBRCloudCertificate> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Add-VBRCloudGatewayPool
-----------------------

### Synopsis
Creates cloud gateway pools.

---

### Description

This cmdlet creates cloud gateway pools.

Important! If you add all available gateways to cloud gateway pools, the jobs will fail for tenants with the automatic gateway type. You will not be able to create new tenants with automatic selection type.

---

### Related Links
* [Get-VBRCloudGateway](Get-VBRCloudGateway.md)

---

### Examples
> Example - Creating Cloud Gateway Pool

$gateway = Get-VBRCloudGateway
Add-VBRCloudGatewayPool -Name "Silver Pool" -CloudGateway $gateway
This example shows how to create a cloud gateway pool.

Perform the following steps:
1. Run the Get-VBRCloudGateway cmdlet to get the array of cloud gateways. Save the result to the $gateway variable.
2. Run the Add-VBRCloudGatewayPool cmdlet. Specify the Name parameter value. Set the $gateway variable as the CloudGateway parameter value.

---

### Parameters
#### **CloudGateway**
Specifies an array of gateways from the cloud infrastructure. The cmdlet will add these gateways to the cloud gateway pool. Accepts the VBRCloudGateway[] object.  To get this object, run the Get-VBRCloudGateway cmdlet.

|Type                 |Required|Position|PipelineInput |
|---------------------|--------|--------|--------------|
|`[VBRCloudGateway[]]`|true    |named   |True (ByValue)|

#### **Description**
Specifies the description of the cloud gateway pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add all available gateways to cloud gateway pools without warning.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name of the cloud gateway pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudGateway[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudGatewayPool -CloudGateway <VBRCloudGateway[]> [-Description <String>] [-Force] -Name <String> [<CommonParameters>]
```

Add-VBRCloudProvider
--------------------

### Synopsis
Adds cloud service providers.

---

### Description

This cmdlet adds a new service provider to Veeam Backup & Replication. You can add several providers using one cloud gateway to your Veeam backup console. The provider credentials must have different user names. You must set a network extension appliance if you plan to replicate your VMs to the cloud. Pre-configure the network extension appliance in advance. For details, see Network Appliance.

Important! The CCredentials type object for the Credentials parameter is not accepted any longer. Run the Add-VBRCloudProviderCredentials cmdlet to specify the cloud provider credentials records.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRCloudProviderNetworkAppliance](Get-VBRCloudProviderNetworkAppliance.md)

---

### Examples
> Example 1. Adding Cloud Service Provider with Default Settings

$credentials = Get-VBRCloudProviderCredentials -Name "Tenant1"
Add-VBRCloudProvider -Address "198.51.100.11" -Credentials $credentials
This example shows how to add a cloud service provider to Veeam Backup & Replication using default settings. The service provider IP address is 198.51.100.11.

Perform the following steps:
1. Run the Get-VBRCloudProviderCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Add-VBRCloudProvider cmdlet. Specify the Address parameter value. Set the $credentials variable as the Credentials parameter value.
> Example 2. Adding Cloud Service Provider with Specific Settings

$credentials = Get-VBRCredentials -Name "Cloud Provider Administrator"
Add-VBRCloudProvider -Address "104.45.95.227" -Description "Cloud gateway for SP" -Port 6252 -Credentials $credentials -VerifyCertificate -CertificateThumbprint "e6 c0 e5 1a db 73 0c 13 b3 c3 74 d4 ee 93 ab d0 08 3f 7a a8"
This example shows how to add a cloud service provider with the following settings:
- The service provider IP address is 104.45.95.227.
- The service provider uses port 6252 for connection.
- The SSL certificate thumbprint verification is enabled.
The thumbprint is "e6 c0 e5 1a db 73 0c 13 b3 c3 74 d4 ee 93 ab d0 08 3f 7a a8".

Perform the following steps:
1. Run the Get-VBRCloudProviderCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Add-VBRCloudProvider cmdlet. Specify the following settings:
- Specify the Address and the Description parameter values.
- Specify the Port parameter value.
- Set the $credentials variable as the Credentials parameter value.
- Provide the VerifyCertificate parameter.
- Specify the CertificateThumbprint parameter value.
> Example 3. Adding Cloud Service Provider and Configuring Network Extension Appliance

$server = Get-VBRServer -Type HvServer -Name "srv02.tech.local"
$folder = "C:\Datastore"
$network = Get-VBRHvServerNetworkInfo -Server $server  | Where { $_.NetworkName -eq "VM Network" }
$viAppl = New-VBRCloudProviderNetworkAppliance -Server $server -Network $network -Folder $folder
$credentials = Get-VBRCloudProviderCredentials -Name "Tenant1"
Add-VBRCloudProvider -Address "198.51.100.11" -Credentials $credentials -Appliance $viAppl
This example shows how to add a service provider and configure a network extension appliance. The service provider IP address is 104.45.95.227.

Perform the following steps:
1. Create a network extension appliance:
- Run the Get-VBRServer cmdlet. Set the HvServer option for the Type parameter. Specify the Name parameter value. Save the server to the $server variable.
- Assign the C:\Datastore value to the $folder variable.
- Run the Get-VBRHvServerNetworkInfo cmdlet. Set the $server variable as the Server parameter value and use the Where-Object statement to filter the networks by the .NetworkName property. Save the network to the $network variable.
- Run the New-VBRCloudProviderNetworkAppliance cmdlet. Specify the Server, Network and Folder parameter values. Save the result to the $viAppl variable.
2. Run the Get-VBRCloudProviderCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
3. Run the Add-VBRCloudProvider cmdlet. Specify the Address parameter value. Set the $credentials variable as the Credentials parameter value. Set the $viAppl variable as the Appliance parameter value.

---

### Parameters
#### **Address**
Specifies a full DNS name or IP address of the cloud gateway configured on the service provider side.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Appliance**
Specifies the network extension appliance on the user side.  You must configure a network extension appliance if you want to replicate to the cloud. Accepts the VBRHvCloudProviderNetworkAppliance[] object. To get this object, run the New-VBRCloudProviderNetworkAppliance cmdlet.

|Type                                  |Required|Position|PipelineInput|
|--------------------------------------|--------|--------|-------------|
|`[VBRCloudProviderNetworkAppliance[]]`|false   |named   |False        |

#### **CertificateThumbprint**
Specifies the thumbprint that will be compared to the TLS certificate thumbprint.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Credentials**
Specifies credentials for the user account registered on the service provider Veeam backup server. Accepts the VBRCloudProviderCredentials object.  To get this object, run the Get-VBRCloudProviderCredentials cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRCloudProviderCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the service provider.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will skip the certificate verification if the verification fails.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **InstallManagementAgent**
Defines that the service provider must manage the Veeam backup server under the Backup as a Service agreement. The cmdlet will install the Veeam Managed Backup Portal agent on the Veeam backup server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Port**
Specifies the port over which user's Veeam backup server will communicate with the cloud gateway. Permitted values: 1 to 65535. Default: 6180.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **VerifyCertificate**
Defines if the TLS certificate must be verified by the thumbprints. Use the CertificateThumbprint parameter to set the thumbprint that will be compared to the TLS certificate thumbprint.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudProvider -Address <String> [-Appliance <VBRCloudProviderNetworkAppliance[]>] [-CertificateThumbprint <String>] -Credentials <VBRCloudProviderCredentials> 
```
```PowerShell
[-Description <String>] [-Force] [-InstallManagementAgent] [-Port <Int32>] [-VerifyCertificate] [<CommonParameters>]
```

Add-VBRCloudProviderCredentials
-------------------------------

### Synopsis
Adds cloud provider credentials records to Veeam Backup & Replication.

---

### Description

This cmdlets adds cloud provider credentials records to Veeam Backup & Replication.

---

### Examples
> Example 1. Adding Cloud Provider Credentials

Add-VBRCloudProviderCredentials -Name "Cloud Login" -Password "Cloud password"
This example shows how to add cloud provider credentials records into your Veeam Backup & Replication infrastructure.
> Example 2. Adding Cloud Provider Credentials with Secure String Option

$securepassword = Read-Host -Prompt "Enter password" -AsSecureString
Add-VBRCloudProviderCredentials -Name "Cloud Login" -Password $securepassword
This example shows how to add cloud provider credentials records with the secure string option into Veeam Backup & Replication.

Perform the following steps:
1. Run the Read-Host cmdlet. Specify the Prompt parameter value. Provide the AsSecureString parameter. Save the result to the $securepassword variable.
2. Run the Add-VBRCloudProviderCredentials cmdlet. Specify the Name parameter value. Set the $securepassword variable as the Password parameter value.

---

### Parameters
#### **Description**
Specifies a description for cloud provider credentials records.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a login for cloud provider credentials records.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies a password for cloud provider credentials records.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudProviderCredentials [-Description <String>] -Name <String> -Password <String> [<CommonParameters>]
```

Add-VBRCloudPublicIP
--------------------

### Synopsis
Adds public IP address or a pool of IP addresses.

---

### Description

This cmdlet adds a single IP address or a range of IP addresses to the public IP address pool.  You can create a pool of public IP addresses and provide them to tenants.  The tenants will be able to connect their replicas to your network so that the replicas are accessible from the Internet during a full site failover.

---

### Examples
> Example 1. Creating Pool of Public IP Addresses

```PowerShell
Add-VBRCloudPublicIP -FirstIpAddress 198.51.100.1 -LastIpAddress 198.51.100.15
This command creates a pool of public IP addresses.
```
> Example 2. Adding Public IP Address

```PowerShell
Add-VBRCloudPublicIP -FirstIpAddress 198.51.100.17
This command adds an individual public IP address.
```

---

### Parameters
#### **FirstIpAddress**
Specifies a single IP address or the first IP address of the range that you want to add.

|Type         |Required|Position|PipelineInput |
|-------------|--------|--------|--------------|
|`[IPAddress]`|true    |named   |True (ByValue)|

#### **LastIpAddress**
Specifies the last IP address of the range that you want to add.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[IPAddress]`|false   |named   |False        |

---

### Inputs
System.Net.IPAddress

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudPublicIP -FirstIpAddress <IPAddress> [-LastIpAddress <IPAddress>] [<CommonParameters>]
```

Add-VBRCloudSubTenant
---------------------

### Synopsis
Creates cloud subtenant accounts.

---

### Description

This cmdlet creates a new cloud subtenant account.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

* [New-VBRCloudSubTenantResource](New-VBRCloudSubTenantResource.md)

* [Set-VBRCloudSubTenant](Set-VBRCloudSubTenant.md)

---

### Examples
> Example - Creating Cloud Subtenant Account

$parent = Get-VBRCloudTenant -Name "ABC Company"
$parentresource = $parent.Resources[0]
$subtenantquota = New-VBRCloudSubtenantResource -Parent $parentresource -RepositoryFriendlyName "ABC Cloud Repository" -Unlimited
$tenant = Get-VBRCloudTenant -Name "Alpha"
Add-VBRCloudSubTenant -Tenant $tenant -Name "Alpha" -Password "Pass123" -Resources $subtenantquota
This example shows how to create a cloud subtenant account.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $parent variable.
2. Get the parent resources using the Resources property of the VBRCloudTenantResource object saved to the $parent variable. Save the result to the $parentresource variable.
3. Run the New-VBRCloudSubTenantResource cmdlet for details. Set the $parentresource variable as the Parent parameter value. Specify the RepositoryFriendlyName parameter value. Provide the Unlimited parameter. Save the result to the $subtenantquota variable.
4. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
5. Run the Add-VBRCloudSubTenant cmdlet. Specify the following settings:
- Set the $tenant variable as the Tenant parameter value.
- Specify the Name and the Password parameter values.
- Set the $subtenantquota variable as the Resources parameter value.

---

### Parameters
#### **Description**
Specifies the description of the cloud subtenant account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Disabled**
Defines that the cloud subtenant is disabled.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HashedPassword**
Defines that you submit the hashed password.  The hashed passwords are stored in Veeam backup database. Use this parameter, for example, to restore subtenant accounts.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the subtenant account. The subtenant name must meet the following requirements:
* The maximum length of the subtenant name is 128 characters. It is recommended that you create short subtenant names to avoid problems with long paths to backup files on the cloud repository.
* The subtenant name may contain space characters.
* The subtenant name must not contain the following characters: \/:*?\"<>|=; as well as Unicode characters.
* The subtenant name must not end with the period character [.].

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to set to the subtenant account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Resources**
Specifies the quota of the subtenant backup resources you want to give to the subtenant. Accepts the VBRCloudSubTenantResource[] object. To get this object, run the New-VBRCloudSubtenantResource cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRCloudSubTenantResource[]]`|true    |named   |False        |

#### **Tenant**
Specifies the cloud tenant. The resources of this tenant will be parent for the subtenant. Accepts the VBRCloudTenant object. To get this object, run the Get-VBRCloudTenant cmdlet.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRCloudTenant]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudSubTenant [-Description <String>] [-Disabled] [-HashedPassword] -Name <String> -Password <String> -Resources <VBRCloudSubTenantResource[]> -Tenant 
```
```PowerShell
<VBRCloudTenant> [<CommonParameters>]
```

Add-VBRCloudSubUser
-------------------

### Synopsis
Creates cloud subuser accounts.

---

### Description

This cmdlet creates new cloud subuser accounts.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRCloudSubUserResource](New-VBRCloudSubUserResource.md)

---

### Examples
> Example - Creating Cloud Subuser Account

$cloudrepository = Get-VBRBackupRepository | Where {$_.Type -eq "Cloud"} | Select -First 1
$subuserquota = New-VBRCloudSubUserResource -CloudRepository $cloudrepository -RepositoryFriendlyName "Cloud Repository 1" -Quota 10
$cloudprovider = Get-VBRCloudProvider
Add-VBRCloudSubUser -CloudProvider $cloudprovider -Name "Subuser 1" -Password "Pass 123" -Resources $subuserquota
This example shows how to create a cloud subuser account.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Pipe the cmdlet output to the Where cmdlet to filter repositories where Type property equals Cloud. Pipe the cmdlet output to the Select cmdlet. Set the 1 number as the First parameter value. Save the result to the $cloudrepository variable.
2. Run the New-VBRCloudSubUserResource cmdlet. Set the $cloudrepository variable as the CloudRepository parameter value. Specify the RepositoryFriendlyName and the Quota parameter values. Save the result to the $subuserquota variable.
3. Run the Get-VBRCloudProvider cmdlet. Save the result to the $cloudprovider variable.
4. Run the Add-VBRCloudSubUser cmdlet. Specify the following settings:
- Set the $cloudprovider variable as the CloudProvider parameter value.
- Specify the Name parameter value.
- Specify the Password parameter value.
- Set the $subuserquota variable as the Resources parameter value.

---

### Parameters
#### **CloudProvider**
Specifies the cloud provider. The resources of this provider will be parent for the subuser. Accepts the VBRCloudProvider object. To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRCloudProvider]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies the description of the cloud subuser account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Disabled**
Defines that the cloud subuser is disabled.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the subuser account. The subuser name must meet the following requirements:
* The maximum length of the subuser name is 128 characters. It is recommended that you create short subuser names to avoid problems with long paths to backup files on the cloud repository.
* The subuser name may contain space characters.
* The subuser name must not contain the following characters: \/:*?\"<>|=; as well as Unicode characters.
* The subuser name must not end with the period character [.].

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to set to the subuser account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Resources**
Specifies the quota of the subuser backup resources you want to give to the subuser. Accepts the VBRCloudSubUserResource[] object. To create this object, run the New-VBRCloudSubUserResource cmdlet.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRCloudSubUserResource[]]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudProvider

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudSubUser -CloudProvider <VBRCloudProvider> [-Description <String>] [-Disabled] -Name <String> -Password <String> -Resources <VBRCloudSubUserResource[]> 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRCloudTenant
------------------

### Synopsis
Creates standalone tenant accounts.

---

### Description

This cmdlet creates new simple cloud tenant accounts.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRCloudTenantResource](New-VBRCloudTenantResource.md)

* [New-VBRCloudTenantReplicationResources](New-VBRCloudTenantReplicationResources.md)

---

### Examples
> Example 1. Creating Cloud Tenant Account

$repository = Get-VBRBackupRepository -Name "SilverRepository"
$backupresources = New-VBRCloudTenantResource -Repository $repository -RepositoryFriendlyName "Standard Tier Repository" -Quota 10
Add-VBRCloudTenant -Name "ABC Company" -Description "User account for ABC company" -EnableLeaseExpiration -LeaseExpirationDate "12/30/2024" -Password "Pass123" -Resources $backupresources
This example shows how to create a simple cloud tenant account. The cmdlet will create the tenant with the following settings:
- Backup resources option enabled
- Lease expiration settings enabled
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the New-VBRCloudTenantResource cmdlet. Set the $repository variable as the Repository parameter value. Specify the RepositoryFriendlyName and Quota parameter values. Save the result to the $backupresources variable.
3. Run the Add-VBRCloudTenant cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Description parameter value.
- Provide the EnableLeaseExpiration parameter.
- Specify the LeaseExpirationDate parameter value.
- Specify the Password parameter value.
- Set the $backupresources variable as the Resources parameter value.
> Example 2. Creating Cloud Tenant Account with Backup and Replication Resources

$repository = Get-VBRBackupRepository -Name "SilverRepository"
$backupresources = New-VBRCloudTenantResource -Repository $repository -RepositoryFriendlyName "Standard Tier Repository" -Quota 10
$replicationresources = New-VBRCloudTenantReplicationResources -EnableNetworkFailoverResources
Add-VBRCloudTenant -Name "ABC Company" -Description "User account for ABC company" -Password "Pass123" -Resources $backupresources -ReplicationResources $replicationresources
This example shows how to create a simple cloud tenant account with backup and replication resources.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the New-VBRCloudTenantResource cmdlet. Set the $repository variable as the Repository parameter value. Specify the RepositoryFriendlyName and the Quota parameter values. Save the result to the $backupresources variable.
3. Run the New-VBRCloudTenantReplicationResources cmdlet. Provide the EnableNetworkFailoverResources parameter. Save the result to the $replicationresources variable.
4. Run the Add-VBRCloudTenant cmdlet. Specify the following settings:
- Specify the Name and the Description parameter values.
- Specify the Password parameter value.
- Set the $backupresources variable as Resources parameter value.
- Set the $replicationresources variable as ReplicationResources parameter value.

---

### Parameters
#### **BackupProtectionPeriod**
For the EnableBackupProtection parameter. Specifies the number of days to keep the tenant`s deleted backups on the service provider side. Can be set to 1-99 days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Description**
Specifies the description of the tenant account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupProtection**
Enables protection for the tenant's backups from complete removal. If you provide this parameter, the tenant's deleted backups will be placed to the recycle bin on the service provider's side.  The backups will be kept in the bin for the specified protection period. When this period ends, the backups are removed permanently. To specify the protection period, use the BackupProtectionPeriod parameter.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableGatewayFailover**
Enables gateway pool failover option. In case the gateway pool is down, Veeam Backup & Replication will route the data through the gateway that is not added to any gateway pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableLeaseExpiration**
Enables lease expiration settings for the simple tenant account. Use LeaseExpirationDate parameter to set the lease expiration date.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableThrottling**
Enables the network throttling to set the bandwidth limitations. Use the ThrottlingValue and ThrottlingUnit parameters to set the maximum value.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GatewayPool**
Specifies the gateway pool. Veeam Backup & Replication will route the data through the specified gateway pool. Accepts the VBRCloudGatewayPool[] object. To get this object, run the Get-VBRCloudGatewayPool cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRCloudGatewayPool[]]`|false   |named   |False        |

#### **GatewaySelectionType**
Specifies the type of gateway, you want to assign to the vCD cloud tenant accounts.
* StandaloneGateways - use this option to route the data through the gateway that is not added to the gateway pool.
* GatewayPool - use this option to route the data through the gateway pool.
Valid Values:

* StandaloneGateways
* GatewayPool

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCloudGatewaySelectionType]`|false   |named   |False        |

#### **HashedPassword**
Defines that you submit the hashed password. The hashed passwords are stored in Veeam backup database.  Use this parameter, for example, to restore tenant accounts.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LeaseExpirationDate**
For the EnableLeaseExpiration option. Specifies the lease expiration date. Default: 23:59:59.9999999, 31.12.9999.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|false   |named   |False        |

#### **MaxConcurrentTask**
Specifies the maximum number of tasks the tenant can process in parallel.  The number of tasks is the number of VM disks processed by one job targeted at the cloud repository or cloud host.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies the name that you want to assign to the simple tenant account. The tenant name must meet the following requirements:
* The maximum length of the tenant name is 128 characters. It is recommended that you create short tenant names to avoid problems with long paths to backup files on the cloud repository.
* The tenant name may contain space characters.
* The tenant name must not contain the following characters: \/:*?\"<>|=; as well as Unicode characters.
* The tenant name must not end with the period character [.].

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to set to the tenant account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **ReplicationResources**
Allocates replication resources to the tenant. You must set the Resources or the ReplicationResources parameter, or a combination of both, to create a tenant. Accepts the VBRCloudTenantReplicationResources object. To get this object, run the New-VBRCloudTenantReplicationResources cmdlet.

|Type                                  |Required|Position|PipelineInput|
|--------------------------------------|--------|--------|-------------|
|`[VBRCloudTenantReplicationResources]`|false   |named   |False        |

#### **Resources**
Specifies the array of backup resource quotas you want to allocate to the simple tenant account. You must set the Resources or the ReplicationResources parameter, or a combination of both, to create a tenant. NOTE: When you assign multiple resources settings to one tenant account, the resources must have unique Repository Friendly Names and they must use different repositories. Accepts the VBRCloudTenantResource[] object. To get this object, run the New-VBRCloudTenantResource cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRCloudTenantResource[]]`|false   |named   |False        |

#### **ThrottlingUnit**
For the EnableThrottling option. Specifies the measure units for the bandwidth value. You can select either of the following: MbitPerSec, MbytePerSec, KbytePerSec. Default: MbytePerSec.
Valid Values:

* MbitPerSec
* MbytePerSec
* KbytePerSec

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRSpeedUnit]`|false   |named   |False        |

#### **ThrottlingValue**
For the EnableThrottling option. Specifies the maximum bandwidth value in Mbps for transferring the tenant data to the SP side.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Decimal]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCloudTenant [-BackupProtectionPeriod <Int32>] [-Description <String>] [-EnableBackupProtection] [-EnableGatewayFailover] [-EnableLeaseExpiration] [-EnableThrottling] 
```
```PowerShell
[-GatewayPool <VBRCloudGatewayPool[]>] [-GatewaySelectionType {StandaloneGateways | GatewayPool}] [-HashedPassword] [-LeaseExpirationDate <DateTime>] [-MaxConcurrentTask 
```
```PowerShell
<Int32>] -Name <String> -Password <String> [-ReplicationResources <VBRCloudTenantReplicationResources>] [-Resources <VBRCloudTenantResource[]>] [-ThrottlingUnit {MbitPerSec 
```
```PowerShell
| MbytePerSec | KbytePerSec}] [-ThrottlingValue <Decimal>] [<CommonParameters>]
```

Add-VBRComputerBackupCopyJob
----------------------------

### Synopsis
Creates Veeam Agent backup copy jobs.

---

### Description

This cmdlet creates Veeam Agent backup copy jobs.

---

### Related Links
* [Get-VBRComputerBackupJob](Get-VBRComputerBackupJob.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRWANAccelerator](Get-VBRWANAccelerator.md)

* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Example 1. Creating Veeam Agent Backup Copy Job to Transfer Data Directly

$repository = Get-VBRBackupRepository -Name Repository 05
$job = Get-VBRComputerBackupJob -Name "Agent backup job 05"
Add-VBRComputerBackupCopyJob -OSPlatform Windows -DirectOperation -Name "Agent Backup Copy 05" -BackupJob $job -Repository $repository
This example shows how to create a Veeam Agent backup copy job that will transfer data directly from the source backup repository to the target backup repository.

Perform the following steps:

1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.   2. Run the Get-VBRComputerBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.   3. Run the Add-VBRComputerBackupCopyJob cmdlet. Specify the following settings:      o Specify the OSPlatform parameter value.       o Provide the DirectOperation parameter.      o Specify the Name parameter value.      o Set the $job variable as the BackupJob parameter value.      o Set the $repository variable as the Repository parameter value.
> Example 2. Creating Veeam Agent Backup Copy Job to Transfer Data over WAN Accelerators

$wansource = Get-VBRWANAccelerator -Name "WAN Source"
$wantarget = Get-VBRWANAccelerator -Name "WAN02 Target"
$backup = Get-VBRBackup -Name "Windows Server Backup"
$repository = Get-VBRBackupRepository -Name Repository 05
Add-VBRComputerBackupCopyJob -OSPlatform Windows -SourceAccelerator $wansource -TargetAccelerator $wantarget -Backup $backup -Repository $repository
This example shows how to create a Veeam Agent backup copy job that will transfer data over WAN accelerators.

Perform the following steps:

1. Run the Get-VBRWANAccelerator cmdlet. Specify the Name parameter value. Save the result to the $wansource variable.   2. Run the Get-VBRWANAccelerator cmdlet. Specify the Name parameter value. Save the result to the $wantarget variable   3. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.   4. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.   5. Run the Add-VBRComputerBackupCopyJob cmdlet. Specify the following settings:      o Specify the OSPlatform parameter value.

o Set the $wansource variable as the SourceAccelerator parameter value.      o Set the $wantarget variable as the TargetAccelerator parameter value.      o Set the $backup variable as the Backup parameter value.      o Set the $repository variable as the Repository parameter value.

---

### Parameters
#### **Backup**
Specifies an array of backups. The cmdlet will add VMs from these backups to a Veeam Agent backup copy. Accepts the CBackup[] object. To create this object, run the Get-VBRBackup cmdlet.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **BackupJob**
Specifies an array of backup jobs. The cmdlet will add VMs processed by these jobs to a Veeam Agent backup copy job. Accepts the VBRComputerBackupJob[] object. To create this object, run the Get-VBRComputerBackupJob cmdlet.

|Type                      |Required|Position|PipelineInput        |
|--------------------------|--------|--------|---------------------|
|`[VBRComputerBackupJob[]]`|false   |named   |True (ByPropertyName)|

#### **BackupWindowOptions**
Specifies backup window settings for a Veeam Agent backup copy job. The cmdlet will create the job with these settings. Accepts the VBRBackupWindowOptions object. To create this object, run the New-VBRBackupWindowOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

#### **Description**
Specifies a description of a Veeam Agent backup copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DirectOperation**
Defines that the cmdlet will create a Veeam Agent backup copy job that will transfer data directly from the source backup repository to the target backup repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **EnableImmediateCopy**
Defines that the cmdlet will enable the immediate copy mode. If you specify this parameter, Veeam Backup & Replication will copy new restore points and logs as soon as they appear. Otherwise, Veeam Backup & Replication will copy data from backups once per backup copy interval. Note: This parameter requires the BackupJob parameter.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableTransactionLogCopy**
Defines that the Veeam Agent backup copy job will process transaction logs of the source job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will ADD INFO without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GFSOptions**
Specifies a GFS retention. The cmdlet will create Veeam Agent backup copy job with the specified policy. Note: This option is not available for Veeam Agent policies. Accepts the VBRComputerGFSOptions object. To get this object, run the New-VBRComputerGFSOptions cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRComputerGFSOptions]`|false   |named   |False        |

#### **HealthCheckOptions**
Specifies the healthcheck schedule for a Veeam Agent backup copy job. The cmdlet will create the job with these settings. Accepts the VBRFullBackupOptions object. To create this object, run the New-VBRFullBackupOptions cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRHealthCheckOptions]`|false   |named   |False        |

#### **Name**
Specifies a name that you want to assign to a Veeam Agent backup copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings for a Veeam Agent backup copy job. The cmdlet will create the job with these settings. Accepts the VBRNotificationOptions object. To create this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OSPlatform**
Specifies the OS of the protected computers:
o Linux   o Mac   o Unix   o Windows
Valid Values:

* Windows
* Linux
* Mac
* Unix

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRAgentType]`|true    |named   |False        |

#### **RecoveryPointObjective**
Specifies a schedule for a Veeam Agent backup copy job. The cmdlet will create the job with these settings. Accepts the VBRRecoveryPointObjective object. To create this object, run the Get-VBRRecoveryPointObjective cmdlet.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRRecoveryPointObjective]`|false   |named   |False        |

#### **Repository**
Specifies the backup repository. The cmdlet will copy the VM data to this repository. Default: Default backup repository. Accepts the CBackupRepository object. To create this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RetentionNumber**
For the RetentionType set to the RestoreDays property. Specifies a number of days for which you want to store backup files in the target location. Default: 7 days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **RetentionPolicy**
Specifies a retention policy for a Veeam Agent backup copy job. The cmdlet will create the job with these settings. Accepts the VBRRetentionPolicy object. To create this object, run the Get-VBRRetentionPolicy cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRRetentionPolicy]`|false   |named   |False        |

#### **RetentionType**
Specifies retention type for Veeam Agent copy jobs managed by the Veeam Backup server. You can specify one of the following types:
� RestorePoints   � RestoreDays
Valid Values:

* RestorePoints
* RestoreDays

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRRetentionType]`|false   |named   |False        |

#### **RPOWarningOptions**
Specifies a number of hours when data must be copied from the source repository to the target repository. Default: 1. Accepts the VBRRPONotificationOptions object. To create this object, run the New-VBRRPONotificationOptions cmdlet.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRRpoNotificationOption[]]`|false   |named   |False        |

#### **ScriptOptions**
Specifies pre-job and post-job script options for a Veeam Agent backup copy job. The cmdlet will create the job with these settings. Accepts the VBRJobScriptOptions object. To create this object, run the New-VBRJobScriptOptions cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **SourceAccelerator**
Specifies the WAN accelerator on the source side. Remember to set the pair of source and target WAN accelerators. Accepts the CWanAccelerator object. To create this object, run the Get-VBRWANAcceleratorcmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|true    |named   |False        |

#### **SourceRepository**
Specifies an array of source backup repositories.

|Type                   |Required|Position|PipelineInput        |
|-----------------------|--------|--------|---------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName)|

#### **StorageOptions**
Specifies the settings for compression and storage optimization of the target backup repository. The cmdlet will create the Veeam Agent backup copy job with these settings. Accepts the VBRBackupCopyJobStorageOptions object. To create this object, run the New-VBRStorageOptions cmdlet.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRBackupCopyJobStorageOptions]`|false   |named   |False        |

#### **TargetAccelerator**
Specifies the WAN accelerator on the target side. Remember to set the pair of source and target WAN accelerators. Accepts the CWanAccelerator object. To create this object, run the Get-VBRWANAcceleratorcmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackup[]

Veeam.Backup.PowerShell.Infos.VBRComputerBackupJob[]

Veeam.Backup.Core.CBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRComputerBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <VBRComputerBackupJob[]>] [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] 
```
```PowerShell
-DirectOperation [-EnableImmediateCopy] [-EnableTransactionLogCopy] [-Force] [-GFSOptions <VBRComputerGFSOptions>] [-HealthCheckOptions <VBRHealthCheckOptions>] [-Name 
```
```PowerShell
<String>] [-NotificationOptions <VBRNotificationOptions>] -OSPlatform {Windows | Linux | Mac | Unix} [-RecoveryPointObjective <VBRRecoveryPointObjective>] [-Repository 
```
```PowerShell
<CBackupRepository>] [-RetentionNumber <Int32>] [-RetentionPolicy <VBRRetentionPolicy>] [-RetentionType {RestorePoints | RestoreDays}] [-RPOWarningOptions 
```
```PowerShell
<VBRRpoNotificationOption[]>] [-ScriptOptions <VBRJobScriptOptions>] [-SourceRepository <CBackupRepository[]>] [-StorageOptions <VBRBackupCopyJobStorageOptions>] 
```
```PowerShell
[<CommonParameters>]
```
```PowerShell
Add-VBRComputerBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <VBRComputerBackupJob[]>] [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] 
```
```PowerShell
[-EnableImmediateCopy] [-EnableTransactionLogCopy] [-Force] [-GFSOptions <VBRComputerGFSOptions>] [-HealthCheckOptions <VBRHealthCheckOptions>] [-Name <String>] 
```
```PowerShell
[-NotificationOptions <VBRNotificationOptions>] -OSPlatform {Windows | Linux | Mac | Unix} [-RecoveryPointObjective <VBRRecoveryPointObjective>] [-Repository 
```
```PowerShell
<CBackupRepository>] [-RetentionNumber <Int32>] [-RetentionPolicy <VBRRetentionPolicy>] [-RetentionType {RestorePoints | RestoreDays}] [-RPOWarningOptions 
```
```PowerShell
<VBRRpoNotificationOption[]>] [-ScriptOptions <VBRJobScriptOptions>] -SourceAccelerator <CWanAccelerator> [-SourceRepository <CBackupRepository[]>] [-StorageOptions 
```
```PowerShell
<VBRBackupCopyJobStorageOptions>] [-TargetAccelerator <CWanAccelerator>] [<CommonParameters>]
```

Add-VBRComputerBackupJob
------------------------

### Synopsis
Creates Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Description

This cmdlet creates Veeam Agent backup jobs and Veeam Agent backup policies.
To create backup policies, you must specify the protection group with the protected computers that you plan to back up and the target location for storing backups.
To create Veeam Agent backup jobs, you must specify the protection group with the protected computers and the repository for storing backups.
- Run the Get-VBRProtectionGroup cmdlet to get the protection group.
- Run the Get-VBRBackupRepository cmdlet to get the repository.
- Run the New-VBRComputerDestinationOptions cmdlet to specify the target location for storing backups.
To enable guest file indexing and application-aware processing, you must first specify the settings for these options.
- Run the New-VBRApplicationProcessingOptions cmdlet to specify application-aware processing settings.
- Run the New-VBRComputerIndexingOptions cmdlet to specify guest file system indexing settings.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRComputerDestinationOptions](New-VBRComputerDestinationOptions.md)

* [New-VBRDailyOptions](New-VBRDailyOptions.md)

* [New-VBRLinuxScheduleOptions](New-VBRLinuxScheduleOptions.md)

* [New-VBRScriptProcessingOptions](New-VBRScriptProcessingOptions.md)

* [New-VBRApplicationProcessingOptions](New-VBRApplicationProcessingOptions.md)

* [New-VBRLinuxSelectedVolume](New-VBRLinuxSelectedVolume.md)

---

### Examples
> Example 1. Creating Veeam Agent Backup Job for Windows Servers

$group = Get-VBRProtectionGroup -Name "WindowsGroup"
$repository = Get-VBRBackupRepository -Name "Default Backup Repository"
Add-VBRComputerBackupJob -OSPlatform Windows -Type Server -Mode ManagedByBackupServer -Name "WindowsJob" -BackupObject $group -BackupType EntireComputer -BackupRepository $repository
This example shows how to create the Veeam Agent backup job for Windows servers.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the Add-VBRComputerBackupJob cmdlet. Specify the following settings:
- Set the Windows option for the OSPlatform parameter.
- Set the Server option for the Type parameter.
- Set the ManagedByBackupServer option for the Mode parameter.
- Specify the Name parameter value.
- Set the $group variable as the BackupObject parameter value.
- Set the EntireComputer value for the BackupType parameter.
- Set the $repository variable as the BackupRepository parameter value.
> Example 2. Creating Veeam Agent Backup Job for Linux Workstation

$group = Get-VBRProtectionGroup -Name "LinuxGroup"
$repository = Get-VBRBackupRepository -Name "Default Backup Repository"
$destination = New-VBRComputerDestinationOptions -OSPlatform Linux -BackupRepository $repository
$daily = New-VBRDailyOptions -DayOfWeek Friday -Period 19:00
$schedule = New-VBRLinuxScheduleOptions -Type Daily -DailyOptions $daily
Add-VBRComputerBackupJob -OSPlatform Linux -Type Workstation -Mode ManagedByAgent -Name "LinuxJob" -BackupObject $group -BackupType EntireComputer -DestinationOptions $destination -ScheduleOptions $schedule -EnableSchedule
This example shows how to create the Veeam Agent backup policy for Linux workstation. A backup job will run on Fridays at 7:00 PM.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the New-VBRComputerDestinationOptions cmdlet. Set the Linux option for the OSPlatform parameter. Set the $repository variable as the BackupRepository parameter value. Save the result to the $destination variable.
4. Run the New-VBRDailyOptions cmdlet. Specify the DayOfWeek and Period parameter values. Save the result to the $daily variable.
5. Run the New-VBRLinuxScheduleOptions cmdlet. Set the Daily value for the Type parameter. Set the $daily variable as the DailyOptions parameter value. Save the result to the $schedule variable.
6. Run the Add-VBRComputerBackupJob cmdlet. Specify the following settings:
- Set the Linux option for the OSPlatform parameter.
- Set the Workstation option for the Type parameter.
- Set the ManagedByAgent option for the Mode parameter.
- Specify the Name parameter value.
- Set the $group variable as the BackupObject parameter value.
- Set the EntireComputer option for the BackupType parameter.
- Set the $destination variable as the DestinationOptions parameter value.
- Set the $schedule variable as the ScheduleOptions parameter value.

- Provide the EnableSchedule parameter.
> Example 3. Creating Veeam Agent Backup Job for Failover Cluster

$group = Get-VBRProtectionGroup -Name "ClusterGroup"
$repository = Get-VBRBackupRepository -Name "Default Backup Repository"
$script = New-VBRScriptProcessingOptions -ProcessingAction IgnoreFailures -ScriptPrefreezeCommand C:\script\pre-script.bat -ScriptPostthawCommand C:\script\post-script.bat
$processoptions = New-VBRApplicationProcessingOptions -BackupObject $group -OSPlatform Windows -Enable -GeneralTransactionLogAction ProcessLogsWithJob -ScriptProcessingOptions $script
Add-VBRComputerBackupJob -OSPlatform Windows -Type FailoverCluster -Mode ManagedByBackupServer -Name "NewCluster" -BackupObject $group -BackupType SelectedVolumes -SelectedVolumes "D:\" -BackupRepository $repository -EnableApplicationProcessing -ApplicationProcessingOptions $processoptions
This example shows how to create a Veeam Agent backup job for a failover cluster. The job will run with the following settings:
- Veeam Backup & Replication will run scripts located at the C:\script\ path before and after the backup job.
- The Veeam Agent backup job will still run if scripts fail.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the New-VBRScriptProcessingOptions cmdlet. Specify the ProcessingAction, ScriptPrefreezeCommand and ScriptPostthawCommand parameter values. Save the result to the $script variable.
4. Run the New-VBRApplicationProcessingOptions cmdlet. Set the the $group variable as the BackupObject parameter value. Specify the OSPlatform, Enable and GeneralTransactionLogAction parameter values. Set the $script variable as the ScriptProcessingOptions parameter value. Save the result to the $processoptions variable.
5. Run the Add-VBRComputerBackupJob cmdlet. Specify the following settings:
- Set the Windows option for the OSPlatform parameter.
- Set the FailoverCluster option for the Type parameter.
- Set the ManagedByBackupServer option for the Mode parameter.
- Specify the Name parameter value.
- Set the $group variable as the BackupObject parameter value.
- Set the SelectedVolumes option for the BackupType parameter.
- Specify the SelectedVolumes parameter value.
- Set the $repository variable as the BackupRepository parameter value.
- Provide the EnableApplicationProcessing parameter.
- Set the $processoptions variable as the ApplicationProcessingOptions parameter value.
> Example 4. Creating Veeam Agent Backup Policy for Linux Server

$group = Get-VBRProtectionGroup -Name "LinuxGroup"
$repository = Get-VBRBackupRepository -Name "Default Backup Repository"
$destination = New-VBRComputerDestinationOptions -OSPlatform Linux -BackupRepository $repository
$scope = New-VBRLinuxSelectedVolume -Type Device -Path "/dev/sda"
Add-VBRComputerBackupJob -OSPlatform Linux -Type Server -Mode ManagedByAgent -Name "LinuxServerJob" -BackupObject $group -BackupType SelectedVolumes -DestinationOptions $destination -SelectedVolumes $scope
This example shows how to create a Veeam Agent backup policy for Linux server. The backup job will create volume-level backups.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the New-VBRComputerDestinationOptions cmdlet. Set the Linux value for the OSPlatform parameter. Set the $repository variable as the BackupRepository parameter value. Save the result to the $destination variable.
4. Run the New-VBRLinuxSelectedVolume cmdlet. Set the Device value for the Type parameter. Specify the Path parameter value. Save the result to the $scope variable.
5. Run the Add-VBRComputerBackupJob cmdlet. Specify the following settings:
- Set the Linux option for the OSPlatform parameter.
- Set the Server option for the Type parameter.
- Set the ManagedByAgent option for the Mode parameter.
- Specify the Name parameter value.
- Set the $group variable as the BackupObject parameter value.
- Set the SelectedVolumes option for the BackupType parameter.
- Set the $destination variable as the DestinationOptions parameter value.
- Set the $scope variable as the SelectedVolumes parameter value.
> Example 5. Creating Veeam Agent Backup Job for Windows Servers (Volume-Level Backup)

$group = Get-VBRProtectionGroup -Name "WindowsGroup"
$repository = Get-VBRBackupRepository -Name "Default Backup Repository"
Add-VBRComputerBackupJob -OSPlatform Windows -Type Server -Mode ManagedByBackupServer -Name "WindowsJob" -BackupObject $group -BackupType SelectedVolumes -SelectedVolumes "OS" -BackupRepository $repository
This example shows how to create the Veeam Agent backup job for Windows servers. The backup job will include OS volumes to volume-level backups.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the Add-VBRComputerBackupJob cmdlet. Specify the following settings:
- Set the Windows option for the OSPlatform parameter.
- Set the Server option for the Type parameter.
- Set the ManagedByBackupServer option for the Mode parameter.
- Specify the Name parameter value.
- Set the $group variable as the BackupObject parameter value.
- Set the SelectedVolumes option for the BackupType parameter.
- Specify the SelectedVolumes parameter value.
- Set the $repository variable as the BackupRepository parameter value.

---

### Parameters
#### **ActiveFullOptions**
Specifies the schedule for active full backup.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRFullBackupOptions]`|false   |named   |False        |

#### **ApplicationProcessingOptions**
Specifies the settings for application-aware processing.

|Type                                 |Required|Position|PipelineInput|
|-------------------------------------|--------|--------|-------------|
|`[VBRApplicationProcessingOptions[]]`|false   |named   |False        |

#### **BackupCacheOptions**
Specifies backup cache settings of a Veeam Agent backup job for Microsoft Windows.
Note: You can apply backup cache settings for Veeam Agent backup jobs that are targeted at the following types of backup location:
* Veeam backup repository
* Veeam Cloud Connect repository

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRBackupCacheOptions]`|false   |named   |False        |

#### **BackupObject**
Specifies an array of protection groups and discovered computers that you want to add to the Veeam Agent backup job.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[Object[]]`|true    |named   |False        |

#### **BackupRepository**
Specifies the target backup location for the Veeam Agent backup job.
Note: This parameter is not available for backup policies.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **BackupType**
Specifies the scope of data that you want to back up.
* EntireComputer: for entire computer image backups.
* SelectedFiles: for file-level backups.
Note: This option is not available for the job that backs up failover clusters. If you select this option, you will not be able to switch to the EntireComputer or SelectedVolumes options.
* SelectedVolumes: for volume-level backups.
* MacUserHome: for backups of the Users folder that contains the Home folders of all users.
* UnixEntireFileSystem: for backups of Unix computers.
Valid Values:

* EntireComputer
* SelectedFiles
* SelectedVolumes
* MacUserHome
* UnixEntireFileSystem

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRComputerBackupJobBackupType]`|true    |named   |False        |

#### **CompactFullOptions**
Specifies the schedule for the compact operation of full backups created by the Veeam Agent backup job.
Veeam Backup & Replication will defragment and compact a full backup per the schedule settings specified in the VBRFullBackupOptions object.
Note: This parameter is not available for backup policies that Veeam Agent job applies to Linux computers.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRFullBackupOptions]`|false   |named   |False        |

#### **DeletedComputerRetentionPolicy**
For the EnableDeletedComputerRetention option.
Specifies the period of time in days to keep backup files for machines that have not been backed up for a certain period of time. Veeam Backup & Replication will remove backup files of these computers in case Veeam Agent backup job will not be able to back up these computers when the specified period of time is over.
Default: 30 days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Description**
Specifies the description of the Veeam Agent backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DestinationOptions**
Specifies the target backup location for the protected computers that you want to add to the backup policy.
Note: This parameter does not work for Veeam Agent backup jobs.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRComputerDestinationOptions]`|false   |named   |False        |

#### **EnableApplicationProcessing**
Enables application-aware processing for the Veeam Agent backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableDeletedComputerRetention**
Enables the option to keep the backup data for machines that have not been backed up for a certain period of time. Veeam Backup & Replication will remove backup files of these computers in case Veeam Agent backup job will not be able to back up these computers for the specified period.
Use the DeletedComputerRetentionPolicy parameter to specify the number of days for keeping the backup files of machines that have not been backed up for a certain period of time.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableIndexing**
Enables the guest file system indexing.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableSchedule**
Enables the Veeam Agent backup job to run on a regular basis.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ExcludedVolumes**
For volume-level backups.
Specifies an array of computer volumes that you want to exclude from backup.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRWindowsSelectedVolume[]]`|false   |named   |False        |

#### **GFSOptions**
Specifies a GFS retention. The cmdlet will create Veeam Agent job with the specified policy.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRComputerGFSOptions]`|false   |named   |False        |

#### **HealthCheckOptions**
Specifies the health check schedule for the latest restore point.
Note: This parameter is not available for backup policies that Veeam Agent job applies to Linux computers.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRHealthCheckOptions]`|false   |named   |False        |

#### **HighPriority**
Note: This parameter is available starting from Veeam Backup & Replication 11a (build 11.0.1.1261).
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **IncludeUsbDrives**
Defines that Veeam Backup & Replication will back up the periodically connected USB drives.
Note: You can set this parameter only for the following types of Veeam Agent jobs:
* Veeam Agent jobs that back up entire images of Windows computers.
* Veeam Agent backup policies that back up the Users folder that contains the Home folders of all users.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **IndexingOptions**
Specifies indexing scope settings.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerIndexingOptions[]]`|false   |named   |False        |

#### **Mode**
Specifies the Veeam Agent backup job mode:
* ManagedByAgent: use this option to create the backup policy.
Note: This mode is the only available mode for jobs that back up workstations.
* ManagedByBackupServer: use this option to create a backup job.
Note: This mode is the only available mode for jobs that back up failover clusters.
Valid Values:

* ManagedByAgent
* ManagedByBackupServer

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRComputerBackupJobMode]`|true    |named   |False        |

#### **Name**
Specifies the name that you want to assign to the Veeam Agent backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings for the Veeam Agent backup job.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OSPlatform**
Specifies the OS of the protected computers:
* Windows: for Windows computers.
* Linux: for Linux computers.
* Mac: for macOS computers.
* Unix: for Unix computers.
Valid Values:

* Windows
* Linux
* Mac
* Unix

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRAgentType]`|true    |named   |False        |

#### **RetentionPolicy**
Specifies the retention policy for backups created by the Veeam Agent.
Note: Retention policy specifies the following settings:
* For jobs that back up Windows workstations the retention policy specifies the number of days.
* For jobs that back up Linux computes the retention policy specifies the number of restore points.
* For jobs that back up servers, the retention policy specifies the number of restore points or a number of days.
* For Veeam Agent policies that that back up macOS computers, the retention policy specifies the restore points.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **RetentionType**
Specifies a retention type for Veeam Agent jobs managed by the Veeam Backup server. You can specify either of the following types:
* RestorePoints
* RestoreDays
Valid Values:

* RestorePoints
* RestoreDays

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRRetentionType]`|false   |named   |False        |

#### **SanIntegrationOptions**
Specifies storage integration settings for the Veeam Agent jobs.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRSanIntegrationOptions]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies the settings for Veeam Agent job schedule.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[VBRObject]`|false   |named   |False        |

#### **ScriptOptions**
Specifies custom script settings. Veeam Backup & Replication will run pre-job and post-job scripts per these settings.
Note: This parameter is not available for backup policies that Veeam Agent job applies to Windows computers.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **SelectedFilesOptions**
For file-level backups.
Specifies an array of folders with files that you want to back up.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRSelectedFilesBackupOptions]`|false   |named   |False        |

#### **SelectedVolumes**
For volume-level backups.
Specifies an array of computer volumes that you want to back up.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[IVBRSelectedVolume[]]`|false   |named   |False        |

#### **StorageOptions**
Specifies the settings for compression and storage optimization of the target backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRStorageOptions]`|false   |named   |False        |

#### **SyntheticFullOptions**
Specifies the schedule for synthetic full backup.
Note: This parameter is not available for backup policies that Veeam Agent job applies to Linux computers.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[VBRSyntheticFullOptions]`|false   |named   |False        |

#### **Type**
Specifies the type of the protected computers:
* Workstation: for remote workstations or laptops. Veeam Backup & Replication will apply the settings that are available in the Workstation edition of Veeam Agent.
* Server: for standalone servers. Veeam Backup & Replication will apply the settings available for the Server edition of Veeam Agent.
* FailoverCluster: for failover clusters.
Note: The FailoverCluster type does not apply for Veeam Agent for Linux.
Valid Values:

* Workstation
* Server
* FailoverCluster

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRComputerBackupJobType]`|true    |named   |False        |

#### **UseSnapshotlessFileLevelBackup**
Defines that the cmdlet will create the crash-consistent file-level backup without a snapshot.
Note: This parameter is available for Linux machines with the file-level backup scope only.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **WarningOptions**
Specifies notifications settings for computers processed by Veeam Agent policies.
Note: This parameter is not available for computers processed by Veeam Agent backup jobs.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRComputerWarningOptions]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRComputerBackupJob [-ActiveFullOptions <VBRFullBackupOptions>] [-ApplicationProcessingOptions <VBRApplicationProcessingOptions[]>] [-BackupCacheOptions 
```
```PowerShell
<VBRBackupCacheOptions>] -BackupObject <Object[]> [-BackupRepository <CBackupRepository>] -BackupType {EntireComputer | SelectedFiles | SelectedVolumes | MacUserHome | 
```
```PowerShell
UnixEntireFileSystem} [-CompactFullOptions <VBRFullBackupOptions>] [-DeletedComputerRetentionPolicy <Int32>] [-Description <String>] [-DestinationOptions 
```
```PowerShell
<VBRComputerDestinationOptions>] [-EnableApplicationProcessing] [-EnableDeletedComputerRetention] [-EnableIndexing] [-EnableSchedule] [-ExcludedVolumes 
```
```PowerShell
<VBRWindowsSelectedVolume[]>] [-GFSOptions <VBRComputerGFSOptions>] [-HealthCheckOptions <VBRHealthCheckOptions>] [-HighPriority] [-IncludeUsbDrives] [-IndexingOptions 
```
```PowerShell
<VBRComputerIndexingOptions[]>] -Mode {ManagedByAgent | ManagedByBackupServer} [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] -OSPlatform {Windows | Linux 
```
```PowerShell
| Mac | Unix} [-RetentionPolicy <Int32>] [-RetentionType {RestorePoints | RestoreDays}] [-SanIntegrationOptions <VBRSanIntegrationOptions>] [-ScheduleOptions <VBRObject>] 
```
```PowerShell
[-ScriptOptions <VBRJobScriptOptions>] [-SelectedFilesOptions <VBRSelectedFilesBackupOptions>] [-SelectedVolumes <IVBRSelectedVolume[]>] [-StorageOptions 
```
```PowerShell
<VBRStorageOptions>] [-SyntheticFullOptions <VBRSyntheticFullOptions>] -Type {Workstation | Server | FailoverCluster} [-UseSnapshotlessFileLevelBackup] [-WarningOptions 
```
```PowerShell
<VBRComputerWarningOptions>] [<CommonParameters>]
```

Add-VBRComputerFileProxyServer
------------------------------

### Synopsis
Adds new file proxy servers to the backup infrastructure.

---

### Description

This cmdlet adds file proxy servers to the backup infrastructure. Veeam Backup & Replication will use these servers for Veeam Agent storage integration.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Adding File Proxy Servers

$server = Get-VBRServer -Name "File Proxy 01"
Add-VBRComputerFileProxyServer -Server $server
This example shows how to add a file proxy server to the backup infrastructure. The file proxy server is assigned two concurrent tasks to process.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRComputerFileProxyServer cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Adding File Proxy Servers with Specific Number of Concurrent Tasks

$server = Get-VBRServer -Name "File Proxy 01"
Add-VBRComputerFileProxyServer -Server $server -ConcurrentTaskNumber 100
This example shows how to add file proxy servers to the backup infrastructure. The file proxy server is assigned 100 concurrent tasks to process.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRComputerFileProxyServer cmdlet. Set the $server variable as the Server parameter value. Specify the ConcurrentTaskNumber parameter value.

---

### Parameters
#### **ConcurrentTaskNumber**
Specifies a number of concurrent tasks that can be assigned to the file proxy simultaneously.
Permitted values: 1-128.
Default: 2.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Description**
Specifies a description of the file proxy server. The cmdlet will add the proxy server with the specified description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Server**
Specifies the host where the file proxy server is located. The cmdlet will add this host as the file proxy server to the backup infrastructure.
Note: The file proxy server must run the Microsoft Windows Server OS.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRComputerFileProxyServer [-ConcurrentTaskNumber <Int32>] [-Description <String>] -Server <CHost> [<CommonParameters>]
```

Add-VBRComputerRecoveryToken
----------------------------

### Synopsis
Creates tokens for bare-metal recovery.

---

### Description

This cmdlet creates tokens that you can use to perform bare-metal recovery.
Consider the following:
- You can create tokens only for backups of computers created by Veeam Agent.
- You can not create tokens for Veeam Agent backups located in Veeam Cloud Connect repositories.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Creating Token for Bare-Metal Recovery

$backup = Get-VBRBackup
$expirationDate = Get-Date -Year 2023 -Month 2 -Day 18 -Hour 0 -Minute 0 -Second 0
Add-VBRComputerRecoveryToken -Backup $backup[3] -ExpirationDate $expirationDate -FriendlyName "Win2049 token"

Name           : Recovery token 2022-10-18T23:29:07.992 for Backup Job 1
RecoveryToken  : EBe0-7e8e-72a6-3Eb2
ExpirationDate : 2/18/2023 12:00:00 AM
Backup         : {Backup Job 1}
FriendlyName   : Win2049 token
This example shows how to create a token that you can use to perform bare-metal recovery. The friendly name is Win2049 token and the token will expire on 02.18.2023 at 12.00.00 AM.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Save the result to the $backup variable.
2. Run the Get-Date cmdlet. Specify the Year, Month, Day, Hour, Minute and Second parameter values. Save the result to the $expirationDate variable.
3. Run the Add-VBRComputerRecoveryToken cmdlet. Set the $backup variable as the Backup parameter value. Set the $expirationDate variable as the ExpirationDate parameter value. Specify the FriendlyName parameter value.
The Get-VBRBackup cmdlet will return an array of backups. Mind the ordinal number of the necessary backup (in our example, it is the fourth backup in the array).
The cmdlet output will contain the following details on the token: Name, RecoveryToken, ExpirationDate, Backup and FriendlyName.

---

### Parameters
#### **Backup**
Specifies an array of backups. The cmdlet will use a token to perform bare-metal recovery from these backups.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ExpirationDate**
Specifies the expiration date of a token.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|false   |named   |False        |

#### **FriendlyName**
Specifies a token friendly name. The cmdlet will create a token with this name. If you do not specify a friendly name, the cmdlet will create a default friendly name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRComputerRecoveryToken -Backup <CBackup[]> [-ExpirationDate <DateTime>] [-FriendlyName <String>] [<CommonParameters>]
```

Add-VBRCopyJob
--------------

### Synopsis
Creates VM and file copy jobs.

---

### Description

This cmdlet creates a new job that copies the selected VMs to another location.
With a VM copy job, you can create a fully-functioning copy of a VM that will require no manual editing and adjustments. VM copying can be helpful if you want to move your datacenter, mirror your production environment to test lab storage, etc.
Note that when you create a copy job, you need to run it manually unless you enable a job schedule.
Run the Start-VBRJob cmdlet to start the created job.
Run the Set-VBRJobSchedule cmdlet to set schedule for the job.
Run the Copy-VBRJob cmdlet to create a copy of a job.
Note: The cmdlet will not run if the geographic location of the VMs added to the job and the job target host location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Examples
> Creating VM Copy Job

$machine = Find-VBRViEntity -Name "Serv49"
$repository = Get-VBRBackupRepository
Add-VBRCopyJob -Name "Copy02" -Type VDDK -Objects $machine -Repository $repository
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $machine variable.
2. Run the Get-VBRBackupRepository cmdlet. Save the result to the $repository variable.
3. Run the Add-VBRCopyJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the VDDK option for the Type parameter.
- Set the $machine variable as the Objects parameter value.
- Set the $repository variable as the Repository parameter value.

---

### Parameters
#### **Description**
Specifies the description of the copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **FileName**
Specifies the string with the file name for the created VM copy (by default, a copied file is given the same name as the VM).

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Folder**
Specifies the string with full path to the folder where the created VM copy should be stored.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Force**
Defines that the cmdlet will create a VM copy job even if the geographic location of the VMs added to the job and the target host location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the new copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **Objects**
Specifies an array of names for VMs that you want to copy.

|Type        |Required|Position|PipelineInput                 |Aliases|
|------------|--------|--------|------------------------------|-------|
|`[String[]]`|true    |named   |True (ByPropertyName, ByValue)|VM     |

#### **Repository**
Specifies the backup repository to which you want to place the copied VMs.
You cannot use scale-out backup repository as target to the VM copy job.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **Server**
Specifies the host where the created copy should be stored.

|Type     |Required|Position|PipelineInput|Aliases              |
|---------|--------|--------|-------------|---------------------|
|`[CHost]`|true    |named   |False        |Host<br/>TargetServer|

#### **SourceServer**
Specifies the server where the target files for file copy job are located.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

#### **Type**
Specifies the string with the type of the created copy job which defines how VM data is retrieved:
* VDDK - Virtual Disk Development Kit (VMware vStorage API): used for VM backup jobs data.
* Files: used for file backup data.
* Backup: not supported (legacy mode).
* Hyper-V: not supported (legacy mode).
* VCB: not supported (legacy mode).
* NET: not supported (legacy mode).
Valid Values:

* NET
* VCB
* VDDK
* Files
* HyperV
* Backup
* Tape
* ObjectStorage
* Unknown

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[ESourceType]`|true    |1       |False        |

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCopyJob [-Name] <String> [-Type] {NET | VCB | VDDK | Files | HyperV | Backup | Tape | ObjectStorage | Unknown} [-Description <String>] [-FileName <String>] -Folder 
```
```PowerShell
<String> [-Force] -Objects <String[]> -Server <CHost> -SourceServer <CHost> [<CommonParameters>]
```
```PowerShell
Add-VBRCopyJob [-Name] <String> [-Type] {NET | VCB | VDDK | Files | HyperV | Backup | Tape | ObjectStorage | Unknown} [-Description <String>] [-FileName <String>] [-Force] 
```
```PowerShell
-Objects <String[]> -Repository <CBackupRepository> [<CommonParameters>]
```

Add-VBRCredentials
------------------

### Synopsis
Creates credentials records.

---

### Description

This cmdlet creates a new credentials record that you can use to:
- Authenticate with the instances of your virtual infrastructure.
- Add Windows or Linux credentials records including authentication using the Identity/Pubkey method.
- Add Group Managed Service Accounts (gMSAs). For more information, see the Using Group Managed Service Accounts section in the User Guide for VMware vSphere.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Creating New Windows Credentials Record Using User Name and Password

```PowerShell
Add-VBRCredentials -Type "Windows" -User "Administrator" -Password "qwerty" -Description "Administrator Credentials"
This command creates a new Windows credentials record with the Administrator user name and the qwerty password of the account. The description is Administrator Credentials.
```
> Example 2. Creating New Credentials Record for Administrator

Get-Credential | Add-VBRCredentials -Description "Administrator Credentials"
This example shows how to add a credential record for administrator.
Perform the following steps:
1. Run the Get-Credential cmdlet.
2. Pipe the cmdlet output to the Add-VBRCredentials cmdlet. Specify the Description parameter value.
> Example 3. Creating New Linux Credentials Record for Administrator

```PowerShell
Add-VBRCredentials -Type "Linux" -User "Administrator" -Password "qwerty" -SshPort "23" -ElevateToRoot -AddToSudoers -RootPassword "rootpwd"
This command adds a Linux credentials record with the Administrator user name and the qwerty password of the account. The credentials record will use the 23 SSH port. The root password privileges are given to the user.
```
> Example 4. Adding Linux Pubkey Credentials Record

```PowerShell
Add-VBRCredentials -Type "LinuxPubKey" -User "user1" -Password "qwerty" -PrivateKeyPath "c:\temp\deneb.ppk" -Passphrase "Pass"
This command adds a Linux Pubkey credentials record with the user1 user name and the qwerty password of the account. The path to the private key is c:\temp\deneb.ppk. The passphrase to the private key is Pass.
```

---

### Parameters
#### **AddToSudoers**
For the Identity/Pubkey authentication method. Defines that a user account is added to sudoers file.
Default: (if the ElevateToRoot parameter is set to False) False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Credential**
Specifies the credentials you want to add.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[PSCredential]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies a description for a credentials record. It is recommended to input this value to make credential records easily identified.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ElevateToRoot**
For the Identity/Pubkey authentication method. Defines that non-root users are provided with root account privileges.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FailoverToSu**
Defines that Veeam Backup & Replication will use the su command if the sudo command fails.
If you provide this parameter, Veeam Backup & Replication will failover to the su command if sudo command fails. Otherwise, if sudo fails Veeam Backup & Replication will not be able to add Linux credentials records.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Passphrase**
Specifies a passphrase for a Linux private key on the backup server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Password**
Specifies a password you want to use for authenticating with instances of your virtual infrastructure.
Note: This parameter is not required if the Type parameter is set to ManagedSvcAccount. In other cases, this parameter is required.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **PrivateKey**
For the Identity/Pubkey authentication method. Specifies a private key.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **PrivateKeyPath**
For the Identity/Pubkey authentication method.
The private key is located at the c:\temp\deneb.ppk path. Use this parameter to specify a private key for the Linux public key option of the Type parameter.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **RootPassword**
For the Identity/Pubkey authentication method. Specifies a root password for authentication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SshPort**
For the Identity/Pubkey authentication method.
Specifies a number of an SSH port that you want to use to connect to a Linux server.
Permitted values: 1 to 65535.
Default: 22.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Type**
Specifies the credentials type: Linux, Windows, LinuxPubKey, ManagedSvcAccount.
Default: Windows.
Valid Values:

* Linux
* Windows
* LinuxPubKey
* ManagedSvcAccount

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRCredentialsType]`|false   |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the instances of your virtual infrastructure. Note that you should use DOMAIN\USERNAME usernames format for all hosts except ESX/ESXi hosts.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
System.Management.Automation.PSCredential

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRCredentials [-AddToSudoers] -Credential <PSCredential> [-Description <String>] [-ElevateToRoot] [-FailoverToSu] [-Passphrase <String>] [-PrivateKey <String>] 
```
```PowerShell
[-PrivateKeyPath <String>] [-RootPassword <String>] [-SshPort <Int32>] [-Type {Linux | Windows | LinuxPubKey | ManagedSvcAccount}] [<CommonParameters>]
```
```PowerShell
Add-VBRCredentials [-AddToSudoers] [-Description <String>] [-ElevateToRoot] [-FailoverToSu] [-Passphrase <String>] [-Password <String>] [-PrivateKey <String>] 
```
```PowerShell
[-PrivateKeyPath <String>] [-RootPassword <String>] [-SshPort <Int32>] [-Type {Linux | Windows | LinuxPubKey | ManagedSvcAccount}] -User <String> [<CommonParameters>]
```

Add-VBRDataCloudVaultRepository
-------------------------------

### Synopsis
Adds Veeam Data Cloud Vault storage to the backup infrastructure.

---

### Description

This cmdlet adds a Veeam Data Cloud Vault to the backup infrastructure.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

* [Get-VBRAzureBlobFolder](Get-VBRAzureBlobFolder.md)

* [New-VBRAzureBlobFolder](New-VBRAzureBlobFolder.md)

---

### Examples
> Example 1. Adding Veeam Data Cloud Vault [Mapping to Existing Folder]

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect
$folder = Get-VBRAzureBlobFolder -Container $container -Connection $connect
Add-VBRDataCloudVaultRepository -AzureBlobFolder $folder[3] -Connection $connect
This example shows how to add Veeam Data Cloud Vault to the backup infrastructure and map object storage repository to a new folder. The cmdlet will map object storage repository to the Images folder.
Perform the following steps:
1.	Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2.	Run the Connect-VBRAzureBlobService cmdlet. Specify the Account, RegionType and ServiceType parameter values. Save the result to the $connect variable.
3.	Run the Get-VBRAzureBlobContainer cmdlet. Specify the Connection parameter value. Save the result to the $container variable.
4.	Run the New-VBRAzureBlobFolder cmdlet. Specify the Container, Connection and Name parameter values. Save the result to the $folder variable.
5.	Run the Add-VBRDataCloudVaultRepository cmdlet. Set the $folder variable as the AzureBlobFolder parameter value. Set the $connect variable as the Connection parameter value.
> Example 2. Adding Veeam Data Cloud Vault [Mapping to New Folder]

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect
$folder = New-VBRAzureBlobFolder -Container $container -Connection $connect -Name "Images"
Add-VBRDataCloudVaultRepository -AzureBlobFolder $folder -Connection $connect
This example shows how to add Veeam Data Cloud Vault to the backup infrastructure and map object storage repository to an existing folder.
Perform the following steps:
1.	Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2.	Run the Connect-VBRAzureBlobService cmdlet. Specify the Account, RegionType and ServiceType parameter values. Save the result to the $connect variable.  Note: You must specify the Global region to use a connection with Azure Blob storage and add a Veeam Data Cloud Vault.
3.	Run the Get-VBRAzureBlobContainer cmdlet. Specify the Connection parameter value. Save the result to the $container variable.
4.	Run the Get-VBRAzureBlobFolder cmdlet. Specify the Container and Connection parameter values. Save the result to the $folder variable.
The Get-VBRAzureBlobFolder cmdlet will return an array of folders. Mind the ordinal number of the necessary folders (in our example, it is the fourth restore point in the array).
5.	Run the Add-VBRDataCloudVaultRepository cmdlet. Set the $folder variable as the AzureBlobFolder parameter value. Set the $connect variable as the Connection parameter value.

---

### Parameters
#### **AzureBlobFolder**
Specifies an Azure Blob folder. The cmdlet will map Veeam Data Cloud Vault to this folder.

|Type                  |Required|Position|PipelineInput |
|----------------------|--------|--------|--------------|
|`[VBRAzureBlobFolder]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with Azure Blob storage. The cmdlet will use this connection to add a Veeam Data Cloud Vault.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureBlobConnection]`|true    |named   |False        |

#### **Description**
Specifies a description of an object storage. The cmdlet will add a Veeam Data Cloud Vault to the backup infrastructure with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableConcurrentTasksLimit**
Enables limits for concurrent tasks that can be processed by the object storage repository. Use the MaxConcurrentTasks paramter to specify the number of tasks.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableSizeLimit**
Defines that the cmdlet will enable size limits for a Veeam Data Cloud Vault that you want to add as a backup repository. Use the SizeLimit parameter to specify the size limits.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ForceOwnershipChange**
Defines that the cmdlet will force ownership change of the object storage folder. If you do not provide this parameter and the object storage folder is owned by another host, you will not be able to add object storage to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ImmutabilityPeriod**
Defines the immutability period in days. Default: 30. Maximum: 999.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MaxConcurrentTasks**
Specifies a maximum number of concurrent tasks that can be processed at once by the object storage repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MountServerOptions**
Specifies settings of a mount server for object storage repositories. Note: This parameter is required for object storage repositories that you want to add as performance extents to a scale-out backup repository.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRRepositoryMountServerOptions]`|false   |named   |False        |

#### **Name**
Specifies a name of an object storage. The cmdlet will add a Veeam Data Cloud Vault to the backup infrastructure with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SizeLimit**
For the EnableSizeLimit parameter. Specifies size limits in GB for data blocks that you want to store in a Veeam Data Cloud Vault. Permitted value: 1024 - 1073741824. Default: 10240.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobFolder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRDataCloudVaultRepository -AzureBlobFolder <VBRAzureBlobFolder> -Connection <VBRAzureBlobConnection> [-Description <String>] [-EnableConcurrentTasksLimit] 
```
```PowerShell
[-EnableSizeLimit] [-Force] [-ForceOwnershipChange] [-ImmutabilityPeriod <Int32>] [-MaxConcurrentTasks <Int32>] [-MountServerOptions <VBRRepositoryMountServerOptions>] 
```
```PowerShell
[-Name <String>] [-SizeLimit <Int32>] [<CommonParameters>]
```

Add-VBRDiscoveredComputerConfigurationPolicy
--------------------------------------------

### Synopsis
Updates Veeam Agent settings on discovered computers using available configuration options.
IMPORTANT! Make sure to test this cmdlet in the lab before you run it in the production environment.

---

### Description

This cmdlet updates Veeam Agent settings on individual computers or protection groups using available configuration options. New settings are applied after the rescan operation.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Get-VBRDiscoveredComputer](Get-VBRDiscoveredComputer.md)

* [New-VBRDiscoveredComputerConfigurationOption](New-VBRDiscoveredComputerConfigurationOption.md)

---

### Examples
> Updating Path to Temporary Folder Storing SQL Backup Logs on Windows Computers

$group = Get-VBRProtectionGroup -Name "Windows"
$computers = Get-VBRDiscoveredComputer -ProtectionGroup $group
$SQLLogpath = New-VBRDiscoveredComputerConfigurationOption -Name "SqlTempLogPath" -Value "D:\Temp"
$configuration_policy = Add-VBRDiscoveredComputerConfigurationPolicy -DiscoveredComputer $computers -AgentType Windows -ConfigurationOption $SQLLogpath
This example shows how to update the SqlTempLogPath registry value on Windows computers.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRDiscoveredComputer cmdlet. Set the $group variable as the ProtectionGroup parameter value. Save the result to the $computers variable.
3. Run the New-VBRDiscoveredComputerConfigurationOption cmdlet. Specify the Name and the Value parameter values. Save the result to the $SQLLogpath variable.
4. Run the Add-VBRDiscoveredComputerConfigurationPolicy cmdlet. Specify the following settings:
- Set the $computers variable as the DiscoveredComputer parameter value.
- Specify the AgentType parameter value.
- Set the $SQLLogpath variable as the ConfigurationOption parameter value.
Save the result to the $configuration_policy variable.

---

### Parameters
#### **AgentType**
Specifies the type of a Veeam Agent:
* Windows
* Linux
* Mac
* Unix
Valid Values:

* Windows
* Linux
* Mac
* Unix

|Type            |Required|Position|PipelineInput        |
|----------------|--------|--------|---------------------|
|`[VBRAgentType]`|true    |named   |True (ByPropertyName)|

#### **ConfigurationOption**
Specifies the configuration option that you want to assign to discovered computers.

|Type                                          |Required|Position|PipelineInput        |
|----------------------------------------------|--------|--------|---------------------|
|`[VBRDiscoveredComputerConfigurationOption[]]`|true    |named   |True (ByPropertyName)|

#### **DiscoveredComputer**
Specifies an array of discovered computers. The cmdlet will assign the configuration option to these computers.

|Type                       |Required|Position|PipelineInput        |
|---------------------------|--------|--------|---------------------|
|`[VBRDiscoveredComputer[]]`|true    |named   |True (ByPropertyName)|

#### **ProtectionGroup**
Specifies an array of protection groups to which you want to assign the configuration option.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRProtectionGroup[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRProtectionGroup[]

Veeam.Backup.PowerShell.Infos.VBRDiscoveredComputer[]

Veeam.Backup.PowerShell.Infos.VBRAgentType

Veeam.Backup.PowerShell.Infos.VBRDiscoveredComputerConfigurationOption[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRDiscoveredComputerConfigurationPolicy -AgentType {Windows | Linux | Mac | Unix} -ConfigurationOption <VBRDiscoveredComputerConfigurationOption[]> -DiscoveredComputer 
```
```PowerShell
<VBRDiscoveredComputer[]> [<CommonParameters>]
```
```PowerShell
Add-VBRDiscoveredComputerConfigurationPolicy -AgentType {Windows | Linux | Mac | Unix} -ConfigurationOption <VBRDiscoveredComputerConfigurationOption[]> -ProtectionGroup 
```
```PowerShell
<VBRProtectionGroup[]> [<CommonParameters>]
```

Add-VBRDiscoveredComputerRecoveryMedia
--------------------------------------

### Synopsis
Creates Veeam Recovery Media.

---

### Description

This cmdlet creates Veeam Recovery - a recovery image of your computer. You can create Veeam Recovery Media on removable storage devices, optical disks or save it locally in the ISO file format.
Note: To create Veeam Recovery Media for a protected computer, you must have a full backup of this computer. This backup must contain an OS of this computer.

---

### Related Links
* [Get-VBRDiscoveredComputer](Get-VBRDiscoveredComputer.md)

* [Get-VBRRecoveryMediaTarget](Get-VBRRecoveryMediaTarget.md)

* [New-VBRRecoveryMediaISOTarget](New-VBRRecoveryMediaISOTarget.md)

---

### Examples
> Example 1. Saving Veeam Recovery Media in ISO File Format

$isopath = New-VBRRecoveryMediaISOTarget -Path "c:\image.iso"
$computer = Get-VBRDiscoveredComputer | Where {$_.name -eq "support.east.local"}
Add-VBRDiscoveredComputerRecoveryMedia -DiscoveredComputer $computer -RecoveryMediaTarget $isopath
This example shows how to save Veeam Recovery Media in the ISO file format.
Perform the following steps:
1. Run the New-VBRRecoveryMediaISOTarget cmdlet. Specify the Path parameter value. Save the result to the $isopath variable.
2. Run the Get-VBRDiscoveredComputer cmdlet. Use the Where-Object method to get the computer for which you want to create Veeam Recovery Media. Save the result to the $computer variable.
3. Run the Add-VBRDiscoveredComputerRecoveryMedia cmdlet. Set the $computer variable as the DiscoveredComputer parameter value. Set the $isopath variable as the RecoveryMediaTarget parameter value.
> Example 2. Creating Veeam Recovery Media on Removable Storage Device

$computer = Get-VBRDiscoveredComputer | Where {$_.name -eq "support.east.local"}
$removable = Get-VBRRecoveryMediaTarget -Type RemovableDevice | Where {$_.Description -eq "RECOVERY (F:)"}
Add-VBRDiscoveredComputerRecoveryMedia -DiscoveredComputer $computer -RecoveryMediaTarget $removable
This example shows how to create Veeam Recovery Media on a removable storage device.
Perform the following steps:
1. Run the Get-VBRDiscoveredComputer cmdlet. Use the Where-Object method to get the computer for which you want to create Veeam Recovery Media. Save the result to the $computer variable.
2. Run the Get-VBRRecoveryMediaTarget cmdlet. Set the RemovableDevice value as the Type parameter value. Use the Where-Object method to get the removable storage device where you want to create Veeam Recovery Media. Save the result to the $removable variable.
3. Run the Add-VBRDiscoveredComputerRecoveryMedia cmdlet. Set the $computer variable as the DiscoveredComputer parameter value. Set the $removable variable as the RecoveryMediaTarget parameter value.

---

### Parameters
#### **DiscoveredComputer**
Specifies the discovered computer for which you want to create Veeam Recovery Media.
Note: You can create Veeam Recovery Media only for discovered computers.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[VBRDiscoveredComputer]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create Veeam Recovery Media even if any of the following occurs:
* The target removable device needs to be formatted.
* The target optical disk needs to be erased.
* The ISO file under the specified path already exists.
* There is not enough space on the target removable device or optical disk.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **RecoveryMediaTarget**
Specifies a storage device, optical disk or the ISO file path for creating Veeam Recovery Media.

|Type                      |Required|Position|PipelineInput        |
|--------------------------|--------|--------|---------------------|
|`[VBRRecoveryMediaTarget]`|true    |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRDiscoveredComputer

Veeam.Backup.PowerShell.Infos.VBRRecoveryMediaTarget

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRDiscoveredComputerRecoveryMedia -DiscoveredComputer <VBRDiscoveredComputer> [-Force] -RecoveryMediaTarget <VBRRecoveryMediaTarget> [<CommonParameters>]
```

Add-VBREC2BackupCopyJob
-----------------------

### Synopsis
Creates backup copy jobs for backups of Amazon EC2 instances.

---

### Description

This cmdlet creates backup copy jobs for backups of Amazon EC2 instances. Backup copy jobs copy the backups from Amazon S3 external repositories to target repositories.

Note: The cmdlet creates jobs in a disabled state. Run Enable-VBRJob to enable jobs.

---

### Related Links
* [Get-VBREC2Backup](Get-VBREC2Backup.md)

---

### Examples
> Example 1

```PowerShell
$instance = Get-VBREC2Backup -Name "VMEC2 Instance SRV10"
Add-VBREC2BackupCopyJob -Backup $instance
This example shows how to create a backup copy job.   1. Run Get-VBREC2Backup to get a backup of EC2 instances that you want to copy. Save the result to the $instance variable.   2. Run Add-VBREC2BackupCopyJob with the $instance variable.
```

---

### Parameters
#### **Backup**
Specifies an array of EC2 instance backups that you want to copy. Accepts the VBREC2Backup[] object. To get this object, run the Get-VBREC2Backup cmdlet.

|Type              |Required|Position|PipelineInput |
|------------------|--------|--------|--------------|
|`[VBREC2Backup[]]`|true    |named   |True (ByValue)|

#### **BackupWindowOptions**
Specifies the period of time when a backup copy job is allowed to run. Accepts the VBRBackupWindowOptions type.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

#### **Description**
Specifies a description of a backup copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a name of a backup copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **RecoveryPointObjective**
Specifies a backup copy interval. The cmdlet will copy new restore points of EC2 instance backup to the target backup repository. Accepts the VBRRecoveryPointObjective type.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRRecoveryPointObjective]`|false   |named   |False        |

#### **Repository**
Specifies a target backup repository. The cmdlet will copy EC2 instance backups to this repository. Accepts the CBackupRepository type.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RetentionPolicy**
Specifies a number of restore points to keep on a target backup repository. Accepts the VBRRetentionPolicy type.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRRetentionPolicy]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBREC2Backup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBREC2BackupCopyJob -Backup <VBREC2Backup[]> [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] [-Name <String>] [-RecoveryPointObjective 
```
```PowerShell
<VBRRecoveryPointObjective>] [-Repository <CBackupRepository>] [-RetentionPolicy <VBRRetentionPolicy>] [<CommonParameters>]
```

Add-VBREncryptionKey
--------------------

### Synopsis
Creates encryption key.

---

### Description

This cmdlet creates a new encryption key.
This cmdlet accepts SecureString type. Use Microsoft PowerShell standard capabilities to convert your password into the SecureString.

---

### Examples
> Creating Encryption Key

$plainpassword = "VeeamPassword"
$securepassword = $plainpassword | ConvertTo-SecureString -AsPlainText -Force
Add-VBREncryptionKey -Password $securepassword -Description "Veeam Administrator"
This command creates the Veeam Administrator encryption key.
Perform the following steps:
1. Save the password into the $plainpassword variable.
2. Turn the password into a SecureString by running the ConvertTo-SecureString command. Provide the AsPlainText and Force parameters.
3. Run the Add-VBREncryptionKey cmdlet. Set the $securepassword variable as the Password parameter value. Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies description of the new encryption key that you can further use to search encryption keys.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |1       |False        |

#### **Password**
Specifies password you want to use to encrypt data.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[SecureString]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
System.Security.SecureString

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBREncryptionKey [-Password] <SecureString> [[-Description] <String>] [<CommonParameters>]
```

Add-VBREpBackupCopyJob
----------------------

### Synopsis
Creates backup copy jobs for Endpoint backups.

---

### Description

This cmdlet creates a backup copy job for Endpoint backups. Note that the backup copy job is created in disabled state. Run Enable-VBRJob to start the job running on the defined schedule.

---

### Examples
> Example 1

```PowerShell
$EPbackup = Get-VBRBackup -Name "Backup Job Mediaserver"
$repository = Get-VBRBackupRepository -Name "WinLocal"
Add-VBREpBackupCopyJob -Name "Mediaserver Endpoint Backup Copy" -Description "Mediaserver Endpoint Backup Copy Job" -Backup $EPbackup -DirectOperation -Repository $repository
This command creates a backup copy job with the direct data transfer. Run Get-VBRBackup to get the source backup and save it to the $EPbackup variable. Run Get-VBRBackupRepository to get the repository and save it to the $repository variable. Run Add-VBREPBackupCopyJob with the $EPbackup and $repository variables. Use the -DirectOperation parameter.
```
> Example 2

```PowerShell
$EPbackup = Get-VBRBackup -Name "Backup Job Mediaserver"
$repository = Get-VBRBackupRepository -Name "WinLocal"
$wansource = Get-VBRWANAccelerator -Name "Backup WAN Sydney"
$wantarget = Get-VBRWANAccelerator -Name "Backup WAN London"
Add-VBREPBackupCopyJob -Name "Mediaserver Endpoint Backup Copy" -Description "Mediaserver Endpoint Backup Copy Job" -Repository $repository -SourceAccelerator $wansource -TargetAccelerator $wantarget
This command creates a backup copy job using WAN accelerators. Run Get-VBRBackup to get the source backup and save it to the $EPbackup variable. Run Get-VBRBackupRepository to get the repository and save it to the $repository variable. Run Get-VBRWANAccelerator to get a source and a target Wan accelerators. Save them to the $wansource and $wantarget variables accordingly.
```

---

### Parameters
#### **Backup**
Specifies the array of Endpoint backups you want to copy.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **BackupJob**
Specifies the Veeam Agent for Microsoft Windows backup job. The cmdlet will add this job to a backup copy job.

|Type          |Required|Position|PipelineInput        |
|--------------|--------|--------|---------------------|
|`[VBREPJob[]]`|false   |named   |True (ByPropertyName)|

#### **Description**
Specifies the description of the backup copy job.  If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DirectOperation**
Used for the direct data transfer. Enables direct data transfer sending the data directly to the target backup repository without performing data deduplication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **EnableImmediateCopy**
Defines that the cmdlet will enable the immediate copy mode. If you specify this parameter, Veeam Backup & Replication will copy new restore points and logs as soon as they appear. Otherwise, Veeam Backup & Replication will copy data from backups once per backup copy interval.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will create backup copy jobs without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup copy job. You can input string up to 255 symbols. If not set, Veeam Backup & Replication will assign a default backup copy job name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **OSPlatform**
Specifies the OS of the  computers where Veeam Agent will operate: �	Windows: for Windows computers.
�	Linux: for Linux computers.
�	Mac: for macOS computers.
�	Unix: for Unix computers.
Valid Values:

* Windows
* Linux
* Mac
* Unix

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRAgentType]`|true    |named   |False        |

#### **Repository**
Specifies the backup repository to where you want to copy the data. Accepts the backup repository object or string type (repository name). Default: default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **SourceAccelerator**
Used for the data transfer using WAN accelerators. Specifies the WAN accelerator on the source side. Remember to set the pair of source and target WAN accelerators.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|true    |named   |False        |

#### **SourceRepository**
Specifies an array of source backup repositories. Accepts the CBackupRepository[] object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput        |
|-----------------------|--------|--------|---------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName)|

#### **TargetAccelerator**
Used for the data transfer using WAN accelerators. Specifies the WAN accelerator on the target side. Remember to set the pair of source and target WAN accelerators.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackup[]

Veeam.Backup.PowerShell.Infos.VBREPJob[]

Veeam.Backup.Core.CBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBREpBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <VBREPJob[]>] [-Description <String>] -DirectOperation [-EnableImmediateCopy] [-Force] [-Name <String>] -OSPlatform 
```
```PowerShell
{Windows | Linux | Mac | Unix} [-Repository <CBackupRepository>] [-SourceRepository <CBackupRepository[]>] [<CommonParameters>]
```
```PowerShell
Add-VBREpBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <VBREPJob[]>] [-Description <String>] [-EnableImmediateCopy] [-Force] [-Name <String>] -OSPlatform {Windows | Linux 
```
```PowerShell
| Mac | Unix} [-Repository <CBackupRepository>] -SourceAccelerator <CWanAccelerator> [-SourceRepository <CBackupRepository[]>] [-TargetAccelerator <CWanAccelerator>] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRESXi
-----------

### Synopsis
Adds VMware ESXi hosts to the backup infrastructure.

---

### Description

This cmdlet adds VMware ESXi hosts to the backup infrastructure.
Note: If an ESXi host is a part of a vCenter Server, it is recommended to add the vCenter Server instead of a single ESXi host.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding VMware ESXi Hosts Using Account User Name and Password

```PowerShell
Add-VBRESXi -Name 172.16.11.188 -User Administrator -Password qwerty
This command adds the 172.16.11.188 ESXi host with the Administrator user name and the qwerty password of the account.
```
> Example 2. Adding VMware ESXi Hosts Using Credentials Managed by Veeam Backup & Replication

$Administrator = Get-VBRCredentials
Add-VBRESXi -Name 172.16.11.188 -Credentials $Administrator
This example shows how to add the 172.16.11.188 ESXi host using the credentials managed by Veeam Backup & Replication.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRESXi cmdlet. Specify the Name parameter value. Set the $Administrator variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the ESXi server.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the ESXi server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add VMware ESXi hosts without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the full DNS name or IP address of the ESXi host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **Password**
Specifies the password you want to use for authenticating with the ESXi host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |2       |False        |

#### **Port**
Specifies the Web service port for connection to the ESXi host.
Default: 443.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the ESXi host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |1       |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRESXi [-Name] <String> -Credentials <CCredentials> [-Description <String>] [-Force] [-Port <Int32>] [<CommonParameters>]
```
```PowerShell
Add-VBRESXi [-Name] <String> [-User] <String> [-Password] <String> [-Description <String>] [-Force] [-Port <Int32>] [<CommonParameters>]
```

Add-VBRFailoverPlan
-------------------

### Synopsis
Creates failover plans or cloud failover plans.

---

### Description

This cmdlet creates the following types of failover plans:
- Failover plan
- Cloud failover plan

---

### Examples
> Example 1

$DNS = Find-VBRViEntity -Name "DNSServer" | New-VBRFailoverPlanObject -BootDelay 0
$MSExchange01 = Find-VBRViEntity -Name "MS_Exchange_Server_01" | New-VBRFailoverPlanObject -BootOrder 1  -BootDelay 180
$MSExchange02 = Find-VBRViEntity -Name "MS_Exchange_Server_02" | New-VBRFailoverPlanObject -BootOrder 2  -BootDelay 120
Add-VBRFailoverPlan -Name "MS Exchange Group Failover" -FailoverPlanObject $DNS, $MSexchange01, $MSExchange02 -Description "Failover plan for the mail servers group"
This example shows how to create a failover plan for a group of VMs: a DNS server and two Microsoft Exchange servers.

Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Pipe the cmdlet output to the New-VBRFailoverPlanObject cmdlet. Specify the BootDelay parameter value. Save the result to the $DNS variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Pipe the cmdlet output to the New-VBRFailoverPlanObject cmdlet. Specify the BootOrder and BootDelay parameter values. Save the result to the $MSExchange01 variable.
3. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Pipe the cmdlet output to the New-VBRFailoverPlanObject cmdlet. Specify the BootOrder and BootDelay parameter values. Save the result to the $MSExchange02 variable.
4. Run the Add-VBRFailoverPlan cmdlet. Specify the Name parameter value. Set the $DNS, $MSexchange01, $MSExchange02 variables as the FailoverPlanObject parameter value. Specify the Description parameter value.
> Example 2

$point = Get-VBRRestorePoint -Name "Cloud VM 01" | Sort-Object $_.creationtime -Descending | Select -First 1
$cloudreplica = New-VBRCloudFailoverPlanObject -RestorePoint $point -BootDelay 0
Add-VBRFailoverPlan -Name "Cloud Group Failover" -CloudFailoverPlanObject $cloudreplica -Description "Cloud replica failover plan"
[Cloud] This example shows how to create a cloud failover plan named Cloud Failover for a replica.

Perform the following steps:
1. Run the Get-VBRRestorePoint cmdlet. Specify the Name parameter value. Use the Sort-Object and the Select commands to select the first restore point. Save the result to the $point variable.
2. Run the New-VBRCloudFailoverPlanObject cmdlet. Set the $point variable as the RestorePoint parameter value. Specify the BootDelay parameter value. Save the result to the $cloudreplica variable.
3. Run the Add-VBRFailoverPlan cmdlet. Specify the Name parameter value. Set the $cloudreplica variable as the CloudFailoverPlanObject parameter value. Specify the Description parameter value.

---

### Parameters
#### **CloudFailoverPlanObject**
Specifies the VM(s) replicated to cloud. These VMs will be added to the cloud failover plan. Accepts VBRCloudFailoverPlanObject. You can assign multiple VMs to this object.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCloudFailoverPlanObject[]]`|true    |named   |False        |

#### **Description**
Specifies the description of the failover plan. If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnablePublicIpRule**
If set, the failover plan will use the public IP rules configured in the VBRFailoverPlanObject or VBRCloudFailoverPlanObject.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FailoverPlanObject**
Specifies the VM(s) you want to add to the failover plan. Accepts VBRFailoverPlanObject. You can assign multiple VMs to this object.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[VBRFailoverPlanObject[]]`|true    |named   |False        |

#### **Name**
Specifies the name that you want to assign to the failover plan.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **PostfailoverCommand**
Specifies the path to the script you want to automatically run after failing over to replicas is complete. Veeam Backup & Replication provides a 10 minute timeout for the script. In case the script does not run successfully or timeout ends, the failover proceeds disregarding script failure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **PrefailoverCommand**
Specifies the path to the script you want to automatically run before failing over to replicas. Veeam Backup & Replication provides a 10 minute timeout for the script. In case the script does not run successfully or timeout ends, the failover is not performed.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRFailoverPlan -CloudFailoverPlanObject <VBRCloudFailoverPlanObject[]> [-Description <String>] [-EnablePublicIpRule] -Name <String> [-PostfailoverCommand <String>] 
```
```PowerShell
[-PrefailoverCommand <String>] [<CommonParameters>]
```
```PowerShell
Add-VBRFailoverPlan [-Description <String>] [-EnablePublicIpRule] -FailoverPlanObject <VBRFailoverPlanObject[]> -Name <String> [-PostfailoverCommand <String>] 
```
```PowerShell
[-PrefailoverCommand <String>] [<CommonParameters>]
```

Add-VBRFiler
------------

### Synopsis
Adds an enterprise NAS system as a file share to the backup infrastructure.

---

### Description

This cmdlet adds an enterprise NAS system as a file share to the backup infrastructure.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding Enterprise NAS System as File Share Without Authentication

$netapp = Get-NetAppHost -Name 'ontap-2'
$repository = Get-VBRBackupRepository -Name "Backup Repository 05"
Add-VBRFiler -StorageServer $netapp -CacheRepository $repository
This example shows how to add the ontap-2 enterprise NAS system as a file share to the inventory without authentication. The cmdlet will set the Backup Repository 05 as the cache repository.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $netapp variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the Add-VBRFiler cmdlet. Specify the following settings:
- Set the $netapp variable as the StorageServer parameter value.
- Set the $repository variable as the CacheRepository parameter value.
> Example 2. Adding Enterprise NAS System as File Share with User Name and Password

$netapp = Get-NetAppHost -Name 'ontap-2'
$repository = Get-VBRBackupRepository -Name 'Backup Repository 05'
Add-VBRFiler -StorageServer $netapp -User Administrator -Password AdminCredentials -CacheRepository $repository
This example shows how to add the ontap-2 enterprise NAS system as a file share to the inventory with user name and password. The cmdlet will set the Backup Repository 05 as the cache repository.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $netapp variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the Add-VBRFiler cmdlet. Specify the following settings:
- Set the $netapp variable as the StorageServer parameter value.
- Specify the User parameter value.
- Specify the Password parameter value.
- Set the $repository variable as the CacheRepository parameter value.
> Example 3. Adding Enterprise NAS System as a File Share with Credentials

$netapp = Get-NetAppHost -Name 'ontap-2'
$repository = Get-VBRBackupRepository -Name 'Backup Repository 05'
$credentials = Get-VBRCredentials -Name "Veeam Administrator"
Add-VBRFiler -StorageServer $netapp -AccessCredentials $credentials -CacheRepository $repository
This example shows how to add the ontap-2 enterprise NAS system as a file share to the inventory with credentials. The cmdlet will set the Backup Repository 05 as the cache repository.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $netapp variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the Get-VBRCredentials cmdlet. Save the result to the $credentials variable.
4. Run the Add-VBRFiler cmdlet. Specify the following settings:
- Set the $netapp variable as the StorageServer parameter value.
- Set the $credentials variable as the AccessCredentials parameter value.
- Set the $repository variable as the CacheRepository parameter value.

---

### Parameters
#### **AccessCredentials**
Specifies credentials that the cmdlet will use to authenticate against the enterprise NAS system. Accepts the CCredentials object. To get this object, run the Get-VBRCredentials cmdlet.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from the file server. You can specify one of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRNASBackupIOControlLevel]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository. Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **EnableSnapDiff**
Use this parameter for Dell PowerScale (formerly Isilon) storages only. Defines that during the file share backup jobs Veeam Backup & Replication will use the file change tracking technology provided by the NAS manufacturer.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password. The cmdlet will use this password to authenticate against the enterprise NAS system.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **StorageServer**
Specifies the storage server where the file share is located. The cmdlet will add this storage server as a file share to the backup infrastructure. Accepts the IHost object. To get this object, run the Get-VBRServer cmdlet.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[IHost]`|true    |named   |True (ByPropertyName, ByValue)|

#### **User**
Specifies the user name. The cmdlet will apply this user name to authenticate against the enterprise NAS system.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.Core.IHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRFiler -AccessCredentials <CCredentials> [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> [-EnableSnapDiff] 
```
```PowerShell
-StorageServer <IHost> [<CommonParameters>]
```
```PowerShell
Add-VBRFiler [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> [-EnableSnapDiff] -Password <String> -StorageServer 
```
```PowerShell
<IHost> -User <String> [<CommonParameters>]
```

Add-VBRFileToTapeJob
--------------------

### Synopsis
Creates a file to tape job.

---

### Description

This cmdlet creates a new file to tape job.

---

### Related Links
* [Get-VBRTapeMediaPool](Get-VBRTapeMediaPool.md)

* [New-VBRFileToTapeBackupPolicy](New-VBRFileToTapeBackupPolicy.md)

* [New-VBRFileToTapeObject](New-VBRFileToTapeObject.md)

* [New-VBRNotificationOptions](New-VBRNotificationOptions.md)

* [New-VBRJobScriptOptions](New-VBRJobScriptOptions.md)

---

### Examples
> Example - Creating File to Tape Job

$server = Get-VBRServer -Name "fileserver08.tech.local"
$creds = Get-VBRCredentials -Description "Fileserver08 Adminisrator"
$object = New-VBRFileToTapeObject -Server $server -Path "D:\Summary Reports\Payroll Reports" -Credentials $creds
$mediapool = Get-VBRTapeMediaPool -Name "File Backup Media Pool"
$monthlyoptions = New-VBRMonthlyOptions -DayNumberInMonth Last -DayOfWeek Sunday Period 22:00
$policy = New-VBRFileToTapeBackupPolicy -Type Monthly -MonthlyOptions $monthlyoptions -Enabled
Add-VBRFileToTapeJob -Name "Payroll Reports to Tape" -Description "Finance reports: summary reports" -Object $object -FullBackupMediaPool $mediapool -FullBackupPolicy $policy
This example shows how to create a file to tape job that backs up the Payroll Reports folder. The job runs once a month and creates only full backups.

Perform the following steps:
1. Run the Get-VBRServer cmdlet to get the server where the files are located. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRCredentials cmdlet. Specify the Description parameter value. Save the result to the $creds variable.
3. Run the New-VBRFileToTapeObject cmdlet. Set the $server variable as the Server parameter value. Specify the Path parameter value. Set the $creds variable as the Credentials parameter value.
4. Run the Get-VBRTapeMediaPool cmdlet. Specify the Name parameter value. Save it to the $mediapool variable.
5. Run the New-VBRMonthlyOptions cmdlet. Specify the DayNumberInMonth, DayOfWeek and Period parameter values. Save the result to the $monthlyoptions variable.
6. Run the New-VBRFileToTapeBackupPolicy cmdlet. Set the Monthly option for the Type parameter. Set the $monthlyoptions variable as the MonthlyOptions parameter value. Provide the Enabled parameter. Save the result to the $policy variable.
7. Run the Add-VBRFileToTapeJob cmdlet. Specify the following settings:
- Specify the Name and the Description parameter value.
- Set the $object variable as the Object parameter value.
- Set the $mediapool variable as the FullBackupMediaPool parameter value.
- Set the $policy variable as the FullBackupPolicy parameter value.

---

### Parameters
#### **Description**
Specifies the description of the file to tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EjectCurrentMedium**
Defines that the tapes will be automatically ejected from drive after the job finishes. The ejected tape is moved to a standard library slot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableFileAclChangeTracking**
Enables backup of permissions and attributes for files. Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableParallelDrivesUsage**
Enables parallel processing of media pools. Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ExportCurrentMediaSet**
Defines that the tapes belonging to the media set will be automatically placed to Import/Export (Mail) slot for further export. Use the ExportDays parameter to set days on which you want to export tapes.  If you use this parameter, but do not set the ExportDays parameter, the tapes will be exported every day.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ExportDays**
Used to set days for exporting tapes for the ExportCurrentMediaSet parameter. Specifies days on which the tapes written by this tape job will be automatically exported: Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday.
Valid Values:

* Sunday
* Monday
* Tuesday
* Wednesday
* Thursday
* Friday
* Saturday

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[DayOfWeek[]]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will create a job even if the geographic location of the repositories where VM backups reside and the target media pool location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FullBackupMediaPool**
Specifies the media pool where you want to store full backups produced by this tape job. Accepts the VBRTapeMediaPool object, GUID or string. To get this object, run the Get-VBRTapeMediaPool cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRTapeMediaPool]`|true    |named   |False        |

#### **FullBackupPolicy**
Specifies virtualized synthetic full backup for tape settings. Accepts VBRFileToTapeBackupPolicy object.
By default, the following settings are applied:
* Type: Daily
* DailyOptions: Type: SelectedDays, Period: 18:00, DayOfWeek: Saturday
* MonthlyOptions: Period: 22:00, DayNumberInMonth: Fourth, DayOfWeek: Saturday, Months: January, February, March, April, May, June, July, August, September, October, November, December
* Enabled: False

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRFileToTapeBackupPolicy]`|false   |named   |False        |

#### **IncrementalBackupMediaPool**
Used to set media pool for the ProcessIncrementalBackup parameter. Specifies the media pool where you want to store incremental backups produced by this tape job. If you do not specify a media pool, incremental backups will be stored to the media pool the you set for full backups. Accepts the VBRTapeMediaPool obejct, GUID or string. To get this object, run the Get-VBRTapeMediaPool cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRTapeMediaPool]`|false   |named   |False        |

#### **IncrementalBackupPolicy**
Specifies incremental backup settings. Accepts the VBRFileToTapeBackupPolicy object. By default, the following settings are applied:
* Type: Daily
* DailyOptions: Type: SelectedDays, Period: 18:00, DayOfWeek: Saturday
* MonthlyOptions: Period: 22:00, DayNumberInMonth: Fourth, DayOfWeek: Saturday, Months: January, February, March, April, May, June, July, August, September, October, November, December
* Enabled: false

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRFileToTapeBackupPolicy]`|false   |named   |False        |

#### **JobScriptOptions**
Specifies scripting options. Accepts the VBRJobScriptOptions object. To create this object, run the New-VBRJobScriptOptions cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **LimitTapeDrives**
Defines that the cmdlet will limit the number of drives to use for processing this tape job. Default: 2 drives.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the file to tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NdmpObject**
Specifies an array of NDMP server volumes. Accepts the VBRNDMPVolume[] object. Run the Get-VBRNDMPVolume cmdlet to get this object.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNDMPVolume[]]`|false   |named   |False        |

#### **NotificationOptions**
Specifies the email notification options. Accepts the VBRNotificationOptions object. To create this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **Object**
Specifies the array of file to tape job sources. Accepts the VBRFileToTapeObject[] object. To create this object, run the New-VBRFileToTapeObject cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRFileToTapeObject[]]`|false   |named   |False        |

#### **UseHardwareCompression**
Defines that tape library must perform hardware compression for archives. Do not use this option for archiving Veeam backups or other already compressed files.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UseVSS**
Defines that the VSS (Microsoft Volume Shadow Copy) must be used. Default: true. To disable this option, set the parameter value to $false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRFileToTapeJob [-Description <String>] [-EjectCurrentMedium] [-EnableFileAclChangeTracking] [-EnableParallelDrivesUsage] [-ExportCurrentMediaSet] [-ExportDays {Sunday 
```
```PowerShell
| Monday | Tuesday | Wednesday | Thursday | Friday | Saturday}] [-Force] -FullBackupMediaPool <VBRTapeMediaPool> [-FullBackupPolicy <VBRFileToTapeBackupPolicy>] 
```
```PowerShell
[-IncrementalBackupMediaPool <VBRTapeMediaPool>] [-IncrementalBackupPolicy <VBRFileToTapeBackupPolicy>] [-JobScriptOptions <VBRJobScriptOptions>] [-LimitTapeDrives <Int32>] 
```
```PowerShell
-Name <String> [-NdmpObject <VBRNDMPVolume[]>] [-NotificationOptions <VBRNotificationOptions>] [-Object <VBRFileToTapeObject[]>] [-UseHardwareCompression] [-UseVSS] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRGoogleCloudAccount
-------------------------

### Synopsis
Creates Google Cloud credentials records.

---

### Description

This cmdlet creates the credentials records to access the Google Cloud service.

---

### Examples
> Creating Google Cloud Account

```PowerShell
Add-VBRGoogleCloudAccount -AccessKey "XXXXXXXXXXXXX" -SecretKey "XXXXXXXXXXXX" -Description "Google Cloud Administrator"
This command creates a Google Cloud credentials record.
```

---

### Parameters
#### **AccessKey**
Specifies an access key. The cmdlet will use this key to add Google Cloud credentials records to Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Description**
Specifies a description for Google Cloud credentials records.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SecretKey**
Specifies a secret key. The cmdlet will use this secret key to add the Google Cloud credentials records to Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRGoogleCloudAccount -AccessKey <String> [-Description <String>] -SecretKey <String> [<CommonParameters>]
```

Add-VBRGoogleCloudComputeAccount
--------------------------------

### Synopsis
Adds Google Cloud service account credentials record.

---

### Description

This cmdlet adds the VBRGoogleCloudComputeAccount object.
This object contains Google Cloud service account credentials records used to access the following services:
- Google Compute Engine.
- Google Cloud Plug-in for Veeam Backup & Replication.
IMPORTANT This cmdlet does not create a Google Cloud service account. You must set up the Google Cloud service account beforehand, as described in Google Cloud documentation.

---

### Examples
> Creating Google Cloud Service Account

```PowerShell
Add-VBRGoogleCloudComputeAccount -Name "GCP service acc 1" -JSONKey "C:\Users\Admin\Downloads\eu-backup-253812-1bd00366edd2.json" -Description "Google Cloud Compute Administrator 1"
This command creates the GCP service acc 1 Google Cloud service account credentials record.
The cmdlet will use the json key located at the C:\Users\Admin\Downloads\eu-backup-253812-1bd00366edd2.json path.
```

---

### Parameters
#### **Description**
Specifies a description for Google Cloud service account credentials records.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **JSONKey**
Specifies the path to the service account key in the JSON format.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Name**
Specifies a name of the Google Cloud service account.
Veeam Backup & Replication will save the Google Cloud service account under this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRGoogleCloudComputeAccount [-Description <String>] -JSONKey <String> -Name <String> [<CommonParameters>]
```

Add-VBRGoogleCloudExternalRepository
------------------------------------

### Synopsis
Adds external Google Cloud storage repository to the backup infrastructure.

---

### Description

This cmdlet adds external Google Cloud storage repository to the backup infrastructure.

---

### Related Links
* [Get-VBRGoogleCloudAccount](Get-VBRGoogleCloudAccount.md)

* [Connect-VBRGoogleCloudService](Connect-VBRGoogleCloudService.md)

* [Get-VBRGoogleCloudBucket](Get-VBRGoogleCloudBucket.md)

* [Get-VBRGoogleCloudFolder](Get-VBRGoogleCloudFolder.md)

---

### Examples
> Adding External Google Cloud Storage

$account = Get-VBRGoogleCloudAccount -AccessKey "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
$connection = Connect-VBRGoogleCloudService -Account $account
$bucket = Get-VBRGoogleCloudBucket -Connection $connection -Region $region
$folder = Get-VBRGoogleCloudFolder -Connection $connection -Bucket $bucket
Add-VBRGoogleCloudExternalRepository -GoogleCloudFolder $folder -Connection $connection -Name "Google_Repository"
This example shows how to add the Google_Repository Google Cloud storage as an external repository to the backup infrastructure.
Perform the following steps:
1. Get the Google Cloud folder:
a. Run the Get-VBRGoogleCloudAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
b. Run the Connect-VBRGoogleCloudService cmdlet. Set the $account variable as the Account parameter value. Save the result to the $connection variable.
c. Run the Get-VBRGoogleCloudBucket cmdlet. Set the $connection variable as the Connection parameter value. Set the $region variable as the Region parameter value. Save the result to the $bucket variable.
d. Run the Get-VBRGoogleCloudFolder cmdlet. Set the $connection variable as the Connection parameter value. Set the $bucket variable as the Bucket parameter value. Save the result to the $folder variable.
2. Run the Add-VBRGoogleCloudExternalRepository cmdlet. Set the $folder variable as the GoogleCloudFolder parameter value. Set the $connection variable as the Connection parameter value. Specify the Name parameter value.

---

### Parameters
#### **Connection**
Specifies the active session with the Google Cloud storage that you want to add as an external repository.

|Type                                |Required|Position|PipelineInput|
|------------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudExternalConnection]`|true    |named   |False        |

#### **DecryptBackups**
Defines that Veeam Backup & Replication will decrypt encrypted backups.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **DecryptionKey**
Specifies the password that Veeam Backup & Replication will use to decrypt the backup files.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBREncryptionKey]`|false   |named   |False        |

#### **Description**
Specifies the description of the Google Cloud storage that you want to add as an external repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add an external repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GoogleCloudFolder**
Specifies a name of a folder in the external repository. Veeam Backup & Replication will import backups from this folder into the backup infrastructure.

|Type                    |Required|Position|PipelineInput |
|------------------------|--------|--------|--------------|
|`[VBRGoogleCloudFolder]`|true    |named   |True (ByValue)|

#### **Name**
Specifies the name of the Google Cloud storage that you want to add as an external repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRGoogleCloudFolder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRGoogleCloudExternalRepository -Connection <VBRGoogleCloudExternalConnection> [-DecryptBackups] [-DecryptionKey <VBREncryptionKey>] [-Description <String>] [-Force] 
```
```PowerShell
-GoogleCloudFolder <VBRGoogleCloudFolder> [-Name <String>] [<CommonParameters>]
```

Add-VBRGoogleCloudRepository
----------------------------

### Synopsis
Adds the Google Cloud object storage repository to the backup infrastructure.

---

### Description

This cmdlet adds the Google Cloud object storage repository to the backup infrastructure.

---

### Related Links
* [Get-VBRGoogleCloudAccount](Get-VBRGoogleCloudAccount.md)

* [Connect-VBRGoogleCloudService](Connect-VBRGoogleCloudService.md)

* [Get-VBRGoogleCloudRegion](Get-VBRGoogleCloudRegion.md)

* [Get-VBRGoogleCloudBucket](Get-VBRGoogleCloudBucket.md)

* [Get-VBRGoogleCloudFolder](Get-VBRGoogleCloudFolder.md)

---

### Examples
> Adding Google Cloud Repository

$account = Get-VBRGoogleCloudAccount -AccessKey "XXXXXXXXXXXXXXXXXXX"
$connection = Connect-VBRGoogleCloudService -Account $account -ServiceType CapacityTier
$region = Get-VBRGoogleCloudRegion -Connection $connection
$bucket = Get-VBRGoogleCloudBucket -Connection $connection -Region $region -Name "bucket01"
$folder = Get-VBRGoogleCloudFolder -Connection $connection -Bucket $bucket -Name "veeam"
Add-VBRGoogleCloudRepository -Connection $connection -Folder $folder -Name "Repository09"
This example shows how to add Google Cloud object storage to the backup infrastructure.
Perform the following steps:
1. Specify Google Cloud connection settings:
a. Run the Get-VBRGoogleCloudAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
b. Run the Connect-VBRGoogleCloudService cmdlet. Set the $account variable as the Account parameter value. Specify the ServiceType parameter value. Save the result to the $connection variable.
2. Specify object storage settings:
a. Run the Get-VBRGoogleCloudRegion cmdlet. Set the $connection variable as the Connection parameter value. Save the result to the $region variable.
b. Run the Get-VBRGoogleCloudBucket cmdlet. Set the $connection variable as the Connection parameter value. Set the $region variable as the Region parameter value. Specify the Name parameter value. Save the result to the $bucket variable.
c. Run the Get-VBRGoogleCloudFolder cmdlet. Set the $connection variable as the Connection parameter value. Set the $bucket variable as the Bucket parameter value. Specify the Name parameter value. Save the result to the $folder variable.
3. Run the Add-VBRGoogleCloudRepository cmdlet. Specify the following settings:
- Set the $connection variable as the Connection parameter value.
- Set the $folder variable as the Folder parameter value.
- Specify the Name parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with a Google Cloud object storage that you want to add to the backup infrastructure.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRGoogleCloudConnection]`|true    |named   |False        |

#### **Description**
Specifies a description of a Google Cloud object storage. The cmdlet will add an object storage with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableColdlineStorageClass**
Enables the coldline storage class to data blocks that you want to keep in Google Cloud object storage. Use this option if you plan to access your backup data rarely (for example, once a quarter) and plan to store data minimum 90 days.
Default: False.
Note: If you do not provide the EnableNearlineStorageClass or EnableColdlineStorageClass parameters, the cmdlet will assing the Standard storage class to data blocks.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableConcurrentTasksLimit**
Enables limits for concurrent tasks that can be processed by the object storage repository. Use the MaxConcurrentTasks paramter to specify the number of tasks.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableNearlineStorageClass**
Enables the nearline storage class for optimized archive storage.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableSizeLimit**
Enables size limits for the Google Cloud storage that you want to add as an object storage.
Default: False.
Note: Use the SizeLimit parameter to specify the size limits.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Folder**
Specifies a Google Cloud folder. Veeam Backup & Replication will move backup files into this folder.

|Type                    |Required|Position|PipelineInput |
|------------------------|--------|--------|--------------|
|`[VBRGoogleCloudFolder]`|true    |named   |True (ByValue)|

#### **Force**
Defines that the cmdlet will add ab object storage repository without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ForceOwnershipChange**
Defines that the cmdlet will force ownership change of the object storage folder. If you do not provide this parameter and the object storage folder is owned by another host, you will not be able to add object storage to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GoogleProxySpec**
Specifies proxy appliance settings for adding object storage repository.

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeProxyAppliance]`|false   |named   |False        |

#### **MaxConcurrentTasks**
Specifies a maximum number of concurrent tasks that can be processed at once by the object storage repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MountServerOptions**
Specifies settings of a mount server for object storage repositories.
Note: This parameter is required for object storage repositories that you want to add as performance extents to a scale-out backup repository.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRRepositoryMountServerOptions]`|false   |named   |False        |

#### **Name**
Specifies a name of the Google Cloud object storage. The cmdlet will add an object storage with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SizeLimit**
For the EnableSizeLimit parameter.
Specifies the size limits in TB or PB for data blocks that you want to store in Google Cloud storage added as an object storage repository.
Default: 10 TB.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRGoogleCloudFolder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRGoogleCloudRepository -Connection <VBRGoogleCloudConnection> [-Description <String>] [-EnableColdlineStorageClass] [-EnableConcurrentTasksLimit] 
```
```PowerShell
[-EnableNearlineStorageClass] [-EnableSizeLimit] -Folder <VBRGoogleCloudFolder> [-Force] [-ForceOwnershipChange] [-GoogleProxySpec <VBRGoogleCloudComputeProxyAppliance>] 
```
```PowerShell
[-MaxConcurrentTasks <Int32>] [-MountServerOptions <VBRRepositoryMountServerOptions>] [-Name <String>] [-SizeLimit <Int32>] [<CommonParameters>]
```

Add-VBRHvAdvancedVirtualLab
---------------------------

### Synopsis
Creates a Hyper-V advanced virtual lab.

---

### Description

This cmdlet creates a Hyper-V advanced virtual lab.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Creating Advanced Virtual Lab

$host = Get-VBRServer -Name "esx09"
Add-VBRHvAdvancedVirtualLab -Server $host -Name "Exchange Lab" -Description "Virtual Lab for Exchange VMs"
This example shows how to create an advanced virtual lab with default settings. The cmdlet will create the virtual lab on the esx09 host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $host variable.
2. Run the Add-VBRHvAdvancedVirtualLab cmdlet. Set the $host variable as the Server parameter value. Specify the Name parameter value. Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies a description. The cmdlet will create a virtual lab with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableRoutingBetweenvNics**
Defines that the cmdlet will enable communication between isolated networks.
If you provide this parameter, the cmdlet will enable communication between isolated networks. Otherwise, Veeam Backup & Replication will not be able to connect the isolated networks with production networks.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **IsolatedNetworkOptions**
Specifies network settings of an isolated network. The cmdlet will create a virtual lab with the specified network settings.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRHvIsolatedNetworkOptions[]]`|false   |named   |False        |

#### **Name**
Specifies a name. The cmdlet will create a virtual lab with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Path**
Specifies the path to the folder where virtual lab will be stored.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ProxyAppliance**
Specifies a proxy appliance. The cmdlet will add this proxy appliance to a virtual lab.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRHvVirtualLabProxyAppliance]`|false   |named   |False        |

#### **Server**
Specifies a Microsoft Hyper-V host. The cmdlet will create a virtual lab on this host.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

#### **StaticIPMappingRule**
Specifies static IP address mapping rules. The cmdlet will create a virtual lab with the specified mapping rules.

|Type                                    |Required|Position|PipelineInput|
|----------------------------------------|--------|--------|-------------|
|`[VBRHvVirtualLabStaticIPMappingRule[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvAdvancedVirtualLab [-Description <String>] [-EnableRoutingBetweenvNics] [-IsolatedNetworkOptions <VBRHvIsolatedNetworkOptions[]>] [-Name <String>] [-Path <String>] 
```
```PowerShell
[-ProxyAppliance <VBRHvVirtualLabProxyAppliance>] -Server <CHost> [-StaticIPMappingRule <VBRHvVirtualLabStaticIPMappingRule[]>] [<CommonParameters>]
```

Add-VBRHvBackupCopyJob
----------------------

### Synopsis
Creates a Hyper-V backup copy job.

---

### Description

This cmdlet creates a new Hyper-V backup copy job.

The backup copy job is copying backup files from the source backup repository to the target backup repository. The backup copy job runs continuously synchronizing the backup repositories in user-defined time periods.

The cmdlet provides two scenarios that can be used for on-site and off-site modes:

Data transfer with WAN accelerators To transfer the data efficiently to to the off-site location, you can use the WAN accelerator technology. WAN accelerator is a backup infrastructure component that optimizes file transfer via WAN by means of data deduplication. The role of a WAN accelerator can be assigned to a dedicated Windows-based machine (physical or virtual). You should always use a pair of WAN accelerators set on source and target sides. This mode is recommended for off-site backups. To create and run a backup copy job using WAN accelerators you need to have source and target WAN accelerators created.

Run Add-VBRWANAccelerator to create a WAN accelerator.

WAN optimization is available only in Veeam Backup & Replication Enterprise Plus Edition.

Direct data transfer You can create a backup copy job using direct operation. With this method, the job sends the data directly to the target backup repository without performing data deduplication. This mode is recommended for on-site backups, or off-site backups using fast connections.

Note that the backup copy job is created in disabled state. Run Enable-VBRJob to start the job running on the defined schedule.

Starting from Veeam Backup & Replication version 9.5 Update 3, the cmdlet checks if the data of the VMs added to the job changes its geographical location. NOTE: The cmdlet will not run if the geographical location of the VMs added to the job and the job target repository location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Examples
> Example 1

Add-VBRHvBackupCopyJob -SourceAccelerator $wansource -TargetAccelerator $wantarget -Name CopyJob1 -Entity $vms -Repository $repository
This command creates a backup copy job named "CopyJob1" with the following parameters:

- The source and target WAN accelerators are obtained with Get-VBRWANAccelerator and assigned to $wansource and $wantarget variables accordingly beforehand,

- The  VMs to copy are obtained with Find-VBRHvEntity and assigned to the $vms variable beforehand,

- The repository to where the VM data will be copied is obtained with Get-VBRBackupRepository and assigned to the $repository variable beforehand.
> Example 2

Get-VBRBackup -Name "DC Backup" | Add-VBRHvBackupCopyJob -DirectOperation -Name "DC CopyJob"
This command creates a direct backup copy job with the following parameters:

- The name of the job is "DC CopyJob",

- The backup job named "DC Backup" with the VMs to be copied is obtained with Get-VBRBackup and piped down,

- The -Repository parameter is not set to copy the VMs to the default backup repository.

---

### Parameters
#### **Backup**
Specifies the existing backup(s) from where the VMs to copy are derived.  You can assign multiple backups to this object.

|Type         |Required|Position|PipelineInput        |
|-------------|--------|--------|---------------------|
|`[CBackup[]]`|false   |named   |True (ByPropertyName)|

#### **BackupJob**
Specifies the existing backup job(s) from where the VMs to copy are derived. You can assign multiple backup jobs to this object.

|Type            |Required|Position|PipelineInput        |
|----------------|--------|--------|---------------------|
|`[CBackupJob[]]`|false   |named   |True (ByPropertyName)|

#### **Description**
Specifies the description of the backup copy job. If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DirectOperation**
Enables the direct operation method sending the data directly to the target backup repository without performing data deduplication. If you select the direct operation mode, the -TargetAccelerator and -SourceAccelerator parameters should be omitted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **EnableImmediateCopy**
Defines that the cmdlet will enable the immediate copy mode. If you specify this parameter, Veeam Backup & Replication will copy new restore points and logs as soon as they appear. Otherwise, Veeam Backup & Replication will copy data from backups once per backup copy interval.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Entity**
Specifies the VM(s) you want to copy. You can assign multiple VMs to this object.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IHvItem[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Force**
Indicates that the cmdlet will create a job even if the geographical location of the VMs added to the job and the target backup repository location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup copy job. You can input string up to 255 symbols.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Repository**
Specifies the backup repository to where you want to copy the VM data.  If not set, Veeam Backup & Replication will use the default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **SourceAccelerator**
Specifies the WAN accelerator on the source side. If you select the mode using WAN accelerators, the -DirectOperation parameter should be omitted.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|true    |named   |False        |

#### **SourceRepository**

|Type                   |Required|Position|PipelineInput        |
|-----------------------|--------|--------|---------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName)|

#### **TargetAccelerator**
Specifies the WAN accelerator on the target side. If you select the mode using WAN accelerators, the -DirectOperation parameter should be omitted.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.HyperV.Infrastructure.IHvItem[]

Veeam.Backup.Core.CBackup[]

Veeam.Backup.Core.CBackupJob[]

Veeam.Backup.Core.CBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <CBackupJob[]>] [-Description <String>] -DirectOperation [-EnableImmediateCopy] [-Entity <IHvItem[]>] [-Force] 
```
```PowerShell
[-Name <String>] [-Repository <CBackupRepository>] [-SourceRepository <CBackupRepository[]>] [<CommonParameters>]
```
```PowerShell
Add-VBRHvBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <CBackupJob[]>] [-Description <String>] [-EnableImmediateCopy] [-Entity <IHvItem[]>] [-Force] [-Name <String>] 
```
```PowerShell
[-Repository <CBackupRepository>] -SourceAccelerator <CWanAccelerator> [-SourceRepository <CBackupRepository[]>] [-TargetAccelerator <CWanAccelerator>] [<CommonParameters>]
```

Add-VBRHvBackupJob
------------------

### Synopsis
Creates Hyper-V backup jobs.

---

### Description

Creates Hyper-V backup jobs.

Note that when you create a backup job, you need to run it manually unless you enable a job schedule.

Run the Start-VBRJob cmdlet to run the job manually.

Run the Set-VBRJobSchedule cmdlet to set schedule for the job.

NOTE: The cmdlet will not run if the geographic location of the VMs added to the job and the job target repository location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Find-VBRHvEntity](Find-VBRHvEntity.md)

---

### Examples
> Example 1. Creating Backup Job [Using Pipeline]

$Repository = Get-VBRBackupRepository -Name "Backup Repository"
Find-VBRHvEntity -Name Exchange* | Add-VBRHvBackupJob -Name "Exchange Backup" -BackupRepository $Repository -Description "Hyper-V Exchange Backup"
This example shows how to create a backup job named Exchange Backup.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $Repository variable.
2. Run the Find-VBRHvEntity cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Add-VBRHvBackupJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Description parameter value.
- Set the $Repository variable as the BackupRepository parameter value.
> Example 2. Creating Backup Job [Using Variable]

$Repository = Get-VBRBackupRepository -Name "Backup Repository"
$Vm = Find-VBRHvEntity -Name "VM01"
Add-VBRHvBackupJob -BackupRepository $Repository -Entity $Vm
This example shows how to create a backup job for the VM represented by the $Vm variable.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $Repository variable.
2. Run the Find-VBRHvEntity cmdlet. Specify the Name parameter value. Save the result to the $Vm variable.
3. Run the Add-VBRHvBackupJob cmdlet. Set the $Repository variable as the BackupRepository parameter value. Set the $Vm variable as the Entity parameter value.

---

### Parameters
#### **BackupRepository**
Specifies the backup repository where the created backup will be stored. Default: default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Description**
Specifies the description of the backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Entity**
Specifies the array of Hyper-V VMs you want to add to the job.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IHvItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create a backup job even if the geographic location of the VMs added to the job and the target backup repository location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetBackup**
WARNING! THIS PARAMETER IS INTERNAL.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.HyperV.Infrastructure.IHvItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvBackupJob [-BackupRepository <CBackupRepository>] [-Description <String>] -Entity <IHvItem[]> [-Force] [-HighPriority] [-Name <String>] [-TargetBackup <CBackup>] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRHvCloudHardwarePlan
--------------------------

### Synopsis
Creates Hyper-V hardware plans.

---

### Description

This cmdlet creates a new hardware plan for Hyper-V environments.

The hardware plan allocates the following resources to a tenant:
- Cloud host. When creating replicas, the tenant will use this host as target host to register the replicated VMs.
- Quota of the cloud host CPU and memory.
- [Pre-configure] Networks to which the tenant will connect the cloud replicas. Use the cmdlets in the VLANs Configuration section to pre-configure the pool of VLANs.
- [Pre-configure] Cloud storage: a quota of datastores allocated to tenants. Run the New-VBRHvCloudHWPlanDatastore cmdlet to create the cloud storage.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [New-VBRHvCloudHWPlanDatastore](New-VBRHvCloudHWPlanDatastore.md)

---

### Examples
> Example - Creating Hyper-V Hardware Plan

$server = Get-VBRServer -Type HvServer -Name "Hyper-VHost"
$switches = Get-VBRHvServerNetworkInfo -Server $server
New-VBRCloudVLANConfiguration -Server $server -HvNetworkInfo $switches[0] -FirstVLANWithInternet 1 -LastVLANWithInternet 5 -FirstVLANWithoutInternet 6 -LastVLANWithoutInternet 10
$cloudreplicas = New-VBRHvCloudHWPlanDatastore -DatastorePath "D:\Replicas" -FriendlyName "Cloud Replicas" -Quota 500
$server = Get-VBRServer -Type HvServer -Name "Hyper-V Host"
Add-VBRHvCloudHardwarePlan -Name "Hyper-V Silver" -Description "Hyper-V Hardware Plan" -Server $server -Datastore $cloudreplicas -CPU 4000 -Memory 2000 -NumberOfNetWithoutInternet 1
This example shows how to create a hardware plan with the following settings:
- CPU quota: 4000 MHz
- Memory quota: 2000 Gb
- Cloud storage: "Cloud Replicas"
- Networks without access to the Internet: 1
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Set the HvServer option for the Type parameter. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvServerNetworkInfo cmdlet. Set the $server variable as the Server parameter value. Save the result to the $switches variable.
3. Run the New-VBRCloudVLANConfiguration cmdlet. Set the $server variable as the Server parameter value. Set the $switches variable as the HvNetworkInfo parameter value. Specify the FirstVLANWithInternet, LastVLANWithInternet, FirstVLANWithoutInternet, LastVLANWithoutInternet parameter values.
4. Run the New-VBRHvCloudHWPlanDatastore cmdlet. Specify the DatastorePath parameter value. Specify the FriendlyName and the Quota parameter values. Save the storage to the $cloudreplicas variable.
5. Run the Get-VBRServer cmdlet. Set the HvServer option for the Type parameter. Specify the Name parameter value. Save the result to the $server variable.
6. Run the Add-VBRHvCloudHardwarePlan cmdlet. Specify the following settings:
- Specify the Name and the Description parameter values.
- Set the $server variable as the Server parameter value.
- Set the $cloudreplicas variable as the Datastore parameter value.
- Specify the CPU and the Memory parameter values.
- Specify the NumberOfNetWithoutInternet parameter value.

---

### Parameters
#### **CPU**
Specifies the quota of CPU resources you want to allocate to the tenant under this hardware plan (MHz).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Datastore**
Specifies the array of cloud storages. The hardware plan will use use these storages to allocate storage space to the tenant under this hardware plan. Accepts the VBRHvCloudHardwarePlanDatastore[] object. To get this object, run the New-VBRHvCloudHWPlanDatastore cmdlet.

|Type                                 |Required|Position|PipelineInput|
|-------------------------------------|--------|--------|-------------|
|`[VBRHvCloudHardwarePlanDatastore[]]`|true    |named   |False        |

#### **Description**
Specifies the description of the hardware plan.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Memory**
Specifies the quota of CPU memory you want to allocate to the tenant under this hardware plan (Gb).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the hardware plan.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NumberOfNetWithInternet**
Specifies the number of networks with access to the Internet that you want to allocate to the tenant under this hardware plan.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **NumberOfNetWithoutInternet**
Specifies the number of networks without access to the Internet that you want to allocate to the tenant under this hardware plan.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**
Specifies the Hyper-V host. The resources of this host (CPU and memory quotas) will be allocated to the tenant by the hardware plan. Accepts the CHost object or string (name of server). To get this object, run the Get-VBRServer cmdlet.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

#### **UnlimitedCPU**
Defines that the quota of CPU resources is unlimited. If you provide this parameter, the tenant will be able to use all CPU resources of the host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UnlimitedMemory**
Defines that the quota of CPU memory is unlimited. If you provide this parameter, the tenant will be able to use all memory resources of the host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvCloudHardwarePlan [-CPU <Int32>] -Datastore <VBRHvCloudHardwarePlanDatastore[]> [-Description <String>] [-Memory <Int32>] -Name <String> [-NumberOfNetWithInternet 
```
```PowerShell
<Int32>] [-NumberOfNetWithoutInternet <Int32>] -Server <CHost> [-UnlimitedCPU] [-UnlimitedMemory] [<CommonParameters>]
```

Add-VBRHvCloudReplicaJob
------------------------

### Synopsis
Creates a new Hyper-V cloud replication job.

---

### Description

This cmdlet creates a new Hyper-V cloud replication job. Cloud replication creates a VM replica on a cloud host and maintains it in synch with the original VM.

Note that cloud replication does not support replica from backup.

When you create a replication job, you can configure the following additional settings:
- Network mapping: this option allows you to configure network mapping rules if the production site and the cloud host uses separate virtual networks. Use the EnableNetworkMapping parameter to enable the network mapping and the SourceNetwork and the TargetNetwork parameters to select the networks.
- Proxy server: this options allow you to assign a particular proxy server for the data transfer. Use the SourceProxy parameter to set the proxy.
- WAN accelerators: this options allow you to use the built-in WAN accelerators to optimize the data transfer. Note that WAN accelerators must work in pair, so you can use the WAN acceleration only if the cloud provider has a WAN accelerator on the target side. Use the SourceWANAccelerator parameter to set the source WAN accelerator.
- Ri-IP rules: this option allows you to configure different IP addressing scheme for the production site and the cloud host. You need to create an object containing the re-IP rules beforehand by running New-VBRHvReplicaReIpRule. Then pass the created object to the ReIpRule parameter of this cmdlet.
Note that when you create a replica job, you need to run it manually unless you enable a job schedule.

Run the Start-VBRJob cmdlet to run the job manually. Run the Set-VBRJobSchedule cmdlet to set schedule for the job and run it automatically.

NOTE: The cmdlet will not run if the geographical location of the VMs added to the job and the target cloud host location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Related Links
* [Get-VBRCloudServer](Get-VBRCloudServer.md)

* [Get-VBRCloudDatastore](Get-VBRCloudDatastore.md)

* [Find-VBRHvEntity](Find-VBRHvEntity.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRHvServerNetworkInfo](Get-VBRHvServerNetworkInfo.md)

* [Get-VBRCloudServerNetworkInfo](Get-VBRCloudServerNetworkInfo.md)

* [Get-VBRWANAccelerator](Get-VBRWANAccelerator.md)

* [Get-VBRHvProxy](Get-VBRHvProxy.md)

* [Get-VBRLocation](Get-VBRLocation.md)

---

### Examples
> Example - Creating Hyper-V Cloud Replica Job

$vm = Find-VBRHvEntity -Name "application_server"
$cloudServer = Get-VBRCloudServer -Name 104.45.95.227
$cloudDatastore = Get-VBRCloudDatastore -CloudServer $cloudServer -Name "GHJDatastore"
Add-VBRHvCloudReplicaJob -Name "Hv Cloud Replica Job" -Entity $vm -Server $cloudServer -Datastore $cloudDatastore
This example shows how to create a Hyper-V cloud replica job.

Perform the following steps:
1. Run the Find-VBRHvEntity cmdlet to get the VM you want to replicate. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Get-VBRCloudServer cmdlet. Specify the Name parameter value. Save the server to the $cloudServer variable.
3. Run the Get-VBRCloudDatastore cmdlet. Set the $cloudServer variable as the CloudServer parameter value. Specify the Name parameter value. Save the datastore to the $cloudDatastore variable.
4. Run the Add-VBRHvCloudReplicaJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $vm variable as Entity parameter value.
- Set the $cloudServer variable as Server parameter value.
- Set the $cloudDatastore variable as Datastore parameter value.

---

### Parameters
#### **BackupRepository**
Specifies the backup repository which will be used to store replica metadata files. If not set, the default backup repository will be used. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Datastore**
Specifies the cloud disk volume to which you want to replicate. Accepts the VBRCloudDatastore object. To get this object, run the Get-VBRCloudDatastore cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRCloudDatastore]`|true    |named   |False        |

#### **Description**
Specifies the description of the new job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableNetworkMapping**
Enables the network mapping option. Use the SourceNetwork and the TargetNetwork parameters to set the network mapping rules.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMs you want to replicate. Accepts the IHvItem[] object.  To get this object, run the Find-VBRHvEntity cmdlet.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IHvItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create a job even if the geographic location of the VMs added to the job and the target cloud host location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the string with the name of the created replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **OriginalVM**
For replica mapping. Specifies the production VM you want to replicate using replica mapping. The replication job will map this VM to a selected replica VM on the DR site. Use the ReplicaVM parameter to specify the replica VM on the DR site. Accepts the CHvVmItem[] object.  To get this object, run the Find-VBRHvEntity cmdlet.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CHvVmItem[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping. Specifies the VM on the DR site you want to use as the replication target. The replication job will map the production VM to this VM. Use the OriginalVM parameter to specify the production VM. Accepts the COib[] object.  To create this object, run the Get-VBRRestorePoint cmdlet.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[COib[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding. Specifies the backup repository on which a backup used as a seed for the replication job resides. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Server**
Specifies the cloud host where the created replica should reside. Accepts the VBRCloudServer object. To get this object, run the Get-VBRCloudServer cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRCloudServer]`|true    |named   |False        |

#### **SourceNetwork**
Used to set the source network for the EnableNetworkMapping parameter. Specifies the production network to which VMs added to the job are connected. Use the TargetNetwork parameter to set the target network.  NOTE: the number of the source and the target networks must be the same. Accepts the VBRHvServerNetworkInfo[] object.  To get this object, run the Get-VBRHvServerNetworkInfo cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRHvServerNetworkInfo[]]`|false   |named   |False        |

#### **SourceProxy**
Specifies the source proxy that will be used by the job. Default: Automatic selection. Accepts the CHvProxy[] object.  To get this object, run the Get-VBRHvProxy cmdlet.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CHvProxy[]]`|false   |named   |False        |

#### **SourceRepository**
Used for building replica from backup files. Specifies the backup repository that will be used to read the VM data from the already existing backup chain. You cannot specify cloud repository. Accepts the CBackupRepository[] object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **SourceWANAccelerator**
Specifies the WAN accelerator configured in the source site that will be used for data transfer. Note that you can set the source WAN accelerator only if the cloud provider has a target WAN accelerator configured. Accepts the CWanAccelerator object.  To get this object, run the Get-VBRWANAccelerator cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that will be appended to the name of the VM you are replicating. This name will be used to register the replicated VM on the target server. If omitted, the replicated VMs will have the '_replica' suffix by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
Used to set the target network for the EnableNetworkMapping parameter. Specifies the network in the DR site to which VM replicas must be connected. Use the SourceNetwork parameter to set the source network.  NOTE: the number of the source and the target networks must be the same. Accepts the VBRCloudServerNetworkInfo[] object. To get this object, run the Get-VBRCloudServerNetworkInfo cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRCloudServerNetworkInfo[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.HyperV.Infrastructure.IHvItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvCloudReplicaJob [-BackupRepository <CBackupRepository>] -Datastore <VBRCloudDatastore> [-Description <String>] [-EnableNetworkMapping] -Entity <IHvItem[]> [-Force] 
```
```PowerShell
[-HighPriority] [-Name <String>] [-OriginalVM <CHvVmItem[]>] [-ReplicaVM <COib[]>] [-RepositorySeed <CBackupRepository>] -Server <VBRCloudServer> [-SourceNetwork 
```
```PowerShell
<VBRHvServerNetworkInfo[]>] [-SourceProxy <CHvProxy[]>] [-SourceRepository <CBackupRepository[]>] [-SourceWANAccelerator <CWanAccelerator>] [-Suffix <String>] 
```
```PowerShell
[-TargetNetwork <VBRCloudServerNetworkInfo[]>] [<CommonParameters>]
```

Add-VBRHvCluster
----------------

### Synopsis
Adds a Hyper-V cluster to the backup infrastructure.

---

### Description

This cmdlet adds Hyper-V clusters to the backup infrastructure.
Run the Add-VBRHvHost cmdlet to add a standalone Hyper-V host to the backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding Hyper-V Cluster Using Account User Name and Password

```PowerShell
Add-VBRHvCluster -Name "HYPCLUSTER01" -User "Administrator" -Password "qwerty" -Description "Hyper-V Cluster 01"
This command adds the HYPCLUSTER01 Hyper-V cluster server with the Administrator user name and the qwerty password of the account.
```
> Example 2. Adding Hyper-V Cluster Using Credentials Managed by Veeam Backup & Replication

$Administrator = Get-VBRCredentials
Add-VBRHvCluster -Name "HYPCLUSTER01" -Description "Hyper-V Cluster 01" -Credentials $Administrator
This example shows how to add the HYPCLUSTER01 Hyper-V server using the credentials managed by Veeam Backup & Replication.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRHvCluster cmdlet. Specify the Name parameter value. Specify the Description parameter value. Set the $Administrator variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the Hyper-V cluster.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the Hyper-V cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the DNS name of the added Hyper-V cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the Hyper-V cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the Hyper-V cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvCluster -Credentials <CCredentials> [-Description <String>] -Name <String> [<CommonParameters>]
```
```PowerShell
Add-VBRHvCluster [-Description <String>] -Name <String> -Password <String> -User <String> [<CommonParameters>]
```

Add-VBRHvHost
-------------

### Synopsis
Adds Hyper-V hosts to the backup infrastructure.

---

### Description

This cmdlet adds Hyper-V host to the backup infrastructure.
If a Hyper-V host is part of a cluster, add the Hyper-V cluster instead of standalone Hyper-V host.
Run the Add-VBRHvCluster cmdlet to add a Hyper-V cluster.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding New Hyper-V Host Using User Name and Password

```PowerShell
Add-VBRHvHost -Name "HyperVExchange" -User "Administrator" -Password "qwerty" -Description "Hyper-V Exchange host"
This command adds a new Hyper-V host named HyperVExchange with the Administrator user name and the qwerty password of the account. The description is Hyper-V Exchange host.
```
> Example 2. Adding New Hyper-V Host Using Credentials

$Administrator = Get-VBRCredentials
Add-VBRHvHost -Name "HyperVExchange" -Credentials $Administrator -Description "Hyper-V Exchange host"
This command adds a new Hyper-V host named HyperVExchange using credentials. The description is Hyper-V Exchange host.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRHvHost cmdlet. Specify the Name parameter value. Set the $Administrator variable as the Credentials parameter value. Specify the Description parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the Hyper-V host.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the Hyper-V host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the DNS name of the Hyper-V host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the Hyper-V host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the Hyper-V host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvHost -Credentials <CCredentials> [-Description <String>] -Name <String> [<CommonParameters>]
```
```PowerShell
Add-VBRHvHost [-Description <String>] -Name <String> -Password <String> -User <String> [<CommonParameters>]
```

Add-VBRHvJobObject
------------------

### Synopsis
Adds VMs to Hyper-V jobs.

---

### Description

This cmdlet adds VMs to Hyper-V jobs.

You can run this cmdlet with any kind of jobs.

NOTE: The cmdlet will not run if the geographic location of the VMs added to the job and the job target repository location do not match.  If you still want to run the cmdlet, use the Force parameter.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Find-VBRHvEntity](Find-VBRHvEntity.md)

---

### Examples
> Example 1. Adding VM to Job Represented by Variable [Using Pipeline]

$BackupHVJob = Get-VBRJob -Name "Backup Job"
Find-VBRHvEntity -Name VM01 | Add-VBRHvJobObject -Job $BackupHvJob
This example shows how to add a VM named VM01 to the job represented by the $BackupHVJob variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $BackupHVJob variable.
2. Run the Find-VBRHvEntity cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Add-VBRHvJobObject cmdlet. Set the $BackupHvJob variable as the Job parameter value.
> Example 2. Adding VM to Specific Job [Using Variables]

$BackupHvJob = Get-VBRJob -Name "Backup Job"
$Vm = Find-VBRHvEntity -Name "VM01"
Add-VBRHvJobObject -Job $BackupHvJob -Entities $Vm
This example shows how to add a VM represented by $Vm variable to the job represented by $BackupHvJob variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $BackupHvJob variable.
2. Run the Find-VBRHvEntity cmdlet. Specify the Name parameter value. Save the result to the $Vm variable.
3. Run the Add-VBRHvJobObject cmdlet. Set the $BackupHvJob variable as the Job parameter value. Set the $Vm variable as the Entities parameter value.

---

### Parameters
#### **Entities**
Specifies the array of Hyper-V VMs you want to add to the job.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IHvItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will add VMs to the existing job even if the geographic location of these VMs and the target backup repository location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Job**
Specifies the job. The cmdlet will add VMs to this job.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CBackupJob]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.Core.HyperV.Infrastructure.IHvItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvJobObject -Entities <IHvItem[]> [-Force] -Job <CBackupJob> [<CommonParameters>]
```

Add-VBRHvProxy
--------------

### Synopsis
Adds a Hyper-V backup proxy to the backup infrastructure.

---

### Description

This cmdlet adds a Hyper-V backup proxy server to the backup infrastructure.
When you add a proxy, you set a role to a Microsoft Windows server. To add a new proxy, you need to have the server added to your Veeam Backup & Replication managing console.
Run the Add-VBRWinServer cmdlet to add a Microsoft Windows server.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Adding New Hyper-V Backup Proxy [Using Pipeline]

Get-VBRServer -Name "HyperV Local Server" | Add-VBRHvProxy -Description "Local Backup Proxy" -MaxTasks 6
This example shows how to add a new Hyper-V backup proxy. The Description is Local Backup Proxy. The max concurrent tasks number is set to 6.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Add-VBRHvProxy cmdlet. Specify the Description parameter value. Specify the MaxTasks parameter value.
> Example 2. Adding New Hyper-V Backup Proxy [Using Variable]

$server = Get-VBRServer -Name "Server"
Add-VBRHvProxy -Server $server -Description "Local Backup Proxy"
This example shows how to add a new Hyper-V backup proxy. The description is Local Backup Proxy. The max concurrent tasks number is set to 2 by default.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRHvProxy cmdlet. Set the $server variable as the Server parameter value. Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies a description of a Hyper-V backup proxy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **MaxTasks**
Specifies the number of concurrent tasks that can be assigned to the proxy simultaneously.
Allowed values: 1-100.
Default: 2.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**
Specifies a server which will act as a Hyper-V backup proxy.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvProxy [-Description <String>] [-MaxTasks <Int32>] -Server <CHost> [<CommonParameters>]
```

Add-VBRHvReplicaJob
-------------------

### Synopsis
Creates Hyper-V replication jobs.

---

### Description

This cmdlet creates a new Hyper-V replication job.
You can select a data source from which VM data must be read:
- Actual VM: Veeam Backup & Replication will copy an actual VM from production storage. The created replica will mirror an actual VM state.
Use the Entity parameter to indicate the VMs you want to replicate.
- Replica from backup files:  Veeam Backup & Replication will build a replica from backup files stored in a backup repository. The created replica will be in the latest state the VM is available in backups.
Use the Entity parameter to indicate the VMs you want to replicate and the BackupRepository parameter to set the repository from where the backup files must be read.
Note that when you create a replica job, you need to run it manually unless you enable a job schedule.
Run the Start-VBRJob cmdlet to start the created job manually.
Run the Set-VBRJobSchedule cmdlet to set schedule for the job and run it automatically.
The cmdlet will not run if the geographic location of the VMs added to the job and the job target repository location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Examples
> Example 1

$entity = Find-VBRHvEntity -Name "sql02"
$targetserver = Get-VBRServer -Type HvServer -Name "Hv_Server"
Add-VBRHvReplicaJob -Name "SQL02 Replica job" -Entity $entity -Server $targetserver -Path "c:\Replicas" -Suffix "_replicated" -Description "SQL02 replication"
This example shows how to create a VM replica from a production storage.

Perform the following steps:
1. Run the Find-VBRHvEntity cmdlet. Specify the Name parameter value. Save the result to the $entity variable.
2. Run the Get-VBRServer cmdlet. Set the HvServer value as the Type parameter value. Specify the Name parameter value. Save it to the $targetserver variable.
3. Run the Add-VBRHvReplicaJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $entity variable as the Entity parameter value.
- Set the $targetserver variable as the Server parameter value.
- Specify the Path parameter value.
- Specify the Suffix parameter value.
- Specify the Description parameter value.
> Example 2

$sql02 = Find-VBRHvEntity -Name "HvExchange"
$targetserver = Get-VBRServer -Type HvServer -Name "Hv_Server"
$repository = Get-VBRBackupRepository -Name "Backups Vol2"
Add-VBRHvReplicaJob -Name "SQL02 Replica job" -Server $targetserver -Path "c:\Replicas" -Entity $sql02 -Description "SQL02 replication" -SourceRepository $repository
This example shows how to create a VM replica from backup files.
Perform the following steps:
1. Run the Find-VBRHvEntity cmdlet. Specify the Name parameter value. Save the result to the $sql02 variable.
2. Run the Get-VBRServer cmdlet. Set the HvServer value as the Type parameter value. Specify the Name parameter value. Save it to the $targetserver variable.
3. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save it to the $repository variable.
4. Run the Add-VBRHvReplicaJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $targetserver variable as the Server parameter value.
- Specify the Path parameter value.
- Set the $sql02 variable as the Entity parameter value.
- Specify the Description parameter value.
- Set the $repository variable as the SourceRepository parameter value.

---

### Parameters
#### **BackupRepository**
Specifies the backup repository that will be used to store replica metadata files.
Default: default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Description**
Specifies the description of the replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMs you want to add to this job.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IHvItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create a job even if the geographic location of the VMs added to the job and the target host location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **OriginalVM**
For replica mapping.
Specifies the production VM you want to replicate using replica mapping.
The replication job will map this VM to a selected replica VM on the DR site.
Use the ReplicaVM parameter to specify the replica VM on the DR site.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CHvVmItem[]]`|false   |named   |False        |

#### **Path**
Specifies the Hyper-V volume where the created replica will be stored.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ReIpRule**
Specifies the re-IP rules.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[IHvReIpRule[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping.
Specifies the VM on the DR site you want to use as the replication target. The replication job will map the production VM to this VM.
Use the OriginalVM parameter to specify the production VM.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CHvVmItem[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding.
Specifies the backup repository where the seed (the full backup) resides.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Server**
Specifies the target Hyper-V host where the created replica will be stored.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

#### **SourceRepository**
For building replica from backup files.
Specifies the backup repository that will be used to read the VM data from the already existing backup chain.
You cannot specify cloud repository.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that will be appended to the name of the VM you are replicating. This name will be used to register the replicated VM on the target server.
Default: "_replica".

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.HyperV.Infrastructure.IHvItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvReplicaJob [-BackupRepository <CBackupRepository>] [-Description <String>] -Entity <IHvItem[]> [-Force] [-HighPriority] [-Name <String>] [-OriginalVM <CHvVmItem[]>] 
```
```PowerShell
[-Path <String>] [-ReIpRule <IHvReIpRule[]>] [-ReplicaVM <CHvVmItem[]>] [-RepositorySeed <CBackupRepository>] -Server <CHost> [-SourceRepository <CBackupRepository[]>] 
```
```PowerShell
[-Suffix <String>] [<CommonParameters>]
```

Add-VBRHvScvmm
--------------

### Synopsis
Adds a Hyper-V SCVMM server to the backup infrastructure.

---

### Description

This cmdlet adds a Hyper-V SCVMM (Microsoft System Center Virtual Machine Manager) server to the backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding SCVMM Server Using Account User Name and Password

```PowerShell
Add-VBRHvScvmm -Name "SCVMM1" -User "Administrator" -Password "qwerty" -Description "SCVMM Server"
This command adds the SCVMM1 SCVMM server with the Administrator user name and the qwerty password of the account.
```
> Example 2. Adding SCVMM Server Using Credentials Managed by Veeam Backup & Replication

$Administrator = Get-VBRCredentials
Add-VBRHvScvmm -Name "SCVMM1" -Description "SCVMM Server" -Credentials $Administrator
This example shows how to add the SCVMM1 SCVMM server using the credentials managed by Veeam Backup & Replication.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRHvScvmm cmdlet. Specify the Name parameter value. Specify the Description parameter value. Set the $Administrator variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the SCVMM server.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the SCVMM server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the DNS name of the added SCVMM server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the SCVMM server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the SCVMM server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvScvmm -Credentials <CCredentials> [-Description <String>] -Name <String> [<CommonParameters>]
```
```PowerShell
Add-VBRHvScvmm [-Description <String>] -Name <String> -Password <String> -User <String> [<CommonParameters>]
```

Add-VBRHvSimpleVirtualLab
-------------------------

### Synopsis
Creates a Hyper-V basic virtual lab.

---

### Description

This cmdlet creates a Hyper-V basic virtual lab.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Creating Basic Virtual Lab

$host = Get-VBRServer -Name "esx09"
Add-VBRHvSimpleVirtualLab -Server $host -Name "Exchange Lab" -Description "Virtual Lab for Exchange VMs"
This example shows how to create a basic virtual lab with default settings. The cmdlet will create the virtual lab on the esx09 host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $host variable.
2. Run the Add-VBRHvSimpleVirtualLab cmdlet. Set the $host variable as the Server parameter value. Specify the Name parameter value. Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies a description. The cmdlet will create a virtual lab with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a name. The cmdlet will create a virtual lab with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Path**
Specifies the path to the folder where virtual lab will be stored.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ProxyAppliance**
Specifies a proxy appliance. The cmdlet will add this proxy appliance to a virtual lab.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRHvVirtualLabProxyAppliance]`|false   |named   |False        |

#### **Server**
Specifies a Microsoft Hyper-V host. The cmdlet will create a virtual lab on this host.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRHvSimpleVirtualLab [-Description <String>] [-Name <String>] [-Path <String>] [-ProxyAppliance <VBRHvVirtualLabProxyAppliance>] -Server <CHost> [<CommonParameters>]
```

Add-VBRIsilonHost
-----------------

### Synopsis
Adds Dell PowerScale (formerly Isilon) storage systems to Veeam Backup & Replication.

---

### Description

This cmdlet adds selected Dell PowerScale storage systems to the backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems. During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.
Tip:  Provide the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
- Run the Sync-VBRIsilonHost cmdlet to rescan of the entire storage system.
- Run the Sync-VBRIsilonVolume cmdlet to rescan selected Dell VNX volumes added to backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding Dell PowerScale Storage by Username and Password

```PowerShell
Add-VBRIsilonHost -Name 172.16.21.105 -UserName "Isilon Administrator" -Password "SecurePa$$w0rd"
This command adds the Isilon Administrator Dell PowerScale storage system by specifying username and password.
```
> Example 2. Adding Dell PowerScale Storage System Using Credentials

$credentials = Get-VBRCredentials -Name "Isilon Administrator"
Add-IsilonHost -Name 172.16.21.105 -Credentials $credentials -Proxy $proxy
This example shows how to add the Isilon Administrator Dell PowerScale storage system to the backup infrastructure using credentials.

Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Add-IsilonHost cmdlet. Specify the Name parameter value. Set the $credentials variable as the Credentials parameter value. Set the $proxy variable as the Proxy parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a Dell PowerScale without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NASCreateRulesAutomatically**
Defines that the cmdlet will allow Veeam Backup & Replication to automatically create required SMB and NFS export rules on the storage system.
If you provide this parameter, the rules will be created automatically in case the proxies are unavailable.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASNFS**
Defines that the storage will work over the NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASProxy**
Specifies the array of proxies you want to use.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

#### **NASSMB**
Defines that the storage will work over the SMB protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Sets a port used to connect to the PowerScale storage.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authentication to the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRIsilonHost -Credentials <CInternalCredentials> [-Description <String>] [-Force] -Name <String> [-NASCreateRulesAutomatically] [-NASNFS] [-NASProxy 
```
```PowerShell
<VBRNASProxyServer[]>] [-NASSMB] [-Port <Int32>] [-SkipRescan] [<CommonParameters>]
```
```PowerShell
Add-VBRIsilonHost [-Description <String>] [-Force] -Name <String> [-NASCreateRulesAutomatically] [-NASNFS] [-NASProxy <VBRNASProxyServer[]>] [-NASSMB] -Password <String> 
```
```PowerShell
[-Port <Int32>] [-SkipRescan] -UserName <String> [<CommonParameters>]
```

Add-VBRJobObject
----------------

### Synopsis
Adds VMs or VM containers to existing job.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Entities**

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CEntity[]]`|true    |2       |True (ByPropertyName, ByValue)|

#### **Job**

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CBackupJob]`|true    |0       |False        |

#### **Objects**

|Type        |Required|Position|PipelineInput                 |Aliases|
|------------|--------|--------|------------------------------|-------|
|`[String[]]`|true    |2       |True (ByPropertyName, ByValue)|VM     |

#### **Server**

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |1       |False        |

---

### Inputs
System.String[]

Veeam.Backup.ViSoap.CEntity[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRJobObject [-Job] <CBackupJob> [-Server] <CHost> [-Entities] <CEntity[]> [<CommonParameters>]
```
```PowerShell
Add-VBRJobObject [-Job] <CBackupJob> [-Server] <CHost> [-Objects] <String[]> [<CommonParameters>]
```

Add-VBRKMSServer
----------------

### Synopsis
Adds KMS servers to the Veeam Backup & Replication console.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet adds a Key Management System server (KMS server) to the Veeam Backup & Replication console.
For more information on working with KMS servers, see the Key Management System Keys section in the Veeam Backup & Replication User Guide.
IMPORTANT! Before you run this cmdlet, you must get the certificate either from a file or from the certificates store.

---

### Examples
> Adding KMS Server to Veeam Backup & Replication Console

Add-VBRKMSServer -Name "thales.tech.local" -Port 5696 -CACertificate $ClientCertificate -ClientCertificate $ClientCertificate
This command adds the thales.tech.local server to the Veeam Backup & Replication console.

---

### Parameters
#### **CACertificate**
Specifies the KMS server certificate.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[X509Certificate2]`|true    |named   |False        |

#### **ClientCertificate**
Specifies the client certificate issued by the KMS administrator for Veeam Backup & Replication.
Note: The client certificate must contain a private key and be exportable.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[X509Certificate2]`|true    |named   |False        |

#### **Description**
Specifies description of the KMS server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the FQDN, IPv4 or IPv6 address of the KMS server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Specifies a port number to connect to the KMS server. Default: 5696

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRKMSServer -CACertificate <X509Certificate2> -ClientCertificate <X509Certificate2> [-Description <String>] -Name <String> [-Port <Int32>] [<CommonParameters>]
```

Add-VBRLinux
------------

### Synopsis
Adds a Linux server to the backup infrastructure.

---

### Description

This cmdlet adds a Linux server to the backup infrastructure.
A Linux host that you want to add to the backup infrastructure must have SSH connection enabled.
If you plan to use non-persistent Veeam Data Movers, you must install Perl on a Linux host that you want to add to the backup infrastructure.
A Linux host that you add as a temporary helper appliance is not displayed in the Veeam Backup & Replication UI. Use this host to perform Linux-based or Unix-based guest OS files restore with the Start-VBRLinuxFileRestore cmdlet. Veeam Backup & Replication will delete this helper appliance after you run the Stop-VBRLinuxFileRestore cmdlet to complete the guest OS file restore.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRServer](Get-VBRServer.md)

* [Remove-VBRServer](Remove-VBRServer.md)

---

### Examples
> Example 1. Adding Linux Host Using Credentials for Authentication

$Administrator = Get-Credential
Add-VBRLinux -Name "LinRepository" -Credentials $Administrator
This example shows how add a Linux host using credentials for authentication.
Perform the following steps:
1. Run the Get-Credential cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRLinux cmdlet. Specify the Name parameter value. Set the $Administrator variable as the Credentials parameter value.
> Example 2. Adding Linux Host Using Username/Password for Authentication

```PowerShell
Add-VBRLinux -Name "198.51.100.2" -SSHUser "Administrator" -SSHPassword "qwerty" -Description "Linux host 01"
This command adds the 198.51.100.2 Linux server.
```
> Example 3. Adding Linux Host as Temporary Helper Appliance

$Administrator = Get-Credential
$admincreds = Add-VBRCredentials -Credential $Administrator -Type Linux -ElevateToRoot -AddToSudoers -FailoverToSu -RootPassword Securepassword
Add-VBRLinux -Credentials $admincreds -HelperHostName 198.51.100.1
This example shows how add the 198.51.100.1 Linux host as a temporary helper appliance.
Perform the following steps:
1. Run the Get-Credential cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRCredentials cmdlet. Specify the Credential, Type, ElevateToRoot, AddToSudoers, FailoverToSu and RootPassword parameter values. Save the result to the $admincreds variable.
3. Run the Add-VBRLinux cmdlet. Set the $admincreds variable as the Credentials parameter value. Specify the HelperHostName parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the Linux server.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the Linux server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **HelperHostName**
Note: This parameter is available starting from Veeam Backup & Replication 11a (build 11.0.1.1261).
Specifies the DNS name or IP address of the temporary helper appliance.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Name**
Specifies the DNS name or IP address of the Linux server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **SSHAddToSudoers**
Defines that the user account is added to sudoers file.
Default: (if the ElevateToRoot parameter is set to False) False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SSHElevateToRoot**
Defines that non-root users are provided with the root account privileges.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SSHFailoverToSu**
Defines that Veeam Backup & Replication will use the su command if the sudo command fails.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SSHFingerprint**
Specifies SSH host fingerprint.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SSHPassword**
Specifies the password you want to use for authenticating with the Linux server.
Note: To add a Linux host using an SSH key fingerprint, provide the Confirm parameter.

|Type      |Required|Position|PipelineInput|Aliases     |
|----------|--------|--------|-------------|------------|
|`[String]`|true    |2       |False        |SSH-Password|

#### **SSHPort**
Specifies the Web service port for connection to the Linux server console.
Default: 443

|Type     |Required|Position|PipelineInput|Aliases |
|---------|--------|--------|-------------|--------|
|`[Int32]`|false   |named   |False        |SSH-Port|

#### **SSHRootPassword**
Specifies the root password used for authentication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SSHTempCredentials**
To add a Linux server that will be used as a hardened repository.
Defines that the cmdlet will use single-use credentials to access a Linux server.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SSHUser**
Specifies the user name you want to use for authenticating with the Linux server.
Note: To add a Linux host using an SSH key fingerprint, provide the Confirm parameter.

|Type      |Required|Position|PipelineInput|Aliases |
|----------|--------|--------|-------------|--------|
|`[String]`|true    |1       |False        |SSH-User|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRLinux [-Name] <String> -Credentials <CCredentials> [-Description <String>] [-SSHFingerprint <String>] [-SSHPort <Int32>] [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Add-VBRLinux -Credentials <CCredentials> [-Description <String>] -HelperHostName <String> [-SSHFingerprint <String>] [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Add-VBRLinux [-Name] <String> [-SSHUser] <String> [-SSHPassword] <String> [-Description <String>] [-SSHAddToSudoers] [-SSHElevateToRoot] [-SSHFailoverToSu] [-SSHFingerprint 
```
```PowerShell
<String>] [-SSHPort <Int32>] [-SSHRootPassword <String>] [-SSHTempCredentials] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Add-VBRLocation
---------------

### Synopsis
Creates a geographic location in Veeam Backup & Replication.

---

### Description

This cmdlet creates a geographic location in Veeam Backup & Replication.
Run the Apply-VBRLocation cmdlet to assign locations to the backup infrastructure components.

---

### Related Links
* [Apply-VBRLocation](Apply-VBRLocation.md)

---

### Examples
> Creating Geographic Location

Add-VBRLocation -Name "ABC North"
This command creates a geographical location in Veeam Backup & Replication.

---

### Parameters
#### **Name**
Specifies the name you want to assign to the location.
The maximum length of the location name is 255 characters.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|true    |named   |True (ByPropertyName)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRLocation -Name <String> [<CommonParameters>]
```

Add-VBRLogItem
--------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Cookie**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **PassThru**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Session**

|Type          |Required|Position|PipelineInput |
|--------------|--------|--------|--------------|
|`[VBRSession]`|true    |named   |True (ByValue)|

#### **Status**

Valid Values:

* None
* Succeeded
* Warning
* Failed

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRLogStatus]`|false   |named   |False        |

#### **Title**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRLogItem [-Cookie <String>] [-PassThru] -Session <VBRSession> [-Status {None | Succeeded | Warning | Failed}] -Title <String> [<CommonParameters>]
```

Add-VBRMalwareDetectionExclusion
--------------------------------

### Synopsis
Adds machines to a malware exclusions list.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet adds machines to a malware exclusions list. Veeam Backup & Replication will skip these machines from malware scan. You can add machines of the following types:
- VMware vSphere VMs.
- Microsoft Hyper-V VMs.
- VMware Cloud Director VMs.
- Discovered computers added to protection groups.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Excluding VMware vSphere VM from Malware Scan

$vm = Find-VBRViEntity -Name "WinSrv2049"
Add-VBRMalwareDetectionExclusion -Entity $vm
This example shows how to exclude the WinSrv2049 VM from the malware scan.
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Add-VBRMalwareDetectionExclusion cmdlet. Set the $vm variable as the Entity parameter value.

---

### Parameters
#### **Entity**
Specifies a machine that you want to add to a malware exclusions list. Veeam Backup & Replication will skip this machine from malware scan.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Object]`|true    |0       |True (ByPropertyName, ByValue)|

#### **Note**
Specifies a note for a machine.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
System.Object

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRMalwareDetectionExclusion [-Entity] <Object> [-Note <String>] [<CommonParameters>]
```

Add-VBRMongoDBBackupJob
-----------------------

### Synopsis
Creates MongoDB backup policies.

---

### Description

This cmdlet creates MongoDB Backup application backup policies.
For application backup policies, you must specify a container object with discovered application entities (protection groups, protection group child objects, replica sets) that you plan to back up and the target location for storing backups. To create application backup policies, do the following:
1. Run one of the following cmdlets:
- Run the Get-VBRProtectionGroup cmdlet to get the protection group.
- Run the Get-VBRDiscoveredApplication cmdlet to get the replica set.
2. Run the Get-VBRBackupRepository cmdlet to get the repository.
3. Run the Add-VBRMongoDBBackupJob cmdlet to create application backup policy.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Get-VBRComputerBackupJob](Get-VBRComputerBackupJob.md)

* [Get-VBRDiscoveredApplication](Get-VBRDiscoveredApplication.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRFullBackupOptions](New-VBRFullBackupOptions.md)

* [New-VBRHealthCheckOptions](New-VBRHealthCheckOptions.md)

* [New-VBRStorageOptions](New-VBRStorageOptions.md)

* [New-VBRNotificationOptions](New-VBRNotificationOptions.md)

* [New-VBRDatabaseProcessingOptions](New-VBRDatabaseProcessingOptions.md)

---

### Examples
> Example 1. Creating MongoDB Backup Policy for Replica Set

$rs = Get-VBRDiscoveredApplication -MongoDBEntityType ReplicaSet[0]
$backupRepo = Get-VBRBackupRepository -Name 'BackupRepo1'
Add-VBRMongoDBBackupJob -Name MongoDB_Backup_Job1 -BackupObject $rs -BackupRepository $backupRepo
This example shows how to set up a MongoDB backup policy for a single replica set.
Perform the following steps:
1. Run the Get-VBRDiscoveredApplication cmdlet. Specify the MongoDBEntityType parameter value. Save the result to the $rs variable. The Get-VBRDiscoveredApplication cmdlet will return an array of replica sets. Mind the ordinal number of the necessary replica set. An array starts with 0. In this example, it is the first replica set in the array.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $backupRepo variable.
3. Run the Add-VBRMongoDBBackupJob cmdlet. Specify the Name parameter with the name of the backup policy. Set the $rs variable as the BackupObject parameter value. Set the $backupRepo variable as the BackupRepository parameter value.
> Example 2. Creating MongoDB Backup Policy for Protection Group

$pg = Get-VBRProtectionGroup -ContainerType MongoDB[0]
$backupRepo = Get-VBRBackupRepository -Name 'BackupRepo1'
Add-VBRMongoDBBackupJob -Name MongoDB_Backup_Job2 -BackupObject $pg -BackupRepository $backupRepo
This example shows how to set up a MongoDB backup policy for a protection group.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the ContainerType parameter value. Save the result to the $pg variable. The Get-VBRProtectionGroup cmdlet will return an array of protection groups. Mind the ordinal number of the necessary protection group. An array starts with 0. In this example, it is the first protection group in the array.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $backupRepo variable.
3. Run the Add-VBRMongoDBBackupJob cmdlet. Specify the Name parameter with the name of the backup policy. Set the $pg variable as the BackupObject parameter value. Set the $backupRepo variable as the BackupRepository parameter value.

---

### Parameters
#### **ActiveFullOptions**
Creates an active full backup schedule for MongoDB backup policies. Accepts the VBRFullBackupOptions object. To get this object, run the New-VBRFullBackupOptions cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRFullBackupOptions]`|false   |named   |False        |

#### **BackupObject**
Specifies an array of discovered application entities: protection groups and replica sets. The cmdlet will add these entities to the application backup policy. Accepts the Object[] object. To get this object, run the Get-VBRDiscoveredApplication cmdlet.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[Object[]]`|true    |named   |False        |

#### **BackupRepository**
Specifies the target backup location for the application backup policy. Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **CompactFullOptions**
Specifies the schedule for the compact operation of full backups created by the MongoDB backup policy. Veeam Backup & Replication defragments and compacts a full backup per the schedule settings specified in the VBRFullBackupOptions object. Accepts the VBRFullBackupOptions object. To get this object, run the New-VBRFullBackupOptions cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRFullBackupOptions]`|false   |named   |False        |

#### **Description**
Specifies the description of the application backup policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableSchedule**
Enables the option to schedule the application backup policy to run on a regular basis.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GFSOptions**
Specifies GFS retention settings for MongoDB backup policy. Accepts the VBRComputerGFSOptions object. To get this object, run the New-VBRComputerGFSOptions cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRComputerGFSOptions]`|false   |named   |False        |

#### **HealthCheckOptions**
Defines the health check schedule options. Accepts the VBRHealthCheckOption object. To get this object, run the New-VBRHealthCheckOptions cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRHealthCheckOptions]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it first.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name that you want to assign to the application backup policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings for the application backup policy. Accepts the VBRNotificationOptions object. To define this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **ProcessingOptions**
Specifies processing settings for the application backup policy. Accepts the VBRMongoDBProcessingOptions object. To create this object, run the New-VBRMongoDBProcessingOptions cmdlet.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRMongoDBProcessingOptions[]]`|false   |named   |False        |

#### **RetentionPolicy**
Specifies the retention policy for backups created by MongoDB backup. Note: The retention policy specifies only the number of days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies the settings for the application backup policy schedule. Accepts the VBRServerScheduleOptions object. To create this object, run the New-VBRServerScheduleOptions cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRServerScheduleOptions]`|false   |named   |False        |

#### **SourceBackup**
Specifies a backup file. The cmdlet will download metadata of this backup file from the long-term repository. Accepts the CBackup object. To get this object, run the Get-VBRBackup cmdlet.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|false   |named   |False        |

#### **StorageOptions**
Specifies storage options that you want to modify. Accepts the VBRStorageOptions object. To create this object, run the New-VBRStorageOptions cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRStorageOptions]`|false   |named   |False        |

#### **SyntheticFullOptions**
Creates a synthetic full backup schedule for MongoDB backup policies. Accepts the VBRFullBackupOptions object. To get this object, run the New-VBRFullBackupOptions cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRFullBackupOptions]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRMongoDBBackupJob [-ActiveFullOptions <VBRFullBackupOptions>] -BackupObject <Object[]> -BackupRepository <CBackupRepository> [-CompactFullOptions 
```
```PowerShell
<VBRFullBackupOptions>] [-Description <String>] [-EnableSchedule] [-GFSOptions <VBRComputerGFSOptions>] [-HealthCheckOptions <VBRHealthCheckOptions>] [-HighPriority] [-Name 
```
```PowerShell
<String>] [-NotificationOptions <VBRNotificationOptions>] [-ProcessingOptions <VBRMongoDBProcessingOptions[]>] [-RetentionPolicy <Int32>] [-ScheduleOptions 
```
```PowerShell
<VBRServerScheduleOptions>] [-SourceBackup <CBackup>] [-StorageOptions <VBRStorageOptions>] [-SyntheticFullOptions <VBRFullBackupOptions>] [<CommonParameters>]
```

Add-VBRNASBackupJob
-------------------

### Synopsis
Creates file backup jobs.

---

### Description

This cmdlet creates file backup jobs.

---

### Related Links
* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

* [New-VBRNASBackupJobObject](New-VBRNASBackupJobObject.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRUnstructuredBackupVersionRetentionOptions](New-VBRUnstructuredBackupVersionRetentionOptions.md)

* [New-VBRStorageOptions](New-VBRStorageOptions.md)

* [New-VBRUnstructuredBackupArchivalOptions](New-VBRUnstructuredBackupArchivalOptions.md)

---

### Examples
> Example 1. Creating File Backup Job

$server = Get-VBRUnstructuredServer -Name "\\WinSRV2049\Documents"
$object = New-VBRNASBackupJobObject -Server $server -Path "\\WinSRV2049\Documents\January"
$repository = Get-VBRBackupRepository -Name "Repository05"
Add-VBRNASBackupJob -BackupObject $object -ShortTermBackupRepository $repository
This example shows how to create a file backup job. The job will be created with the following settings:

� The file backup job will process files that are located on the \WinSRV2049 server in the \WinSRV2049\Documents\January folder. � The backup files will be stored on the Repository05 short-term repository.

Perform the following steps:

1. Run the Get-VBRUnstructuredServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.   2. Run the New-VBRNASBackupJobObject cmdlet. Set the $server variable as the Server parameter value. Specify the Path parameter value.   3. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.   4. Run the Add-VBRNASBackupJob cmdlet. Set the $object variable as the BackupObject parameter value. Set the $repository variable as the ShortTermBackupRepository parameter value.
> Example 2. Creating File Backup Job with LongTerm Repository

$server = Get-VBRUnstructuredServer -Name "\\WinSRV2049\Documents"
$object = New-VBRNASBackupJobObject -Server $server -Path "\\WinSRV2027\Documents\Reports"
$shortrepository = Get-VBRBackupRepository -Name "Repository07"
$archiverepository = Get-VBRBackupRepository -Name "Repository10"
Add-VBRNASBackupJob -BackupObject $object -ShortTermBackupRepository $repository -LongTermBackupRepository $archiverepository
This example shows how to create a file backup job. The job will be created with the following settings: � The file backup job will process files that are located on the \WinSRV2027 server in the \WinSRV2027\Documents\Reports folder. � The backup files will be stored on the Repository07 short-term repository until the retention period is passed. � After retention period is passed, the backup files will be moved to the Repository10 long-term repository.

Perform the following steps:

1. Run the Get-VBRUnstructuredServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.   2. Run the New-VBRNASBackupJobObject cmdlet. Set the $server variable as the Server parameter value. Specify the Path parameter value.   3. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $shortrepository variable.   4. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $archiverepository variable.   5. Run the Add-VBRNASBackupJob cmdlet. Specify the following settings:       o Set the $object variable as the BackupObject parameter value.      o Set the $shortrepository variable as the ShortTermBackupRepository parameter value.      o Set the $archiverepository variable as the LongTermBackupRepository parameter value.

---

### Parameters
#### **BackupObject**
Specifies folders and files. The cmdlet will add these folders and files to the file backup job. Accepts the VBRNASBackupJobObject[] object.  To create this object, run the New-VBRNASBackupJobObject cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRNASBackupObject[]]`|true    |named   |False        |

#### **Description**
Specifies a description of the file backup job. The cmdlet will create the file backup job with the specified description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableCopyMode**
Defines that the cmdlet will keep the copy of the data stored in the backup repository in the long-term archive repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableFileACLChangeTracking**
Defines that Veeam Backup & Replication will process attributes and permissions for folders. Files that are added to these folders will inherit permissions of the folders. If you enable this option, Veeam Backup & Replication will back up folder ACL attributes and permissions. Otherwise, they will not be backed up.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableLongTermRetention**
Defines that the cmdlet will keep files on long-term archive repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a file backup without showing warnings or errors in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HealthCheckOptions**
Specifies the healthcheck schedule. The cmdlet will create a file backup job with this healthcheck schedule. Accepts the VBRFullBackupOptions object. To create this object, run the New-VBRFullBackupOptions cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRFullBackupOptions]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LongTermArchivalOptions**
Specifies the retention policy for file versions that are located on the long-term repository. The cmdlet will create file backup jobs with the specified retention policy. Accepts the VBRUnstructuredBackupArchivalOptions object.  To create this object, run the New-VBRUnstructuredBackupArchivalOptions cmdlet.

|Type                                    |Required|Position|PipelineInput|
|----------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupArchivalOptions]`|false   |named   |False        |

#### **LongTermBackupRepository**
Specifies the archive repository.  The cmdlet will add this repository as the long-term archive storage. Accepts the CBackupRepository object.  To get this object, run the following cmdlets:
* Get-VBRBackupRepository: use this cmdlet to get backup repositories.
* Get-VBRObjectStorageRepository: use this cmdlet to get object storage repositories.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[IRepository]`|false   |named   |False        |

#### **LongTermRetentionPeriod**
For the LongTermRetentionType option. Specifies the period of time to keep data on the short-term repository. When this period is passed, Veeam Backup & Replication will delete this data from the archive repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **LongTermRetentionType**
Specifies a retention policy for the long-term archive repository. You can set the retention policy to either of the following periods:
* Daily: use this option if you want Veeam Backup & Replication to apply retention policy daily.
* Monthly: use this option if you want Veeam Backup & Replication to apply retention policy monthly.
Use the LongTermRetentionPeriod to specify the number of days or months.
Valid Values:

* Monthly
* Yearly

|Type                                          |Required|Position|PipelineInput|
|----------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupLongTermRetentionType]`|false   |named   |False        |

#### **Name**
Specifies a name of the file backup job. The cmdlet will create the file backup job with the specified name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification options. The cmdlet will create file backup jobs with these notification options. Accepts the VBRNotificationOptions object.  To create this object, run the New-VBRFullBackupOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies schedule options. The cmdlet will create file backup jobs with these schedule options. Accepts the VBRServerScheduleOptions object. To create this object, run the New-VBRServerScheduleOptions cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRServerScheduleOptions]`|false   |named   |False        |

#### **ScriptOptions**
Specifies pre-job and post-job script options. The cmdlet will create file backup jobs with these script options. Accepts the VBRJobScriptOptions object.  To create this object, run the New-VBRJobScriptOptions cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **SecondaryTarget**
Specifies the backup repository. The cmdlet will add this backup repository as the secondary repository to a file backup job. Accepts the VBRUnstructuredBackupSecondaryTarget[] object.  To create this object, run the New-VBRUnstructuredBackupSecondaryTarget cmdlet.

|Type                                      |Required|Position|PipelineInput|
|------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupSecondaryTarget[]]`|false   |named   |False        |

#### **ShortTermBackupRepository**
Specifies the backup repository. The cmdlet will add this repository as the short-term backup storage. Accepts the CBackupRepository object. To create this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **ShortTermRetentionPeriod**
For the ShortTermRetentionType option. Specifies the period of time to keep data on the short-term backup repository. When this period is passed, Veeam Backup & Replication will move data to the long-term archive repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ShortTermRetentionType**
Specifies a retention policy for the short-term repository. You can set the retention policy to either of the following periods:
* Daily: use this option if you want Veeam Backup & Replication to apply retention policy daily.
* Monthly: use this option if you want Veeam Backup & Replication to apply retention policy monthly.
Use the ShortTermRetentionPeriod to specify the number of days or months.
Valid Values:

* Daily
* Monthly

|Type                                           |Required|Position|PipelineInput|
|-----------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupShortTermRetentionType]`|false   |named   |False        |

#### **StorageOptions**
Specifies storage optimization settings. The cmdlet will create a file backup job with these settings. Accepts the VBRStorageOptions object.  To create this object, run the New-VBRStorageOptions cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRStorageOptions]`|false   |named   |False        |

#### **VersionRetentionOptions**
Specifies the settings of version-based retention for backup and archive repositories. The cmdlet will apply these settings to the file backup job. Accepts the VBRUnstructuredBackupVersionRetentionOptions object.  To create this object, run the New-VBRUnstructuredBackupVersionRetentionOptions cmdlet.

|Type                                            |Required|Position|PipelineInput|
|------------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupVersionRetentionOptions]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNASBackupJob -BackupObject <VBRNASBackupObject[]> [-Description <String>] [-EnableCopyMode] [-EnableFileACLChangeTracking] [-EnableLongTermRetention] [-Force] 
```
```PowerShell
[-HealthCheckOptions <VBRFullBackupOptions>] [-HighPriority] [-LongTermArchivalOptions <VBRUnstructuredBackupArchivalOptions>] [-LongTermBackupRepository <IRepository>] 
```
```PowerShell
[-LongTermRetentionPeriod <Int32>] [-LongTermRetentionType {Monthly | Yearly}] [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] [-ScheduleOptions 
```
```PowerShell
<VBRServerScheduleOptions>] [-ScriptOptions <VBRJobScriptOptions>] [-SecondaryTarget <VBRUnstructuredBackupSecondaryTarget[]>] -ShortTermBackupRepository <CBackupRepository> 
```
```PowerShell
[-ShortTermRetentionPeriod <Int32>] [-ShortTermRetentionType {Daily | Monthly}] [-StorageOptions <VBRStorageOptions>] [-VersionRetentionOptions 
```
```PowerShell
<VBRUnstructuredBackupVersionRetentionOptions>] [<CommonParameters>]
```

Add-VBRNASFileServer
--------------------

### Synopsis
Adds managed Windows or Linux file serves to the Veeam Backup & Replication infrastructure.

---

### Description

This cmdlet adds managed Windows or Linux file servers to the Veeam Backup & Replication infrastructure.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Adding File Servers

$server = Get-VBRServer -Name "Active_Directory"
$repository = Get-VBRBackupRepository -Name "Backup Repository 08"
Add-VBRNASFileServer -Server $server -CacheRepository $repository
This example shows how to add managed Windows or Linux file servers to the Veeam Backup & Replication infrastructure.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the Add-VBRNASNFSServer cmdlet. Set the $server variable as the Server parameter value. Set the $repository variable as the CacheRepository parameter value.

---

### Parameters
#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from the file server. You can specify either of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRNASBackupIOControlLevel]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository. Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **Server**
Specifies the host where the file server is located. Veeam Backup & Replication will add the file server that is located on this host. Accepts the CHost object. To get this object, run the Get-VBRServer cmdlet.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNASFileServer [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> -Server <CHost> [<CommonParameters>]
```

Add-VBRNASNFSServer
-------------------

### Synopsis
Adds NFS network shared folders to the inventory.

---

### Description

This cmdlet adds NFS network shared folders to the inventory.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1. Adding NFS Network Shared Folder

$repository = Get-VBRBackupRepository -Name "Backup Repository 08"
Add-VBRNASNFSServer -Path "Server06:/SharedDocuments" -CacheRepository $repository
This example shows how to add the NFS shared folder to the inventory.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Add-VBRNASNFSServer cmdlet. Specify the Path parameter value. Set the $repository variable as the CacheRepository parameter value.
> Example 2. Adding NFS Network Shared Folder With Direct Processing

$repository = Get-VBRBackupRepository -Name "Backup Repository 02"
Add-VBRNASNFSServer -Path "Server06:/SharedDocuments" -CacheRepository $repository -ProcessingMode Direct
This example shows how to add the NFS shared folder to the Veeam Backup & Replication infrastructure. Veeam Backup & Replication will back up data directly from the SMB network shared folder.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Add-VBRNASNFSServer cmdlet. Specify the following settings:
- Specify the Path parameter value.
- Set the $repository variable as the CacheRepository parameter value.
- Set the Direct option as the ProcessingMode parameter value.

---

### Parameters
#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from the file server. You can specify either of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRNASBackupIOControlLevel]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository. Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **EnableDirectBackupFailover**
For the StorageSnapshot processing option. Defines that if the native storage snapshot fails while being processed, Veeam Backup & Replication will back up data directly from the file server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Encoding**
Specifies encoding for NFS share. You can specify either of the following values:
* utf
* ansi
Valid Values:

* utf
* ansi

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRNASEncoding]`|false   |named   |False        |

#### **Path**
This cmdlet adds NFS network shared folders to the Veeam Backup & Replication infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **ProcessingMode**
Specifies processing options that define how Veeam Backup & Replication will back up data:
* Direct: use this option to back up directly from the SMB network shared folder. Note: This option does not back up locked files.
* VSSSnapshot: use this option to back up from VSS snapshots that have been created by the backup proxy.
* StorageSnapshot: use this option to back up from the native storage snapshots.
Use the StorageSnapshotPath parameter to specify the path to the folder where native storage snapshots are located.
Valid Values:

* Direct
* VSSSnapshot
* StorageSnapshot

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRNASProcessingMode]`|false   |named   |False        |

#### **ProxyMode**
Specifies the backup proxy options:
* Automatic: use this option if you want Veeam Backup & Replication to choose the backup proxy that will process the NFS network shared folder.
* SelectedProxy: use this option if you want to specify the backup proxy that will process the NFS network shared folder.
Use the SelectedProxyServer parameter to specify the backup proxy.
Valid Values:

* Automatic
* SelectedProxy

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNASProxyMode]`|false   |named   |False        |

#### **SelectedProxyServer**
For the SelectedProxy option of the ProxyMode parameter. Specifies the backup proxy. Veeam Backup & Replication will use this backup proxy to process the NFS network shared folder. Accepts the VBRNASProxyServer[] object. To get this object, run the Get-VBRNASProxyServer cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

#### **StorageSnapshotPath**
For the StorageSnapshot processing options. Specifies the path to the folder where native storage snapshots are located. Veeam Backup & Replication will get data from these snapshots located at the specified folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNASNFSServer [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> [-EnableDirectBackupFailover] [-Encoding {utf | 
```
```PowerShell
ansi}] -Path <String> [-ProcessingMode {Direct | VSSSnapshot | StorageSnapshot}] [-ProxyMode {Automatic | SelectedProxy}] [-SelectedProxyServer <VBRNASProxyServer[]>] 
```
```PowerShell
[-StorageSnapshotPath <String>] [<CommonParameters>]
```

Add-VBRNASProxyServer
---------------------

### Synopsis
Adds file backup proxy servers to the Veeam Backup & Replication infrastructure.

---

### Description

This cmdlet adds file backup proxy servers to the Veeam Backup & Replication infrastructure.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Adding File Backup Proxy Servers

$server = Get-VBRServer -Name "File Backup Proxy"
Add-VBRNASProxyServer -Server $server
This example shows how to add a file backup proxy server to the Veeam Backup & Replication infrastructure. The file backup proxy server is assigned two concurrent tasks to process.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRNASProxyServer cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Adding File Backup Proxy Servers with Specific Number of Concurrent Tasks

$server = Get-VBRServer -Name "File Backup Proxy"
Add-VBRNASProxyServer -Server $server -ConcurrentTaskNumber 100
This example shows how to add file backup proxy servers to the Veeam Backup & Replication infrastructure. The file backup proxy server is assigned 100 concurrent tasks to process.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRNASProxyServer cmdlet. Set the $server variable as the Server parameter value. Specify the ConcurrentTaskNumber parameter value.

---

### Parameters
#### **ConcurrentTaskNumber**
Specifies the number of concurrent tasks that can be assigned to the file backup proxy simultaneously. Permitted values: 1-100. Default: 2.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Description**
Specifies a description of the file backup proxy server. The cmdlet will add the proxy server with the specified description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Server**
Specifies the host where the file backup proxy server is located. The cmdlet will add this host as the proxy server to the Veeam Backup & Replication infrastructure. Accepts the CHost object. To get this object, run the Get-VBRServer cmdlet.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNASProxyServer [-ConcurrentTaskNumber <Int32>] [-Description <String>] -Server <CHost> [<CommonParameters>]
```

Add-VBRNASSMBServer
-------------------

### Synopsis
Adds SMB network shared folders to the Veeam Backup & Replication infrastructure.

---

### Description

This cmdlet adds SMB network shared folders to the Veeam Backup & Replication infrastructure.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding SMB Network Shared Folder Without Authentication

$repository = Get-VBRBackupRepository -Name "Backup Repository 09"
Add-VBRNASSMBServer -Path "\\Server07\SharedDocuments" -CacheRepository $repository
This example shows how to add the SMB network shared folder without authentication.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Add-VBRNASSMBServer cmdlet. Specify the Path parameter value. Set the $repository variable as the CacheRepository parameter value.
> Example 2. Adding SMB Network Shared Folder with User Name and Password

$repository = Get-VBRBackupRepository -Name 'Backup Repository 05'
Add-VBRNASSMBServer -Path '\\Server08\SharedDocuments' -User Administrator -Password AdminCredentials -CacheRepository $repository
This example shows how to add the SMB network shared folder authenticated with user name and password.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Add-VBRNASSMBServer cmdlet. Specify the following settings:
- Specify the Path parameter value.
- Specify the User parameter value.
- Specify the Password parameter value.
- Set the $repository variable as the CacheRepository parameter value.
> Example 3. Adding SMB Network Shared Folder with Credentials

$repository = Get-VBRBackupRepository -Name "Backup Repository 05"
$credentials = Get-VBRCredentials
Add-VBRNASSMBServer -Path "\\Server04\SharedDocuments" -AccessCredentials $credentials -CacheRepository $repository
This example shows how to add SMB network shared folder authenticated with credentials.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Get-VBRCredentials cmdlet. Save the result to the $credentials variable.
3. Run the Add-VBRNASSMBServer cmdlet. Specify the following settings:
- Specify the Path parameter value.
- Set the $credentials variable as the AccessCredentials parameter value.
- Set the $repository variable as the CacheRepository parameter value.

---

### Parameters
#### **AccessCredentials**
Specifies credentials that the cmdlet will use to authenticate against the SMB network shared folder. Accepts the CCredentials object. To get this object, run the Get-VBRCredentials cmdlet.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from the file server. You can specify either of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRNASBackupIOControlLevel]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository. Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **EnableDirectBackupFailover**
For the StorageSnapshot processing option. Defines that if the native storage snapshot fails while being processed, Veeam Backup & Replication will backup data directly from the file server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password. The cmdlet will use this password to authenticate against the SMB network shared folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Path**
Specifies a path to the SMB network shared folder. The cmdlet will add the SMB network shared folder located at the specified path to the Veeam Backup & Replication infrastructure. Note: Use the "\server\folder" format.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **ProcessingMode**
Specifies processing options that define how Veeam Backup & Replication will back up data.
* Direct: use this option to back up directly from the SMB network shared folder. Note: This option does not back up locked files.
* VSSSnapshot: use this option to back up from VSS snapshots that have been created by the backup proxy.
* StorageSnapshot: use this option to back up from the native storage snapshots. Use the StorageSnapshotPath parameter to specify the path to the folder where native storage snapshots are located.
Valid Values:

* Direct
* VSSSnapshot
* StorageSnapshot

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRNASProcessingMode]`|false   |named   |False        |

#### **ProxyMode**
Specifies the backup proxy options:
* Automatic: use this option if you want Veeam Backup & Replication to choose the backup proxy that will process the SMB network shared folder.
* SelectedProxy: use this option if you want to specify the backup proxy that will process the SMB network shared folder. Use the SelectedProxyServer parameter to specify the backup proxy.
Valid Values:

* Automatic
* SelectedProxy

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNASProxyMode]`|false   |named   |False        |

#### **SelectedProxyServer**
For the SelectedProxy option of the ProxyMode parameter. Specifies the backup proxy. Veeam Backup & Replication will use this backup proxy to back up the SMB network shared folder. Accepts the VBRNASProxyServer[] object. To get this object, run the Get-VBRNASProxyServer cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

#### **StorageSnapshotPath**
For the StorageSnapshot processing option. Specifies the path to the folder where native storage snapshots are located. Veeam Backup & Replication will get data from these snapshots located at the specified folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **User**
Specifies the user name. The cmdlet will apply this user name to authenticate against the SMB network shared folder. Note: The user name must be in the "DOMAIN\USERNAME" format.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNASSMBServer -AccessCredentials <CCredentials> [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> 
```
```PowerShell
[-EnableDirectBackupFailover] -Path <String> [-ProcessingMode {Direct | VSSSnapshot | StorageSnapshot}] [-ProxyMode {Automatic | SelectedProxy}] [-SelectedProxyServer 
```
```PowerShell
<VBRNASProxyServer[]>] [-StorageSnapshotPath <String>] [<CommonParameters>]
```
```PowerShell
Add-VBRNASSMBServer [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] -CacheRepository <CBackupRepository> [-EnableDirectBackupFailover] -Password <String> 
```
```PowerShell
-Path <String> [-ProcessingMode {Direct | VSSSnapshot | StorageSnapshot}] [-ProxyMode {Automatic | SelectedProxy}] [-SelectedProxyServer <VBRNASProxyServer[]>] 
```
```PowerShell
[-StorageSnapshotPath <String>] -User <String> [<CommonParameters>]
```

Add-VBRNDMPServer
-----------------

### Synopsis
Adds NDMP servers to the backup infrastructure.

---

### Description

This cmdlet adds NDMP servers to the backup infrastructure.

---

### Related Links
* [Add-VBRCredentials](Add-VBRCredentials.md)

* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Adding NDMP Server with Automatic Gateway Selection

$creds = Add-VBRCredentials -User "New NDMP" -Password "Password"
Add-VBRNDMPServer -Name "NetApp.tech.local" -Credentials $creds -GatewayMode Automatic -Port 10000
This example shows how to add an NDMP server to the backup infrastructure. Veeam Backup & Replication will select the gateway server automatically.
Perform the following steps:
1. Run the Add-VBRCredentials cmdlet. Specify the User and the Password parameters value. Save the result to the $creds variable.
2. Run the Add-VBRNDMPServer cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $creds variable as the Credentials parameter value.
- Set the Automatic option for the GatewayMode parameter.
- Specify the Port parameter value.
> Example 2. Adding NDMP Server with Manual Gateway Selection

$creds = Add-VBRCredentials -User "New NDMP" -Password "Password"
$gateway = Get-VBRServer  -Name "Gateway server"
Add-VBRNDMPServer -Name "NDMPv4 Storage" -Port 1000 -Credentials $creds -GatewayMode SelectedGateway -SelectedGateway $gateway
This example shows how to add an NDMP server to the backup infrastructure. Veeam Backup & Replication will use selected server as the gateway server.
Perform the following steps:
1. Run the Add-VBRCredentials cmdlet. Specify the User and the Password parameters value. Save the result to the $creds variable.
2. Run the Get-VBRServer cmdlet. Specify the Name parameter. Save the result to the $gateway variable.
3. Run the Add-VBRNDMPServer cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Port parameter value.
- Set the $creds variable as the Credentials parameter value.
- Set the SelectedGateway option for the GatewayMode parameter.
- Set the $gateway variable as the SelectedGateway parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials. Veeam Backup & Replication will use these credentials to connect to an NDMP server.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **GatewayMode**
Specifies a gateway server. Veeam Backup & Replication will use this gateway server to connect to the NDMP server.
You can select the following modes of selecting the gateway server:
* Automatic - use this option if you want Veeam Backup & Replication to choose the gateway server automatically.
* SelectedGateway - use this option if you want to specify the gateway server explicitly. Use the SelectedGateway parameter to specify the gateway server.
Valid Values:

* Automatic
* SelectedGateway

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRGatewayMode]`|true    |named   |False        |

#### **Name**
Specifies the DNS or IP of an NDMP server that you want to add to Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Specifies the port. Veeam Backup & Replication will use that port to connect to an NDMP server.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|true    |named   |False        |

#### **SelectedGateway**
For specifying a gateway server explicitly with the SelectedGateway option.
Specifies the server that you want to use as the gateway server.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNDMPServer -Credentials <CCredentials> -GatewayMode {Automatic | SelectedGateway} -Name <String> -Port <Int32> [-SelectedGateway <CHost>] [<CommonParameters>]
```

Add-VBRNetworkTrafficRule
-------------------------

### Synopsis
Creates network traffic rules.

---

### Description

This cmdlet creates network traffic rules. With network traffic rules, you can limit the traffic throughput between components in the backup infrastructure.

---

### Examples
> Creating Network Traffic Rule

```PowerShell
Add-VBRNetworkTrafficRule -Name "New rule" -SourceIPStart 192.168.0.1 -SourceIPEnd 192.168.0.255 -TargetIPStart 192.168.0.1 -TargetIPEnd 192.168.0.255 -EnableThrottling -ThrottlingValue 5 -ThrottlingUnit MbitPerSec
This command creates a network traffic rule.
```

---

### Parameters
#### **EnableEncryption**
Enables encryption for a network traffic rule. Veeam Backup & Replication will encrypt the data that is passed between backup infrastructure components on the source and target side.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableThrottling**
Enables throttling for a network traffic rule. Veeam Backup & Replication will limit the traffic throughput between the backup infrastructure components within the specified IP range.
Use the following parameters to set the maximum value:
* ThrottlingValue
* ThrottlingUnit

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableThrottlingWindow**
Enables the schedule for a network traffic rule.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name that you want to assign to a network traffic rule.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **SourceIPEnd**
Specifies the last IP address of the IP source range.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[IPAddress]`|true    |named   |False        |

#### **SourceIPStart**
Specifies the first IP address of the IP source range.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[IPAddress]`|true    |named   |False        |

#### **TargetIPEnd**
Specifies the last IP address of the IP target range.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[IPAddress]`|true    |named   |False        |

#### **TargetIPStart**
Specifies the first IP address of the IP target range.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[IPAddress]`|true    |named   |False        |

#### **ThrottlingUnit**
For the EnableThrottling parameter.
Specifies the measuring unit for the ThrottlingValue parameter: You can set the following units:
* MbitPerSec
* MbytePerSec
* KbytePerSec
Default: MbitPerSec.
Valid Values:

* MbitPerSec
* MbytePerSec
* KbytePerSec

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRSpeedUnit]`|false   |named   |False        |

#### **ThrottlingValue**
Specifies the maximum speed value that must be used to transfer VM machine data from source to target.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ThrottlingWindowOptions**
Specifies the time interval during which Veeam Backup & Replication must apply a network traffic rule.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNetworkTrafficRule [-EnableEncryption] [-EnableThrottling] [-EnableThrottlingWindow] -Name <String> -SourceIPEnd <IPAddress> -SourceIPStart <IPAddress> -TargetIPEnd 
```
```PowerShell
<IPAddress> -TargetIPStart <IPAddress> [-ThrottlingUnit {MbitPerSec | MbytePerSec | KbytePerSec}] [-ThrottlingValue <Int32>] [-ThrottlingWindowOptions 
```
```PowerShell
<VBRBackupWindowOptions>] [<CommonParameters>]
```

Add-VBRNutanixHost
------------------

### Synopsis
Adds Nutanix Files storage systems to the backup infrastructure.

---

### Description

This cmdlet adds Nutanix Files storage systems to the backup infrastructure.

When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs rescan of storage systems. During the rescan operation Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure. For more information about rescan, see the Adding Storage Systems (https://helpcenter.veeam.com/docs/backup/vsphere/storage_configure_add_storage.html?ver=120)section of the User Guide for VMware vSphere.

TIP: Provide the SkipRescan parameter to skip the automatic rescan operation.
To rescan storage systems manually, use the following cmdlets:
- Run Sync-VBRNutanixHost to rescan of the entire storage system.
- Run Sync-VBRNutanixVolume to rescan Nutanix Files volumes added to backup infrastructure.

---

### Examples
> Example 1. Adding Nutanix Files Storage Systems by User Name and Password

```PowerShell
Add-VBRNutanixHost -Name 167.16.21.25 -UserName Administrator -Password XXXXXXXXXXX
This command adds Nutanix Files storage systems by user name and password.
```
> Example 2. Adding Nutanix Files Storage Systems by Credentials

$credentials = Get-VBRCredentials -Name *Administrator*
Add-VBRNutanixHost -Name 167.16.21.25 -Credentials $credentials
This example shows how to add Nutanix Files storage systems by credentials.

Perform the following steps: 1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $creds variable.
2. Run the Start-VBRViVirtualDiskRestore cmdlet. Specify the Name parameter value. Set the $credentials variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials that you want to use for authentication to the storage system.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **Description**
Specifies a description of the storage system.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add the storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a storage system IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NASCreateRulesAutomatically**
Defines that the cmdlet will allow Veeam Backup & Replication to automatically create required SMB and NFS export rules in the storage system.
If you provide this parameter, the rules will be created automatically in case the proxies are unavailable. If you do not provide the parameter and use the NFS protocol, the rules will not be created, and you must create the rules manually in the Nutanix Files storage system. For the SMB protocol, no actions are required.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASNFS**
Defines that the storage system will work over the NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NASProxy**
Specifies the array of proxies you want to use.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

#### **NASSMB**
Defines that the storage system will work over the SMB protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authentication to the storage system.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Specifies the port used to connect to the  storage system.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authentication to the storage system.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRNutanixHost -Credentials <CInternalCredentials> [-Description <String>] [-Force] -Name <String> [-NASCreateRulesAutomatically] [-NASNFS] [-NASProxy 
```
```PowerShell
<VBRNASProxyServer[]>] [-NASSMB] [-Port <Int32>] [-SkipRescan] [<CommonParameters>]
```
```PowerShell
Add-VBRNutanixHost [-Description <String>] [-Force] -Name <String> [-NASCreateRulesAutomatically] [-NASNFS] [-NASProxy <VBRNASProxyServer[]>] [-NASSMB] -Password <String> 
```
```PowerShell
[-Port <Int32>] [-SkipRescan] -UserName <String> [<CommonParameters>]
```

Add-VBRObjectStorageBackupJob
-----------------------------

### Synopsis
Creates object storage backup job.

---

### Description

This cmdlet creates object storage backup job.

---

### Related Links
* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

* [New-VBRObjectStorageBackupJobObject](New-VBRObjectStorageBackupJobObject.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Adding Object Storage Backup Job

$server = Get-VBRUnstructuredServer -Name "Azure 01"
$object = New-VBRObjectStorageBackupJobObject -Server $serv -Container "Monthly Backups" -Path "Reports"
$repository = Get-VBRBackupRepository -Name "WinSrv2017"
Add-VBRObjectStorageBackupJob -BackupObject $object -Name "Azure OS Job" -ShortTermBackupRepository $repository
This example shows how add the Azure OS Job object storage backup job.

Perform the following steps:
1. Run the Get-VBRUnstructuredServer cmdlet. Specify the Name parameter values. Save the result to the $server variable.
2. Run the New-VBRObjectStorageBackupJobObject cmdlet. Specify the Server, Container, Day and Path parameter values. Save the result to the $object variable.
3. Run the Get-VBRBackupRepository cmdlet. Specify the Server, Container, Day and Path parameter values. Save the result to the $repository variable.
4. Run the New-VBRSureBackupJobScheduleOptions cmdlet. Set the $object variable as the BackupObject parameter value. Set the $repository variable as the ShortTermBackupRepository parameter value.

---

### Parameters
#### **BackupObject**
Specifies an array of objects. The cmdlet will add these objects to the object storage backup job. Accepts the VBRObjectStorageBackupJobObject[] object.  To define this object, run the New-VBRObjectStorageBackupJobObject cmdlet.

|Type                                 |Required|Position|PipelineInput|
|-------------------------------------|--------|--------|-------------|
|`[VBRObjectStorageBackupJobObject[]]`|true    |named   |False        |

#### **Description**
Specifies a description of the object storage backup job. The cmdlet will create the the object storage backup job with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableCopyMode**
Defines that the cmdlet will keep the copy of the data stored in the backup repository in the long-term archive repository

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableLongTermRetention**
Defines that the cmdlet will keep objects on long-term archive repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a file backup without showing warnings or errors in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HealthCheckOptions**
Specifies the healthcheck schedule. The cmdlet will create the object storage backup with this healthcheck schedule. Accepts the VBRFullBackupOptions object.  To create this object, run the New-VBRFullBackupOptions cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRFullBackupOptions]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LongTermArchivalOptions**
Specifies the retention policy for data versions that are located on the long-term archive repository. The cmdlet will create object storage backup jobs with the specified retention policy. Accepts the VBRUnstructuredBackupArchivalOptions object.  To create this object, run the New-VBRUnstructuredBackupArchivalOptions cmdlet.

|Type                                    |Required|Position|PipelineInput|
|----------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupArchivalOptions]`|false   |named   |False        |

#### **LongTermBackupRepository**
Specifies the archive repository. The cmdlet will add this repository as the long-term archive storage. Accepts the IRepository object. To get this object, run the following cmdlets:
* Get-VBRBackupRepository: use this cmdlet to get backup repositories.
* Get-VBRObjectStorageRepository: use this cmdlet to get object storage repositories.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[IRepository]`|false   |named   |False        |

#### **LongTermRetentionPeriod**
For the LongTermRetentionType option. Specifies the period of time to keep data on the long-term archive repository. When this period is passed, Veeam Backup & Replication will delete this data from the archive repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **LongTermRetentionType**
Specifies a retention policy for the long-term archive repository. You can set the retention policy to either of the following periods:
* Monthly: use this option if you want Veeam Backup & Replication to apply retention policy monthly.
* Yearly: use this option if you want Veeam Backup & Replication to apply retention policy yearly.
Use the LongTermRetentionPeriod to specify the number of months or years.
Valid Values:

* Monthly
* Yearly

|Type                                          |Required|Position|PipelineInput|
|----------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupLongTermRetentionType]`|false   |named   |False        |

#### **Name**
Specifies a name of the object storage backup job. The cmdlet will create the object storage backup job with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification options. The cmdlet will create the object storage backup job with these notification options. Accepts the VBRNotificationOptions object.  To create this object, run the New-VBRFullBackupOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies schedule options. The cmdlet will create the object storage backup job with these schedule options. Accepts the VBRJobScriptOptions object.  To create this object, run the New-VBRServerScheduleOptions cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRServerScheduleOptions]`|false   |named   |False        |

#### **ScriptOptions**
Specifies pre-job and post-job script options. The cmdlet will create the object storage backup job with these script options. Accepts the VBRJobScriptOptions object.  To create this object, run the New-VBRJobScriptOptions cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **SecondaryTarget**
Specifies the backup repository. The cmdlet will add this repository as the secondary repository to the object storage backup job. Accepts the VBRUnstructuredBackupSecondaryTarget[] object.  To create this object, run the New-VBRUnstructuredBackupSecondaryTarget cmdlet.

|Type                                      |Required|Position|PipelineInput|
|------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupSecondaryTarget[]]`|false   |named   |False        |

#### **ShortTermBackupRepository**
Specifies the backup repository. The cmdlet will add this repository as the short-term backup storage. Accepts the CBackupRepository object.  To create this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **ShortTermRetentionPeriod**
For the ShortTermRetentionType option. Specifies the period of time to keep data on the short-term backup repository. When this period is passed, Veeam Backup & Replication will move data to the long-term archive repository.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ShortTermRetentionType**
Specifies a retention policy for the short-term backup repository. You can set the retention policy to either of the following periods:
* Daily: use this option if you want Veeam Backup & Replication to apply retention policy daily.
* Monthly: use this option if you want Veeam Backup & Replication to apply retention policy monthly.
Use the ShortTermRetentionPeriod to specify the number of days or months.
Valid Values:

* Daily
* Monthly

|Type                                           |Required|Position|PipelineInput|
|-----------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupShortTermRetentionType]`|false   |named   |False        |

#### **SkipTagTracking**
Defines that the cmdlet will enable tag tracking for an object storage backup job. If you provide this parameter, the cmdlet will skip tracking of tags for incremental backups in case the objects content is not changed when the job runs. Note: The cmdlet skips this parameter if you define tag masks settings with the New-VBRObjectStorageBackupTagMask cmdlet.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **StorageOptions**
Specifies storage optimization settings. The cmdlet will create the object storage backup with these settings. Accepts the VBRStorageOptions object.  To create this object, run the New-VBRStorageOptions cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRStorageOptions]`|false   |named   |False        |

#### **VersionRetentionOptions**
Specifies the settings of version-based retention for backup and archive repositories. The cmdlet will apply these settings to the object storage backup job. Accepts the VBRUnstructuredBackupVersionRetentionOptions object.  To create this object, run the New-VBRUnstructuredBackupVersionRetentionOptions cmdlet.

|Type                                            |Required|Position|PipelineInput|
|------------------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupVersionRetentionOptions]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRObjectStorageBackupJob -BackupObject <VBRObjectStorageBackupJobObject[]> [-Description <String>] [-EnableCopyMode] [-EnableLongTermRetention] [-Force] 
```
```PowerShell
[-HealthCheckOptions <VBRFullBackupOptions>] [-HighPriority] [-LongTermArchivalOptions <VBRUnstructuredBackupArchivalOptions>] [-LongTermBackupRepository <IRepository>] 
```
```PowerShell
[-LongTermRetentionPeriod <Int32>] [-LongTermRetentionType {Monthly | Yearly}] [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] [-ScheduleOptions 
```
```PowerShell
<VBRServerScheduleOptions>] [-ScriptOptions <VBRJobScriptOptions>] [-SecondaryTarget <VBRUnstructuredBackupSecondaryTarget[]>] -ShortTermBackupRepository <CBackupRepository> 
```
```PowerShell
[-ShortTermRetentionPeriod <Int32>] [-ShortTermRetentionType {Daily | Monthly}] [-SkipTagTracking] [-StorageOptions <VBRStorageOptions>] [-VersionRetentionOptions 
```
```PowerShell
<VBRUnstructuredBackupVersionRetentionOptions>] [<CommonParameters>]
```

Add-VBRObjectToTapeJob
----------------------

### Synopsis
Creates an object to tape job.

---

### Description

This cmdlet creates a new object to tape job.

---

### Related Links
* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

* [New-VBRObjectStorageBackupJobObject](New-VBRObjectStorageBackupJobObject.md)

* [Get-VBRTapeMediaPool](Get-VBRTapeMediaPool.md)

* [New-VBRFileToTapeBackupPolicy](New-VBRFileToTapeBackupPolicy.md)

* [New-VBRNotificationOptions](New-VBRNotificationOptions.md)

* [New-VBRJobScriptOptions](New-VBRJobScriptOptions.md)

---

### Examples
> Example - Creating Object to Tape Job

$server = Get-VBRUnstructuredServer -Name "Azure Blob Storage"
$object = New-VBRObjectStorageBackupJobObject -Server $server -Container "Sydney Container"
$mediapool = Get-VBRTapeMediaPool -Name "Object Storage Backup Media Pool"
$monthlyoptions = New-VBRMonthlyOptions -DayNumberInMonth Last -DayOfWeek Sunday -Period 22:00
$monthlypolicy = New-VBRFileToTapeBackupPolicy -Type Monthly -MonthlyOptions $monthlyoptions -Enabled
$dailyoptions = New-VBRDailyOptions -Type Everyday -Period 22:00
$dailypolicy = New-VBRFileToTapeBackupPolicy -Type Daily -DailyOptions $dailyoptions -Enabled
Add-VBRObjectToTapeJob -Name "Sydney Container to Tape" -Description "Backing up Sydney Azure Container" -Object $object -FullBackupMediaPool $mediapool -FullBackupPolicy $monthlypolicy -IncrementalBackupMediaPool $mediapool -IncrementalBackupPolicy $dailypolicy
This example shows how to create an object to tape job that backs up the "Sydney Container Microsoft Azure" container. The full backup runs every last Sunday of the month and incremental backups run daily at 22:00.

Perform the following steps:
1. Run the Get-VBRUnstructuredServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the New-VBRObjectStorageBackupJobObject cmdlet. Set the $server variable as the Server parameter value. Specify the Container parameter value. Save the result to the $object variable.
3. Run the Get-VBRTapeMediaPool cmdlet. Specify the Name parameter value. Save it to the $mediapool variable.
4. Run the New-VBRMonthlyOptions cmdlet. Set Last as the DayNumberInMonth parameter value and Sunday as the DayOfWeek parameter value. Save the result to the $monthlyoptions variable.
5. Run the New-VBRFileToTapeBackupPolicy cmdlet. Set Monthly as the Type parameter value. Set the $monthlyoptions variable as the MonthlyOptions parameter value. Provide the Enabled parameter. Save the result to the $monthlypolicy variable.
6. Run the New-VBRDailyOptions cmdlet. Set Everyday as the Type parameter value and 22:00 as the Period parameter value. Save the result to the $dailyoptions variable.
7. Run the New-VBRFileToTapeBackupPolicy cmdlet. Set Daily as the Type parameter value. Set the $dailyoptions variable as the DailyOptions parameter value. Provide the Enabled parameter. Save the result to the $dailypolicy variable.
8. Run the Add-VBRObjectToTapeJob cmdlet. Specify the following settings:
- Specify the Name and the Description parameter value.
- Set the $object variable as the Object parameter value.
- Set the $mediapool variable as the FullBackupMediaPool parameter value.
- Set the $monthlypolicy variable as the FullBackupPolicy parameter value.
- Set the $mediapool variable as the IncrementalBackupMediaPool parameter value.
- Set the $dailypolicy variable as the IncrementalBackupPolicy parameter value.

---

### Parameters
#### **Description**
Specifies the description of the object to tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EjectCurrentMedium**
Defines that the tapes will be automatically ejected from drive after the job finishes. The ejected tape is moved to a standard library slot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableFileAclChangeTracking**
Enables backup of permissions and attributes for files. Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ExportCurrentMediaSet**
Defines that the tapes belonging to the media set will be automatically placed to Import/Export (Mail) slot for further export. Use the ExportDays parameter to set days on which you want to export tapes. If you use this parameter, but do not set the ExportDays parameter, the tapes will be exported every day.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ExportDays**
Used to set days for exporting tapes for the ExportCurrentMediaSet parameter. Specifies days on which the tapes written by this tape job will be automatically exported: Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday.
Valid Values:

* Sunday
* Monday
* Tuesday
* Wednesday
* Thursday
* Friday
* Saturday

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[DayOfWeek[]]`|false   |named   |False        |

#### **FullBackupMediaPool**
Specifies the media pool where you want to store full backups produced by this tape job. Accepts the VBRTapeMediaPool object, GUID or string. To get this object, run the Get-VBRTapeMediaPool cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRTapeMediaPool]`|true    |named   |False        |

#### **FullBackupPolicy**
Specifies virtual synthetic full backup for tape settings. Accepts the VBRFullBackupToTapePolicy object. Default:
* Type: Daily
* DailyOptions: Type: SelectedDays, Period: 18:00, DayOfWeek: Saturday
* MonthlyOptions: Period: 22:00, DayNumberInMonth: Fourth, DayOfWeek: Saturday, Months: January, February, March, April, May, June, July, August, September, October, November, December
* Enabled: False

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRFileToTapeBackupPolicy]`|false   |named   |False        |

#### **IncrementalBackupMediaPool**
Specifies the media pool where you want to store incremental backups produced by this tape job. Accepts the VBRTapeMediaPool object, GUID or string. To get this object, run the Get-VBRTapeMediaPool cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRTapeMediaPool]`|false   |named   |False        |

#### **IncrementalBackupPolicy**
Specifies incremental backup settings. Accepts the VBRFileToTapeBackupPolicy object. Default:
* Type: Daily
* DailyOptions: Type: SelectedDays, Period: 18:00, DayOfWeek: Saturday
* MonthlyOptions: Period: 22:00, DayNumberInMonth: Fourth, DayOfWeek: Saturday, Months: January, February, March, April, May, June, July, August, September, October, November, December
* Enabled: False

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRFileToTapeBackupPolicy]`|false   |named   |False        |

#### **JobScriptOptions**
Specifies scripting options. Accepts the VBRJobScriptOptions object. To create this object, run the New-VBRJobScriptOptions cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRJobScriptOptions]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the object to tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NotificationOptions**
Specifies the email notification options. Accepts the VBRNotificationOptions object. To create this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **Object**
Specifies the array of object to tape job sources. Accepts the VBRObjectStorageBackupJobObject[] object, GUID or string. To create this object, run the New-VBRObjectStorageBackupJobObject cmdlet.

|Type                                 |Required|Position|PipelineInput|
|-------------------------------------|--------|--------|-------------|
|`[VBRObjectStorageBackupJobObject[]]`|true    |named   |False        |

#### **UseHardwareCompression**
Defines that tape library must perform hardware compression for archives. Do not use this option for archiving Veeam backups or other already compressed files.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRObjectToTapeJob [-Description <String>] [-EjectCurrentMedium] [-EnableFileAclChangeTracking] [-ExportCurrentMediaSet] [-ExportDays {Sunday | Monday | Tuesday | 
```
```PowerShell
Wednesday | Thursday | Friday | Saturday}] -FullBackupMediaPool <VBRTapeMediaPool> [-FullBackupPolicy <VBRFileToTapeBackupPolicy>] [-IncrementalBackupMediaPool 
```
```PowerShell
<VBRTapeMediaPool>] [-IncrementalBackupPolicy <VBRFileToTapeBackupPolicy>] [-JobScriptOptions <VBRJobScriptOptions>] -Name <String> [-NotificationOptions 
```
```PowerShell
<VBRNotificationOptions>] -Object <VBRObjectStorageBackupJobObject[]> [-UseHardwareCompression] [<CommonParameters>]
```

Add-VBROrchestratedTaskLock
---------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **PassThru**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Replica**

|Type             |Required|Position|PipelineInput        |
|-----------------|--------|--------|---------------------|
|`[VBRCDPReplica]`|true    |named   |True (ByPropertyName)|

#### **RestorePoint**

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[COib]`|true    |named   |True (ByPropertyName)|

#### **Session**

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBROrchestratedTaskSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBROrchestratedTaskSession

Veeam.Backup.Core.COib

Veeam.Backup.PowerShell.Infos.VBRCDPReplica

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBROrchestratedTaskLock [-PassThru] -Replica <VBRCDPReplica> -Session <VBROrchestratedTaskSession> [<CommonParameters>]
```
```PowerShell
Add-VBROrchestratedTaskLock [-PassThru] -RestorePoint <COib> -Session <VBROrchestratedTaskSession> [<CommonParameters>]
```

Add-VBRPluginBackupCopyJob
--------------------------

### Synopsis
Creates plug-in backup copy jobs.

---

### Description

This cmdlet creates plug-in backup copy jobs.
To create plug-in backup copy jobs, you must specify at least one source that contains the data you want to add to the copy job. Plug-in backup copy jobs use one of the following sources:
- The existing plug-in backup job created to back up Oracle RMAN or SAP HANA. Run the Get-VBRPluginJob cmdlet to get the plug-in backup job.
- Backup files that are stored in the source repositories. Run the Get-VBRBackupRepository cmdlet to get the source repository.
NOTE: The backup copy job is created in the disabled state. Run the Enable-VBRPluginJob cmdlet to run the job manually.

---

### Related Links
* [Get-VBRPluginJob](Get-VBRPluginJob.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1. Creating Plug-In Backup Copy Job Using Existing Plug-In Backup Job

$pluginjob = Get-VBRPluginJob -Name "SAP backint backup 07"
$targetrepository = Get-VBRBackupRepository -Name "TR05"
Add-VBRPluginBackupCopyJob -SourceJob $pluginjob -Name "Plug-in backup 03" -TargetRepository $targetrepository
This example shows how to create a plug-in backup copy job using the existing plug-in backup job.
Perform the following steps:
1. Run the Get-VBRPluginJob cmdlet. Specify the Name parameter value. Save the result to the $pluginjob variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $targetrepository variable.
3. Run the Add-VBRPluginBackupCopyJob cmdlet. Specify the following settings:
- Set the $pluginjob variable as the SourceJob parameter value.
- Specify the Name parameter value.
- Set the $targetrepository as the TargetRepository parameter value.
> Example 2. Creating Plug-In Backup Copy Job Using Source Repository

$sourcerepository = Get-VBRBackupRepository -Name "SR09"
$targetrepository = Get-VBRBackupRepository -Name "TR07"
Add-VBRPluginBackupCopyJob -Name "Plug-in backup 05" -SourceRepository $sourcerepository -TargetRepository $targetrepository
This example shows how to create a plug-in backup copy job using the source repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $sourcerepository variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $targetrepository variable.
3. Run the Add-VBRPluginBackupCopyJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $sourcerepository variable as the SourceRepository parameter value.
- Set the $targetrepository as the TargetRepository parameter value.
> Example 3. Creating Plug-In Backup Copy Job using Job and Source Repository

$pluginjob = Get-VBRPluginJob -Name "SAP backint backup 11"
$sourcerepository = Get-VBRBackupRepository -Name "SR013"
$targetrepository = Get-VBRBackupRepository -Name "TR015"
Add-VBRPluginBackupCopyJob -SourceJob $pluginjob -Name "Plug-in backup 17" -SourceRepository $sourcerepository -TargetRepository $targetrepository
This example shows how to create a plug-in backup copy job using the existing backup copy job and a source repository.
Perform the following steps:
1. Run the Get-VBRPluginJob cmdlet. Specify the Name parameter value. Save the result to the $pluginjob variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $sourcerepository variable.
3. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $targetrepository variable.
4. Run the Add-VBRPluginBackupCopyJob cmdlet. Specify the following settings:
- Set the $pluginjob variable as the SourceJob parameter value.
- Specify the Name parameter value.
- Set the $sourcerepository variable as the SourceRepository parameter value.
- Set the $targetrepository variable as the TargetRepository parameter value.

---

### Parameters
#### **ApplicationDataRetention**
Specifies the number of days. The cmdlet will create a plug-in backup copy job with the specified amount of days.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **BackupWindowOptions**
Specifies backup window settings for a job. The cmdlet will create the plug-in backup copy job with these settings.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

#### **Description**
Specifies a description of a plug-in backup copy job. The cmdlet will create the job with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ExcludedJob**
Specifies a plug-in backup job that you do not want to process by a plug-in backup copy job.
The cmdlet will not add databases processed by this job to the plug-in backup copy job.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRPluginBackupJob[]]`|false   |named   |False        |

#### **Force**
Defines that the job will be created even if the source repository is located in the different geographic location than the target repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name of a plug-in backup copy job. The cmdlet will create the job with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings. The cmdlet will create the plug-in backup copy job with these settings.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **RPOWarningOptions**
Specifies an array of the number of hours when data must be copied from the source repository to the target repository.
Default: 1.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRRpoNotificationOption[]]`|false   |named   |False        |

#### **SourceJob**
Specifies a plug-in backup job. The cmdlet will add databases processed by this job to the plug-in backup copy job.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRPluginBackupJob[]]`|false   |named   |False        |

#### **SourceRepository**
Specifies a backup repository that contains backups of databases, created by a plug-in backup job.
The cmdlet will add backups located on this repository to the plug-in backup copy job.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **StorageOptions**
Specifies settings for compression and storage optimization of the target backup repository.
The cmdlet will create the plug-in backup copy job with these settings.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRPluginCopyJobStorageOptions]`|false   |named   |False        |

#### **TargetRepository**
Specifies a target backup repository. The cmdlet will copy plug-in backups to this repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRPluginBackupCopyJob [-ApplicationDataRetention <Int32>] [-BackupWindowOptions <VBRBackupWindowOptions>] [-Description <String>] [-ExcludedJob <VBRPluginBackupJob[]>] 
```
```PowerShell
[-Force] [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] [-RPOWarningOptions <VBRRpoNotificationOption[]>] [-SourceJob <VBRPluginBackupJob[]>] 
```
```PowerShell
[-SourceRepository <CBackupRepository[]>] [-StorageOptions <VBRPluginCopyJobStorageOptions>] -TargetRepository <CBackupRepository> [<CommonParameters>]
```

Add-VBRPreferredNetwork
-----------------------

### Synopsis
Specifies preferred networks.

---

### Description

This cmdlet specifies preferred networks for the backup infrastructure.
You can instruct Veeam Backup & Replication to transfer data over preferred networks only. To do that, run the Enable-VBRPreferredNetworkDataTransfer cmdlet.

---

### Examples
> Adding Preferred Network to List

```PowerShell
Add-VBRPreferredNetwork -IpAddress 192.168.0.1 -SubnetMask 255.255.255.255
This command adds the a preferred network to a list of preferred networks.
```

---

### Parameters
#### **IpAddress**
Specifies the IP address for a preferred network.

|Type         |Required|Position|PipelineInput        |
|-------------|--------|--------|---------------------|
|`[IPAddress]`|true    |named   |True (ByPropertyName)|

#### **SubnetMask**
Specifies the subnet mask for a preferred network

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|true    |named   |True (ByPropertyName)|

---

### Inputs
System.Net.IPAddress

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRPreferredNetwork -IpAddress <IPAddress> -SubnetMask <String> [<CommonParameters>]
```

Add-VBRProtectionGroup
----------------------

### Synopsis
Creates protection groups in Veeam Backup & Replication.

---

### Description

This cmdlet creates protection groups.
Before creating a protection group, you must create a protection scope for this group. Protection groups can include the following objects:  - Active Directory objects
- Individual computers

- Cloud machines
- Computers imported from a CSV file
- Cloud machines
- MongoDB Replica sets

For more information about the protection scope, see the following cmdlets:
- New-VBRADContainer
- New-VBRIndividualComputerContainer
- New-VBRAmazonEC2Container
- New-VBRAzureContainer
- New-VBRCSVContainer
- New-VBRAzureContainer
- New-VBRMongoDBContainer

---

### Related Links
* [New-VBRIndividualComputerCustomCredentials](New-VBRIndividualComputerCustomCredentials.md)

* [New-VBRIndividualComputerContainer](New-VBRIndividualComputerContainer.md)

* [New-VBRPeriodicallyOptions](New-VBRPeriodicallyOptions.md)

* [New-VBRProtectionGroupScheduleOptions](New-VBRProtectionGroupScheduleOptions.md)

* [New-VBRProtectionGroupDeploymentOptions](New-VBRProtectionGroupDeploymentOptions.md)

---

### Examples
> Creating Protection Group

$computers = @("support.east.local", "qa.east.local", "adm-v8931") | ForEach { New-VBRIndividualComputerCustomCredentials -HostName $_ -Credentials "support\jsmith"}
$scope = New-VBRIndividualComputerContainer -CustomCredentials $computers
$periodically = New-VBRPeriodicallyOptions -FullPeriod 12 -PeriodicallyKind Hours
$schedule = New-VBRProtectionGroupScheduleOptions -PolicyType Periodically -PeriodicallyOptions $periodically
$deployment = New-VBRProtectionGroupDeploymentOptions -InstallAgent
Add-VBRProtectionGroup -Name "Support_East" -Container $scope -ScheduleOptions $schedule -DeploymentOptions $deployment
This example shows how to create a protection group with the following settings:
- The created protection group will include individual computers.
- Veeam Backup & Replication will discover computers in the protection group every 12 hours.
- Veeam Backup & Replication will automatically install Veeam Agent on all discovered computers of this protection group.
Perform the following steps:
1. Run the New-VBRIndividualComputerCustomCredentials cmdlet. Use the ForEach statement to apply the same credentials to multiple computers. Save the result to the $computers variable.
2. Run the New-VBRIndividualComputerContainer cmdlet. Set the $computers variable as the CustomCredentials parameter value. Save the result to the $scope variable. 3. Run the New-VBRPeriodicallyOptions cmdlet. Specify the FullPeriod and the PeriodicallyKind parameter values. Save the result to the $periodically variable.
4. Run the New-VBRProtectionGroupScheduleOptions cmdlet. Set the Periodically value as the PolicyType parameter value. Set the $periodically variable as the PeriodicallyOptions parameter value. Save the result to the $schedule variable.
5. Run the New-VBRProtectionGroupDeploymentOptions cmdlet. Provide the InstallAgent parameter. Save the result to the $deployment variable.
6. Run the Add-VBRProtectionGroup cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $scope variable as the Container parameter value.
- Set the $schedule variable as the ScheduleOptions parameter value.
- Set the $deployment variable as the DeploymentOptions parameter value.

---

### Parameters
#### **AdvancedOptions**
Specifies settings for Veeam Agent for Windows deployed on computers in the protection group. You can specify the following settings:
* Network usage settings
* Throttling settings
* Security settings

|Type                                        |Required|Position|PipelineInput        |
|--------------------------------------------|--------|--------|---------------------|
|`[VBRProtectionGroupAdvancedWindowsOptions]`|false   |named   |True (ByPropertyName)|

#### **Container**
Specifies the protection scope. The protection scope can contain the following objects: - Active Directory objects
* Individual computers
* Cloud machines
* Computers imported from a CSV file
* Cloud machines
* MongoDB Replica sets
The cmdlet will create the protection group with this protection scope.

|Type                           |Required|Position|PipelineInput                 |
|-------------------------------|--------|--------|------------------------------|
|`[VBRProtectionGroupContainer]`|true    |named   |True (ByPropertyName, ByValue)|

#### **DeploymentOptions**
Specifies Veeam Agent deployment settings. The cmdlet will use these settings to install Veeam Agent on the discovered computers in the protection group.

|Type                                   |Required|Position|PipelineInput        |
|---------------------------------------|--------|--------|---------------------|
|`[VBRProtectionGroupDeploymentOptions]`|false   |named   |True (ByPropertyName)|

#### **Description**
Specifies the description of the protection group.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|false   |named   |True (ByPropertyName)|

#### **Name**
Specifies the name you want to assign to the protection group.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|true    |named   |True (ByPropertyName)|

#### **NotificationOptions**
Specifies notification settings for the protection group.

|Type                                     |Required|Position|PipelineInput        |
|-----------------------------------------|--------|--------|---------------------|
|`[VBRProtectionGroupNotificationOptions]`|false   |named   |True (ByPropertyName)|

#### **ScheduleOptions**
Specifies the discovery schedule. The cmdlet will use this schedule to perform discovery operations for computers in the protection group.

|Type                                 |Required|Position|PipelineInput        |
|-------------------------------------|--------|--------|---------------------|
|`[VBRProtectionGroupScheduleOptions]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.String

Veeam.Backup.PowerShell.Infos.VBRProtectionGroupContainer

Veeam.Backup.PowerShell.Infos.VBRProtectionGroupScheduleOptions

Veeam.Backup.PowerShell.Infos.VBRProtectionGroupDeploymentOptions

Veeam.Backup.PowerShell.Infos.VBRProtectionGroupAdvancedWindowsOptions

Veeam.Backup.PowerShell.Infos.VBRProtectionGroupNotificationOptions

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRProtectionGroup [-AdvancedOptions <VBRProtectionGroupAdvancedWindowsOptions>] -Container <VBRProtectionGroupContainer> [-DeploymentOptions 
```
```PowerShell
<VBRProtectionGroupDeploymentOptions>] [-Description <String>] -Name <String> [-NotificationOptions <VBRProtectionGroupNotificationOptions>] [-ScheduleOptions 
```
```PowerShell
<VBRProtectionGroupScheduleOptions>] [<CommonParameters>]
```

Add-VBRRecoveryKeyRecord
------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **EncryptedKeyId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **RecoveryKeyId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRRecoveryKeyRecord -EncryptedKeyId <Guid> -RecoveryKeyId <Guid> [<CommonParameters>]
```

Add-VBRS3CompatibleServer
-------------------------

### Synopsis
Adds S3 compatible object storage as an unstructured data source to the inventory.

---

### Description

This cmdlet adds S3 compatible object storage as unstructured data source to the inventory.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRNASProxyServer](Get-VBRNASProxyServer.md)

---

### Examples
> Adding S3 Compatible Storage as Unstructured Data Source

$account = Get-VBRAmazonAccount -AccessKey "XXXXXXXX" -SecretKey "XXXXXXXXXXXX" -Description "S3 account"
$cacherepository = Get-VBRBackupRepository -Name "WinSrv"
Add-VBRS3CompatibleServer -FriendlyName "S3 compatible" -Account $account -ServicePoint "S3.eu.compatible" -CacheRepository $cacherepository
This example shows how to add S3 compatible storage as unstructured data source to the inventory.

Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey, SecretKey and the Description parameters values. Save the result to the $account variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $cacherepository variable.
3. Run the Add-VBRAmazonS3Server cmdlet. Specify the following settings:
- Specify the FriendlyName parameter value.
- Set the $account variable as the Account parameter value.
- Specify the ServicePoint parameter value.
- Set the $cacherepository variable as the CacheRepository parameter value.

---

### Parameters
#### **Account**
Specifies an S3 credentials record. Veeam Backup & Replication will use this credentials record to connect to S3 compatible object storage. Accepts the VBRAmazonAccount object.  To get this object, run the Get-VBRAmazonAccount cmdlet.

|Type                |Required|Position|PipelineInput |
|--------------------|--------|--------|--------------|
|`[VBRAmazonAccount]`|true    |named   |True (ByValue)|

#### **BackupIOControlLevel**
Specifies a speed that Veeam Backup & Replication will use to read data from object storage. You can specify either of the following speed:
* Lowest
* Low
* Medium
* High
* Highest
Valid Values:

* Lowest
* Low
* Medium
* High
* Highest

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupIOControlLevel]`|false   |named   |False        |

#### **BucketName**
Specifies a name of the S3 compatible bucket. The cmdlet will connect to this bucket.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **CacheRepository**
Specifies the cache repository. Veeam Backup & Replication will keep the .VCACHE files on this repository. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **Force**
Defines that the cmdlet will add S3 compatible object storage without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FriendlyName**
Specify a name that you want to assign to the object storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **ProxyMode**
Specifies the backup proxy options:
* Automatic: use this option if you want Veeam Backup & Replication to choose the backup proxy that will process object storage.
* SelectedProxy: use this option if you want to specify the backup proxy that will process object storage. Use the SelectedProxyServer parameter to specify the backup proxy.
Valid Values:

* Automatic
* SelectedProxy

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNASProxyMode]`|false   |named   |False        |

#### **RegionId**
Specifies a region.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SelectedProxyServer**
For the SelectedProxy option of the ProxyMode parameter. Specifies the backup proxy. Veeam Backup & Replication will use this backup proxy to back up S3 compatible object storage. Accepts the VBRNASProxyServer[] object.  To get this object, run the Get-VBRNASProxyServer cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASProxyServer[]]`|false   |named   |False        |

#### **ServicePoint**
Specifies a service point address of object storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonAccount

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRS3CompatibleServer -Account <VBRAmazonAccount> [-BackupIOControlLevel {Lowest | Low | Medium | High | Highest}] [-BucketName <String>] -CacheRepository 
```
```PowerShell
<CBackupRepository> [-Force] -FriendlyName <String> [-ProxyMode {Automatic | SelectedProxy}] [-RegionId <String>] [-SelectedProxyServer <VBRNASProxyServer[]>] -ServicePoint 
```
```PowerShell
<String> [<CommonParameters>]
```

Add-VBRS3GlacierCompatibleRepository
------------------------------------

### Synopsis
Adds S3 compatible object storage with data archiving to the backup infrastructure.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdet adds S3 compatible object storage with data archiving to the backup infrastructure.
IMPORTANT! To be able to work with S3 compatible object storage with data archiving, you must enable the SOSAPI functionality. For more information, see Working with Veeam Smart Object Storage API (SOSAPI) section in Veeam Backup & Replication User Guide.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3CompatibleService](Connect-VBRAmazonS3CompatibleService.md)

* [New-VBRAmazonS3Folder](New-VBRAmazonS3Folder.md)

---

### Examples
> Adding S3 Compatible Object Storage with Data Archiving

$account = Get-VBRAmazonAccount
$connect = Connect-VBRAmazonS3CompatibleService -Account $account[0] -CustomRegionId "us-east-1" -ServicePoint "http://172.24.185.88:80" -ServiceType ArchiveTier 
$folder = New-VBRAmazonS3Folder -Bucket $bucket[1] -Connection $connect -Name "TW02"
$s3Archive = Add-VBRS3GlacierCompatibleRepository -AmazonS3Folder $folder -Name "Monthly_Reports" -Connection $connect
This example shows how to add S3 compatible object storage with data archiving to the backup infrastructure.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3CompatibleService cmdlet. Specify the Account, CustomRegionId, ServicePoint and the ServiceType parameter values. Save the result to the $connect variable.
3. Run the New-VBRAmazonS3Folder cmdlet. Specify the Bucket, Connection and Name parameter values. Save the result to the $folder variable.
4. Run the Add-VBRS3GlacierCompatibleRepository cmdlet. Specify the following settings:
- Set the $folder variable as the AmazonS3Folder parameter value.
- Set the $connect variable as the Connection parameter value.
- Set the Name parameter value.
- Save the result to the $s3Archive variable.

---

### Parameters
#### **AmazonS3Folder**
Specifies a folder for S3 compatible object storage with data archiving. Veeam Backup & Replication will move backup files into this folder.

|Type                 |Required|Position|PipelineInput |
|---------------------|--------|--------|--------------|
|`[VBRAmazonS3Folder]`|true    |named   |True (ByValue)|

#### **ArchiverAppliance**
Specifies the archiver appliance. The cmdlet will use it to transfer data from S3 compatible object storage to S3 compatible object storage with data archiving. You can use either Windows-based or Linux-based appliance.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Connection**
Specifies an active session with S3 compatible object storage that supports data archiving. The cmdlet use it to add S3 compatible object storage as a backup repository.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRAmazonS3CompatibleConnection]`|true    |named   |False        |

#### **Description**
Specifies a description of S3 compatible object storage with data archiving. The cmdlet will add S3 compatible object storage with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupImmutability**
Enables immutability for S3 compatible object storage with data archiving.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add S3 compatible object storage with data archiving without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ForceOwnershipChange**
Defines that the cmdlet will force ownership change of the folder for S3 compatible that supports data archiving.
If you do not provide this parameter and the S3 compatible object storage folder is owned by another host, you will not be able to add S3 compatible object storage to the backup infrastructure.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name of S3 compatible object storage with data archiving. The cmdlet will add S3 compatible object storage with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Folder

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRS3GlacierCompatibleRepository -AmazonS3Folder <VBRAmazonS3Folder> [-ArchiverAppliance <CHost>] -Connection <VBRAmazonS3CompatibleConnection> [-Description <String>] 
```
```PowerShell
[-EnableBackupImmutability] [-Force] [-ForceOwnershipChange] [-Name <String>] [<CommonParameters>]
```

Add-VBRSanFeatureByJob
----------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Parameters
#### **FeatureId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **ImmutabilityExpirationDays**

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **IsImmutabilityOn**

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Boolean]`|false   |named   |False        |

#### **JobId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **RetentionCount**

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|true    |named   |False        |

#### **UseAsDataSource**

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Boolean]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRSanFeatureByJob -FeatureId <Guid> [-ImmutabilityExpirationDays <Int32>] [-IsImmutabilityOn <Boolean>] -JobId <Guid> -RetentionCount <Int32> -UseAsDataSource <Boolean> 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRScaleOutBackupRepository
-------------------------------

### Synopsis
Adds scale-out backup repositories to the backup infrastructure.

---

### Description

This cmdlet creates scale-out backup repositories. You can create the scale-out backup repositories with the following options:
- The performance tier option. To implement this option, you must add local backup repositories or object storage repositories as performance extents to the scale-out backup repository.
- Performance tier and capacity tier options. To implement this option, you must add local backup repositories and object storage repositories to the scale-out backup repository.
- Performance tier, capacity tier and archive tier options. To implement this option, you must add local backup repositories, object storage repositories and archive object storage repositories to the scale-out backup repository.
Run the Get-VBRBackupRepository cmdlet to get backup repositories.
Run the Get-VBRObjectStorageRepository cmdlet to get object storage repositories.
By default, Veeam Backup & Replication only moves backup files that form inactive backup chains. For more information about backup chains, see the Backup Chain Legitimacy section of User Guide for VMware vSphere.
If you want to move a backup file manually, run the Start-VBROffloadBackupFile cmdlet.

---

### Related Links
* [Get-VBRRBackupRepository](Get-VBRRBackupRepository.md)

* [Get-VBRObjectStorageRepository](Get-VBRObjectStorageRepository.md)

---

### Examples
> Example 1. Creating Scale-Out Backup Repository with Performance Tier [Backup Repositories Extents]

$ext1 = Get-VBRBackupRepository -Name "LinExtent 1"
$ext2 = Get-VBRBackupRepository -Name "LinExtent 2"
Add-VBRScaleOutBackupRepository -Name "Veeam Performance Scale-Out Repository" -PolicyType Performance -ObjectStorageRepository $ext1, $ext2
This example shows hot to create a scale-out backup repository with the following settings:
- The scale-out backup repository contains the performance tier.
- The performance tier consists of local backup repositories added as performance extents.
- The policy type is set to performance policy type.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $ext1 variable. 2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $ext2 variable. 3. Run the Add-VBRScaleOutBackupRepository cmdlet Specify the Name parameter value. Set the PolicyType parameter to the Performance value. Set the $ext1 and $ext2 variables as the Extent parameter values.
> Example 2. Creating Scale-Out Backup Repository with Capacity Tier

$ext1 = Get-VBRBackupRepository -Name "LinExtent 1"
$objectstorage = Get-VBRObjectStorageRepository -Name "Amazon S3"
Add-VBRScaleOutBackupRepository -Name "ScaleOutRepository" -Extent $ext1 -PolicyType Performance -EnableCapacityTier -ObjectStorageRepository $objectstorage
This example shows how to create a scale-out backup repository with the following settings:
- The scale-out backup repository contains performance tier and capacity tier.
- The performance tier consists of local backup repositories added as performance extents.
- The policy type is set to performance policy type.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $ext1 variable.
2. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $objectstorage variable.
3. Run the Add-VBRScaleOutBackupRepository cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $ext1 variable as the Extent parameter value.
- Set the PolicyType parameter to the Performance value.
- Provide the EnableCapacityTier parameter.
- Set the $objectstorage variable as the ObjectStorageRepository parameter value.
> Example 3. Creating Scale-Out Backup Repository with Performance Tier [Object Storage Extents]

$ext1 = Get-VBRBackupRepository -Name "S3Ext01"
$ext2 = Get-VBRBackupRepository -Name "S3Ext02"
Add-VBRScaleOutBackupRepository -Name SOBR03 -Extent $ext1, $ext2 -PolicyType DataLocality
This command creates a scale-out backup repository with the following settings:
- The scale-out backup repository contains the performance tier.
- The performance tier consists of object storage repositories added as performance extents.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $ext1 variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $ext2 variable.
3. Run the Add-VBRScaleOutBackupRepository cmdlet. Specify the Name parameter value. Set the PolicyType parameter to the DataLocality value. Set the $ext1 and $ext2 variables as the ObjectStorageRepository parameter values.

---

### Parameters
#### **ArchiveObjectStorageRepository**
Specifies an archive storage. Veeam Backup & Replication will move the backup files to this archive storage.

|Type                                 |Required|Position|PipelineInput        |
|-------------------------------------|--------|--------|---------------------|
|`[VBRArchiveObjectStorageRepository]`|false   |named   |True (ByPropertyName)|

#### **ArchivePeriod**
For retention policy.
Specifies the number of days to keep backup files on the archive extent. When the number of days is passed, Veeam Backup & Replication will delete outdated backup files.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **CapacityTierHealthCheckOptions**
Specifies the health check schedule options.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRHealthCheckOptions]`|false   |named   |False        |

#### **Description**
Specifies the description of the scale-out backup repository.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|false   |named   |True (ByPropertyName)|

#### **EnableArchiveFullBackupMode**
Enables the option to store archived backups as standalone fulls, without any dependencies on the previous backup files.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableArchiveTier**
Enables the archive tier option. Veeam Backup & Replication will move backup files to an archive storage.
Default: False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **EnableCapacityTier**
Enables the capacity tier option. Veeam Backup & Replication will move backup files to an object storage.
Default: False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **EnableCapacityTierCopyPolicy**
Defines that the cmdlet will copy new backup files to object storage as soon as they are created.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableCapacityTierMovePolicy**
Defines that the cmdlet will move inactive backup chains to object storage.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableCopyAllMachineBackups**
For backup files created with Veeam Agent backup jobs and Veeam backup jobs for VMs.
Enables copying of all backup files from the performance extents to the capacity extent. If you do not provide this parameter, the cmdlet will copy only the latest backup files.
Note: You must provide the EnableCapacityTierCopyPolicy parameter to activate the copy policy.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableCopyAllPluginBackups**
For backup files created with Veeam Plug-in for SAP HANA, Veeam Plug-in for Oracle RMAN.
Enables copying of all backup files from the performance extents to the capacity extent. If you do not provide this parameter, the cmdlet will not copy these backup files to the capacity extent.
Note: You must provide the EnableCapacityTierCopyPolicy parameter to activate the copy policy.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableCostOptimizedArchive**
Enables the option to archive backup files only if the remaining retention time is above minimal storage period.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableEncryption**
Enables the encryption. Veeam Backup & Replication will encrypt backup files before moving them to an object storage. Veeam Backup & Replication will encrypt all backup files from the backup chain, including the metadata.
Use the EncryptionKey parameter to specify the encryption key.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableOverridePolicy**
Enables the option to move backup files from the local repository to an object storage when the capacity reaches limits. If set, this option overrides the retention policy. Veeam Backup & Replication will move backup files to an object storage even if the retention policy value has not reached limits.
Use the OverrideSpaceThreshold parameter to specify the capacity value.
Default: False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **EnablePluginBackupOffload**
Enables offloading of the backup files created with plugin backup jobs to the capacity tier.
Default:
* For scale-out backup repositories created with Veeam Backup & Replication versions 10 and earlier: False.
* For scale-out backup repositories created with Veeam Backup & Replication versions 11 and later: True.
Note: To disable this option, set the parameter value to $false. That is, parameter_name:$false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EncryptionKey**
For the encryption option.
Specifies an encryption key. Veeam Backup & Replication will use this key to encrypt the data.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBREncryptionKey]`|false   |named   |False        |

#### **Extent**
Specifies the array of backup repositories. The cmdlet will add these repositories as performance extents to the scale-out backup repository.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[CBackupRepository[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create the scale-out backup repository without showing up warnings in the PowerShell console.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ForceStrictPlacementPolicy**
Defines that the cmdlet will enable strict placement policy. If you provide this parameter, Veeam Backup & Replication will not create a backup if it violates the backup placement policy and may result in that a backup job will fail.
Default: False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **KMSServer**
Specifies the KMS server you want to use to encrypt the data.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRKMSServer]`|false   |named   |False        |

#### **Name**
Specifies the name of the scale-out backup repository.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|false   |named   |True (ByPropertyName)|

#### **ObjectStorageRepository**
Specifies an object storage. Veeam Backup & Replication will move the backup files to this object storage.

|Type                            |Required|Position|PipelineInput        |
|--------------------------------|--------|--------|---------------------|
|`[VBRObjectStorageRepository[]]`|false   |named   |True (ByPropertyName)|

#### **OffloadWindowOptions**
Specifies the time interval, when Veeam Backup & Replication is allowed will move the backup files to an object storage.

|Type                      |Required|Position|PipelineInput        |
|--------------------------|--------|--------|---------------------|
|`[VBRBackupWindowOptions]`|false   |named   |True (ByPropertyName)|

#### **OperationalRestorePeriod**
For retention policy.
Specifies the number of days to keep backup files on the local repository. When the number of days is passed, Veeam Backup & Replication will move backup files to an object storage.
Note: If you select zero days, Veeam Backup & Replication will move all backup files from the local repository to the object storage immediately.

|Type     |Required|Position|PipelineInput        |
|---------|--------|--------|---------------------|
|`[Int32]`|false   |named   |True (ByPropertyName)|

#### **OverrideSpaceThreshold**
For the override option.
Specifies the capacity value in percent for the override option. Once the value reaches the limit, Veeam Backup & Replication will move the data from the local repository to an object storage.

|Type     |Required|Position|PipelineInput        |
|---------|--------|--------|---------------------|
|`[Int32]`|false   |named   |True (ByPropertyName)|

#### **PerformFullWhenExtentOffline**
If set to True, the job will create an active full backup if the extent with the previous backup file is offline.
If set to False, the job will fail to create an increment.
Default: False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **PolicyType**
Specifies the policy for the scale-out backup repository:
* DataLocality - use this policy to store backup files that belong to the same backup chain.
* Performance - to store full and incremental backup files to different extents of the scale-out backup repository.
Note: For performance tier that consists of object storage repositories you must specify the DataLocality policy.
Valid Values:

* DataLocality
* Performance

|Type                                     |Required|Position|PipelineInput        |
|-----------------------------------------|--------|--------|---------------------|
|`[VBRScaleOutBackupRepositoryPolicyType]`|true    |named   |True (ByPropertyName)|

#### **UsePerVMBackupFiles**
If set to True, the repository will store each VM in the job as a separate backup file.
If set to False, each restore point will contain all VMs in the job.
Default: False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.String

Veeam.Backup.PowerShell.Infos.VBRScaleOutBackupRepositoryPolicyType

Veeam.Backup.Core.CBackupRepository[]

System.Management.Automation.SwitchParameter

System.Int32

Veeam.Backup.PowerShell.Infos.VBRBackupWindowOptions

Veeam.Backup.PowerShell.Infos.VBRObjectStorageRepository[]

Veeam.Backup.PowerShell.Infos.VBRArchiveObjectStorageRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRScaleOutBackupRepository [-ArchiveObjectStorageRepository <VBRArchiveObjectStorageRepository>] [-ArchivePeriod <Int32>] [-CapacityTierHealthCheckOptions 
```
```PowerShell
<VBRHealthCheckOptions>] [-Description <String>] [-EnableArchiveFullBackupMode] [-EnableArchiveTier] [-EnableCapacityTier] [-EnableCapacityTierCopyPolicy] 
```
```PowerShell
[-EnableCapacityTierMovePolicy] [-EnableCopyAllMachineBackups] [-EnableCopyAllPluginBackups] [-EnableCostOptimizedArchive] [-EnableEncryption] [-EnableOverridePolicy] 
```
```PowerShell
[-EnablePluginBackupOffload] [-EncryptionKey <VBREncryptionKey>] -Extent <CBackupRepository[]> [-Force] [-ForceStrictPlacementPolicy] [-KMSServer <VBRKMSServer>] [-Name 
```
```PowerShell
<String>] [-ObjectStorageRepository <VBRObjectStorageRepository[]>] [-OffloadWindowOptions <VBRBackupWindowOptions>] [-OperationalRestorePeriod <Int32>] 
```
```PowerShell
[-OverrideSpaceThreshold <Int32>] [-PerformFullWhenExtentOffline] -PolicyType {DataLocality | Performance} [-UsePerVMBackupFiles] [<CommonParameters>]
```

Add-VBRSmbV3Cluster
-------------------

### Synopsis
Adds an SMB3 cluster to the backup infrastructure.

---

### Description

This cmdlet adds an SMB3 cluster to the backup infrastructure.
Run the Add-VBRSmbV3Host cmdlet to add a standalone SMB3 server to the backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding New SMB3 Cluster Using User Name and Password

```PowerShell
Add-VBRSmbV3Cluster -Name "SMBCLUSTER01" -User "Administrator" -Password "qwerty" -Description "Hyper-V SMB Share Cluster 01"
This command adds a new SMB3 cluster named SMBCLUSTER01 with the Administrator user name and the qwerty password of the account. The description is Hyper-V SMB Share Cluster 01.
```
> Example 2. Adding New SMB3 Cluster Using Credentials

$Administrator = Get-VBRCredentials
Add-VBRSmbV3Cluster -Name "SMBCLUSTER01" -Description "Hyper-V SMB Share Cluster 01" -Credentials $Administrator
This command adds a new SMB3 cluster named SMBCLUSTER01 using credentials. The description is Hyper-V SMB Share Cluster 01.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRSmbV3Cluster cmdlet. Specify the Name parameter value. Specify the Description parameter value. Set the $Administrator variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the SMB3 cluster.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the SMB3 cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the full DNS name or IP address of the SMB3 cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the SMB3 cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the SMB3 cluster.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRSmbV3Cluster -Credentials <CCredentials> [-Description <String>] -Name <String> [<CommonParameters>]
```
```PowerShell
Add-VBRSmbV3Cluster [-Description <String>] -Name <String> -Password <String> -User <String> [<CommonParameters>]
```

Add-VBRSmbV3Host
----------------

### Synopsis
Adds an SMB3 host to the backup infrastructure.

---

### Description

This cmdlet adds an SMB3 host to the backup infrastructure.
If an SMB3 host is part of a cluster, add the SMB3 cluster instead of standalone SMB3 host.
Run the Add-VBRSmbV3Cluster cmdlet to add an SMB3 cluster.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding New SMB3 Host Using User Name and Password

```PowerShell
Add-VBRSmbV3Host -Name "SMBShare010" -User "Administrator" -Password "Password" -Description "Hyper-V SMB Share Host 010"
This command adds a new SMB3 host named SMBShare010 with the Administrator user name and the qwerty password of the account. The description is Hyper-V SMB Share Host 01.
```
> Example 2. Adding New SMB3 Host Using Credentials

$Administrator = Get-VBRCredentials
Add-VBRSmbV3Host -Name "SMBShare010" -Description "Hyper-V SMB Share Host 010" -Credentials $Administrator
This command adds a new SMB3 host named SMBShare010 using credentials. The description is Hyper-V SMB Share Host 01.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $Administrator variable.
2. Run the Add-VBRSmbV3Host cmdlet. Specify the Name parameter value. Specify the Description parameter value. Set the $Administrator variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the SMB3 host.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the SMB3 host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the DNS name of the SMB3 host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the SMB3 host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the SMB3 host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRSmbV3Host -Credentials <CCredentials> [-Description <String>] -Name <String> [<CommonParameters>]
```
```PowerShell
Add-VBRSmbV3Host [-Description <String>] -Name <String> -Password <String> -User <String> [<CommonParameters>]
```

Add-VBRSureBackupContentScanJob
-------------------------------

### Synopsis
Creates a backup content scan SureBackup job.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet createsa SureBackup job that runs in the backup content scan verification mode. This SureBackup job performs only backup integrity check and its content analysis to detect traces of malware or any other unwanted or sensitive data. These tests do no require setting up a virtual lab or an application group.
Note that when you create a backup job, you need to run it manually unless you enable a job schedule.
Run the Start-VBRSureBackupJob cmdlet to run the job manually.
Run the New-VBRSureBackupJobScheduleOptions to set schedule for the job.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [New-VBRSureBackupLinkedJob](New-VBRSureBackupLinkedJob.md)

* [New-VBRSureBackupJobVerificationOptions](New-VBRSureBackupJobVerificationOptions.md)

* [New-VBRDailyOptions](New-VBRDailyOptions.md)

* [New-VBRSureBackupJobScheduleOptions](New-VBRSureBackupJobScheduleOptions.md)

---

### Examples
> Example 1. Adding Backup Content Scan SureBackup Job

$job = Get-VBRJob -Name "Exchange Job"
$linkedjob = New-VBRSureBackupLinkedJob -Job $job
$verification = New-VBRSureBackupJobVerificationOptions -EnableMalwareScan -EnableEntireImageScan -EnableYARAScan -YARAScanRule "Rule.yara"
Add-VBRSureBackupContentScanJob -LinkedJob $linkedjob -Name "Lite Verification Job" -VerificationOptions $verification -ProcessRandomMachines -RandomMachinesMaxCount "5" -Description "SureBackup Job for DNS"
This example shows how to create a backup content scan SureBackup job which will randomly scan 5 machines from the linked job named Exchange Job. Veeam Backup & Replication will scan these machines with antivirus software and the YARA rule.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the New-VBRSureBackupLinkedJob cmdlet. Set the $job variable as the Job parameter value. Save the result to the $linkedjob variable.
3. Run the New-VBRSureBackupJobVerificationOptions cmdlet. Provide the EnableMalwareScan, the EnableEntireImageScan and the EnableYARAScan parameters. Specify the YARAScanRule parameter value. Save the result to the $verification variable.
4. Run the Add-VBRSureBackupContentScanJob cmdlet. Specify the following settings:
- Set the $linkedjob variable as the LinkedJob parameter value.
- Specify the Name parameter value.
- Set the $verification variable as the VerificationOptions parameter value.
- Provide the ProcessRandomMachines parameter.
- Specify the RandomMachinesMaxCount parameter value.
- Specify the Description parameter value.
> Example 2. Adding Backup Content Scan SureBackup Job with Schedule Settings

$job = Get-VBRJob -Name "Exchange Job"
$linkedjob = New-VBRSureBackupLinkedJob -Job $job
$verification = New-VBRSureBackupJobVerificationOptions -EnableMalwareScan -EnableEntireImageScan -EnableYARAScan -YARAScanRule "Rule.yara"
$daily = New-VBRDailyOptions -DayOfWeek "Friday" -Period "23:00"
$schedule = New-VBRSureBackupJobScheduleOptions -Type "Daily" -DailyOptions $daily
Add-VBRSureBackupContentScanJob -LinkedJob $linkedjob -VerificationOptions $verification -Name "Lite Verification Job" -ScheduleOptions $schedule -Description "SureBackup Job for DNS"
This example shows how to create a scheduled lite SureBackup job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the New-VBRSureBackupLinkedJob cmdlet. Set the $job variable as the Job parameter value. Save the result to the $linkedjob variable.
3. Run the New-VBRSureBackupJobVerificationOptions cmdlet. Provide the EnableMalwareScan, the EnableEntireImageScan and the EnableYARAScan parameters. Specify the YARAScanRule parameter value. Save the result to the $verification variable.
4. Run the New-VBRDailyOptions cmdlet. Specify the DayOfWeek parameter and the Period parameter values. Save the result to the $daily variable.
5. Run the New-VBRSureBackupJobScheduleOptions cmdlet. Specify the Type parameter value. Set the $daily variable as the DailyOptions parameter value. Save the result to the $schedule variable.
6.	Run the Add-VBRSureBackupContentScanJob cmdlet. Specify the following settings:
- Set the $linkedjob variable as the LinkedJob parameter value.
- Set the $verification variable as the VerificationOptions parameter value.
- Specify the Name parameter value.
- Set the $schedule variable as the ScheduleOptions parameter value.
- Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies a description for a SureBackup job. The cmdlet will create a SureBackup job with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will not show any warnings.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LinkedJob**
Specifies a backup or replication job. The cmdlet will verify VMs that are added to this job with the lite SureBackup job.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRSureBackupLinkedJob[]]`|true    |named   |False        |

#### **MaxConcurrentVMs**
Specifies the maximum number of VMs that can be started at the same time.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies a name for a SureBackup job. The cmdlet will create a SureBackup job with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ProcessRandomMachines**
Defines that the cmdlet will randomly test the specified number of machines from the linked job.
Use the RandomMachinesMaxCount parameter to specify the number of machines to randomly test.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RandomMachinesMaxCount**
Specifies the number of machines to randomly test during each run. The cmdlet will randomly test the specified number of machines from the linked job.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies schedule settings of a SureBackup job. Veeam Backup & Replication will run the job according to these settings.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRSureBackupJobScheduleOptions]`|false   |named   |False        |

#### **VerificationOptions**
Specifies verification settings for a SureBackup job.

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRSureBackupJobVerificationOptions]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRSureBackupContentScanJob [-Description <String>] [-Force] -LinkedJob <VBRSureBackupLinkedJob[]> [-MaxConcurrentVMs <Int32>] [-Name <String>] [-ProcessRandomMachines] 
```
```PowerShell
[-RandomMachinesMaxCount <Int32>] [-ScheduleOptions <VBRSureBackupJobScheduleOptions>] -VerificationOptions <VBRSureBackupJobVerificationOptions> [<CommonParameters>]
```

Add-VBRSureBackupJob
--------------------

### Synopsis
Creates a SureBackup job.

---

### Description

This cmdlet creates a SureBackup job.
Note that when you create a backup job, you need to run it manually unless you enable a job schedule.
Run the Start-VBRSureBackupJob cmdlet to run the job manually.
Run the New-VBRSureBackupJobScheduleOptions to set schedule for the job.

---

### Related Links
* [Get-VBRVirtualLab](Get-VBRVirtualLab.md)

* [Get-VBRApplicationGroup](Get-VBRApplicationGroup.md)

* [New-VBRSureBackupJobVerificationOptions](New-VBRSureBackupJobVerificationOptions.md)

---

### Examples
> Example 1. Adding SureBackup Job

$lab = Get-VBRVirtualLab -Name "Virtual Lab 2"
$group = Get-VBRApplicationGroup -Name "Exchange Application Group"
Add-VBRSureBackupJob -ApplicationGroup $group -VirtualLab $lab -Name "Verification Job01" -Description "SureBackup Job for DNS"
This example shows how to create a SureBackup job.
Perform the following steps:
1. Run the Get-VBRVirtualLab cmdlet. Specify the Name parameter value. Save the result to the $lab variable.
2. Run the Get-VBRApplicationGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
3. Run the Add-VBRSureBackupJob cmdlet. Specify the following settings:
- Set the $lab variable as the VirtualLab parameter value.

- Set the $group variable as the ApplicationGroup parameter value.

- Specify the Name parameter value.

- Specify the Description parameter value.
> Example 2. Adding SureBackup Job with Application Group

$lab = Get-VBRVirtualLab -Name "Virtual Lab 2"
$group = Get-VBRApplicationGroup -Name "Exchange Lab"
Add-VBRSureBackupJob -VirtualLab $lab -ApplicationGroup $group -KeepApplicationGroupRunning
This example shows how to create a SureBackup job that will use the Exchange Group 3 application group for recovery verification.
Veeam Backup & Replication will keep VMs from an application group running after the SureBackup job finishes.
Perform the following steps:
1. Run the Get-VBRVirtualLab cmdlet. Specify the Name parameter value. Save the result to the $lab variable.
2. Run the Get-VBRApplicationGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
3. Run the Add-VBRSureBackupJob cmdlet. Specify the following settings:
- Set the $lab variable as the VirtualLab parameter value.
- Specify the $group variable as the ApplicationGroup parameter value.
- Provide the KeepApplicationGroupRunning parameter.
> Example 3. Adding SureBackup Job with Recovery Verification Options

$lab = Get-VBRVirtualLab -Name "Virtual Lab 2"
$options = New-VBRSureBackupJobVerificationOptions
$group = Get-VBRApplicationGroup -Name "Exchange Lab"
Add-VBRSureBackupJob -VirtualLab $lab -VerificationOptions $options -ApplicationGroup $group
This example shows how to create a SureBackup job with recovery verification options.
Perform the following steps:
1. Run the Get-VBRVirtualLab cmdlet. Specify the Name parameter value. Save the result to the $lab variable.
2. Run the New-VBRSureBackupJobVerificationOptions cmdlet. Save the result to the $options variable.
3. Run the Get-VBRApplicationGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
4. Run the Add-VBRSureBackupJob cmdlet. Specify the following settings:
- Set the $lab variable as the VirtualLab parameter value.
- Specify the $options variable as the VerificationOptions parameter value.
- Specify the $group variable as the ApplicationGroup parameter value.

---

### Parameters
#### **ApplicationGroup**
Specifies an application group. Veeam Backup & Replication will use this application group to use for recovery verification.
Note: You must specify either the ApplicationGroup or the LinkedJob parameter to run the cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRApplicationGroup]`|false   |named   |False        |

#### **Description**
Specifies a description for a SureBackup job. The cmdlet will create a SureBackup job with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will not show any warnings.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **KeepApplicationGroupRunning**
Defines that VMs from an application group will run after the SureBackup job finishes.
If you provide this parameter, the application group will not be powered off when the SureBackup job finishes. Otherwise, the application group will be powered off.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LinkedJob**
Specifies a backup or replication job. The cmdlet will verify VMs that are added to this job with the SureBackup job.
Note: You must specify either the LinkedJob or the ApplicationGroup parameter to run the cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRSureBackupLinkedJob[]]`|false   |named   |False        |

#### **MaxConcurrentVMs**
Specifies the maximum number of VMs that can be started at the same time.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies a name for a SureBackup job. The cmdlet will create a SureBackup job with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ProcessRandomMachines**
Defines that the cmdlet will randomly test the specified number of machines from the linked job.
Use the RandomMachinesMaxCount parameter to specify the number of machines to randomly test.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RandomMachinesMaxCount**
Specifies the number of machines to randomly test during each run. The cmdlet will randomly test the specified number of machines from the linked job.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies schedule settings of a SureBackup job. Veeam Backup & Replication will run the job according to these settings.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRSureBackupJobScheduleOptions]`|false   |named   |False        |

#### **VerificationOptions**
Specifies additional settings for the SureBackup job.

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRSureBackupJobVerificationOptions]`|false   |named   |False        |

#### **VirtualLab**
Specifies a virtual lab. The cmdlet will use this virtual lab to verify VMs.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRVirtualLab]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRSureBackupJob [-ApplicationGroup <VBRApplicationGroup>] [-Description <String>] [-Force] [-KeepApplicationGroupRunning] [-LinkedJob <VBRSureBackupLinkedJob[]>] 
```
```PowerShell
[-MaxConcurrentVMs <Int32>] [-Name <String>] [-ProcessRandomMachines] [-RandomMachinesMaxCount <Int32>] [-ScheduleOptions <VBRSureBackupJobScheduleOptions>] 
```
```PowerShell
[-VerificationOptions <VBRSureBackupJobVerificationOptions>] -VirtualLab <VBRVirtualLab> [<CommonParameters>]
```

Add-VBRSyslogServer
-------------------

### Synopsis
Adds a syslog server to Veeam Backup & Replication.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet adds a syslog server to manage Veeam Backup & Replication events.
Note: You can specify only one syslog server for one Veeam Backup & Replication server.

---

### Examples
> Adding Syslog Server

Add-VBRSyslogServer -ServerHost "172.17.53.28" -Port 514 -Protocol Udp
This command add a syslog server with the following settings:
- The IP address of the server is 172.17.53.28.
- The port that the syslog server uses is set to 514.
- The protocol is set to Udp.

---

### Parameters
#### **CertificateThumbprint**
Specifies the certificate thumbprint.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Port**
Specifies the port number that the syslog server uses to send messages.
Default: 514 for UDP, 514 for TCP, 6514 for TLS.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|true    |named   |False        |

#### **Protocol**
Specifies the protocol that the syslog server uses: Udp, Tcp, Tls.
Use the CertificateThumbprint parameter to specify the certificate thumbprint for the Tls protocol.
Valid Values:

* Udp
* Tcp
* Tls

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[VBRSyslogServerProtocol]`|true    |named   |False        |

#### **ServerHost**
Specifies an IPv4 address or DNS name of the syslog server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRSyslogServer [-CertificateThumbprint <String>] -Port <Int32> -Protocol {Udp | Tcp | Tls} -ServerHost <String> [<CommonParameters>]
```

Add-VBRTapeFilesJob
-------------------

### Synopsis
Creates a new files to tape copy job.

---

### Description

This cmdlet creates a new job copying files from Veeam Backup & Replication to tape. The tape job looks for changes in the specified files that have been made from the moment of the last tape job run. Please note that when you create a copy job, you need to run it manually.

Run Start-VBRJob to start the created job.

---

### Examples
> Example 1

```PowerShell
Add-VBRTapeFilesJob -Name "Contacts Copy Job" -Server $server -Path "D:\Users\UserInfo\Contacts.xls"  -MediaPool $full -MediaPoolIncremental $increment
This command creates a new files to tape copy job named "Contacts Copy Job". The source server containing the files to be copied is obtained with Get-VBRServer and assigned to the $server variable. The target media pools for full backups and incremental backups are obtained with Get-VBRTapeMediaPool and assigned to $full and $increment variables beforehand accordingly. The source file path is D:\Users\UserInfo\Contacts.xls.
```
> Example 2

```PowerShell
Add-VBRTapeFilesJob -Name "Agreements Copy Job" -Server $server -Path "D:\Agreements\Signed" -MediaPool $full -MediaPoolIncremental $increment -Description "Agreements File Copy Job" -Credentials $Administrator -Masks *.pdf
This command creates a new files to tape copy job named "Agreements Copy Job" copying .pdf files from the "Signed" folder. The source server containing the files to be copied is obtained with Get-VBRServer and assigned to the $server variable. The target media pools for full backups and incremental backups are obtained with Get-VBRTapeMediaPool and assigned to $full and $increment variables beforehand accordingly. The source file path is D:\Agreements\Signed. The mask for selecting files to copy is ".pdf".
```

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the source server.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|false   |named   |False        |

#### **Description**
Specifies the description for the new files to tape copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **IgnoreCase**
Used to specify search conditions for -Path paramater. If set, the search by name will be non case sensitive.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Masks**
Used to specify search conditions for -Path paramater. Specifies masks to select files in folders.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **MediaPool**
Specifies the target media pool that will be used for full backups.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CTapeMediaPool]`|true    |named   |False        |

#### **MediaPoolIncremental**
Specifies the target media pool that will be used for incremental backups.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CTapeMediaPool]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the new files to tape copy job. You can input string up to 255 symbols.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Path**
Specifies the path to the folder(s) you need to copy. Use -Masks and -IgnoreCase parameters to select particular files. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Server**
Specifies the source server where the files you need are located.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRTapeFilesJob [-Credentials <CCredentials>] [-Description <String>] [-IgnoreCase] [-Masks <String>] -MediaPool <CTapeMediaPool> [-MediaPoolIncremental 
```
```PowerShell
<CTapeMediaPool>] [-Name <String>] -Path <String[]> -Server <CHost> [<CommonParameters>]
```

Add-VBRTapeGFSMediaPool
-----------------------

### Synopsis
Creates a new GFS media pool.

---

### Description

This cmdlet creates a new GFS media pool. The media sets are created with default settings. Run the New-VBRTapeGFSMediaSetPolicy cmdlet to set other options for media sets.

---

### Related Links
* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

* [Get-VBREncryptionKey](Get-VBREncryptionKey.md)

* [New-VBRTapeGFSMediaSetPolicy](New-VBRTapeGFSMediaSetPolicy.md)

---

### Examples
> Example 1 Creating GFS Media Pool with Default Settings and Custom Retention Periods

$library = Get-VBRTapeLibrary -Name "HP MSL G3 Series 9.50"
$encryption = Get-VBREncryptionKey -Description "Veeam Administrator"
Add-VBRTapeGFSMediaPool -Name "GFS Media Pool" -Library $library -MoveFromFreePool -EnableEncryption -EncryptionKey $encryption -DailyOverwritePeriod 30 -WeeklyOverwritePeriod 8 -MonthlyOverwritePeriod 12 -QuarterlyOverwritePeriod 8 -YearlyOverwritePeriod 5
This example shows how to create a GFS media pool with default settings and customized retention periods.
Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value. Save the result to the $library variable.
2. Run the Get-VBREncryptionKey cmdlet. Specify the Description parameter value. Save the result it to the $encryption variable.
3. Run the Add-VBRTapeGFSMediaPool cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $library variable as the Library parameter value.
- Provide the MoveFromFreePool parameter.
- Provide the EnableEncryption parameter.
- Set the $encryption variable as the EncryptionKey parameter value.
- To define retention settings, provide the DailyOverwritePeriod, WeeklyOverwritePeriod, MonthlyOverwritePeriod, QuarterlyOverwritePeriod, YearlyOverwritePeriod parameter values.

---

### Parameters
#### **DailyMediaSetPolicy**
Specifies settings for the daily media set. Accepts the VBRTapeGFSMediaSetPolicy object.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRTapeGFSMediaSetPolicy]`|false   |named   |False        |

#### **DailyOverwritePeriod**
Indicates the data retention period for the daily media set (days).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Description**
Specifies the description for the created media pool. If not set, Veeam will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableEncryption**
Enables data encryption for data archived to tape. Use the EncryptionKey or KMSServer parameter to specify the encryption key you want to use to encrypt the data.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableMultiStreaming**
Indicates that the media pool can use several drives simultaneously. Use the NumberOfStreams parameter to set the maximum number of drives that can be used. Use the SplitJobFilesBetweenDrives parameter to indicate if the multistreaming will be used to split data between tape jobs or between source backup jobs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EncryptionKey**
Used to set the encryption key for the EnableEncryption parameter.  Specifies the encryption key you want to use to encrypt the data.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBREncryptionKey]`|false   |named   |False        |

#### **KMSServer**
Used to set the encryption key for the EnableEncryption parameter if you use the KMS Server for encryption. Specifies the KMS Server you want to use to encrypt the data. Accepts the VBRKMSServer object. To get this object, run the Get-VBRKMSServer cmdlet.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRKMSServer]`|false   |named   |False        |

#### **Library**
Specifies the array of tape libraries. The media pool will use tapes from these libraries. For tape library failover, use NextLibOffline, NextLibDrivesBusy and/or NextLibNoMedia parameters to manage the failover events. Veeam will switch to the next library in order they are added to the VBRTapeLibrary object. Accepts the VBRTapeLibrary object, GUID or string.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Medium**
Specifies the array of tapes. The cmdlet will add these tapes to the media pool. Accepts the VBRTapeMedium  object, GUID or string.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRTapeMedium[]]`|false   |named   |False        |

#### **MonthlyMediaSetPolicy**
Indicates settings for the monthly media set. Accepts the VBRTapeGFSMediaSetPolicy object.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRTapeGFSMediaSetPolicy]`|false   |named   |False        |

#### **MonthlyOverwritePeriod**
Indicates the data retention period for the monthly media set (months).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **MoveFromFreePool**
Defines that the media pool will be replenished by tapes from the Free media pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the media pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NextLibDrivesBusy**
Defines that the media pool will switch to the next library if the primary library has no available drives. Default: true. To disable this option, set the parameter value to $false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NextLibNoMedia**
Defines that the media pool will switch to the next library if the primary library has no available media. Default: true. To disable this option, set the parameter value to $false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NextLibOffline**
Defines that the media pool will switch to the next library if the primary library is offline. Default: true. To disable this option, set the parameter value to $false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NumberOfStreams**
Used to set value for the EnableMultiStreaming parameter. Indicates the maximum number of drives that the media pool can use. Default: 2.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **QuarterlyMediaSetPolicy**
Specifies settings for the quarterly media set. Accepts the VBRTapeGFSMediaSetPolicy object.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRTapeGFSMediaSetPolicy]`|false   |named   |False        |

#### **QuarterlyOverwritePeriod**
Indicates the data retention period for the quarterly media set (months).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SplitJobFilesBetweenDrives**
Defines that one tape job will use multiple drives to write data. Drives will process source backup jobs one by one. Default: one drive is used for one tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **WeeklyMediaSetPolicy**
Specifies settings for the weekly media set. Accepts the VBRTapeGFSMediaSetPolicy object.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRTapeGFSMediaSetPolicy]`|false   |named   |False        |

#### **WeeklyOverwritePeriod**
Indicates the data retention period for the weekly media set (weeks).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **WORM**
Defines that the cmdlet will add the WORM Media Pool. NOTE: you cannot set retention policy when the WORM parameter is set to true. Default: false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **YearlyMediaSetPolicy**
Specifies settings for the yearly media set. Accepts the VBRTapeGFSMediaSetPolicy object.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRTapeGFSMediaSetPolicy]`|false   |named   |False        |

#### **YearlyOverwritePeriod**
Indicates the data retention period for the yearly media set (years).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeLibrary[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRTapeGFSMediaPool [-DailyMediaSetPolicy <VBRTapeGFSMediaSetPolicy>] [-DailyOverwritePeriod <Int32>] [-Description <String>] [-EnableEncryption] [-EnableMultiStreaming] 
```
```PowerShell
[-EncryptionKey <VBREncryptionKey>] [-KMSServer <VBRKMSServer>] -Library <VBRTapeLibrary[]> [-Medium <VBRTapeMedium[]>] [-MonthlyMediaSetPolicy <VBRTapeGFSMediaSetPolicy>] 
```
```PowerShell
[-MonthlyOverwritePeriod <Int32>] [-MoveFromFreePool] -Name <String> [-NextLibDrivesBusy] [-NextLibNoMedia] [-NextLibOffline] [-NumberOfStreams <Int32>] 
```
```PowerShell
[-QuarterlyMediaSetPolicy <VBRTapeGFSMediaSetPolicy>] [-QuarterlyOverwritePeriod <Int32>] [-SplitJobFilesBetweenDrives] [-WeeklyMediaSetPolicy <VBRTapeGFSMediaSetPolicy>] 
```
```PowerShell
[-WeeklyOverwritePeriod <Int32>] [-WORM] [-YearlyMediaSetPolicy <VBRTapeGFSMediaSetPolicy>] [-YearlyOverwritePeriod <Int32>] [<CommonParameters>]
```

Add-VBRTapeMediaPool
--------------------

### Synopsis
Creates a new media pool.

---

### Description

This cmdlet creates a new custom media pool. Run the Add-VBRTapeGFSMediaPool cmdlet to create a GFS media pool.

---

### Related Links
* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

* [Get-VBRTapeVault](Get-VBRTapeVault.md)

* [Get-VBREncryptionKey](Get-VBREncryptionKey.md)

* [New-VBRTapeMediaPoolRetentionPolicy](New-VBRTapeMediaPoolRetentionPolicy.md)

* [New-VBRTapeMediaSetCreationPolicy](New-VBRTapeMediaSetCreationPolicy.md)

---

### Examples
> Example 1 Creating Media Pool with Default Settings

Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00" | Add-VBRTapeMediaPool -Name "Monthly Full Backups" -MoveFromFreePool
This example shows how to create a media pool with default settings.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter values.
2. Pipe the cmdlet output to the Add-VBRTapeMediaPool cmdlet. Specify the Name parameter values. Provide the MoveFromFreePool parameter.
> Example 2 Creating Media Pool with Specific Settings

$mediasetpolicy = New-VBRTapeMediaSetCreationPolicy -Type Always
$retentionpolicy = New-VBRTapeMediaPoolRetentionPolicy -Type Cyclic
$library = Get-VBRTapeLibrary -Name "Sydney_Tape_Server"
$media = Get-VBRTapeMedium -Name "00110001"
$vault = Get-VBRTapeVault -Name "Sydney Remote Storage"
$securepassword = Get-VBREncryptionKey -Description "Veeam Administrator"
Add-VBRTapeMediaPool -Name "AD Backups Encrypted" -Description "Active Directory Encrypted Backups" -Library $library -Medium $media -MoveOfflineToVault -Vault $vault -EnableEncryption -EncryptionKey $securepassword -MediaSetCreationPolicy $mediasetpolicy -MediaSetName "AD Daily %date%" -RetentionPolicy $retentionpolicy
This example shows how to create a media pool with the following settings:
- Offline tape are moved to vault.
- Data on tape is encrypted.
Perform the following steps:
1. Run the New-VBRTapeMediaSetCreationPolicy cmdlet. Set the Always option for the Type parameter. Save the result to the $mediasetpolicy variable.
2. Run the New-VBRTapeMediaPoolRetentionPolicy cmdlet. Set the Cyclic option for the Type parameter. Save the result to the $retentionpolicy variable.
3. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value. Save the result to the $library variable.
4. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $media variable.
5. Run the Get-VBRTapeVault cmdlet. Specify the Name parameter value. Save the result to the $vault variable.
6. Run the Get-VBREncryptionKey cmdlet. Specify the Description parameter value. Save the result to the $securepassword variable.
7. Run the Add-VBRTapeMediaPool cmdlet. Specify the following settings:
- Specify the Name and the Description parameter values.
- Set the $library variable as the Library parameter value.
- Set the $media variable as the Medium parameter value.
- Provide the MoveOfflineToVault parameter.
- Set the $vault variable as the Vault parameter value.
- Provide the EnableEncryption parameter.
- Set the $securepassword variable as the EncryptionKey parameter value.
- Set the $mediasetpolicy variable as the MediaSetCreationPolicy parameter value.
- Specify the MediaSetName parameter value.
- Set the $retentionpolicy variable as the RetentionPolicy parameter value.

---

### Parameters
#### **Description**
Specifies the description for the created media pool. If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableEncryption**
Enables encryption for the data archived to tape. Use the EncryptionKey or KMSServer parameters to specify the encryption key you want to use to encrypt the data.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableMultiStreaming**
Enables the media pool to use several drives simultaneously. Use the NumberOfStreams parameter to set the maximum number of drives that can be used. Use the SplitJobFilesBetweenDrives parameter to indicate if the multistreaming will be used to split data between tape jobs or between source backup jobs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EncryptionKey**
Used to set the encryption key for the EnableEncryption parameter.  Specifies the encryption key you want to use to encrypt the data.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBREncryptionKey]`|false   |named   |False        |

#### **KMSServer**
Used to set the encryption key for the EnableEncryption parameter if you use the KMS Server for encryption. Specifies the KMS Server you want to use to encrypt the data. Accepts the VBRKMSServer object.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRKMSServer]`|false   |named   |False        |

#### **Library**
Specifies the array of tape libraries. The media pool will use tapes from these libraries. For tape library failover, use NextLibOffline, NextLibDrivesBusy and/or NextLibNoMedia parameters to manage the failover events. Veeam will switch to the next library in order they are added to the VBRTapeLibrary object. Accepts the VBRTapeLibrary object, GUID or string.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **MediaSetCreationPolicy**
Specifies the settings of media set you want to apply to this media pool. If omitted, the media creation policy will be set to 'Never' by default. Accepts VBRTapeMediaSetCreationPolicy object.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRTapeMediaSetCreationPolicy]`|false   |named   |False        |

#### **MediaSetName**
Specifies the new name you want to assign to the media sets created in this media pool. If omitted, the media set name will be set to "Media set %date%" by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Medium**
Specifies the array of tapes. The cmdlet will add these tapes to the media pool. Accepts the VBRTapeMedium[] object, GUID or string type.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRTapeMedium[]]`|false   |named   |False        |

#### **MoveFromFreePool**
Defines that the media pool will be replenished by tapes from the Free media pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MoveOfflineToVault**
Defines that the tapes that go offline must be automatically moved to a vault.  Use the Vault parameter to specify the vault to which you want to move the tapes from this media pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the media pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NextLibDrivesBusy**
Defines that the media pool will switch to the next library if the primary library has no available drives. Default: true. To disable this option, set the parameter value to $false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NextLibNoMedia**
Defines that the media pool will switch to the next library if the primary library has no available media. Default: true. To disable this option, set the parameter value to $false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NextLibOffline**
Defines that the media pool will switch to the next library if the primary library is offline. Default: true. To disable this option, set the parameter value to $false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NumberOfStreams**
Used to set value for the EnableMultiStreaming parameter. Specifies the maximum number of drives that the media pool can use. Default: 2.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **RetentionPolicy**
Specifies the retention settings you want to apply to this media pool. If omitted, the media set name will be set to 'Never' by default. Accepts VBRTapeMediaPoolRetentionPolicy object. Note: This parameter will not work in case you use the WORM parameter.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRTapeMediaPoolRetentionPolicy]`|false   |named   |False        |

#### **SplitJobFilesBetweenDrives**
Defines that one tape job will use multiple drives to write data. Drives will process source backup jobs one by one. Default: one drive is used for one tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Vault**
Used to set vault for the MoveOfflineToVault parameter. Specifies the vault to which you want to automatically move the tapes. You can use one vault for several media pools. Accepts the VBRTapeVault object, GUID or string.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRTapeVault]`|false   |named   |False        |

#### **WORM**
Defines that the cmdlet will add the WORM Media Pool. NOTE: you cannot set retention policy when the WORM parameter is set to true. Default: false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeLibrary[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRTapeMediaPool [-Description <String>] [-EnableEncryption] [-EnableMultiStreaming] [-EncryptionKey <VBREncryptionKey>] [-KMSServer <VBRKMSServer>] -Library 
```
```PowerShell
<VBRTapeLibrary[]> [-MediaSetCreationPolicy <VBRTapeMediaSetCreationPolicy>] [-MediaSetName <String>] [-Medium <VBRTapeMedium[]>] [-MoveFromFreePool] [-MoveOfflineToVault] 
```
```PowerShell
-Name <String> [-NextLibDrivesBusy] [-NextLibNoMedia] [-NextLibOffline] [-NumberOfStreams <Int32>] [-RetentionPolicy <VBRTapeMediaPoolRetentionPolicy>] 
```
```PowerShell
[-SplitJobFilesBetweenDrives] [-Vault <VBRTapeVault>] [-WORM] [<CommonParameters>]
```

Add-VBRTapeServer
-----------------

### Synopsis
Adds tape server to Veeam Backup & Replication.

---

### Description

This cmdlet adds a tape server to the Veeam Backup & Replication managing console.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1 Adding Tape Server [Using Pipeline]

Get-VBRServer -Name WindowsServer01 | Add-VBRTapeServer -Description "Sydney Office tape server"
This example shows how to add the WindowsServer01 server as a tape server using a pipeline output. The description is Sydney Office tape server.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Add-VBRTapeServer cmdlet. Specify the Description parameter value.
> Example 2 Adding Tape Server [Using Variable]

Add-VBRTapeServer -Server $tapeserver
This example shows how to add the WindowsServer01 server as a tape server using a variable.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $tapeserver variable.
2. Run the Add-VBRTapeServer cmdlet. Set the $tapeserver variable as the Server parameter value.

---

### Parameters
#### **Description**
Specifies the description of the tape server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add the tape server to the current backup server, although this tape server is already added to another backup server. The current backup server will take the ownership of this tape server.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **Server**
Specifies the server you want to use as a tape server. If not set, Veeam backup server will be used.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRTapeServer [-Description <String>] [-Force] [-Server <CHost>] [<CommonParameters>]
```

Add-VBRTapeVault
----------------

### Synopsis
Creates a tape vault.

---

### Description

This cmdlet creates a new tape vault.

---

### Examples
> Example 1 Creating Tape Vault

```PowerShell
Add-VBRTapeVault -Name "Sydney Remote Storage" -Description "Veeam backups offsite"
This command creates a vault named 'Sydney Remote Storage'.
```

---

### Parameters
#### **Description**
Specifies the description of the vault. If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the vault.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Protect**
Defines that all tapes moved to this media vault automatically get lifelong overwrite protection.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRTapeVault [-Description <String>] -Name <String> [-Protect] [<CommonParameters>]
```

Add-VBRTapeVMJob
----------------

### Synopsis
Creates a new backup to tape copy job.

---

### Description

This cmdlet creates a new job that copies VM backups to tape. To be able to create a backup to tape copy job, you need to have existing backups available.

You can copy VM backups in two ways:

From backup jobs: the tape job looks for backup files that have been produced by the specified backup job from the moment of the last tape job run,

From backup repository: the tape job looks for all VM backups that have written to the specified backup repository from the moment of the last tape job run.

Note that when you create a copy job, you need to run it manually.

Run Start-VBRJob to start the created job.

---

### Examples
> Example 1

```PowerShell
Get-VBRJob -Name "CRM Backup" | Add-VBRTapeVMJob -Name "CRM Backup Copy to Tape" - MediaPool $full -MediaPoolIncremental $increment -Description "CRM Backup Copy to Tape"
This command creates a job named "CRM Backup Copy to Tape" copying files from the backup job named "CRM Backup" to tape. The backup job is obtained with Get-VBRJob and piped down. The target media pools for full backups and incremental backups are obtained with Get-VBRTapeMediaPool and assigned to $full and $increment variables beforehand accordingly. The job description is "CRM Backup Copy to Tape".
```
> Example 2

```PowerShell
Get-VBRBackupRepository -Name "Local Repository 01" | Add-VBRTapeVMJob -Name "Local Backup Copy to Tape" - MediaPool $full -DisableIncremental -HardwareCompression
This command creates a job named "Local Backup Copy to Tape" copying files from the backup repository named "Local Repository 01" to tape. The backup repository is obtained with Get-VBRBackupRepository and piped down. The target media pools for full backups is obtained with Get-VBRTapeMediaPool and assigned to $full variable beforehand. The incremental backups are not written to tape. The hardware compression option is enabled.
```

---

### Parameters
#### **BackupJob**
Specifies the backup job you want to use as the source for the VM backups.  You can assign multiple backup jobs to this object.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies the description of the new VM to tape copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DisableIncremental**
If set, the tape job will copy only the full backup files. Otherwise, the incremental backups will be written to the media pool set in the -MediaPoolIncremental. Please be careful to set this parameter in case you do not  want to store the incremental backups on tape. If it is not set, the incremental backups will be written to the media pool you set for the full backups.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HardwareCompression**
Enables hardware compression option. Please note that if you plan to use hardware compression when recording backups to tape, consider that although it decreases traffic, this option affects performance.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MediaPool**
Specifies the target media pool you want to use for full backups. You can input string up to 255 symbols.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CTapeMediaPool]`|true    |named   |False        |

#### **MediaPoolIncremental**
Specifies the target media pool you want to use for incremental backups.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CTapeMediaPool]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the VM to tape copy job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Repository**
Specifies the source backup repository you want to use as the source for the VM backups. You can assign multiple backup repositories to this object.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupRepository[]

Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRTapeVMJob [-BackupJob <CBackupJob[]>] [-Description <String>] [-DisableIncremental] [-HardwareCompression] -MediaPool <CTapeMediaPool> [-MediaPoolIncremental 
```
```PowerShell
<CTapeMediaPool>] [-Name <String>] [-Repository <CBackupRepository[]>] [<CommonParameters>]
```

Add-VBRUserRoleAssignment
-------------------------

### Synopsis
Adds a role to a user or a user group.
Note: If the four-eyes authorization is enabled, you cannot run this cmdlet. For more information, see the Four-Eyes Authorization section in the User Guide for VMware vSphere.

---

### Description

This cmdlet adds a role to a user or a user group.
For more information on types of roles, see the Roles and Users section of User Guide for VMware vSphere.

---

### Examples
> Example 1. Assigning Veeam Backup Operator Role to User

Add-VBRUserRoleAssignment -Name Tech\BackupAdmin -Role "BackupOperator"
       Role  Type Name           Id
       ----  ---- ----           --
BackupAdmin Group Administrators c5d266c7-8e2b-43f9-92c6-fffc4297074d
This command assigns a Veeam Backup Operator role to the Tech\BackupAdmin user.
The cmdlet output will contain the following details Role, Type, Name and Id.
> Example 2. Assigning Veeam Tape Operator Role to User

Add-VBRUserRoleAssignment -Name Tech\TapeAdmin -Role TapeOperator
       Role  Type Name           Id
       ----  ---- ----           --
BackupAdmin Group Administrators c5d266c7-8e2b-43f9-92c6-fffc4297074d
This command assigns a Veeam Tape Operator role to the Tech\TapeAdmin user.
The cmdlet output will contain the following details Role, Type, Name and Id.

---

### Parameters
#### **Name**
Specifies a name of a user or a user group. The cmdlet will assign a role for this user or user group.
Note: You must specify the name of a user or a user group in the DOMAIN\Username format.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Role**
Specifies a role that you want to assign to a user. You can assign one of the following roles:
* BackupOperator
* RestoreOperator
* BackupAdmin
* TapeOperator
* BackupViewer
Valid Values:

* BackupOperator
* RestoreOperator
* BackupAdmin
* TapeOperator
* BackupViewer
* IncidentApiOperator
* SecurityAdministrator

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[VBRRole]`|true    |named   |False        |

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRUserRoleAssignment -Name <String> -Role {BackupOperator | RestoreOperator | BackupAdmin | TapeOperator | BackupViewer | IncidentApiOperator | SecurityAdministrator} 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRvCDCDPPolicy
-------------------

### Synopsis
Creates a Cloud Director CDP policy.

---

### Description

This cmdlet creates a Cloud Director CDP policy.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

---

### Examples
> Example 1

$server = Get-VBRServer -Name "Cloud Server"
$vapp = Find-VBRvCloudEntity -Server $server -VApp
$organization = Find-VBRvCloudEntity -Server $server -OrganizationVdc
$policy = Find-VBRvCloudEntity -Server $server -StorageProfile -Name "Default Storage policy" | Where OrgVcdRef -eq $organization.VcdRef
Add-VBRvCDCDPPolicy -SourceObject $vapp -OrganizationVdc $organization -GeneralStoragePolicy $policy
This example shows how to create a Cloud Director CDP policy.

Perform the following steps: 1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRvCloudEntity cmdlet. Specify the Server and VApp parameters values. Save the result to the $vapp variable.
3. Run the Find-VBRvCloudEntity cmdlet. Specify the Server and OrganizationVdc parameters values. Save the result to the $organization variable.
4. Run the Find-VBRvCloudEntity cmdlet. Specify the Server and StorageProfile parameters values. Save the result to the $policy variable.
5. Run the Add-VBRvCDCDPPolicy cmdlet. Set the $vapp variable as the SourceObject parameter value. Set the $organization[2] variable as the OrganizationVdc parameter value. Set the $policy variable as the GeneralStoragePolicy parameter value.

---

### Parameters
#### **CompressionLevel**
Specifies the compression level for the replicated data:
* None: use this option if you do not want to enable data compression.
* Dedupe-friendly: use this option to set a dedupe-friendly compression level.
* Optimal: use this option to set an optimal compression level.
* High: use this option to set a high compression level.
* Extreme: use this option to set an extreme compression level.
Valid Values:

* None
* DedupeFriendly
* Optimal
* High
* Extreme

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRCompressionLevel]`|false   |named   |False        |

#### **Description**
Specifies a description for the CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ExcludedObject**
Specifies an array of VM containers that you want to exclude from the CDP policy. You can exclude the following types of containers:
* Organization
* Organization VDC
* vApp

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[IVcdItem[]]`|false   |named   |False        |

#### **GeneralStoragePolicy**
Specifies the storage policy according to which the cmdlet will create replicas.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[CVcdOrgVdcStorageProfile]`|true    |named   |False        |

#### **GuestProcessingOptions**
Specifies guest processing options.

|Type                                      |Required|Position|PipelineInput|
|------------------------------------------|--------|--------|-------------|
|`[VBRReplicaApplicationProcessingOptions]`|false   |named   |False        |

#### **Name**
Specifies a name for the CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification options of the CDP policy.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OrganizationVdc**
Specifies the organization VDC where replicas will be stored.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[CVcdOrganizationVdcItem]`|true    |named   |False        |

#### **OriginalVApp**
For the replica mapping functionality.
Specifies an array of production vApps for which you plan to use replica mapping.
The CDP policy will map these vApps to the vApps in the disaster recovery site.
Use the ReplicaVApp parameter to specify the vApps in the disaster recovery site.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CVcdVappItem[]]`|false   |named   |False        |

#### **ReplicaVApp**
For the replica mapping functionality.
Specifies an array of vApps in the disaster recovery site. The cmdlet will map the production vApps to these vApps and will use these vApps as replicas.
Use the OriginalVApp parameter to specify the vApps in the production site.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CVcdVappItem[]]`|false   |named   |False        |

#### **RepositorySeed**
For the replica seeding functionality.
Specifies the backup repository that keeps the full backups of vApps that you want to replicate.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RetentionOptions**
Specifies retention settings.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCDPPolicyRetentionOptions]`|false   |named   |False        |

#### **SourceNetwork**
For the network mapping functionality.
Specifies an array of the production networks to which the vApps are connected.
Note: The number of the source and the target networks must be the same.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRvCDOrgVdcNetworkInfo[]]`|false   |named   |False        |

#### **SourceObject**
Specifies an array of vApps that you want to replicate.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[IVcdItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **SourceProxy**
Specifies an array of the VMware CDP proxy in the production site that you want to assign to the CDP policy.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRCDPProxy[]]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that the cmdlet will add to the name of vApps replicated with CDP policies.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
For the network mapping functionality.
Specifies an array of the networks in the Disaster Recovery site. The replicated vApps will be connected to these networks.
Note: The number of the source and the target networks must be the same.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRvCDOrgVdcNetworkInfo[]]`|false   |named   |False        |

#### **TargetProxy**
Specifies an array of the target VMware CDP proxies that you want to assign to the CDP policy.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRCDPProxy[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IVcdItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCDCDPPolicy [-CompressionLevel {None | DedupeFriendly | Optimal | High | Extreme}] [-Description <String>] [-ExcludedObject <IVcdItem[]>] -GeneralStoragePolicy 
```
```PowerShell
<CVcdOrgVdcStorageProfile> [-GuestProcessingOptions <VBRReplicaApplicationProcessingOptions>] [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] 
```
```PowerShell
-OrganizationVdc <CVcdOrganizationVdcItem> [-OriginalVApp <CVcdVappItem[]>] [-ReplicaVApp <CVcdVappItem[]>] [-RepositorySeed <CBackupRepository>] [-RetentionOptions 
```
```PowerShell
<VBRCDPPolicyRetentionOptions>] [-SourceNetwork <VBRvCDOrgVdcNetworkInfo[]>] -SourceObject <IVcdItem[]> [-SourceProxy <VBRCDPProxy[]>] [-Suffix <String>] [-TargetNetwork 
```
```PowerShell
<VBRvCDOrgVdcNetworkInfo[]>] [-TargetProxy <VBRCDPProxy[]>] [<CommonParameters>]
```

Add-VBRvCDCloudCDPPolicy
------------------------

### Synopsis
Creates a VDC CDP policy.

---

### Description

This cmdlet creates a VDC CDP policy.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Get-VBRCloudServer](Get-VBRCloudServer.md)

* [Get-VBRCloudDatastore](Get-VBRCloudDatastore.md)

* [Get-VBRvCDCloudStoragePolicy](Get-VBRvCDCloudStoragePolicy.md)

---

### Examples
> Example - Creating Cloud VDC CDP Policy

$vm = Find-VBRViEntity -Name "DB server"
$organization =  Get-VBRvCDCloudOrganizationvDC
$vApp = Get-VBRvCDCloudvApp
$storagepolicy = Get-VBRvCDCloudStoragePolicy
Add-VBRvCDCloudCDPPolicy -Entity $vm -OrganizationvDC $organization -vApp $vApp -StoragePolicy $storagepolicy -Name "DHCP_replicant" -Description "DHCP replica"
This example shows how to create the DHCP_replicant cloud VDC CDP policy.

Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Get-VBRvCDCloudOrganizationvDC cmdlet. Save the result to the $host variable. The Get-VBRCloudServer cmdlet will return an array of hosts. Mind the ordinal number of the necessary host (in our example, it is the fourth host in the array).
3. Run the Get-VBRvCDCloudvApp cmdlet. Save the result to the $datastore variable. The Get-VBRCloudDatastore cmdlet will return an array of datastores. Mind the ordinal number of the necessary datastore (in our example, it is the fourth datastore in the array).
4. Run the Get-VBRvCDCloudStoragePolicy cmdlet. Save the result to the $storagepolicy variable. The Get-VBRvCDCloudStoragePolicy cmdlet will return an array of storage policies. Mind the ordinal number of the necessary storage policy (in our example, it is the storage policy in the array).
5. Run the Add-VBRCloudCDPPolicy cmdlet. Specify the following settings:
� Set the $vm variable as the Entity parameter value.
� Set the $organization variable as the OrganizationvDC parameter value.
� Set the $vApp variable as the vApp parameter value.
� Set the $storagepolicy variable as the StoragePolicy parameter value.
� Specify the Name parameter value.
� Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies a description of a VDC CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMs you want to add to a VDC CDP policy.
Accepts the IViItem[] object. To create this object, run the Find-VBRViEntity cmdlet.

|Type         |Required|Position|PipelineInput |
|-------------|--------|--------|--------------|
|`[IViItem[]]`|true    |named   |True (ByValue)|

#### **Force**
Defines that the cmdlet will create a VCD CDP policy without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GuestProcessingOptions**
Specifies guest processing settings of a CDP policy.
Accepts the VBRReplicaApplicationProcessingOptions object. To create this object, run the New-VBRReplicaApplicationProcessingOptions cmdlet.

|Type                                      |Required|Position|PipelineInput|
|------------------------------------------|--------|--------|-------------|
|`[VBRReplicaApplicationProcessingOptions]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies a name you want to assign to a VDC CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification settings of a CDP policy.
Accepts the VBRNotificationOptions object. To create this object, run the New-VBRNotificationOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OrganizationvDC**
Specifies the cloud organization VDC. The VDC CDP policy will store replicas in the selected organization VDC.
Accepts the VBRvCDCloudOrganizationvDC object. To get this object, run the Get-VBRvCDCloudOrganizationvDC cmdlet.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRvCDCloudOrganizationvDC]`|true    |named   |False        |

#### **OriginalVM**
For replica mapping.
Specifies an array of production VMs that you want to replicate using replica mapping.
The cloud CDP policy will map this VM to the VM in the disaster recovery site.
Use the ReplicaVM parameter to specify the replicated VM on the disaster recovery site.
Accepts the CViVmItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping.
Specifies an array VM in the disaster recovery site. The cmdlet will map the production VM to this VM.
Use the OriginalVM parameter to specify the production VM.
Accepts the VBRvCDCloudVM[] object. To get this object, run the Get-VBRvCDCloudVM cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRvCDCloudVM[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding.
Specifies a backup repository that keeps a full backup of VMs that you want to replicate.
Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RetentionOptions**
Specifies retention settings of a CDP policy.
Accepts the VBRCDPPolicyRetentionOptions object. To create this object, run the New-VBRCDPPolicyRetentionOptions cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCDPPolicyRetentionOptions]`|false   |named   |False        |

#### **SourceNetwork**
For network mapping.
Specifies an array of production networks to which the VMs added to a VCD CDP policy are connected.
Note: The number of source networks must match the number of target networks.
Accepts the VBRViNetworkInfo[] object. To get this object, run the Get-VBRViServerNetworkInfo cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **SourceProxy**
Used for building a replica from backup files.
Specifies the backup repository that will be used to read the VM data from the already existing backup chain.
Note: You cannot specify a cloud repository.
Accepts the VBRCDPProxy[] object. To get this object, run the Get-VBRCDPProxy cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRCDPProxy[]]`|false   |named   |False        |

#### **StoragePolicy**
Specifies the vCD cloud storage policy. The VDC CDP policy will create replicas according to this storage policy settings.
Accepts the VBRvCDCloudStoragePolicy object. To get this object, run the Get-VBRvCDCloudStoragePolicy cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRvCDCloudStoragePolicy]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that will be appended to the name of the VM you are replicating. This name will be used to register the replicated VM on the target server.
Note: If you omit this parameter, the replicated VMs will get the '_replica' suffix.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
For network mapping.
Specifies an array of networks in the disaster recovery site. VMs that are replicated with the VCD CDP policy will be connected to these networks.
Note: The number of source networks must match the number of target networks.
Accepts the VBRvCDCloudNetworkInfo[] object. To get this object, run the Get-VBRvCDCloudNetworkInfo cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRvCDCloudNetworkInfo[]]`|false   |named   |False        |

#### **vApp**
pecifies the vApp container. The VDC CDP policy will store the replicas in the selected container.
Note: If you do not specify the vApp container, the job will store the replicas in the default vApp.
Accepts the VBRvCDCloudvApp object. To get this object, run the Get-VBRvCDCloudvApp cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRvCDCloudvApp]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCDCloudCDPPolicy [-Description <String>] -Entity <IViItem[]> [-Force] [-GuestProcessingOptions <VBRReplicaApplicationProcessingOptions>] [-HighPriority] [-Name 
```
```PowerShell
<String>] [-NotificationOptions <VBRNotificationOptions>] -OrganizationvDC <VBRvCDCloudOrganizationvDC> [-OriginalVM <CViVmItem[]>] [-ReplicaVM <VBRvCDCloudVM[]>] 
```
```PowerShell
[-RepositorySeed <CBackupRepository>] [-RetentionOptions <VBRCDPPolicyRetentionOptions>] [-SourceNetwork <VBRViNetworkInfo[]>] [-SourceProxy <VBRCDPProxy[]>] [-StoragePolicy 
```
```PowerShell
<VBRvCDCloudStoragePolicy>] [-Suffix <String>] [-TargetNetwork <VBRvCDCloudNetworkInfo[]>] [-vApp <VBRvCDCloudvApp>] [<CommonParameters>]
```

Add-VBRvCDCloudReplicaJob
-------------------------

### Synopsis
Creates vCD cloud replication jobs.

---

### Description

This cmdlet creates vCD cloud replication jobs. Only the tenant can create vCD cloud replication jobs.

To allow the tenant create vCD cloud replication jobs, the Service provider must configure the infrastructure in VMware vCloud Director. It includes the following elements:
- The Organization vDC
- The vCD storage policy settings

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Get-VBRvCDCloudOrganizationvDC](Get-VBRvCDCloudOrganizationvDC.md)

* [Get-VBRvCDCloudvApp](Get-VBRvCDCloudvApp.md)

* [Get-VBRvCDCloudStoragePolicy](Get-VBRvCDCloudStoragePolicy.md)

---

### Examples
> Example - Creating vCD Cloud Replication Job

$vm = Find-VBRViEntity -Name "vCD VM"
$vdc = Get-VBRvCDCloudOrganizationvDC -Name "Cloud Organization"
$vApp = Get-VBRvCDCloudvApp -OrganizationvDC $vdc
$policy = Get-VBRvCDCloudStoragePolicy -Name "Silver Policy"
Add-VBRvCDCloudReplicaJob -Name "ReplicaJob" -Entity $vm -OrganizationvDC $vdc -vApp $vapp -StoragePolicy $policy
This example shows how to create a vCD cloud replication job.

Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to $vm variable.
2. Run the Get-VBRvCDCloudOrganizationvDC cmdlet. Specify the Name parameter value. Save the result to the $vdc variable.
3. Run the Get-VBRvCDCloudvApp cmdlet. Set the $vdc variable as the OrganizationvDC parameter value. Save the result to the $vApp variable.
4. Run the Get-VBRvCDCloudStoragePolicy cmdlet. Specify the Name parameter value. Save the result to the $policy variable.
5. Run the Add-VBRvCDCloudReplicaJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $vm variable as the Entity parameter value.
- Set the $vdc variable as the OrganizationvDC parameter value.
- Set the $vapp variable as the vApp parameter value.
- Set the $policy variable as the StoragePolicy parameter value.

---

### Parameters
#### **BackupRepository**
Specifies the user backup repository that will be used to store replica metadata files. If not set, the default backup repository will be used. Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Description**
Specifies the description of the new job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DiskType**
Specifies the format that will be used to restore replica disk files:
* Source: the restored replica disks will be the same format as source.
* Thick: the restored replica disks will be thick.
* Thin: the restored replica disks will be thick.
Default: Source.
Valid Values:

* Source
* Thick
* Thin
* ThickEagerZeroed

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[EDiskCreationMode]`|false   |named   |False        |

#### **EnableNetworkMapping**
Enables network mapping. Use the following parameters to set the network mapping rules:
* SourceNetwork
* TargetNetwork

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMs. The cmdlet will add the selected VMs to the vCD replication job. Accepts the IViItem[] object.  To get this object, run the Find-VBRViEntity cmdlet.

|Type         |Required|Position|PipelineInput |
|-------------|--------|--------|--------------|
|`[IViItem[]]`|true    |named   |True (ByValue)|

#### **Force**
Defines that the cmdlet will create a job even if the geographic location of the VMs added to the job and the target cloud host location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the cloud replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **OrganizationvDC**
Specifies the cloud Organization vDC. The job will store the replicas on the selected Organization vDC. Accepts the VBRvCDCloudOrganizationvDC object. To get this object, run the Get-VBRvCDCloudOrganizationvDC cmdlet.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRvCDCloudOrganizationvDC]`|true    |named   |False        |

#### **OriginalVM**
For replica mapping. Specifies an array of production VMs that you want to replicate using replica mapping. The replication job will map these VMs to selected replica VMs on the Disaster Recovery site. Use the ReplicaVM parameter to specify the replica VM on the Disaster Recovery site. Accepts the CViVmItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping. Specifies an array of VMs on the Disaster Recovery site that you want to use as the replication target.  The replication job will map the production VMs to these VMs. Use the OriginalVM parameter to specify the production VM. Accepts the VBRvCDCloudVM object. To get this object, run the Get-VBRvCDCloudVM cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRvCDCloudVM[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding. Specifies the backup repository where the seed (the full backup) resides. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **SourceNetwork**
For the network mapping option. Specifies the array of the production networks, to which the VMs in the job are connected. NOTE: The number of the source and the target networks must be the same. Accepts the VBRViNetworkInfo[] object. To get this object, run the Get-VBRViServerNetworkInfo cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **SourceProxy**
Specifies the source proxy that will be used by the job. Default: Automatic selection Accepts the CViProxy[] object.  To get this object, run the Get-VBRViProxy cmdlet.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CViProxy[]]`|false   |named   |False        |

#### **SourceRepository**
Used for building a replica from backup files. Specifies the backup repository that will be used to read the VM data from the already existing backup chain. NOTE: You cannot specify a cloud repository. Accepts the CBackupRepository[] object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **SourceWANAccelerator**
Specifies the WAN accelerator configured in the source site that will be used for data transfer. NOTE: You can set the source WAN accelerator only if the cloud provider has a target WAN accelerator configured. Accepts the CWanAccelerator object.  To get this object, run the Get-VBRWANAccelerator cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

#### **StoragePolicy**
Specifies the vCD cloud storage policy.  The job will create replicas per the policy settings. Accepts the VBRvCDCloudStoragePolicy object. To get this object, run the Get-VBRvCDCloudStoragePolicy cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRvCDCloudStoragePolicy]`|true    |named   |False        |

#### **Suffix**
Specifies the suffix that will be appended to the name of the VM you are replicating. This name will be used to register the replicated VM on the target server. If omitted, the replicated VMs will have the '_replica' suffix by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
For the network mapping option. Specifies the network in the Disaster Recovery site. The replicated VMs will be connected to these networks. NOTE: The number of the source and the target networks must be the same. Accepts the VBRvCDCloudNetworkInfo[] object. To get this object, run the Get-VBRvCDCloudNetworkInfo cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRvCDCloudNetworkInfo[]]`|false   |named   |False        |

#### **vApp**
Specifies the vApp container. The job will store the replicas on the selected vApp. NOTE: if you do not specify the vApp container, the job will store the replicas on the default vApp. Accepts the VBRvCDCloudvApp object. To get this object, run the Get-VBRvCDCloudvApp cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRvCDCloudvApp]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCDCloudReplicaJob [-BackupRepository <CBackupRepository>] [-Description <String>] [-DiskType {Source | Thick | Thin | ThickEagerZeroed}] [-EnableNetworkMapping] 
```
```PowerShell
-Entity <IViItem[]> [-Force] [-HighPriority] [-Name <String>] -OrganizationvDC <VBRvCDCloudOrganizationvDC> [-OriginalVM <CViVmItem[]>] [-ReplicaVM <VBRvCDCloudVM[]>] 
```
```PowerShell
[-RepositorySeed <CBackupRepository>] [-SourceNetwork <VBRViNetworkInfo[]>] [-SourceProxy <CViProxy[]>] [-SourceRepository <CBackupRepository[]>] [-SourceWANAccelerator 
```
```PowerShell
<CWanAccelerator>] -StoragePolicy <VBRvCDCloudStoragePolicy> [-Suffix <String>] [-TargetNetwork <VBRvCDCloudNetworkInfo[]>] [-vApp <VBRvCDCloudvApp>] [<CommonParameters>]
```

Add-VBRvCDCloudSubTenant
------------------------

### Synopsis
Creates vCD cloud subtenant accounts.

---

### Description

This cmdlet creates new vCD cloud subtenant accounts. NOTE: Before creating a vCD cloud subtenant account, you must perform the following:   � Add the vCD cloud tenant into your Veeam Backup & Replication infrastructure   � Create users in VMware vCloud Director. The vCD users must be granted the role, different from the administrator one.

---

### Related Links
* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

* [New-VBRCloudSubTenantResource](New-VBRCloudSubTenantResource.md)

---

### Examples
> Example 1

$vcduser = Find-VBRvCloudEntity -OrganizationUser -Name vCDUser
$vcdtenant = Get-VBRCloudTenant -Name "vCDTenant"
$parent = $vcdtenant.Resources[0]
$subRes = New-VBRCloudSubTenantResource -Parent $parent -RepositoryFriendlyName "Cloudrepository" -Quota 50
Add-VBRvCDCloudSubTenant -vCDOrganizationUser $vcduser -vCDTenant $vcdtenant -Resources $subres -Description "NewCloudSubTenant"
This example shows how to add a vCD cloud subtenant account to your Veeam Backup & Replication infrastructure. The subtenant quota is set to 50 GB.   1. Run Find-VBRvCloudEntity to get the necessary vCD user. Save the result to the $vcduser variable,   2. Run Get-VBRCloudTenant to get the necessary vCD tenant. Save the result to the $vcdtenant variable.   3. Get the parent resources. Use the Resources property of the VBRCloudTenantResource object saved to the $parent variable. Save the result to the $parent variable.   4. Run New-VBRCloudSubTenantResource with the $parent variable. Use the RepositoryFriendlyName parameter to specify the repository name and the Quota parameter to specify the allowed storage imitations.   5. Run Add-VBRvCDCloudSubTenant with the $vcduser, $vcdtenant and $subres variables.
> Example 2

$vcduser = Find-VBRvCloudEntity -OrganizationUser -Name vCDUser
$vcdtenant = Get-VBRCloudTenant -Name vCDTenant
$subRes = New-VBRCloudSubTenantResource -Parent $vcdtenant.Resources[0] -RepositoryFriendlyName "Cloudrepository" -Unlimited
Add-VBRvCDCloudSubTenant -vCDOrganizationUser $vcduser -vCDTenant $vcdtenant  -Resources $subres -Description "NewCloudSubTenant"
This example shows how to add a vCD cloud subtenant account to your Veeam Backup & Replication infrastructure. The subtenant quota is unlimited.   1. Run Find-VBRvCloudEntity to get the necessary vCD user. Save the result to the $vcduser variable.   2. Run Get-VBRCloudTenant to get the necessary vCD tenant. Save the result to the $vcdtenant variable.   3. Run New-VBRCloudSubTenantResource with the $vcdtenant variable. Use the Resources property of the VBRCloudTenantResource saved to the $vcdtenant variable. Use the RepositoryFriendlyName parameter to specify the repository name and the Quota parameter to specify the allowed storage imitations.   4. Run Add-VBRvCDCloudSubTenant with the $vcduser, $vcdtenant and $subres variables.

---

### Parameters
#### **Description**
Specifies a description of the vCD cloud subtenant accounts.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Disabled**
Indicates that the subtenant is disabled.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Resources**
Specifies the array of backup resource quotas you want to allocate to the vCD cloud tenant accounts. NOTE: When you assign multiple resource quotas to one vCD cloud tenant account, the resource quotas must have unique Repository Friendly Names and they must use different repositories. Accepts the VBRCloudTenantResource type.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRCloudSubTenantResource[]]`|true    |named   |False        |

#### **vCDOrganizationUser**
Specifies a vCD cloud user account that you want to add to the subtenant. Accepts the VBRvCloudOrganizationUser type.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRvCloudOrganizationUser]`|true    |named   |False        |

#### **vCDTenant**
Specifies a vCD cloud tenant account. Veeam Backup & Replication will check for the existing users on this tenant, to add them as the subtenant into the backup infrastructure. Accepts the VBRvCDCloudTenant type.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[VBRvCDCloudTenant]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDCloudTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCDCloudSubTenant [-Description <String>] [-Disabled] -Resources <VBRCloudSubTenantResource[]> -vCDOrganizationUser <VBRvCloudOrganizationUser> -vCDTenant 
```
```PowerShell
<VBRvCDCloudTenant> [<CommonParameters>]
```

Add-VBRvCDCloudSubUser
----------------------

### Synopsis
Creates vCD cloud subuser accounts.

---

### Description

This cmdlet creates vCD cloud subuser accounts from the tenant side.  You can use these accounts to back up Windows and Linux computers that are protected by Veeam Agent.  The backups of these machines will be stored on the cloud repository. NOTE: This cmdlet works for tenants only. Run the Add-VBRvCDCloudSubTenant cmdlet to create the vCD cloud subtenant on the provider side.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

* [Get-VBRvCDCloudOrganizationUser](Get-VBRvCDCloudOrganizationUser.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [New-VBRCloudSubUserResource](New-VBRCloudSubUserResource.md)

---

### Examples
> Example - Creating vCD Cloud Subuser Account on Tenant Side

$provider = Get-VBRCloudProvider -Name "vCDProvider"
$user = Get-VBRvCDCloudOrganizationUser -Name "vCDCloudUser"
$rep = Get-VBRBackupRepository -Name "vCD Repository"
$resources = New-VBRCloudSubUserResource -CloudRepository $rep -RepositoryFriendlyName "StrawberryJam" -Quota 50
Add-VBRvCDCloudSubUser -CloudProvider $provider -vCDCloudOrganizationUser $user -Resources  $resources
This example shows how to create a vCD cloud subuser account on the tenant side.

Perform the following steps:
1. Run the Get-VBRCloudProvider cmdlet. Specify the Name parameter value. Save the result to the $provider variable.
2. Run the Get-VBRvCDCloudOrganizationUser cmdlet. Specify the Name parameter value. Save the result to the $user variable.
3. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $rep variable.
4. Run the New-VBRCloudSubUserResource cmdlet. Set the $rep variable as the CloudRepository parameter value. Specify the RepositoryFriendlyName and the Quota parameter values. Save the result to the $resources variable.
5. Run the Add-VBRvCDCloudSubUser cmdlet. Set the $provider variable as the CloudProvider parameter value. Set the $user variable as the vCDCloudOrganizationUser parameter value. Set the $resources variable as the Resources parameter value.

---

### Parameters
#### **CloudProvider**
Specifies a cloud provider. The resources of this provider will be a parent for the subuser. Accepts the VBRCloudProvider object. To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRCloudProvider]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies a description of vCD cloud subuser accounts.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Disabled**
Defines that a vCD cloud subuser is disabled.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Resources**
Specifies the quota of the subtenant backup resources that you want to give to the subtenant. Accepts the VBRCloudTenantResource[] object. To create this object, run the New-VBRCloudSubUserResource cmdlet.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRCloudSubUserResource[]]`|true    |named   |False        |

#### **vCDCloudOrganizationUser**
Specifies a vCD cloud user accounts that you want to add. Accepts the VBRvCDCloudOrganizationUser object. To get this object, run the Get-VBRvCDCloudOrganizationUser cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRvCDCloudOrganizationUser]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudProvider

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCDCloudSubUser -CloudProvider <VBRCloudProvider> [-Description <String>] [-Disabled] -Resources <VBRCloudSubUserResource[]> -vCDCloudOrganizationUser 
```
```PowerShell
<VBRvCDCloudOrganizationUser> [<CommonParameters>]
```

Add-VBRvCDCloudTenant
---------------------

### Synopsis
Creates VMware Cloud Director tenant accounts.

---

### Description

This cmdlet creates vCD cloud tenant accounts.

To set up replica resources for vCD cloud tenant accounts, you must perform the following steps:
1. Create the Organization vCD in your VMware vCloud Director.
2. Allocate the required Organization vCD the vCD cloud tenant account.
Run the New-VBRvCDOrganizationvDCOptions cmdlet to specify the Organization vDC that you want to allocate to the vCD cloud tenant. Run the New-VBRvCDReplicationResource cmdlet to specify the replication resource settings.

Important! You cannot specify the name and the password for vCD cloud tenant accounts.

---

### Related Links
* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

* [New-VBRvCDOrganizationvDCOptions](New-VBRvCDOrganizationvDCOptions.md)

* [New-VBRvCDReplicationResource](New-VBRvCDReplicationResource.md)

---

### Examples
> Creating vCD Cloud Tenant Account with Replication Resources

$orgvdc = Find-VBRvCloudEntity -OrganizationVdc -Name "VDC 01"
$dco = New-VBRvCDOrganizationvDCOptions -OrganizationvDC $orgvcd
$org = Find-VBRvCloudEntity -Organization -Name "Organization 05"
$replicas = New-VBRvCDReplicationResource -OrganizationvDCOptions $dco
Add-VBRvCDCloudTenant -vCDOrganization $org -vCDReplicationResource $replicas
This example shows how to create a vCD cloud tenant account with the replication resources.

Perform the following steps:
1. Run the Find-VBRvCloudEntity cmdlet. Provide the OrganizationVdc parameter. Specify the Name parameter value. Save the result to the $orgvdc variable.
2. Run the New-VBRvCDOrganizationvDCOptions cmdlet. Set the $orgvdc variable as the OrganizationvDC parameter value. Save the result to the $dco variable.
3. Run the Find-VBRvCloudEntity cmdlet. Provide the Organization parameter. Specify the Name parameter value. Save the result to the $org variable.
4. Run the New-VBRvCDReplicationResource cmdlet. Set the $dco variable as the OrganizationvDCOptions parameter value. Save the result to the $replicas variable.
5. Run the Add-VBRvCDCloudTenant cmdlet. Set the $org variable as the vCDOrganization parameter value. Set the $replicas variable as the vCDReplicationResource parameter value.

---

### Parameters
#### **BackupProtectionPeriod**
For the EnableBackupProtection parameter. Specifies the number of days to keep the tenant's deleted backups on the service provider side. Can be set to 1-99.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Description**
Specifies a description of the vCD cloud tenant account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableBackupProtection**
Enables protection for the tenant's backups from complete removal. If you provide this parameter, the tenant's deleted backups will be placed to the recycle bin on the service provider's side.  The backups will be kept in the bin for the specified protection period.  When this period ends, the backups are removed permanently. To specify the protection period, use the BackupProtectionPeriod parameter.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableGatewayFailover**
Enables the gateway pool failover option.  In case the gateway pool is down, Veeam Backup & Replication will transfer data through a gateway, that is not added to any gateway pool.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableLeaseExpiration**
Defines that a vCD cloud tenant account must use lease expiration settings. Use the LeaseExpirationDate parameter to set the lease expiration date.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableThrottling**
Enables network throttling to set the bandwidth limitations. Use the ThrottlingValue and ThrottlingUnit parameters to set the maximum value.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GatewayPool**
Specifies a gateway pool. Veeam Backup & Replication will route data through the specified gateway pool. Accepts the VBRCloudGatewayPool[] object. To get this object, run the Get-VBRCloudGatewayPool cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRCloudGatewayPool[]]`|false   |named   |False        |

#### **GatewaySelectionType**
Specifies the type of the cloud gateway that you want to assign to vCD cloud tenant accounts.
* StandaloneGateways - use this option to transfer data through a cloud gateway that is not added to a cloud gateway pool.
* GatewayPool - use this option to transfer data through a cloud gateway pool.
Valid Values:

* StandaloneGateways
* GatewayPool

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRCloudGatewaySelectionType]`|false   |named   |False        |

#### **MaxConcurrentTask**
Specifies the maximum number of tasks that the vCD cloud tenant account can process in parallel. The number of tasks is the number of VM disks processed by one job targeted at the cloud repository or cloud host.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Resources**
Specifies an array of backup resource quotas that you want to allocate to the vCD cloud tenant accounts. NOTE:
* You must set the Resources or the vCDReplicationResource parameter, or a combination of both, to create a vCD cloud tenant account.
* When you assign multiple resource quotas to one vCD cloud tenant account, the resource quotas must have unique Repository Friendly Names and they must use different repositories.
Accepts the VBRCloudTenantResource[] object. To get this object, run the New-VBRCloudTenantResource cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRCloudTenantResource[]]`|false   |named   |False        |

#### **ThrottlingUnit**
For the EnableThrottling option. Specifies measure units for the bandwidth value. You can select either of the following:
* MbitPerSec
* MbytePerSec
* KbytePerSec
Default: MbytePerSec.
Valid Values:

* MbitPerSec
* MbytePerSec
* KbytePerSec

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRSpeedUnit]`|false   |named   |False        |

#### **ThrottlingValue**
For the EnableThrottling option. Specifies the maximum bandwidth value in Mbps for transferring the tenant data to the SP side.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Decimal]`|false   |named   |False        |

#### **vCDOrganization**
Specifies the vCD organization. NOTE: you must configure the vCD Cloud organization in vCloud Director beforehand. Accepts the CVcdOrganizationItem object. To get this object, run the Find-VBRvCloudEntity cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CVcdOrganizationItem]`|true    |named   |False        |

#### **vCDReplicationResource**
Specifies vDC replication resources, that you want to allocate to the vCD cloud tenant accounts. Accepts the VBRvCDReplicationResource object. To get this object, run the New-VBRvCDReplicationResource cmdlet.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRvCDReplicationResource]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCDCloudTenant [-BackupProtectionPeriod <Int32>] [-Description <String>] [-EnableBackupProtection] [-EnableGatewayFailover] [-EnableLeaseExpiration] 
```
```PowerShell
[-EnableThrottling] [-GatewayPool <VBRCloudGatewayPool[]>] [-GatewaySelectionType {StandaloneGateways | GatewayPool}] [-MaxConcurrentTask <Int32>] [-Resources 
```
```PowerShell
<VBRCloudTenantResource[]>] [-ThrottlingUnit {MbitPerSec | MbytePerSec | KbytePerSec}] [-ThrottlingValue <Decimal>] -vCDOrganization <CVcdOrganizationItem> 
```
```PowerShell
[-vCDReplicationResource <VBRvCDReplicationResource>] [<CommonParameters>]
```

Add-VBRvCDReplicaJob
--------------------

### Synopsis
Creates Cloud Director replication jobs.

---

### Description

This cmdlet creates Cloud Director replication jobs.
Note that when you create a Cloud Director replication jobs, you need to run it manually unless you enable a job schedule.
Run the Start-VBRvCDReplicaJob cmdlet to run the job manually.

---

### Related Links
* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

---

### Examples
> Creating vDC Replication Job

$vapp = Find-VBRvCloudEntity -Name "AvP04" -VApp
$orgvdc = Find-VBRvCloudEntity -Name "Org07" -OrganizationVdc
Add-VBRvCDReplicaJob -SourceObject $vapp -OrganizationVdc $orgvdc -Name "vCD_05j" -Description "AvP04 replica"
This example shows how to create the vCD_05j VDC replication job to replicate the AvP04 vApp to the Org07 organization VDC.

Perform the following steps:
1. Run the Find-VBRvCloudEntity cmdlet. Specify the Name parameter value. Save the result to the $vapp variable.
2. Run the Find-VBRvCloudEntity cmdlet. Specify the Name parameter value. Provide the OrganizationVdc parameter. Save the result to the $orgvdc variable.
3. Run the Add-VBRvCDReplicaJob cmdlet. Specify the following settings:
- Set the $vapp variable as the SourceObject parameter value.
- Set the $orgvdc variable as the OrganizationVdc parameter value.
- Specify the Name parameter value.
- Specify the Description parameter value.

---

### Parameters
#### **CompressionLevel**
Specifies the compression level of the replicated data:
* None: use this option if you do not want to enable data compression.
* Dedupe-friendly: use this option to set a dedupe-friendly compression level.
* Optimal: use this option to set an optimal compression level.
* High: use this option to set a high compression level.
* Extreme: use this option to set an extreme compression level.
Default: Optimal.
Valid Values:

* None
* DedupeFriendly
* Optimal
* High
* Extreme

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRCompressionLevel]`|false   |named   |False        |

#### **Description**
Specifies the description that you want to assign to the VDC replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ExcludedObject**
Specifies an array of VM containers that you want to exclude from the VDC replication job.
You can exclude the following types of Cloud Director source objects:
* Organization
* Organization VDC
* vApp

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[IVcdItem[]]`|false   |named   |False        |

#### **GeneralStoragePolicy**
Specifies the storage policy.
The cmdlet will create VDC replication jobs according to the policy settings.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[CVcdOrgVdcStorageProfile]`|false   |named   |False        |

#### **GuestProcessingOptions**
Specifies guest processing options of a VDC replication job.

|Type                                      |Required|Position|PipelineInput|
|------------------------------------------|--------|--------|-------------|
|`[VBRReplicaApplicationProcessingOptions]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **IndividualVAppStoragePolicy**
Specifies the individual storage policy for a Cloud Director VM.
The job will create VDC replicas of these VMs according to the policy settings.

|Type                                     |Required|Position|PipelineInput|
|-----------------------------------------|--------|--------|-------------|
|`[VBRvCDIndividualObjectStoragePolicy[]]`|false   |named   |False        |

#### **MetadataRepository**
Specifies a backup repository that will store metadata for VDC replicas.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Name**
Specifies the name that you want to assign to the VDC replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NotificationOptions**
Specifies notification options of a VDC replication job.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRNotificationOptions]`|false   |named   |False        |

#### **OrganizationVdc**
Specifies the cloud organization VDC.
The job will store the Cloud Director replicas on the selected organization VDC.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[CVcdOrganizationVdcItem]`|true    |named   |False        |

#### **OriginalVApp**
For replica mapping.
Specifies a production vApp that you want to replicate using replica mapping.
The VDC replication job will map this vApp to the vApp on the disaster recovery site.
Use the ReplicaVApp parameter to specify the vApp on the disaster recovery site.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CVcdVappItem[]]`|false   |named   |False        |

#### **ReplicaVApp**
For replica mapping.
Specifies a vApp on the disaster recovery site. The cmdlet will map the production vApp to this vApp, and the VDC replication job will replicate data to this vApp.
Use the OriginalVApp parameter to specify the production vApp.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[CVcdVappItem[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding.
Specifies the backup repository that keeps a full backup of a VM that you want to replicate.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RestorePointsToKeep**
Specifies a number of restore points you want to keep for of VDC replicas.
Permitted values: 1 to 28.
Default: 7.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies a schedule for a VDC replication job.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRServerScheduleOptions]`|false   |named   |False        |

#### **SourceNetwork**
For the network mapping option.
Specifies an array of the production networks, to which the vApps are connected.
Note: The number of the source and the target networks must be the same.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRvCDOrgVdcNetworkInfo[]]`|false   |named   |False        |

#### **SourceObject**
Specifies an array of vApps that you want to replicate.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[IVcdItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **SourceProxy**
Specifies an array of the source proxies.
The cmdlet will assign these proxies to the VDC replication job.
Default: Automatic selection.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CViProxy[]]`|false   |named   |False        |

#### **SourceWanAccelerator**
Specifies the WAN accelerator configured in the source site.
The cmdlet will use this WAN accelerator data transfer.
Default: Not set.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that the cmdlet will add to the name of VDC replicas.
Default: "_replica".

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
For the network mapping option.
Specifies the network in the Disaster Recovery site. The replicated VMs will be connected to these networks.
Note: The number of the source and the target networks must be the same.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRvCDOrgVdcNetworkInfo[]]`|false   |named   |False        |

#### **TargetProxy**
Specifies an array of the target proxies.
The cmdlet will assign these proxies to the VDC replication job.
Default: Automatic selection.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CViProxy[]]`|false   |named   |False        |

#### **TargetWanAccelerator**
Specifies the WAN accelerator configured in the target site.
The cmdlet will use this WAN accelerator data transfer.
Default: Not set.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IVcdItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCDReplicaJob [-CompressionLevel {None | DedupeFriendly | Optimal | High | Extreme}] [-Description <String>] [-ExcludedObject <IVcdItem[]>] [-GeneralStoragePolicy 
```
```PowerShell
<CVcdOrgVdcStorageProfile>] [-GuestProcessingOptions <VBRReplicaApplicationProcessingOptions>] [-HighPriority] [-IndividualVAppStoragePolicy 
```
```PowerShell
<VBRvCDIndividualObjectStoragePolicy[]>] [-MetadataRepository <CBackupRepository>] [-Name <String>] [-NotificationOptions <VBRNotificationOptions>] -OrganizationVdc 
```
```PowerShell
<CVcdOrganizationVdcItem> [-OriginalVApp <CVcdVappItem[]>] [-ReplicaVApp <CVcdVappItem[]>] [-RepositorySeed <CBackupRepository>] [-RestorePointsToKeep <Int32>] 
```
```PowerShell
[-ScheduleOptions <VBRServerScheduleOptions>] [-SourceNetwork <VBRvCDOrgVdcNetworkInfo[]>] -SourceObject <IVcdItem[]> [-SourceProxy <CViProxy[]>] [-SourceWanAccelerator 
```
```PowerShell
<CWanAccelerator>] [-Suffix <String>] [-TargetNetwork <VBRvCDOrgVdcNetworkInfo[]>] [-TargetProxy <CViProxy[]>] [-TargetWanAccelerator <CWanAccelerator>] [<CommonParameters>]
```

Add-VBRvCenter
--------------

### Synopsis
Adds vCenter Servers to the backup infrastructure.

---

### Description

This cmdlet allows you to add a vCenter Server to the backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRServer](Get-VBRServer.md)

* [Remove-VBRServer](Remove-VBRServer.md)

---

### Examples
> Example 1. Adding vCenter to Backup Infrastructure Using Account User Name and Password

```PowerShell
Add-VBRvCenter -Name "vc25.domain.local" -User "Domain\Administrator" -Password "qwerty" -Description "vcdev25 vCenter Server"
This command adds the vc25.domain.local vCenter Server. The user name is Domain\Administrator and the password is qwerty.
```
> Example 2. Adding vCenter to Backup Infrastructure Using Credentials Managed by Veeam Backup & Replication

$vc_administrator = Get-VBRCredentials
Add-VBRvCenter -Name "vc25.domain.local" -Description "vcdev25 vCenter Server" -Credentials $vc_administrator
This example shows how to add the vc25.domain.local vCenter Server.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $vc_administrator variable.
2. Run the Add-VBRvCenter cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Specify the Description parameter value.
- Set the $vc_administrator variable as the Credentials parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the vCenter Server.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the vCenter Server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a vCenter Server without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the full DNS name or IP address of the vCenter Server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **Password**
Specifies the password you want to use for authenticating with the vCenter Server.

|Type      |Required|Position|PipelineInput|Aliases     |
|----------|--------|--------|-------------|------------|
|`[String]`|true    |2       |False        |SOAPPassword|

#### **Port**
Specifies the Web service port for connection to the vCenter Server. Default: 443

|Type     |Required|Position|PipelineInput|Aliases |
|---------|--------|--------|-------------|--------|
|`[Int32]`|false   |named   |False        |SOAPPort|

#### **User**
Specifies the user name that you want to use for authenticating with the vCenter Server.
Note: The user name must be in the DOMAIN\username format.

|Type      |Required|Position|PipelineInput|Aliases |
|----------|--------|--------|-------------|--------|
|`[String]`|true    |1       |False        |SOAPUser|

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCenter [-Name] <String> -Credentials <CCredentials> [-Description <String>] [-Force] [-Port <Int32>] [<CommonParameters>]
```
```PowerShell
Add-VBRvCenter [-Name] <String> [-User] <String> [-Password] <String> [-Description <String>] [-Force] [-Port <Int32>] [<CommonParameters>]
```

Add-VBRvCloud
-------------

### Synopsis
Adds a Cloud Director server to Veeam Backup & Replication.

---

### Description

This cmdlet adds a new Cloud Director server to Veeam Backup & Replication infrastructure.
Note: Run the Add-VBRvCloudVC cmdlet to add a vCenter Server managed by Cloud Director to Veeam Backup & Replication infrastructure.

---

### Examples
> Example 1

Add-VBRvCloud -Name "vCloudDirectorServer.domain.com" -User Administrator -Password password -Url "https://vclouddirectorserver:443" -Description "Cloud Director Server"
This command creates a new vCloudDirectorServer server with the following settings:
- The URL address is https://vclouddirectorserver:443.
- The user name is Administrator and the password is password.
- The description is Cloud Director Server.
> Example 2

$administrator = Get-VBRCredentials -Name "Administrator"
Add-VBRvCloud -Name "vCloudDirectorServer.domain.com" -Credentials $administrator -Url "https://vclouddirectorserver:443"
This example shows how to create a new vCloudDirectorServer server with the following settings:
- The URL address is https://vclouddirectorserver:443.
- The user name is Administrator and the password is password.
- The description is the default one.

Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $administrator variable.
2. Run the Add-VBRvCloud cmdlet. Specify the Name parameter value. Set the $administrator variable as the Credentials parameter value. Specify the Url parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the Cloud Director server.
If you use the Credentials scenario, the User and Password parameters must be omitted.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the new Cloud Director server.
If not set, the user name who created the server and the date and time of creation will be added by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the full DNS name or IP address of the Cloud Director server or any cell in the Cloud Director infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **Password**
Specifies the password you want to use for authenticating with the Cloud Director server.
If you use the Username/Password scenario, the Credentials parameter must be omitted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |2       |False        |

#### **Url**
Specifies the URL you want to connect to the Cloud Director Web API with.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the Cloud Director server.
If you use the Username/Password scenario, the Credentials parameter must be omitted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |1       |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCloud [-Name] <String> -Credentials <CCredentials> [-Description <String>] [-Url <String>] [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Add-VBRvCloud [-Name] <String> [-User] <String> [-Password] <String> [-Description <String>] [-Url <String>] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Add-VBRvCloudBackupCopyJob
--------------------------

### Synopsis
Creates a vCloud backup copy job.

---

### Description

This cmdlet creates a new vCloud backup copy job.

The backup copy job is copying backup files from the source backup repository to the target backup repository. The backup copy job runs continuously synchronizing the backup repositories in user-defined time periods.

The cmdlet provides two scenarios that can be used for on-site and off-site modes:

To transfer the data efficiently to to the off-site location, you can use the WAN accelerator technology. WAN accelerator is a backup infrastructure component that optimizes file transfer via WAN by means of data deduplication. The role of a WAN accelerator can be assigned to a dedicated Windows-based machine (physical or virtual). You should always use a pair of WAN accelerators set on source and target sides. This mode is recommended for off-site backups. To create and run a backup copy job using WAN accelerators you need to have source and target WAN accelerators created.

Run Add-VBRWANAccelerator to create a WAN accelerator. WAN optimization is available only in Veeam Backup & Replication Enterprise Plus Edition.

You can create a backup copy job using direct operation. With this method, the job sends the data directly to the target backup repository without performing data deduplication. This mode is recommended for on-site backups, or off-site backups using fast connections.

Note that the backup copy job is created in disabled state. Run Enable-VBRJob to start the job running on the defined schedule.

---

### Examples
> Example 1

Add-VBRvCloudBackupCopyJob -SourceAccelerator $wansource -TargetAccelerator $wantarget -Name CopyJob1 -Entity $vms -Repository $repository
This command creates a backup copy job named "vCloud CopyJob1" with the following parameters:

- The source and target WAN accelerators are obtained with Get-VBRWANAccelerator and assigned to $wansource and $wantarget variables accordingly beforehand,

- The  VMs to copy are obtained with Find-VBRvCloudEntity and assigned to the $vms variable beforehand,

- The repository to where the VM data will be copied is obtained with Get-VBRBackupRepository and assigned to the $repository variable beforehand.
> Example 2

Get-VBRBackup -Name "DC Backup" | Add-VBRvCloudBackupCopyJob -DirectOperation -Name "DC CopyJob"
This command creates a direct backup copy job with the following parameters:

- The name of the job is "DC CopyJob",

- The backup job named "DC Backup" with the VMs to be copied is obtained with Get-VBRBackup and piped down,

- The -Repository parameter is not set to copy the VMs to the default backup repository.

---

### Parameters
#### **Backup**
Specifies the existing backup from where the VMs to copy are derived.  You can assign multiple backups to this object.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **BackupJob**
Specifies the existing backup job from where the VMs to copy are derived.  You can assign multiple backup jobs to this object.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies the description of the backup copy job.  If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DirectOperation**
Enables the direst operation method sending the data directly to the target backup repository without performing data deduplication. If you select the direct operation mode, the -TargetAccelerator and -SourceAccelerator parameters should be omitted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **EnableImmediateCopy**
Defines that the cmdlet will enable the immediate copy mode. If you specify this parameter, Veeam Backup & Replication will copy new restore points and logs as soon as they appear. Otherwise, Veeam Backup & Replication will copy data from backups once per backup copy interval.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Entity**
Specifies the VM(s) you want to copy.  You can assign multiple VMs to this object.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[IVcdItem[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create backup copy jobs without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup copy job. You can input string up to 255 symbols.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Repository**
Specifies the backup repository to where you want to copy the VM data.  If not set, Veeam Backup & Replication will use the default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **SourceAccelerator**
Specifies the WAN accelerator on the source side. If you select the mode using WAN accelerators, the -DirectOperation parameter should be omitted.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|true    |named   |False        |

#### **SourceRepository**
Specifies an array of source backup repositories. Accepts the CBackupRepository[] object. To create this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput        |
|-----------------------|--------|--------|---------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName)|

#### **TargetAccelerator**
Specifies the WAN accelerator on the target side. If you select the mode using WAN accelerators, the -DirectOperation parameter should be omitted.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IVcdItem[]

Veeam.Backup.Core.CBackup[]

Veeam.Backup.Core.CBackupJob[]

Veeam.Backup.Core.CBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCloudBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <CBackupJob[]>] [-Description <String>] -DirectOperation [-EnableImmediateCopy] [-Entity <IVcdItem[]>] [-Force] 
```
```PowerShell
[-Name <String>] [-Repository <CBackupRepository>] [-SourceRepository <CBackupRepository[]>] [<CommonParameters>]
```
```PowerShell
Add-VBRvCloudBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <CBackupJob[]>] [-Description <String>] [-EnableImmediateCopy] [-Entity <IVcdItem[]>] [-Force] [-Name <String>] 
```
```PowerShell
[-Repository <CBackupRepository>] -SourceAccelerator <CWanAccelerator> [-SourceRepository <CBackupRepository[]>] [-TargetAccelerator <CWanAccelerator>] [<CommonParameters>]
```

Add-VBRvCloudJob
----------------

### Synopsis
Creates a Cloud Director backup job.

---

### Description

This cmdlet creates a new Cloud Director backup job.
You should always use Cloud Director backup jobs to back up VMs managed by Cloud Director. If you back up VMs managed by Cloud Director using a regular backup job, Veeam Backup & Replication will perform backup at the level of the underlying vCenter Server and will not capture vApp metadata. As a result, it will not let you restore a fully functioning VM to Cloud Director.

Note that when you create a backup job, you need to run it manually unless you enable a job schedule.

Run the Start-VBRJob cmdlet to start the created job. Run the Set-VBRJobSchedule cmdlet to set schedule for the job.

---

### Related Links
* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1

$vm = Find-VBRvCloudEntity -Name "vCloud Server"
$brepository = Get-VBRBackupRepository -Name "Backups Vol2"
Add-VBRvCloudJob -Entity $vm -Name "vCD Backup Job" -BackupRepository $brepository -Description "Cloud Director Backup Job"
This example shows how to create a new Cloud Director backup job.

Perform the following steps:
1. Run the Find-VBRvCloudEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $brepository variable.
3. Run the Add-VBRvCloudJob cmdlet. Specify the following settings:
- Set the $vm variable as the Entity parameter value.
- Specify the Name parameter value.
- Set the $brepository variable as the BackupRepository parameter value.
- Specify the Description parameter value.
> Example 2

Find-VBRvCloudEntity -Name "vCloud Server" | Add-VBRvCloudJob -Name "vCD Backup Job 2" -Description "Cloud Director Backup Job"
This example shows how to create a new Cloud Director backup job. The target is the default backup repository.

Perform the following steps:
1. Run the Find-VBRvCloudEntity cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Add-VBRvCloudJob cmdlet. Specify the Name and the Description parameter values.

---

### Parameters
#### **BackupRepository**
Specifies the target backup repository.
Default: default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Description**
Specifies the description of the new Cloud Director backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMs.
The cmdlet will add these VMs to the Cloud Director backup job.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[IVcdItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the Cloud Director backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetBackup**
WARNING! THIS PARAMETER IS INTERNAL.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IVcdItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCloudJob [-BackupRepository <CBackupRepository>] [-Description <String>] -Entity <IVcdItem[]> [-HighPriority] [-Name <String>] [-TargetBackup <CBackup>] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRvCloudJobObject
----------------------

### Synopsis
Adds VMs to vCD backup jobs.

---

### Description

This cmdlet adds VMs to vCD backup jobs.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

---

### Examples
> Adding VMs to vCD Backup Job

$job = Get-VBRJob -Name "Cloud backup job"
$vm = Find-VBRvCloudEntity -Name "WinSrv2907"
Add-VBRvCloudJobObject -Job $job -Entities $vm
This example shows how to add the WinSrv2907 VM to the Cloud backup job vCD backup job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Find-VBRvCloudEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
3. Run the Add-VBRvCloudJobObject cmdlet. Set the $job variable as the Job parameter value. Set the $vm variable as the Entities parameter value.

---

### Parameters
#### **Entities**
Specifies an array of VMs that you want to add to a vCD backup job.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[IVcdItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will add VMs to a vCD backup job without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Job**
Specifies a vCD backup job. The cmdlet will add VMs to this vCD backup job.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CBackupJob]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IVcdItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCloudJobObject -Entities <IVcdItem[]> [-Force] -Job <CBackupJob> [<CommonParameters>]
```

Add-VBRvCloudVC
---------------

### Synopsis
Adds vCenter Server managed by Cloud Director to Veeam Backup & Replication.

---

### Description

This cmdlet adds a new vCenter Server to Veeam Backup & Replication infrastructure. The vCenter Server is registered as a part of Cloud Director.
Note: Run the Add-VBRvCloud cmdlet to add a Cloud Director server to Veeam Backup & Replication infrastructure.

---

### Examples
> Example 1

$vc = Find-VBRvCloudEntity -Vc
Get-VBRServer -Name "172.16.1.13" | Add-VBRvCloudVC -VCInfo $vc -User "Administrator" -Password "Password" -Name "vCenter Server 1"
This example shows how to add a new vCenter Server with the following parameters:
- The vCenter will be registered on the server with 172.16.1.13 IP address.
- The user name is Administrator and the password is Password.
- The Port parameter is not set to enable the default 443 web-service port number.
- The Description parameter is not set to enable the default description.

Perform the following steps:
1. Run the Find-VBRvCloudEntity cmdlet. Provide the Vc parameter. Save the result to the $vc variable.
2. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Add-VBRvCloudVC cmdlet. Specify the following settings:
- Set the $vc variable as the VCInfo parameter value.
- Specify the User and the Password parameter values.
- Specify the Name parameter value.
> Example 2

$s = Get-VBRServer -Name "172.16.1.13"
$vc = Find-VBRvCloudEntity -Vc
$creds = Get-VBRCredentials -Name "vCenter Administrator"
Add-VBRvCloudVC -vCloudServer $s -VCInfo $vc -Credentials $creds -Name "vCenter Server 2" -Port 456
This command adds a new vCenter Server with the following parameters:
- The vCenter will be registered on the server with 172.16.1.13 IP address.
- The Port parameter is set to 456.
- The Description parameter is not set to enable the default description.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $s variable.
2. Run the Find-VBRvCloudEntity cmdlet. Provide the Vc parameter. Save the result to the $vc variable.
3. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the credentials to the $creds variable.
4. Run the Add-VBRvCloudVC cmdlet. Specify the following settings:
- Set the $s variable as the vCloudServer parameter value.
- Set the $vc variable as the VCInfo parameter value.
- Set the $creds variable as the Credentials parameter value.
- Specify the Name parameter value.
- Specify the Port parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the vCenter Server.
If you use the Credentials scenario, the User and Password parameters must be omitted.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the vCenter Server.
If not set, the default description containing the user name of the user who created the record and date and time of creation will be used.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a vCenter Server without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the DNS name or IP address of the vCenter Server you want to connect.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the vCenter Server.
If you use the User/Password scenario, the Credentials parameter must be omitted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |3       |False        |

#### **Port**
Specifies the web-service port number. If not set, the default port number 443 will be used.
Note: When you customize the port number, you must set this port on the vCenter Server/ESXi host settings first.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the vCenter Server.
If you use the User/Password scenario, the Credentials parameter must be omitted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |2       |False        |

#### **VCInfo**
Specifies the vCenter Server you want to connect to the Cloud Director.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CVcdVcInfo]`|true    |1       |False        |

#### **vCloudServer**
Specifies the Cloud Director server you want to connect a vCenter to.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRvCloudVC [-vCloudServer] <CHost> [-VCInfo] <CVcdVcInfo> -Credentials <CCredentials> [-Description <String>] [-Force] [-Name <String>] [-Port <Int32>] 
```
```PowerShell
[<CommonParameters>]
```
```PowerShell
Add-VBRvCloudVC [-vCloudServer] <CHost> [-VCInfo] <CVcdVcInfo> [-User] <String> [-Password] <String> [-Description <String>] [-Force] [-Name <String>] [-Port <Int32>] 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRViAdvancedVirtualLab
---------------------------

### Synopsis
Creates a VMware advanced virtual lab.

---

### Description

This cmdlet creates a VMware advanced virtual lab.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViDatastore](Find-VBRViDatastore.md)

---

### Examples
> Example 1. Creating Advanced Virtual Lab

$esxi = Get-VBRServer -Name "esx09.tech.local"
Add-VBRViAdvancedVirtualLab -Server $esxi -Name "Exchange Lab"  -Description "Virtual Lab for Exchange VMs"
This example shows how to create an advanced virtual lab with default settings. The cmdlet will create the virtual lab on the esx09.tech.local ESXi host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $esxi variable.
2. Run the Add-VBRViAdvancedVirtualLab cmdlet. Set the $esxi variable as the Server parameter value. Specify the Name parameter value. Specify the Description parameter value.
> Example 2. Creating Virtual Lab with Custom Datastore

$esxi = Get-VBRServer -Name "esx09.tech.local"
$datastore = Find-VBRViDatastore -Server $esxi -Name "esx09-das6"
Add-VBRViAdvancedVirtualLab -Server $esxi -Name "SQL Database Lab" -Description "Virtual Lab for SQL Databases" -DesignatedResourcePoolName "SQL test" -DesignatedVMFolderName "SQL" -CacheDatastore $datastore
The following request returns license usage data for the VAO server with the ID 76da0d75-75b0-4675-8296-0142ad0d52a7.
- Veeam Backup & Replication will keep redo logs on the esx09-das6 datastore.
- The virtual lab will be located on the SQL test resource pool with the SQL folder.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $esxi variable.
2. Run the Find-VBRViDatastore cmdlet. Set the $esxi variable as the Server parameter value. Specify the Name parameter value. Save the result to the $datastore variable.
3. Run the Add-VBRViAdvancedVirtualLab cmdlet. Specify the following settings:
- Set the $esxi variable as the Server parameter value.
- Specify the Name parameter value.
- Specify the Description parameter value.
- Specify the DesignatedResourcePoolName parameter value.
- Specify the DesignatedVMFolderName parameter value.

- Set the $datastore variable as the CacheDatastore parameter value.

---

### Parameters
#### **CacheDatastore**
Specifies a datastore to keep redo logs for verified VMs.
Note: If you do not specify this parameter, Veeam Backup & Replication will store redo logs on the vPower NFS server.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRViDatastore]`|false   |named   |False        |

#### **Description**
Specifies a description. The cmdlet will create a virtual lab with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DesignatedResourcePoolName**
Specifies a name of a resource pool. The cmdlet will create the resource pool with the specified name on the ESXi host.
Default: Same name as the Virtual Lab.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DesignatedVMFolderName**
Specifies a name of the dedicated folder. The cmdlet will create the folder in a resource pool with the specified name.
Default: Same name as the Virtual Lab.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DVS**
Specifies the VMware Distributed vSwitch. The create a virtual lab with the specified virtual switch.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViVirtualSwitch]`|false   |named   |False        |

#### **EnableRoutingBetweenvNics**
Defines that the cmdlet will enable communication between isolated networks.
If you provide this parameter, the cmdlet will enable communication between isolated networks. Otherwise, Veeam Backup & Replication will not be able to connect the isolated networks with production networks.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will not show any warning about network mapping. If you do not provide this parameter, the cmdlet will display a warning.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **IpMappingRule**
Specifies static IP address mapping rules. The cmdlet will create a virtual lab with the specified mapping rules.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRViVirtualLabIPMappingRule[]]`|false   |named   |False        |

#### **Name**
Specifies a name. The cmdlet will create a virtual lab with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NetworkMappingRule**
Specifies mapping rules of isolated networks with production networks. The cmdlet will create a virtual lab with the specified mapping rules.

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRViVirtualLabNetworkMappingRule[]]`|false   |named   |False        |

#### **NetworkOptions**
Specifies network settings of an isolated network. The cmdlet will create a virtual lab with the specified network settings.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRViVirtualLabNetworkOptions[]]`|false   |named   |False        |

#### **ProxyAppliance**
Specifies a proxy appliance. The cmdlet will add this proxy appliance to a virtual lab.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRViVirtualLabProxyAppliance]`|false   |named   |False        |

#### **Server**
Specifies an ESXi host. The cmdlet will create a virtual lab on this host.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViAdvancedVirtualLab [-CacheDatastore <VBRViDatastore>] [-Description <String>] [-DesignatedResourcePoolName <String>] [-DesignatedVMFolderName <String>] [-DVS 
```
```PowerShell
<VBRViVirtualSwitch>] [-EnableRoutingBetweenvNics] [-Force] [-IpMappingRule <VBRViVirtualLabIPMappingRule[]>] [-Name <String>] [-NetworkMappingRule 
```
```PowerShell
<VBRViVirtualLabNetworkMappingRule[]>] [-NetworkOptions <VBRViVirtualLabNetworkOptions[]>] [-ProxyAppliance <VBRViVirtualLabProxyAppliance>] -Server <CHost> 
```
```PowerShell
[<CommonParameters>]
```

Add-VBRViApplicationGroup
-------------------------

### Synopsis
Creates VMware application groups for SureBackup jobs.

---

### Description

This cmdlet creates application groups for SureBackup jobs.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRJobObject](Get-VBRJobObject.md)

* [New-VBRSureBackupVM](New-VBRSureBackupVM.md)

---

### Examples
> Example 1. Creating Application Group

$job = Get-VBRJob -Name "Exchange backup"
$backupobject = Get-VBRJobObject -Job $job
$vm = New-VBRSureBackupVM -VM $backupobject
Add-VBRViApplicationGroup -VM $vm
This example shows how to create an application group with default name and description.

Perform the following steps:

1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.   2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Save the result to the $job variable.   3. Run the New-VBRSureBackupVM cmdlet. Set the $backupobject variable as the VM parameter value. Save the result to the $vm variable.   4. Run the Add-VBRViApplicationGroup cmdlet. Set the $vm variable as the VM parameter value.
> Example 2. Creating Application Group with Name

$job = Get-VBRJob -Name "Exchange backup"
$backupobject = Get-VBRJobObject -Job $job
$vm = New-VBRSureBackupVM -VM $backupobject
Add-VBRViApplicationGroup -VM $vm -Name "Microsoft Exchange Appgroup"
This example shows how to create an application group with the Microsoft Exchange Appgroup name.

Perform the following steps:

1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.   2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Save the result to the $job variable.   3. Run the New-VBRSureBackupVM cmdlet. Set the $backupobject variable as the VM parameter value. Save the result to the $vm variable.   4. Run the Add-VBRViApplicationGroup cmdlet. Set the $vm variable as the VM parameter value. Specify the Name parameter value.
> Example 3. Creating Application Group with Name and Description

$job = Get-VBRJob -Name "Exchange backup"
$backupobject = Get-VBRJobObject -Job $job
$vm = New-VBRSureBackupVM -VM $backupobject
Add-VBRViApplicationGroup -VM <VBRSureBackupVM[]> -Name "Microsoft Exchange Appgroup" -Description "Application group for Exchange-related VMs"
This example shows how to create an application group with the Microsoft Exchange Appgroup name and the Application group for Exchange-related VMs description.

Perform the following steps:

1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.   2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Save the result to the $job variable.   3. Run the New-VBRSureBackupVM cmdlet. Set the $backupobject variable as the VM parameter value. Save the result to the $vm variable.   4. Run the Add-VBRViApplicationGroup cmdlet. Specify the following settings:      o Set the $vm variable as the VM parameter value.      o Specify the Name parameter value.      o Specify the Description parameter value.

---

### Parameters
#### **Description**
Specifies an array of VMs. The cmdlet will add these VMs to the application group.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies an array of VMs. The cmdlet will add these VMs to the application group.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **VM**
Specifies an array of VMs. The cmdlet will add these VMs to the application group. Accepts the VBRSureBackupVM[] object. To get this object, run the New-VBRSureBackupVM cmdlet.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[VBRSureBackupVM[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSureBackupVM[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViApplicationGroup [-Description <String>] [-Name <String>] [-VM <VBRSureBackupVM[]>] [<CommonParameters>]
```

Add-VBRViBackupCopyJob
----------------------

### Synopsis
Creates a VMware backup copy job.

---

### Description

This cmdlet creates a new VMware backup copy job.

The backup copy job is copying backup files from the source backup repository to the target backup repository. The backup copy job runs continuously synchronizing the backup repositories in user-defined time periods.

To set the VM(s) or VM containers as source to the job, you can use the following source to browse to VMs:    From infrastructure: use the Entity parameter to get the VMs.    From backup: use the Backup parameter to select the VMs from available backup files.    From jobs: use the BackupJob parameter to select the VMs from available backup jobs. In this case the Backup Copy job will process all VMs added to the source backup job.

The cmdlet provides two scenarios that can be used for on-site and off-site modes:

To transfer the data efficiently to to the off-site location, you can use the WAN accelerator technology. WAN accelerator is a backup infrastructure component that optimizes file transfer via WAN by means of data deduplication. The role of a WAN accelerator can be assigned to a dedicated Windows-based machine (physical or virtual). You should always use a pair of WAN accelerators set on source and target sides. This mode is recommended for off-site backups. To create and run a backup copy job using WAN accelerators you need to have source and target WAN accelerators created.

Run Add-VBRWANAccelerator to create a WAN accelerator. WAN optimization is available only in Veeam Backup & Replication Enterprise Plus Edition.

You can create a backup copy job using direct operation. With this method, the job sends the data directly to the target backup repository without performing data deduplication. This mode is recommended for on-site backups, or off-site backups using fast connections.

Note that the backup copy job is created in disabled state. Run Enable-VBRJob to start the job running on the defined schedule.

Starting from Veeam Backup & Replication version 9.5 Update 3, the cmdlet checks if the data of the VMs added to the job changes its geographical location. NOTE: The cmdlet will not run if the geographical location of the VMs added to the job and the job target repository location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Examples
> Example 1

```PowerShell
Add-VBRViBackupCopyJob -SourceAccelerator $wansource -TargetAccelerator $wantarget -Name CopyJob1 -Entity $vms -Repository $repository
This command creates a backup copy job named "CopyJob1" with the following parameters: - The source and target WAN accelerators are obtained with Get-VBRWANAccelerator and assigned to $wansource and $wantarget variables accordingly beforehand,

- The  VMs to copy are obtained with Find-VBRViEntity and assigned to the $vms variable beforehand,

- The repository to where the VM data will be copied is obtained with Get-VBRBackupRepository and assigned to the $repository variable beforehand.
```
> Example 2

```PowerShell
Get-VBRBackup -Name "DC Backup" | Add-VBRViBackupCopyJob -DirectOperation -Name "DC CopyJob"
This command creates a direct backup copy job with the following parameters: - The name of the job is "DC CopyJob",

- The backup job named "DC Backup" with the VMs to be copied is obtained with Get-VBRBackup and piped down,

- The -Repository parameter is not set to copy the VMs to the default backup repository.
```

---

### Parameters
#### **Backup**
Specifies the existing backup(s) to set the VMs you want to copy.  You can assign multiple backups to this object.

|Type         |Required|Position|PipelineInput        |
|-------------|--------|--------|---------------------|
|`[CBackup[]]`|false   |named   |True (ByPropertyName)|

#### **BackupJob**
Specifies the existing backup job(s) to set the VMs you want to copy.  You can assign multiple backup jobs to this object.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies the description of the backup copy job.  If not set, Veeam Backup & Replication will enter date and time of creation by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DirectOperation**
Enables direst operation method sending the data directly to the target backup repository without performing data deduplication. If you select the direct operation mode, the -TargetAccelerator and -SourceAccelerator parameters should be omitted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **EnableImmediateCopy**
Defines that the cmdlet will enable the immediate copy mode. If you specify this parameter, Veeam Backup & Replication will copy new restore points and logs as soon as they appear. Otherwise, Veeam Backup & Replication will copy data from backups once per backup copy interval.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Entity**
Specifies the VM you want to copy. You can assign multiple VMs to this object.

|Type         |Required|Position|PipelineInput        |
|-------------|--------|--------|---------------------|
|`[IViItem[]]`|false   |named   |True (ByPropertyName)|

#### **Force**
Indicates that the cmdlet will create a job even if the geographical location of the VMs added to the job and the target backup repository location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup copy job. You can input string up to 255 symbols.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Repository**
Specifies the backup repository to where you want to copy the VM data.  If not set, Veeam Backup & Replication will use the default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **SourceAccelerator**
Specifies the WAN accelerator on the source side. If you select the mode using WAN accelerators, the -DirectOperation parameter should be omitted.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|true    |named   |False        |

#### **SourceRepository**
Specifies an array of source backup repositories. Accepts the CBackupRepository[] object. To create this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput        |
|-----------------------|--------|--------|---------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName)|

#### **TargetAccelerator**
Specifies the WAN accelerator on the target side. If you select the mode using WAN accelerators, the -DirectOperation parameter should be omitted.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

Veeam.Backup.Core.CBackup[]

Veeam.Backup.Core.CBackupJob[]

Veeam.Backup.Core.CBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <CBackupJob[]>] [-Description <String>] -DirectOperation [-EnableImmediateCopy] [-Entity <IViItem[]>] [-Force] 
```
```PowerShell
[-Name <String>] [-Repository <CBackupRepository>] [-SourceRepository <CBackupRepository[]>] [<CommonParameters>]
```
```PowerShell
Add-VBRViBackupCopyJob [-Backup <CBackup[]>] [-BackupJob <CBackupJob[]>] [-Description <String>] [-EnableImmediateCopy] [-Entity <IViItem[]>] [-Force] [-Name <String>] 
```
```PowerShell
[-Repository <CBackupRepository>] -SourceAccelerator <CWanAccelerator> [-SourceRepository <CBackupRepository[]>] [-TargetAccelerator <CWanAccelerator>] [<CommonParameters>]
```

Add-VBRViBackupJob
------------------

### Synopsis
Creates VMware backup jobs.

---

### Description

This cmdlet creates a VMware backup job.

Note that when you create a backup job, you need to run it manually unless you enable a job schedule.

Run the Start-VBRJob cmdlet to run the job manually.

Run the Set-VBRJobSchedule cmdlet to set schedule for the job.

NOTE: The cmdlet will not run if the geographical location of the VMs added to the job and the job target repository location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Example 1. Creating Backup Job [Using Pipeline]

$Repository = Get-VBRBackupRepository -Name "Backup Repository"
Find-VBRViEntity -Name Exchange* | Add-VBRViBackupJob -Name "Exchange Backup" -BackupRepository $Repository -Description "VMware Exchange Backup"
This example shows how to create a backup job named Exchange Backup.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $Repository variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Add-VBRViBackupJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $Repository variable as the BackupRepository parameter value.
- Specify the Description parameter value.
> Example 2. Creating Backup Job [Using Variable]

$Repository = Get-VBRBackupRepository -Name "Backup Repository"
$Vm = Find-VBRViEntity -Name "VM01"
Add-VBRViBackupJob -BackupRepository $Repository -Entity $Vm
This example shows how to create a backup job for the VM represented by the $Vm variable.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $Repository variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $Vm variable.
3. Run the Add-VBRViBackupJob cmdlet. Set the $Repository variable as the BackupRepository parameter value. Set the $Vm variable as the Entity parameter value.

---

### Parameters
#### **BackupLogsRepository**
Specifies the backup repository for storing database log backups for snapshot-only jobs.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **BackupRepository**
Specifies the backup repository where the created backup will be stored. Default: default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Description**
Specifies the description of the backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMware VMs you want to add to the job.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IViItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create a backup job even if the geographic location of the VMs added to the job and the target backup repository location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Multitag**
Defines that the cmdlet will add tags to an existing job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the backup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetBackup**
WARNING! THIS PARAMETER IS INTERNAL.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViBackupJob [-BackupLogsRepository <CBackupRepository>] [-BackupRepository <CBackupRepository>] [-Description <String>] -Entity <IViItem[]> [-Force] [-HighPriority] 
```
```PowerShell
[-Multitag] [-Name <String>] [-TargetBackup <CBackup>] [<CommonParameters>]
```

Add-VBRViCloudHardwarePlan
--------------------------

### Synopsis
Creates VMware hardware plans.

---

### Description

This cmdlet creates a new hardware plan for VMware environments.

The hardware plan allocates the following resources to a tenant:
- Cloud host. When creating replicas, the tenant will use this host as target host to register the replicated VMs.
- Quota of the cloud host CPU and memory.
- [Pre-configure] Networks to which the tenant will connect the cloud replicas. Use the cmdlets in the VLANs Configuration section to pre-configure the pool of VLANs.
- [Pre-configure] Cloud storage: a quota of datastores allocated to tenants. Run the New-VBRViCloudHWPlanDatastore cmdlet to create the cloud storage.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [New-VBRViCloudHWPlanDatastore](New-VBRViCloudHWPlanDatastore.md)

---

### Examples
> Example - Creating Hardware Plan for VMware

$server = Get-VBRServer -Type ESXi -Name "ESXiHost"
$switches = Get-VBRViVirtualSwitch -Server $server
New-VBRCloudVLANConfiguration -Server $server -ViVirtualSwitch $switches[0] -FirstVLANWithInternet 1 -LastVLANWithInternet 5 -FirstVLANWithoutInternet 6 -LastVLANWithoutInternet 10
$datastore = Get-VBRServer -Name "ESXiHost" | Find-VBRViDatastore -Name "Veeam Cloud Datastore"
$cloudreplicas = New-VBRViCloudHWPlanDatastore -Datastore $datastore -FriendlyName "Cloud Replicas" -Quota 500
$server = Get-VBRServer -Type ESXi -Name "ESXiHost"
Add-VBRViCloudHardwarePlan -Name "VMware Silver" -Description "VMware Hardware Plan" -Server $server -CPU 4000 -Memory 2000 -NumberOfNetWithoutInternet 1 -Datastore $cloudreplicas
This example shows how to create a hardware plan with the following settings:
- CPU quota: 4000 MHz
- Memory quota: 2000 Gb
- Cloud storage: "Cloud Replicas"
- Networks without access to the Internet: 1
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Set the ESXi option for the Type parameter. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRViVirtualSwitch cmdlet. Set the $server variable as the Server parameter value. Save the result to the $switches variable.
3. Run the New-VBRCloudVLANConfiguration cmdlet. Set the $server variable as the Server parameter value. Set the $switches variable as the ViVirtualSwitch parameter value. Specify the FirstVLANWithInternet, LastVLANWithInternet, FirstVLANWithoutInternet, LastVLANWithoutInternet parameter values.
4. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Pipe the cmdlet output to the Find-VBRViDatastore cmdlet. Specify the Name parameter value. Save the result to the $datastore variable.
5. Run the New-VBRViCloudHWPlanDatastore cmdlet. Set the $datastore variable as the Datastore parameter value. Specify the FriendlyName and the Quota parameter values. Save the storage to the $cloudreplicas variable.
6. Run the Get-VBRServer cmdlet. Set the ESXi option for the Type parameter. Specify the Name parameter value. Save the server to the $server variable.
7. Run the Add-VBRViCloudHardwarePlan cmdlet. Specify the following settings:
- Specify the Name and the Description parameter values.
- Set the $server variable as the Server parameter value.
- Specify the CPU, the Memory and the NumberOfNetWithoutInternet parameter values.
- Set the $cloudreplicas variable as the Datastore parameter value.

---

### Parameters
#### **CPU**
Specifies the quota of CPU resources you want to allocate to the tenant under this hardware plan (MHz).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Datastore**
Specifies the array of cloud storage objects. The hardware plan will use these objects to allocate storage space to the tenant under this hardware plan. Accepts the VBRViCloudHardwarePlanDatastore[] object. To get this object, run the New-VBRViCloudHWPlanDatastore cmdlet.

|Type                                 |Required|Position|PipelineInput|
|-------------------------------------|--------|--------|-------------|
|`[VBRViCloudHardwarePlanDatastore[]]`|true    |named   |False        |

#### **Description**
Specifies the description of the hardware plan.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Memory**
Specifies the quota of CPU memory you want to allocate to the tenant under this hardware plan (Gb).

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the hardware plan.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **NumberOfNetWithInternet**
Specifies the number of networks with access to the Internet that you want to allocate to the tenant under this hardware plan.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **NumberOfNetWithoutInternet**
Specifies the number of networks without access to the Internet that you want to allocate to the tenant under this hardware plan.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**
Specifies the ESX(i) host or cluster. The resources of this host or cluster (CPU and memory quotas) will be allocated to the tenant by the hardware plan. Accepts the CHost (standalone host) or CViClusterItem (cluster) object. To get this object, run the Get-VBRServer cmdlet.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Object]`|true    |named   |False        |

#### **UnlimitedCPU**
Defines that the quota of CPU resources is unlimited. If you provide this parameter, the tenant will be able to use all CPU resources of the host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **UnlimitedMemory**
Defines that the quota of CPU memory is unlimited. If you provide this parameter, the tenant will be able to use all memory resources of the host.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViCloudHardwarePlan [-CPU <Int32>] -Datastore <VBRViCloudHardwarePlanDatastore[]> [-Description <String>] [-Memory <Int32>] -Name <String> [-NumberOfNetWithInternet 
```
```PowerShell
<Int32>] [-NumberOfNetWithoutInternet <Int32>] -Server <Object> [-UnlimitedCPU] [-UnlimitedMemory] [<CommonParameters>]
```

Add-VBRViCloudReplicaJob
------------------------

### Synopsis
Creates a new VMware cloud replication job.

---

### Description

This cmdlet creates a new VMware cloud replication job. Cloud replication creates a VM replica on a cloud host and maintains it in synch with the original VM. Note that cloud replication does not support replica from backup. When you create a replication job, you can configure the following additional settings:
- Network mapping: this option allows you to configure network mapping rules if the production site and the cloud host uses separate virtual networks. Use the EnableNetworkMapping parameter to enable the network mapping and the SourceNetwork and the TargetNetwork parameters to select the networks.
- Proxy server: this options allow you to assign particular proxy server for the data transfer. Use the SourceProxy parameter to set the proxy explicitly or leave the default (Automatic selection).
- WAN accelerators: this options allow you to use the built-in WAN accelerators to optimize the data transfer. Note that WAN accelerators must work in pair, so you can use the WAN acceleration only if the cloud provider has a WAN accelerator on the target side. Use the SourceWANAccelerator parameter to set the source WAN accelerator.
- Ri-IP rules: this option allows you to configure different IP addressing scheme for the production site and the cloud host. You need to create an object containing the re-IP rules beforehand by running the New-VBRViReplicaReIpRule cmdlet. Then pass the created object to the ReIpRule parameter of this cmdlet.
Note that when you create a replica job, you need to run it manually unless you enable a job schedule.

Run the Start-VBRJob cmdlet to run the job manually.  Run the Set-VBRJobSchedule cmdlet to set schedule for the job and run it automatically.

NOTE:  The cmdlet will not run if the geographic location of the VMs added to the job and the target cloud host location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Get-VBRCloudServer](Get-VBRCloudServer.md)

* [Get-VBRCloudDatastore](Get-VBRCloudDatastore.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRViServerNetworkInfo](Get-VBRViServerNetworkInfo.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

* [Get-VBRWANAccelerator](Get-VBRWANAccelerator.md)

* [Get-VBRLocation](Get-VBRLocation.md)

---

### Examples
> Example - Creating Cloud Replica Job

$vm = Find-VBRViEntity -Name "web_application_server"
$cloudServer = Get-VBRCloudServer -Name 104.45.95.227
$cloudDatastore = Get-VBRCloudDatastore -CloudServer $cloudServer -Name "ABCDatastore"
Add-VBRViCloudReplicaJob -Name "Cloud Replica Job" -Entity $vm -Server $cloudServer -Datastore $cloudDatastore
This example shows how to create a cloud replica job.

Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Get-VBRCloudServer cmdlet. Specify the Name parameter value. Save the result to the $cloudServer variable.
3. Run the Get-VBRCloudDatastore cmdlet. Set the $cloudServer variable as CloudServer parameter value. Specify the Name parameter value. Save the datastore to the $cloudDatastore variable.
4. Run the Add-VBRViCloudReplicaJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $vm variable as Entity parameter value.
- Set the $cloudServer variable as Server parameter value.
- Set the $cloudDatastore variable as Datastore parameter value.

---

### Parameters
#### **BackupRepository**
Specifies the user backup repository that will be used to store replica metadata files. If not set, the default backup repository will be used. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Datastore**
Specifies the cloud datastore to which you want to replicate. Accepts the VBRCloudDatastore object. To get this object, run the Get-VBRCloudDatastore cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRCloudDatastore]`|true    |named   |False        |

#### **Description**
Specifies the description of the new job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DiskType**
Specifies the format that will be used to restore replica disk files:
* Source: the restored replica disks will be the same format as source.
* Thick: the restored replica disks will be thick.
* Thin: the restored replica disks will be thick.
Default: Source.
Valid Values:

* Source
* Thick
* Thin
* ThickEagerZeroed

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[EDiskCreationMode]`|false   |named   |False        |

#### **EnableNetworkMapping**
Enables the network mapping option. Use the SourceNetwork and the TargetNetwork parameters to set the network mapping rules.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Entity**
Specifies the array of VMs you want to add to the job. Accepts the IViItem[] object.  To get this object, run the Find-VBRViEntity cmdlet.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IViItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will create a job even if the geographic location of the VMs added to the job and the target cloud host location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the cloud replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **OriginalVM**
For replica mapping. Specifies the production VM you want to replicate using replica mapping. The replication job will map this VM to a selected replica VM on the DR site. Use the ReplicaVM parameter to specify the replica VM on the DR site. Accepts the CViVmItem[] object.  To get this object, run the Find-VBRViEntity cmdlet.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping. Specifies the VM on the DR site you want to use as the replication target. The replication job will map the production VM to this VM. Use the OriginalVM parameter to specify the production VM. Accepts the COib[] object.  To create this object, run the Get-VBRRestorePoint cmdlet.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[COib[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding. Specifies the backup repository where the seed (the full backup) resides. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Server**
Specifies the cloud host allocated by the service provider under the hardware plan. The replicas will be created on this host. Accepts the VBRCloudServer object. To get this object, run the Get-VBRCloudServer cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRCloudServer]`|true    |named   |False        |

#### **SourceNetwork**
Used to set the source network for the EnableNetworkMapping parameter. Specifies the production network to which VMs added to the job are connected. Use the TargetNetwork parameter to set the target network.  NOTE: The number of the source and the target networks must be the same. Accepts the VBRViNetworkInfo[] object. To get this object, run the Get-VBRViServerNetworkInfo cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **SourceProxy**
Specifies the source proxy that will be used by the job. Default: Automatic selection. Accepts the CViProxy[] object.  To get this object, run the Get-VBRViProxy cmdlet.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CViProxy[]]`|false   |named   |False        |

#### **SourceRepository**
Used for building replica from backup files. Specifies the backup repository that will be used to read the VM data from the already existing backup chain. You cannot specify cloud repository. Accepts the CBackupRepository[] object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **SourceWANAccelerator**
Specifies the WAN accelerator configured in the source site that will be used for data transfer. Note that you can set the source WAN accelerator only if the cloud provider has a target WAN accelerator configured. Accepts the CWanAccelerator object.  To get this object, run the Get-VBRWANAccelerator cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that will be appended to the name of the VM you are replicating. This name will be used to register the replicated VM on the target server. If omitted, the replicated VMs will have the '_replica' suffix by default.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
Used to set the target network for the EnableNetworkMapping parameter. Specifies the network in the DR site to which VM replicas must be connected. Use the SourceNetwork parameter to set the source network.  NOTE: The number of the source and the target networks must be the same. Accepts the VBRCloudServerNetworkInfo[] object. To get this object, run the Get-VBRCloudServerNetworkInfo cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRCloudServerNetworkInfo[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViCloudReplicaJob [-BackupRepository <CBackupRepository>] -Datastore <VBRCloudDatastore> [-Description <String>] [-DiskType {Source | Thick | Thin | 
```
```PowerShell
ThickEagerZeroed}] [-EnableNetworkMapping] -Entity <IViItem[]> [-Force] [-HighPriority] [-Name <String>] [-OriginalVM <CViVmItem[]>] [-ReplicaVM <COib[]>] [-RepositorySeed 
```
```PowerShell
<CBackupRepository>] -Server <VBRCloudServer> [-SourceNetwork <VBRViNetworkInfo[]>] [-SourceProxy <CViProxy[]>] [-SourceRepository <CBackupRepository[]>] 
```
```PowerShell
[-SourceWANAccelerator <CWanAccelerator>] [-Suffix <String>] [-TargetNetwork <VBRCloudServerNetworkInfo[]>] [<CommonParameters>]
```

Add-VBRViJobObject
------------------

### Synopsis
Adds VMs to VMware jobs.

---

### Description

This cmdlet adds VMs to an existing job.

You can run this cmdlet with any kind of jobs.

NOTE: The cmdlet will not run if the geographic location of the VMs added to the job and the job target repository location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Example 1. Adding VM to Job Represented by Variable [Using Pipeline]

$job = Get-VBRJob -Name "Backup Job"
Find-VBRViEntity -Name VM01 | Add-VBRViJobObject -Job $job
This example shows how to add a VM named VM01 to the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Add-VBRViJobObject cmdlet. Set the $job variable as the Job parameter value.
> Example 2. Adding VM to Specific Job [Using Variables]

$job = Get-VBRJob -Name "Backup Job"
$Vm = Find-VBRViEntity -Name "VM01"
Add-VBRViJobObject -Job $job -Entities $Vm
This example shows how to add a VM represented by $Vm variable to the job represented by $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $Vm variable.
3. Run the Add-VBRViJobObject cmdlet. Set the $job variable as the Job parameter value. Set $Vm variable as the Entities parameter value.

---

### Parameters
#### **Entities**
Specifies the array of VMware VMs you want to add to the job.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IViItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will add VMs to the existing job even if the geographic location of these VMs and the target backup repository location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Job**
Specifies the job. The cmdlet will add VMs to this job.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CBackupJob]`|true    |named   |False        |

#### **Multitag**
Defines that the cmdlet will add tags to an existing job. Note: This parameter is available starting from Veeam Backup & Replication 11a (build 11.0.1.1261).

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViJobObject -Entities <IViItem[]> [-Force] -Job <CBackupJob> [-Multitag] [<CommonParameters>]
```

Add-VBRViLinuxProxy
-------------------

### Synopsis
Adds Linux backup proxies to the backup infrastructure.

---

### Description

This cmdlet adds Linux backup proxies to the backup infrastructure.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Example 1. Adding Linux Backup Proxy Server

$linuxsrv = Get-VBRServer -Name "LinSrv2045"
Add-VBRViLinuxProxy -Server $linuxsrv -MaxTasks 3 -Force
This example shows how to add the LinSrv2045 VM as a Linux backup proxy to the infrastructure. The backup proxy is assigned 3 maximum concurrent tasks.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $linuxsrv variable.
2. Run the Add-VBRViLinuxProxy cmdlet. Set the $linuxsrv variable as the Server parameter value. Specify the MaxTasks parameter value. Provide the Force parameter.
> Example 2. Adding Linux Backup Proxy Server and Assigning Backup Proxy Role Explicitly

$linuxsrv = Get-VBRServer -Name "LinSrv2045"
$proxy = Find-VBRViEntity -Name "LinSrv2045"
Add-VBRViLinuxProxy -Server $linuxsrv -ProxyVM $proxy -Force
This example shows how to add a Linux backup proxy to the backup infrastructure. The backup proxy will be configured with 2 maximum concurrent tasks.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $linuxsrv variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
3. Run the Add-VBRViLinuxProxy cmdlet. Specify the following settings:
- Set the $linuxsrv variable as the Server parameter value.
- Set the $proxy variable as the ProxyVM parameter value.
- Provide the Force parameter.

---

### Parameters
#### **ConnectedDatastoreMode**
Specifies the mode the Linux proxy will use to connect to datastores:
* Auto: Veeam Backup & Replication automatically detects all datastores that allow direct SAN or NFS connection.
* Manual: Backup proxy has a direct SAN or NFS connection to datastores in the Datastore list. Use the Datastore parameter to specify the allowed datastores.
Default: Auto.
Valid Values:

* Auto
* Manual

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRProxyConnectedDatastoreMode]`|false   |named   |False        |

#### **Datastore**
Specifies an array of datastores to which the backup proxy has a direct SAN or NFS connection.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRViDatastore[]]`|false   |named   |False        |

#### **Description**
Specifies the description of the Linux backup proxy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableFailoverToNBD**
Enables failover to the Network transport mode if a backup proxy fails to transport data using the Direct storage access or Virtual appliance transport mode.
Default: True.
Note: To disable this option, set the parameter value to $false. That is, parameter_name:$false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableHostToProxyEncryption**
Enables VM data transportation over an encrypted SSL connection in the Network transport mode.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a Linux backup proxy without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MaxTasks**
Specifies the number of concurrent tasks that can be assigned to the backup proxy simultaneously.
Permitted values: 1-100.
Default: 2.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ProxyVM**
Specifies a Linux VM that is added to the VMware environment. The cmdlet will assign a backup proxy role explicitly to this Linux VM.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[CViVmItem]`|false   |named   |False        |

#### **Server**
Specifies a Linux VM which will act as a backup proxy. The cmdlet will assign a role of a backup proxy to the Linux server that is added to the backup infrastructure.
Note: You must provide the ProxyVM parameter in the following cases:
* If Veeam Backup & Replication can not get the BIOS UUID of the Linux VM that you want to add as a backup proxy.
* If the disk.EnableUUID parameter in the vSphere configuration settings is set to False for the Linux VM that you want to add as a backup proxy.
* If the Linux VM that you want to add as a backup proxy has been cloned or converted and this duplicate VM has the same BIOS UUID as the original one.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

#### **TransportMode**
Specifies a data transport mode that the Linux proxy will apply to retrieve VM data from the source and write VM data to the target. You can specify one of the following transport mode type:
Specifies the transport mode used by the backup proxy:
Auto: Use this option to set the automatic proxy selection mode.
DirectStorageAccess: Use this option to set the direct storage access transport mode (Direct SAN access or Direct NFS access).
HotAdd: Use this option to set the virtual appliance transport mode.
Nbd: Use this option to set the network transport mode.
Default: Auto
Valid Values:

* Auto
* DirectStorageAccess
* HotAdd
* Nbd

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRProxyTransportMode]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViLinuxProxy [-ConnectedDatastoreMode {Auto | Manual}] [-Datastore <VBRViDatastore[]>] [-Description <String>] [-EnableFailoverToNBD] [-EnableHostToProxyEncryption] 
```
```PowerShell
[-Force] [-MaxTasks <Int32>] [-ProxyVM <CViVmItem>] -Server <CHost> [-TransportMode {Auto | DirectStorageAccess | HotAdd | Nbd}] [<CommonParameters>]
```

Add-VBRViProxy
--------------

### Synopsis
Adds a VMware backup proxy to the backup infrastructure.

---

### Description

This cmdlet adds a VMware backup proxy server to the backup infrastructure.
When you add a proxy, you assign the role of the backup proxy to a Windows-based or Linux-based server that you add to the backup infrastructure. To add a new proxy, you must add the necessary server to the backup infrastructure beforehand.
Run the Add-VBRWinServer cmdlet to add a Microsoft Windows server the backup infrastructure.
Run the Add-VBRLinux cmdlet to add a Linux server to the backup infrastructure.
Run the Add-VBRHvProxy cmdlet to add Hyper-V backup proxies.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Adding New VMware Backup Proxy [Using Pipeline]

Get-VBRServer -Name "VMware Local Server" | Add-VBRViProxy -Description "Local Backup Proxy" -MaxTasks 6
This example shows how to add a new VMware backup proxy. The Description is Local Backup Proxy. The max concurrent tasks number is set to 6.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Add-VBRViProxy cmdlet. Specify the Description parameter value. Specify the MaxTasks parameter value.
> Example 2. Adding New VMware Backup Proxy [Using Variable]

$server = Get-VBRServer -Name "VMware Local Server"
Add-VBRViProxy -Server $server -Description "Local Backup Proxy"
This example shows how to add a new VMware backup proxy. The description of the proxy is Local Backup Proxy. The max concurrent tasks number is set to 2 by default.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRViProxy cmdlet. Set the $server variable as the Server parameter value. Specify the Description parameter value.
> Example 3. Adding New VMware Backup Proxy with Virtual Appliance Transport Mode

$server = Get-VBRServer -Name "VMware Local Server"
Add-VBRViProxy -Server $server -Description "Local Backup Proxy" -TransportMode HotAdd -EnableFailoverToNBD:$false
This example shows how to add a new VMware backup proxy with the Virtual appliance transport mode. The failover to the network transport mode option is disabled.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRViProxy cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Specify the Description parameter value.
- Set the HotAdd option for the TransportMode parameter.
- Set the EnableFailoverToNBD parameter to $false.

---

### Parameters
#### **ConnectedDatastoreMode**
Specifies the mode a proxy will use to connect to datastores:
* Auto - Veeam Backup & Replication automatically detects all datastores that allow direct SAN or NFS connection.
* Manual - A backup proxy has a direct SAN or NFS connection to the datastores. Use the Datastore parameter to specify the allowed datastores.
Default: Auto.
Valid Values:

* Auto
* Manual

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRProxyConnectedDatastoreMode]`|false   |named   |False        |

#### **Datastore**
Specifies a list of datastores to which a backup proxy has a direct SAN or NFS connection.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRViDatastore[]]`|false   |named   |False        |

#### **Description**
Specifies the description of a VMware proxy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableFailoverToNBD**
Enables failover to the Network transport mode if a backup proxy fails to transport data using the Direct storage access or Virtual appliance transport mode.
Default: True.
Note: To disable this option, set the parameter value to $false. That is, parameter_name:$false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableHostToProxyEncryption**
Enables VM data transportation over an encrypted SSL connection in the Network transport mode.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MaxTasks**
Specifies the number of concurrent tasks that can be assigned to a proxy simultaneously.
Permitted values: 1-100.
Default: 2.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**
Specifies a server that will act as a VMware backup proxy.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

#### **TransportMode**
Specifies the transport mode used by a backup proxy:
* Auto: Use this option to set the automatic proxy selection mode.
* DirectStorageAccess: Use this option to set the direct storage access transport mode (Direct SAN access or Direct NFS access).
* HotAdd: Use this option to set the virtual appliance transport mode.
* Nbd: Use this option to set the network transport mode.
Default: Auto.
Valid Values:

* Auto
* DirectStorageAccess
* HotAdd
* Nbd

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRProxyTransportMode]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViProxy [-ConnectedDatastoreMode {Auto | Manual}] [-Datastore <VBRViDatastore[]>] [-Description <String>] [-EnableFailoverToNBD] [-EnableHostToProxyEncryption] 
```
```PowerShell
[-MaxTasks <Int32>] -Server <CHost> [-TransportMode {Auto | DirectStorageAccess | HotAdd | Nbd}] [<CommonParameters>]
```

Add-VBRViReplicaJob
-------------------

### Synopsis
Creates VMware replication jobs.

---

### Description

This cmdlet creates a new VMware replication job.
You can select a data source from which VM data must be read:
- Actual VM: Veeam Backup & Replication will copy an actual VM from production storage. The created replica will mirror an actual VM state.
Use the Entity parameter to indicate the VMs you want to replicate.
- Replica from backup files: Veeam Backup & Replication will build a replica from backup files stored in a backup repository. The created replica will be in the latest state the VM is available in backups.
Use the Entity parameter to indicate the VMs you want to replicate and the SourceRepository parameter to set the repository from where the backup files must be read.
When you create a replication job, you can configure the following additional settings:
- Storage policy profile: you can apply a particular VMware storage policy profile to virtual disks of the replica VM. Use the StoragePolicy parameter to set the profile.
- Network mapping: this option allows you to configure network mapping rules if the production site and DR site uses separate virtual networks. Use the EnableNetworkMapping parameter to enable the network mapping and the SourceNetwork and the TargetNetwork parameters to select the networks.
- Proxy servers: this options allow you to configure particular proxy servers for the data transfer. Use the SourceProxy and the TargetProxy parameters to set the proxies.
- WAN accelerators: this options allow you to use the built-in WAN accelerators to optimize the data transfer. Use the SourceWANAccelerator and the TargetWANAccelerator parameters to set the WAN accelerators. Note that WAN acceleration is available only in the Enterprise Plus, Veeam Universal License edition.
- Ri-IP rules: this option allows you to configure different IP addressing scheme for the production and the DR sites. You need to create an object containing the re-IP rules before hand by running the New-VBRViReplicaReIpRule cmdlet. Pass the created object to the ReIpRule parameter of this cmdlet.
Note that when you create a replica job, you need to run it manually unless you enable a job schedule.
Run the Start-VBRJob cmdlet to run the job manually.
Run the Set-VBRJobSchedule cmdlet to set schedule for the job and run it automatically.
Note: The cmdlet will not run if the geographic location of the VMs added to the job and the job target repository location do not match. If you still want to run the cmdlet, use the Force parameter.

---

### Examples
> Example 1

$server = Get-VBRServer -Name "DR Host"
$vm = Find-VBRViEntity -Server $server -Name "DC"
$pool = Find-VBRViResourcePool -Server "DR Host" -Name "ResourcePool_05"
$datastore = Find-VBRViDatastore -Server "DR Host" -Name "LocalStore"
Add-VBRViReplicaJob -Name "DC Replication Job" -Server $server -Entity $vm -ResourcePool $pool -Datastore $datastore -Suffix "_replicated"
This example shows how to create a replication job.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViEntity cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value. Save it to the $vm variable.
3. Run the Find-VBRViResourcePool cmdlet. Specify the Server and Name parameter values. Save it to the $pool variable.
4. Run the Find-VBRViDatastore cmdlet. Specify the Server and Name parameter values. Save it to the $datastore variable.
5. Run the Add-VBRViReplicaJob cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the $server variable as the Server parameter value.
- Set the $vm variable as the Entity parameter value.
- Set the $pool variable as the ResourcePool parameter value.
- Set the $datastore variable as the Datastore parameter value.
- Specify the Suffix parameter value.

---

### Parameters
#### **BackupRepository**
Specifies the backup repository that will be used to store replica metadata files.
Default: default backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **Datastore**
Specifies the datastore to which you want to replicate.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViDatastoreBase]`|false   |named   |False        |

#### **Description**
Specifies the description of the new job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DiskType**
Specifies the format that will be used to restore replica disk files:
* Source: the restored replica disks will be the same format as source.
* Thick: the restored replica disks will be thick.
* Thin: the restored replica disks will be thick.
Default: Source.
Valid Values:

* Source
* Thick
* Thin
* ThickEagerZeroed

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[EDiskCreationMode]`|false   |named   |False        |

#### **EnableNetworkMapping**
Enables the network mapping feature.
Use the SourceNetwork and the TargetNetwork parameters to set the network mapping rules.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Entity**
Specifies the array of  VMs you want to add to this job.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IViItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Folder**
Specifies the folder to which you want to replicate.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[CViFolderItem]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will create a job even if the geographic location of the VMs added to the job and the target host location do not match.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HighPriority**
Defines that Veeam Backup & Replication will prioritize this job higher than other similar jobs and will allocate resources to it in the first place.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Multitag**
Defines that the cmdlet will replicate tags.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the replication job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **OriginalVM**
For replica mapping.
Specifies a production VM you want to replicate using replica mapping.
The replication job will map this VM to a selected replica VM on the disaster recovery site.
Use the ReplicaVM parameter to specify the replica VM on the disaster recovery site.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **ReIpRule**
Specifies the re-IP rules.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[IViReIpRule[]]`|false   |named   |False        |

#### **ReplicaVM**
For replica mapping.
Specifies a VM on the disaster recovery site.
The cmdlet will map the production VM to this VM, and the replication job will replicate data to this VM.
Use the OriginalVM parameter to specify the production VM.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[CViVmItem[]]`|false   |named   |False        |

#### **RepositorySeed**
For replica seeding.
Specifies the backup repository where the seed (the full backup) resides.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **ResourcePool**
Specifies the resource pool to which you want to replicate.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CViResourcePoolItem]`|false   |named   |False        |

#### **RestorePointsToKeep**
Specifies the number of restore points you want to keep.
Permitted values: 1 to 28.
Default: 7.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**
Specifies the target VMware host where the created replica will be stored.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Object]`|true    |named   |False        |

#### **SourceNetwork**
For network mapping.
Specifies the array of production networks to which the VMs in the job are connected.
Note: The number of the source and the target networks must be the same.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **SourceProxy**
Specifies the source proxy that you want to assign to the job.
Default: automatic selection.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CViProxy[]]`|false   |named   |False        |

#### **SourceRepository**
For building replica from backup files.
Specifies the backup repository that will be used to read the VM data from the already existing backup chain.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **SourceWANAccelerator**
Specifies the WAN accelerator configured in the source site that will be used for data transfer.
Remember to set the pair of source and target WAN accelerators.
Default: Not set.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

#### **StoragePolicy**
Specifies the VMware storage policy profile that must be applied to the replica virtual disks.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViStoragePolicy]`|false   |named   |False        |

#### **Suffix**
Specifies the suffix that will be appended to the name of the VM you are replicating. This name will be used to register the replicated VM on the target server.
Default: "_replica".

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **TargetNetwork**
For network mapping.
Specifies the array of networks in the disaster recovery site. The replicated VMs will be connected to these networks.
Note: The number of the source and the target networks must be the same.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViNetworkInfo[]]`|false   |named   |False        |

#### **TargetProxy**
Specifies the target proxy that you want to assign to the job.
Default: automatic selection.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CViProxy[]]`|false   |named   |False        |

#### **TargetWANAccelerator**
Specifies the WAN accelerator configured in the target site that will be used for data transfer.
Remember to set the pair of source and target WAN accelerators.
Default: Not set.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CWanAccelerator]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Infrastructure.IViItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViReplicaJob [-BackupRepository <CBackupRepository>] [-Datastore <VBRViDatastoreBase>] [-Description <String>] [-DiskType {Source | Thick | Thin | ThickEagerZeroed}] 
```
```PowerShell
[-EnableNetworkMapping] -Entity <IViItem[]> [-Folder <CViFolderItem>] [-Force] [-HighPriority] [-Multitag] [-Name <String>] [-OriginalVM <CViVmItem[]>] [-ReIpRule 
```
```PowerShell
<IViReIpRule[]>] [-ReplicaVM <CViVmItem[]>] [-RepositorySeed <CBackupRepository>] [-ResourcePool <CViResourcePoolItem>] [-RestorePointsToKeep <Int32>] -Server <Object> 
```
```PowerShell
[-SourceNetwork <VBRViNetworkInfo[]>] [-SourceProxy <CViProxy[]>] [-SourceRepository <CBackupRepository[]>] [-SourceWANAccelerator <CWanAccelerator>] [-StoragePolicy 
```
```PowerShell
<VBRViStoragePolicy>] [-Suffix <String>] [-TargetNetwork <VBRViNetworkInfo[]>] [-TargetProxy <CViProxy[]>] [-TargetWANAccelerator <CWanAccelerator>] [<CommonParameters>]
```

Add-VBRViSimpleVirtualLab
-------------------------

### Synopsis
Creates a VMware basic virtual lab.

---

### Description

This cmdlet creates a VMware basic virtual lab.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViDatastore](Find-VBRViDatastore.md)

---

### Examples
> Example 1. Creating Basic Virtual Lab

$ESXi = Get-VBRServer -Name "esx09.tech.local"
Add-VBRViSimpleVirtualLab -Server $ESXi -Name "Exchange Lab" -Description "Virtual Lab for Exchange VMs"
This example shows how to create a basic virtual lab with default settings. The cmdlet will create the virtual lab on the esx09.tech.local ESXi host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $ESXi variable.
2. Run the Add-VBRViSimpleVirtualLab cmdlet. Set the $ESXi variable as the Server parameter value. Specify the Name parameter value. Specify the Description parameter value.
> Example 2. Creating Virtual Lab with Custom Datastore

$ESXi = Get-VBRServer -Name "esx09.tech.local"
$datastore = Find-VBRViDatastore -Server $ESXi -Name "esx09-das6"
Add-VBRViSimpleVirtualLab -Server $ESXi -Name "SQL Database Lab" -Description "Virtual Lab for SQL Databases" -DesignatedResourcePoolName "SQL test" -DesignatedVMFolderName "SQL" -CacheDatastore $datastore
This example shows how to create a basic virtual lab with a custom datastore. The virtual lab will be created with the following settings:
- Veeam Backup & Replication will keep redo logs on the esx09-das6 datastore.
- The virtual lab will be located on the SQL test resource pool with the SQL folder.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $ESXi variable.
2. Run the Find-VBRViDatastore cmdlet. Set the $ESXi variable as the Server parameter value. Specify the Name parameter value. Save the result to the $datastore variable.
3. Run the Add-VBRViSimpleVirtualLab cmdlet. Specify the following settings:
- Set the $ESXi variable as the Server parameter value.
- Specify the Name parameter value.
- Specify the Description parameter value.
- Specify the DesignatedResourcePoolName parameter value.
- Specify the DesignatedVMFolderName parameter value.
- Set the $datastore variable as the CacheDatastore parameter value.

---

### Parameters
#### **CacheDatastore**
Specifies a datastore to keep redo logs for verified VMs.
Note: If you do not specify this parameter, Veeam Backup & Replication will store redo logs on the vPower NFS server.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRViDatastore]`|false   |named   |False        |

#### **Description**
Specifies a description. The cmdlet will create a virtual lab with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DesignatedResourcePoolName**
Specifies a name of a resource pool. The cmdlet will create the resource pool with the specified name on the ESXi host.
Default: Same name as the virtual lab.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DesignatedVMFolderName**
Specifies a name of the dedicated folder. The cmdlet will create the folder in a resource pool with the specified name.
Default: Same name as the virtual lab.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies a name. The cmdlet will create a virtual lab with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ProxyAppliance**
Specifies a proxy appliance. The cmdlet will add this proxy appliance to a virtual lab.

|Type                             |Required|Position|PipelineInput|
|---------------------------------|--------|--------|-------------|
|`[VBRViVirtualLabProxyAppliance]`|false   |named   |False        |

#### **Server**
Specifies an ESXi host. The cmdlet will create a virtual lab on this host.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViSimpleVirtualLab [-CacheDatastore <VBRViDatastore>] [-Description <String>] [-DesignatedResourcePoolName <String>] [-DesignatedVMFolderName <String>] [-Name 
```
```PowerShell
<String>] [-ProxyAppliance <VBRViVirtualLabProxyAppliance>] -Server <CHost> [<CommonParameters>]
```

Add-VBRViSureBackupJob
----------------------

### Synopsis
Creates SureBackup jobs.

---

### Description

This cmdlet creates SureBackup jobs.

---

### Related Links
* [Get-VBRVirtualLab](Get-VBRVirtualLab.md)

* [Get-VBRApplicationGroup](Get-VBRApplicationGroup.md)

* [New-VBRSureBackupJobVerificationOptions](New-VBRSureBackupJobVerificationOptions.md)

* [New-VBRSureBackupJobScheduleOptions](New-VBRSureBackupJobScheduleOptions.md)

---

### Examples
> Example 1. Adding SureBackup Job

$lab = Get-VBRVirtualLab -Name "Virtual Lab 2"
Add-VBRViSureBackupJob -VirtualLab $lab -Name "Verification Job01" -Description "SureBackup Job for DNS"
This example shows how to create a SureBackup job.

Perform the following steps:

1. Run the Get-VBRVirtualLab cmdlet. Specify the Name parameter value. Save the result to the $lab variable.   2. Run the Add-VBRViSureBackupJob cmdlet. Specify the following settings:      o Set the $lab variable as the VirtualLab parameter value.      o Specify the Name parameter value.      o Specify the Description parameter value.
> Example 2. Adding SureBackup Job with Application Group

$lab = Get-VBRVirtualLab -Name "Virtual Lab 2"
$group = Get-VBRApplicationGroup -Name "Exchange Lab"
Add-VBRViSureBackupJob -VirtualLab $lab -ApplicationGroup $group -KeepApplicationGroupRunning
This example shows how to create a SureBackup job that will use the Exchange Group 3 application group for recovery verification. Veeam Backup & Replication will keep VMs from an application group running after the SureBackup job finishes.

Perform the following steps:

1. Run the Get-VBRVirtualLab cmdlet. Specify the Name parameter value. Save the result to the $lab variable.   2. Run the Get-VBRApplicationGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.   3. Run the Add-VBRViSureBackupJob cmdlet. Specify the following settings:      o Set the $lab variable as the VirtualLab parameter value.      o Specify the $group variable as the ApplicationGroup parameter value.      o Specify the KeepApplicationGroupRunning parameter.
> Example 3. Adding SureBackup Job with Recovery Verification Options

$lab = Get-VBRVirtualLab -Name "Virtual Lab 2"
$options = New-VBRSureBackupJobVerificationOptions
Add-VBRViSureBackupJob -VirtualLab $lab -VerificationOptions $options
This example shows how to create a SureBackup job with recovery verification options.

Perform the following steps:

1. Run the Get-VBRVirtualLab cmdlet. Specify the Name parameter value. Save the result to the $lab variable.   2. Run the New-VBRSureBackupJobVerificationOptions cmdlet. Specify the necessary parameters. Save the result to the $options variable.   3. Run the Add-VBRViSureBackupJob cmdlet. Specify the following settings:      o Set the $lab variable as the VirtualLab parameter value.      o Specify the $options variable as the VerificationOptions parameter value.
> Example 4. Adding SureBackup Job with Schedule Settings

$lab = Get-VBRVirtualLab -Name "Virtual Lab 2"
$schedule = New-VBRSureBackupJobScheduleOptions
Add-VBRViSureBackupJob -VirtualLab $lab -ScheduleOptions $schedule
This example shows how to create a scheduled SureBackup job.

Perform the following steps:

1. Run the Get-VBRVirtualLab cmdlet. Specify the Name parameter value. Save the result to the $lab variable.   2. Run the New-VBRSureBackupJobScheduleOptions cmdlet. Save the result to the $schedule variable.   3. Run the Add-VBRViSureBackupJob cmdlet. Set the $lab variable as the VirtualLab parameter value. Set the $schedule variable as the ScheduleOptions parameter value.

---

### Parameters
#### **ApplicationGroup**
Specifies a description for a SureBackup job. The cmdlet will create a SureBackup job with this description.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRApplicationGroup]`|false   |named   |False        |

#### **Description**
Specifies a description for a SureBackup job. The cmdlet will create a SureBackup job with this description.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will not show any warnings.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **KeepApplicationGroupRunning**
Defines that VMs from an application group will run after the SureBackup job finishes. If you provide this parameter, the application group will not be powered off when the SureBackup job finishes. Otherwise, the application group will be powered off.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LinkedJob**
Defines that VMs from an application group will run after the SureBackup job finishes. If you provide this parameter, the application group will not be powered off when the SureBackup job finishes. Otherwise, the application group will be powered off.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRSureBackupLinkedJob[]]`|false   |named   |False        |

#### **MaxConcurrentVMs**
Specifies the maximum number of VMs that can be started at the same time.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies a name for a SureBackup job. The cmdlet will create a SureBackup job with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ScheduleOptions**
Specifies schedule settings of a SureBackup job. Veeam Backup & Replication will run the job according to these settings. Accepts the VBRSureBackupJobScheduleOptions object. To create this object, run the New-VBRSureBackupJobScheduleOptions cmdlet.

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRSureBackupJobScheduleOptions]`|false   |named   |False        |

#### **VerificationOptions**
Specifies additional settings for the SureBackup job Accepts the VBRSureBackupJobVerificationOptions object. To create this object, run the New-VBRSureBackupJobVerificationOptions cmdlet.

|Type                                   |Required|Position|PipelineInput|
|---------------------------------------|--------|--------|-------------|
|`[VBRSureBackupJobVerificationOptions]`|false   |named   |False        |

#### **VirtualLab**
Specifies a virtual lab. The cmdlet will use this virtual lab to verify VMs. Accepts the VBRVirtualLab object. To create this object, run the Get-VBRVirtualLab cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRVirtualLab]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRViSureBackupJob [-ApplicationGroup <VBRApplicationGroup>] [-Description <String>] [-Force] [-KeepApplicationGroupRunning] [-LinkedJob <VBRSureBackupLinkedJob[]>] 
```
```PowerShell
[-MaxConcurrentVMs <Int32>] [-Name <String>] [-ScheduleOptions <VBRSureBackupJobScheduleOptions>] [-VerificationOptions <VBRSureBackupJobVerificationOptions>] [-VirtualLab 
```
```PowerShell
<VBRVirtualLab>] [<CommonParameters>]
```

Add-VBRVMExclusion
------------------

### Synopsis
Adds VMs to global VM exclusions.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet adds VMs to global VM exclusions. Veeam Backup & Replication stops processing such VMs even if they are included in jobs.
Note: Global VM exclusion applies only to jobs where the sources are production VMs.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Excluding VMware vSphere VM from Processing

$vm = Find-VBRViEntity -VMsAndTemplates -Name "ubuntu88"        
Add-VBRVMExclusion -Entity $vm
This example shows how to exclude the ubuntu88 VMware vSphere VM from processing.
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Provide the VMsAndTemplates parameter. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Add-VBRVMExclusion cmdlet. Set the $vm variable as the Entity parameter value.

---

### Parameters
#### **Entity**
Specifies the VMs which you want to exclude from processing.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[Object[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **Note**
Specifies a note why the VM is excluded from processing.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Object[]

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRVMExclusion [-Entity] <Object[]> [-Note <String>] [<CommonParameters>]
```

Add-VBRWANAccelerator
---------------------

### Synopsis
Creates a new WAN accelerator.

---

### Description

This cmdlet creates a new WAN accelerator.
WAN accelerator is an architecture component that optimizes file transfer via WAN by means of data deduplication. The role of a WAN accelerator can be assigned to a dedicated Windows-based machine (physical or virtual). For best performance you should set a WAN accelerator on both source and target sides.

---

### Examples
> Example

Get-VBRLocalhost | Add-VBRWANAccelerator -Description "WAN Accelerator 01" -CachePath "c:\WAN" -CacheSize 100 -CacheSizeUnit GB
This example shows how to create a new WAN accelerator on the Veeam backup server.

Perform the following steps:
1. Run the Get-VBRLocalhost cmdlet.
2. Pipe the cmdlet output to the Add-VBRWANAccelerator cmdlet. Specify the following settings:
- Specify the Description parameter value.
- Specify the CachePath parameter value.
- Specify the CacheSize and the CacheSizeUnit parameter values.
> Example 2

$server = Get-VBRServer -Name "server01.tech.global"
Add-VBRWANAccelerator -Server $server -Description "WAN Accelerator 02" -CachePath "c:\WAN" -CacheSize 150 -CacheSizeUnit GB
This command creates a new WAN accelerator using variables.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Add-VBRWANAccelerator cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Specify the Description parameter value.
- Specify the CachePath parameter value.
- Specify the CacheSize and the CacheSizeUnit parameter values.

---

### Parameters
#### **CachePath**
Specifies the path to the folder where WAN accelerator will be created.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **CacheSize**
Specifies the cache folder capacity value.
Permitted values: 1 to 65535.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[UInt32]`|false   |named   |False        |

#### **CacheSizeUnit**
Specifies the measure unit for the cache folder capacity.
Permitted values: GB or TB.
Valid Values:

* B
* KB
* MB
* GB
* TB
* PB

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[ESizeUnit]`|false   |named   |False        |

#### **Description**
Specifies the description of the WAN accelerator.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableHighBandwidthMode**
Enables the High bandwidth mode option.
For more information on the option, see the Choose Server step of the Adding WAN Accelerators wizard in the Veeam Backup & Replication User Guide.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Server**
Specifies the server where WAN accelerator will be created.
Please note that you can create WAN accelerator on Microsoft Windows servers only.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes
WAN optimization is available only in Veeam Backup & Replication Enterprise Plus Edition.

---

### Syntax
```PowerShell
Add-VBRWANAccelerator [-CachePath <String>] [-CacheSize <UInt32>] [-CacheSizeUnit {B | KB | MB | GB | TB | PB}] [-Description <String>] [-EnableHighBandwidthMode] -Server 
```
```PowerShell
<CHost> [<CommonParameters>]
```

Add-VBRWinServer
----------------

### Synopsis
Adds Windows server to the backup infrastructure.

---

### Description

This cmdlet adds a Windows server to the backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1. Adding New Windows Server Using User Name and Password

```PowerShell
Add-VBRWinServer -Name "WinServer" -User "Administrator" -Password "qwerty" -Description "Windows File Server"
This command adds a new Windows server named WinServer with the Administrator user name and the qwerty password of the account. The description is Windows File Server.
```
> Example 2. Adding New Windows Server Using Credentials

$Administrator = Get-VBRCredentials
Add-VBRWinServer -Name "WinServer" -Credentials $Administrator -Description "Windows File Server"
This command adds a new Windows server named WinServer using credentials. The description is Windows File Server.
Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Save the result to the $Administrator variable. 2. Run the Add-VBRWinServer cmdlet. Specify the Name parameter value. Set the $Administrator variable as the Credentials parameter value. Specify the Description parameter value.

---

### Parameters
#### **Credentials**
Specifies the credentials you want to use for authenticating with the Windows server.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|true    |named   |False        |

#### **Description**
Specifies the description of the Windows server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the DNS name of the Windows server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the Windows server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the Windows server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VBRWinServer -Credentials <CCredentials> [-Description <String>] -Name <String> [<CommonParameters>]
```
```PowerShell
Add-VBRWinServer [-Description <String>] -Name <String> -Password <String> -User <String> [<CommonParameters>]
```

Add-VNXHost
-----------

### Synopsis
Adds Dell VNX storage systems to Veeam Backup & Replication.

---

### Description

This cmdlet adds selected Dell VNX storage systems to backup infrastructure.
When you add storage systems to your backup infrastructure, Veeam Backup & Replication performs a rescan of storage systems. During the rescan Veeam Backup & Replication retrieves information about the storage system topology and adds storage volumes to the backup infrastructure.
For more information about the rescan, see the Adding Storage Systems section of the User Guide for VMware vSphere.

TIP: Use the SkipRescan parameter to skip the automatic rescan.
To rescan storage systems manually, use the following cmdlets:
- Run the Sync-VNXHost cmdlet to rescan of the entire storage system.
- Run the Sync-VNXVolume cmdlet to rescan selected Dell VNX volumes added to backup infrastructure.

---

### Related Links
* [Get-VBRCredentials](Get-VBRCredentials.md)

* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1

$credentials = Get-VBRCredentials -Name "VNX Administrator"
$proxy = Get-VBRViProxy -Name 172.16.53.5
Add-VNXHost -Name 172.16.21.105 -Type VNXe -Credentials $credentials -Proxy $proxy -iSCSI
This example shows how to add a Dell VNX storage system to the backup infrastructure using credentials.

Perform the following steps:
1. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
2. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
3. Run the Add-VNXHost cmdlet. Specify the following settings:
- Specify the Name parameter value.
- Set the VNXe option for the Type parameter.
- Set the $credentials variable as the Credentials parameter value.
- Set the $proxy variable as the Proxy parameter value.
- Provide the iSCSI parameter.

---

### Parameters
#### **AgentFC**
For the EnableAgentBackup parameter.
Defines that the storage works over the FC protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentISCSI**
For the EnableAgentBackup parameter.
Defines that the storage works over the iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **AgentProxy**
For the EnableAgentBackup parameter.
Specifies an array of proxies you want to use with this storage.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRComputerFileProxyServer[]]`|false   |named   |False        |

#### **Credentials**
Specifies the credentials you want to use for authenticating with the storage.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[CInternalCredentials]`|true    |named   |False        |

#### **CredentialsScope**
Used to authenticate with the VNXBlock. Specifies the credentials scope: Global, Local, LDAP.
Valid Values:

* Global
* Local
* LDAP

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRVNXBlockCredentialsScope]`|false   |named   |False        |

#### **Description**
Specifies the description of the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **EnableAgentBackup**
Enables the Veeam Agent backup option.
If you provide this parameter, you will be able to integrate your storage systems with Veeam Agent for Microsoft Windows installed on computers in your infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableVMwareBackup**
Enables the VMware backup option.
If you provide this parameter, you will be able to use storage snapshots to backup and restore VMware vSphere VMs hosted on storage systems.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FibreChannel**
For the EnableVMwareBackup parameter.
Defines that the storage works over FibreChannel protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will add a Dell VNX storage system without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **iSCSI**
For the EnableVMwareBackup parameter.
Defines that the storage works over iSCSI protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MountServer**
Specifies the mount server that you want to use to work with this storage.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **Name**
Specifies the storage IP address or DNS name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **NFS**
For the EnableVMwareBackup parameter.
Defines that the storage works over NFS protocol.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Proxy**
For the EnableVMwareBackup parameter.
Specifies the array of proxies you want to use with this storage.
If set, Veeam Backup & Replication will use the selected proxies. If not set, Veeam Backup & Replication will use automatic proxy selection.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[IProxy[]]`|false   |named   |False        |

#### **SkipRescan**
Defines that the cmdlet will not start the storage rescan automatically after you add storage systems to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Type**
Specifies the type of the VNX storage: VNXFile, VNXBlock, VNXe, Unity.
Valid Values:

* VNXFile
* VNXBlock
* VNXe
* Unity

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRVNXHostType]`|true    |named   |False        |

#### **UserName**
Specifies the user name that you want to use for authenticating with the storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VNXHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] -Credentials <CInternalCredentials> [-CredentialsScope {Global | Local | LDAP}] 
```
```PowerShell
[-Description <String>] [-EnableAgentBackup] [-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] [-Name <String>] [-NFS] [-Proxy <IProxy[]>] 
```
```PowerShell
[-SkipRescan] -Type {VNXFile | VNXBlock | VNXe | Unity} [<CommonParameters>]
```
```PowerShell
Add-VNXHost [-AgentFC] [-AgentISCSI] [-AgentProxy <VBRComputerFileProxyServer[]>] [-CredentialsScope {Global | Local | LDAP}] [-Description <String>] [-EnableAgentBackup] 
```
```PowerShell
[-EnableVMwareBackup] [-FibreChannel] [-Force] [-iSCSI] [-MountServer <CHost>] [-Name <String>] [-NFS] -Password <String> [-Proxy <IProxy[]>] [-SkipRescan] -Type {VNXFile | 
```
```PowerShell
VNXBlock | VNXe | Unity} -UserName <String> [<CommonParameters>]
```

Add-VNXSnapshot
---------------

### Synopsis
Creates Dell VNX storage snapshots.

---

### Description

This cmdlet creates a snapshot of a selected Dell VNX storage volume.

---

### Examples
> Example 1

$storage = Get-VNXHost -Name "VNX Storage"
$volume = Get-VNXVolume -Name "VOLUME1" -Host $storage
Add-VNXSnapshot -Volume $volume -Name "Snapshot01"
This example shows how to create a volume snapshot.
Perform the following steps:
1. Run Get-VNXHost to get the storage. Save the result to the $storage variable.
2. Run Get-VNXVolume with the $storage variable to get the storage volume. Save the result to the $volume variable.
3. Run Add-VNXSnapshot with the $volume variable.

---

### Parameters
#### **Name**
Specifies the name you want to assign to the snapshot.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Volume**
Specifies the storage volume for which you want to take snapshot.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSanVolume]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VNXSnapshot [-Name <String>] -Volume <CSanVolume> [<CommonParameters>]
```

Add-VSBApplicationGroup
-----------------------

### Synopsis
Creates a VMware application group for SureBackup job.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |0       |False        |

#### **RestorePoint**

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[COib[]]`|true    |1       |True (ByPropertyName, ByValue)|

#### **Vm**

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CVm[]]`|true    |1       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.ViSoap.CVm[]

Veeam.Backup.Core.COib[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VSBApplicationGroup [-Name] <String> [-RestorePoint] <COib[]> [<CommonParameters>]
```
```PowerShell
Add-VSBApplicationGroup [-Name] <String> [-Vm] <CVm[]> [<CommonParameters>]
```

Add-VSBHvApplicationGroup
-------------------------

### Synopsis
Creates a Hyper-V application group for SureBackup job.

---

### Description

This cmdlet creates a new Hyper-V application group.

Application groups are created to set a list of VMs that should be running together during the verification. It is used with VMs that are dependent on services running on other VMs, such as a domain controller or a DNS server. The VMs in the application group are started first to ensure the proper testing environment.

Keep in mind that all VMs from the application group must belong to the same platform - VMware or Hyper-V, and must have at least one valid restore point created by the time the SureBackup job starts.

The created application group can be reused by several SureBackup jobs.

This cmdlet provides two scenarios. You can add VMs to your application group either by searching for existing VMs or by adding a restore point containing the VMs you need.

Note that you can set the order the VMs in the application group will be powered on when the SureBackup job starts. This may be important if any of the applications must be started prior to other. The VMs are powered in the order they were added to the VM object in this cmdlet, i.e. in order you searched for VMs with Find-VBRHvEntity.

---

### Examples
> Example 1

```PowerShell
Find-VBRHvEntity -Name "DC", "DNSServer" | Add-VSBHvApplicationGroup -Name "Microsoft Exchange Appgroup"
This command creates a new application group named "Microsoft Exchange Appgroup".The VMs that should be included into the application group are obtained with Find-VBRHvEntity and piped down. The VMs are obtained in the order they must boot when the SureBackup job starts.
```
> Example 2

```PowerShell
Add-VSBHvApplicationGroup -Name "MailServer Appgroup" -RestorePoint $restorepoint
This command creates a new application group "MailServer Appgroup". The restore point object is obtained with Get-VBRRestorePoint and assigned to the variable beforehand.
```

---

### Parameters
#### **Name**
Specifies the name you want to assign to the application group.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **RestorePoint**
Specifies the restore points of the VMs you want to add to the application group. You can assign multiple restore points to this object.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[COib[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **VmFromBackup**
Specifies the VM(s) you want to add to the application group. You can assign multiple VMs to this object.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CHvVmItem[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.HyperV.Infrastructure.CHvVmItem[]

Veeam.Backup.Core.COib[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VSBHvApplicationGroup [-Name <String>] [-RestorePoint <COib[]>] [-VmFromBackup <CHvVmItem[]>] [<CommonParameters>]
```

Add-VSBHvJob
------------

### Synopsis
Creates a Hyper-V SureBackup job.

---

### Description

This cmdlet adds a new Hyper-V SureBackup job.

You can use a linked job to bring the target VM(s) to the job, or an application group containing the required VMs, or a combination of both according to your virtual infrastructure objectives.

Note that when you create a SureBackup job, you need to run it manually unless you enable a job schedule.

Run Start-VSBJob to start the created SureBackup job. Run Set-VSBJobScheduleOptions to set schedule for the SureBackup job.

---

### Examples
> Example 1

Get-VBRJob -Name "Exchange Backup Job" | Add-VSBHvJob -Name "Exchange SureJob" -VirtualLab $VLab01 -AppGroup $"Exchange Appgroup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab, an application group and a linked job.

- The VM to verify is obtained by searching for the backup job named "Exchange Backup Job" with Get-VBRJob, and piped down.

- The virtual lab and the application group objects are obtained with Get-VSBHvVirtualLab and Get-VSBApplicationGroup and assigned to $VLab01 and $"Exchange Appgroup" variables accordingly beforehand.
> Example 2

```PowerShell
Add-VSBHvJob -Name "Exchange SureJob" -VirtualLab $VLab01 -AppGroup $"Exchange Appgroup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab, an application group and a linked job.

The virtual lab and application group objects are obtained with Get-VSBHvVirtualLab and Get-VSBApplicationGroup and assigned to $VLab01 and $"Exchange Appgroup" variables accordingly beforehand.
```
> Example 3

Get-VSBHvVirtualLab -Name "Exchange VLab 01" | Add-VSBHvJob -Name "Exchange SureJob" -AppGroup $"Exchange Appgroup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab and an application group.

- The virtual lab object is obtained with Get-VSBHvVirtualLab and piped down.

- The VM to verify is included into the application group, the application group object is obtained with Get-VSBApplicationGroup and assigned to the $"Exchange Appgroup" variable beforehand.
> Example 4

Add-VSBHvJob -Name "Exchange SureJob" -VirtualLab $VLab01 -LinkedJob $"Exchange Backup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab and a linked job.

- The virtual lab object is obtained with Get-VSBHvVirtualLab and assigned to $VLab01 variable beforehand.

- The VM to verify is obtained with Get-VBRJob and assigned to the $"Exchange Backup" variable beforehand.

---

### Parameters
#### **AppGroup**
Specifies the application group you want to use to provide the copy of the production environment of the verified VM.  If you do not use an application group, make sure that the -LinkedJob parameter is set.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CSbAppGroup]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies the description of the new SureBackup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **LinkedJob**
Specifies the backup, replication or copy job containing the VM you want to verify. If you do not use a linked backup job, make sure that the -AppGroup parameter is set. You can assign multiple backup jobs to this object.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the name you want to assign to the SureBackup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **VirtualLab**
Specifies the virtual lab you want to use for verification.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[CHvSbVirtualLab]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.HyperV.VirtualLab.CHvSbVirtualLab

Veeam.Backup.Core.SureBackup.CSbAppGroup

Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VSBHvJob [-AppGroup <CSbAppGroup>] [-Description <String>] [-LinkedJob <CBackupJob[]>] [-Name <String>] [-VirtualLab <CHvSbVirtualLab>] [<CommonParameters>]
```

Add-VSBHvVirtualLab
-------------------

### Synopsis
Creates a Hyper-V virtual lab.

---

### Description

This cmdlet creates a new Hyper-V virtual lab.

A virtual lab is a component of SureBackup technology that allows you to configure a model of your production environment in a fenced-off lab.

One virtual lab can be used by several SureBackup jobs.

With Veeam PowerShell, you can create a basic virtual lab with automatically configured settings. The network settings for the virtual lab will be used the same as configured for the Veeam Backup server.

---

### Examples
> Example 1

```PowerShell
Add-VSBHvVirtualLab -Name "Exchange VLab 01" -Server $server -Folder "c:\VirtualLabs"
This command creates a new virtual lab named "Exchange VLab 01". The server where the virtual lab will be located is obtained with Get-VBRServer and assigned to the $server variable beforehand. The folder path to store the redo files is c:\VirtualLabs.
```

---

### Parameters
#### **Folder**
Specifies the path to the folder where the redo log files of the virtual lab will be stored.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the name you want to assign to the virtual lab.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Server**
Specifies the Hyper-V host where the virtual lab should be created.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VSBHvVirtualLab [-Folder <String>] [-Name <String>] [-Server <CHost>] [<CommonParameters>]
```

Add-VSBJob
----------

### Synopsis
Creates a VMware SureBackup job.

---

### Description

This cmdlet creates a new VMware SureBackup job.

To add VMs that you want to verify to the SureBackup job, you can use an application group containing the list of VMs, or link a backup job which will act as a VM container.

Note that if you link a backup job, the SureBackup job will verify all VMs added to the linked job.

When you create a SureBackup job, you need to run it manually unless you enable a job schedule.

Run Start-VSBJob to start the created SureBackup job. Run Set-VSBJobScheduleOptions to set schedule for the SureBackup job.

---

### Examples
> Example 1

Get-VBRJob -Name "Exchange Backup Job" | Add-VSBJob -Name "Exchange SureJob" -VirtualLab $VLab01 -AppGroup $"Exchange Appgroup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab, an application group and a linked job.

- The VM to verify is obtained by searching for the backup job named "Exchange Backup Job" with Get-VBRJob, and piped down.

- The virtual lab and the application group objects are obtained with Get-VSBVirtualLab and Get-VSBApplicationGroup and assigned to $VLab01 and $"Exchange Appgroup" variables accordingly beforehand.
> Example 2

```PowerShell
Add-VSBJob -Name "Exchange SureJob" -VirtualLab $VLab01 -AppGroup $"Exchange Appgroup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab, an application group and a linked job.

The virtual lab and application group objects are obtained with Get-VSBVirtualLab and Get-VSBApplicationGroup and assigned to $VLab01 and $"Exchange Appgroup" variables accordingly beforehand.
```
> Example 3

Get-VSBVirtualLab -Name "Exchange VLab 01" | Add-VSBJob -Name "Exchange SureJob" -AppGroup $"Exchange Appgroup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab and an application group.

- The virtual lab object is obtained with Get-VSBVirtualLab and piped down.

- The VM to verify is included into the application group, the application group object is obtained with Get-VSBApplicationGroup and assigned to the $"Exchange Appgroup" variable beforehand.
> Example 4

Add-VSBJob -Name "Exchange SureJob" -VirtualLab $VLab01 -LinkedJob $"Exchange Backup"
This command creates a new Sure Backup job named "Exchange SureJob" using a virtual lab and a linked job.

- The virtual lab object is obtained with Get-VSBVirtualLab and assigned to $VLab01 variable beforehand.

- The VM to verify is obtained with Get-VBRJob and assigned to the $"Exchange Backup" variable beforehand.

---

### Parameters
#### **AppGroup**
Specifies the application group you want to use to provide the copy of the production environment of the verified VM.  If you do not use an application group, make sure that the -LinkedJob parameter is set.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CSbAppGroup]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Description**
Specifies the description of the new SureBackup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **LinkedJob**
Specifies the backup, replication or copy job containing the VM you want to verify. If you do not use a linked backup job, make sure that the -AppGroup parameter is set. You can assign multiple backup jobs to this object.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the name you want to assign to the SureBackup job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |0       |False        |

#### **VirtualLab**
Specifies the virtual lab you want to use for verification.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[CViSbVirtualLab]`|false   |1       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CViSbVirtualLab

Veeam.Backup.Core.SureBackup.CSbAppGroup

Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VSBJob [[-Name] <String>] [[-VirtualLab] <CViSbVirtualLab>] [-AppGroup <CSbAppGroup>] [-Description <String>] [-LinkedJob <CBackupJob[]>] [<CommonParameters>]
```

Add-VSBViApplicationGroup
-------------------------

### Synopsis
Creates an application group for SureBackup job.

---

### Description

Application groups are created to set a list of VMs that should be running together during the verification. It is used with VMs that are dependent on services running on other VMs, such as a domain controller or a DNS server. The VMs in the application group are started first to ensure the proper testing environment.

Keep in mind that all VMs from the application group must belong to the same platform - VMware or Hyper-V, and must have at least one valid restore point created by the time the SureBackup job starts.

The created application group can be reused by several SureBackup jobs.

This cmdlet provides two scenarios. You can add VMs to your application group either by searching for existing VMs or by adding a restore point containing the VMs you need.

Note that you can set the order the VMs in the application group will be powered on when the SureBackup job starts. This may be important if any of the applications must be started prior to other. The VMs are powered in the order they were added to the VM object in this cmdlet, i.e. in order you searched for VMs with Find-VBRViEntity.

---

### Examples
> Example 1

```PowerShell
Find-VBRViEntity -Name "DC", "DNSServer" | Add-VSBHvApplicationGroup -Name "Microsoft Exchange Appgroup"
This command creates a new application group named "Microsoft Exchange Appgroup". The VMs that should be included into the application group are obtained with Find-VBRViEntity and piped down. The VMs are obtained in the order they must boot when the SureBackup job starts.
```
> Example 2

```PowerShell
Add-VSBViApplicationGroup -Name "MailServer Appgroup" -RestorePoint $restorepoint
This command creates a new application group "MailServer Appgroup". The restore point object is obtained with Get-VBRRestorePoint and assigned to the variable beforehand.
```

---

### Parameters
#### **Name**
Specifies the name you want to assign to the application group.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **RestorePoint**
Specifies the restore points of the VMs you want to add to the application group.  You can assign multiple restore points to this object.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[COib[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **VmFromBackup**
Used for adding VMs from backup. Specifies the VM(s) that you want to add to the application group. Veeam Backup & Replication will search for backup jobs that contain the specified VMs and use the most recent restore points of them. You can assign multiple VMs to this object.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CViVmItem[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **VmFromReplica**
Used for adding VMs from replicas. Specifies the VM(s) that you want to add to the application group. Veeam Backup & Replication will search for replication  jobs that contain the specified VMs and use the most recent restore points of them. You can assign multiple VMs to this object.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CViVmItem[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Infrastructure.CViVmItem[]

Veeam.Backup.Core.COib[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VSBViApplicationGroup [-Name <String>] [-RestorePoint <COib[]>] [-VmFromBackup <CViVmItem[]>] [-VmFromReplica <CViVmItem[]>] [<CommonParameters>]
```

Add-VSBVirtualLab
-----------------

### Synopsis
Creates a VMware virtual lab.

---

### Description

This cmdlet creates a new VMware virtual lab.

A virtual lab is a component of SureBackup technology that allows you to configure a model of your production environment in a fenced-off lab.

One virtual lab can be used by several SureBackup jobs.

With Veeam PowerShell, you can create a basic virtual lab with automatically configured settings. The network settings for the virtual lab will be used the same as configured for the Veeam Backup server.

---

### Examples
> Example 1

```PowerShell
Add-VSBVirtualLab -Name "Exchange VLab 01" -Server $server -Datastore $datastore
This command creates a new virtual lab named "Exchange VLab 01". The server where the virtual lab will be located is obtained with Get-VBRServer and assigned to the $server variable beforehand. The datastore to store the redo files is obtained with Find-VBRViDatastore and assigned to the $datastore variable beforehand.
```

---

### Parameters
#### **Datastore**
Specifies the datastore on which redo logs for tested VMs should be stored.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[CViDatastoreItem]`|false   |2       |False        |

#### **Name**
Specifies the string with the name you want to assign to the virtual lab.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |0       |False        |

#### **ProductionNetwork**
Specifies the virtual switch connected to the production network. Accepts VBRViVirtualSwitch object.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViVirtualSwitch]`|false   |named   |False        |

#### **Server**
Specifies the ESX(i) host where the virtual lab should be created.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |1       |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Add-VSBVirtualLab [[-Name] <String>] [[-Server] <CHost>] [[-Datastore] <CViDatastoreItem>] [-ProductionNetwork <VBRViVirtualSwitch>] [<CommonParameters>]
```

Apply-VBRIndependentRetention
-----------------------------

### Synopsis
Performs background retention for backups.

---

### Description

This cmdlet performs background retention for backups.
The Apply-VBRBackgroundRetention cmdlet is an alias for the Apply-VBRIndependentRetention cmdlet.

---

### Examples
> Performing Background Retention for Backups

```PowerShell
Apply-VBRIndependentRetention
This command performs background retention for backups.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Apply-VBRIndependentRetention [<CommonParameters>]
```

Apply-VBRLocation
-----------------

### Synopsis
Assigns geographic locations to the backup infrastructure components.

---

### Description

This cmdlet assigns geographic locations to the backup infrastructure components.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Get-VBRLocation](Get-VBRLocation.md)

---

### Examples
> Assigning Location to Backup Repository and ESXI Host

$rep = Get-VBRBackupRepository -Name "North Repository"
$esxi = Find-VBRViEntity -Name team.support.north
$loc = Get-VBRLocation -Name "ABC North"
Apply-VBRLocation -Objects $esxi, $rep -Location $loc
This example shows how to assign a selected location to a backup repository and an ESXi host.
Perform the following steps:
1. Get the infrastructure components to which you want to assign a location:
- Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $rep variable.
- Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $esxi variable.
2. Run the Get-VBRLocation cmdlet. Specify the Name parameter value. Save the result to the $loc variable.
3. Run the Apply-VBRLocation cmdlet. Set the $esxi and the $rep variables as the Objects parameter values. Set the $loc variable as the Location parameter value.

---

### Parameters
#### **Location**
Specifies the location you want to assign to the infrastructure components.

|Type           |Required|Position|PipelineInput        |
|---------------|--------|--------|---------------------|
|`[VBRLocation]`|true    |named   |True (ByPropertyName)|

#### **Object**
Specifies the array of the infrastructure components. The cmdlet will assign a location to these components.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[Object[]]`|true    |named   |True (ByPropertyName)|

---

### Inputs
System.Object[]

Veeam.Backup.PowerShell.Infos.VBRLocation

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Apply-VBRLocation -Location <VBRLocation> -Object <Object[]> [<CommonParameters>]
```

Apply-VBRManagedByAgentPolicy
-----------------------------

### Synopsis
Assigns Veeam Agent backup policies to protected computers.

---

### Description

This cmdlet assigns Veeam Agent backup policies to protected computers.

---

### Related Links
* [Get-VBRComputerBackupJob](Get-VBRComputerBackupJob.md)

---

### Examples
> Assigning Veeam Agent Backup Policy to Protected Computers

$job = Get-VBRComputerBackupJob -Name "WinSrv2049"
Apply-VBRManagedByAgentPolicy -Job $job
This example shows how to assign a Veeam Agent backup policy to protected computers.
Perform the following steps:
1. Run the Get-VBRComputerBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Apply-VBRManagedByAgentPolicy cmdlet. Set the $job variable as the Policy parameter value.

---

### Parameters
#### **Policy**
Specifies a Veeam Agent backup policy that you want to assign to protected computers.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Apply-VBRManagedByAgentPolicy [-Policy] <VBRComputerBackupJob[]> [-RunAsync] [<CommonParameters>]
```

Assign-VBRInstanceWorkload
--------------------------

### Synopsis
Sets the product edition for standalone Veeam Agents.

---

### Description

This cmdlet sets the product edition for standalone Veeam Agents to one of the following:
- Server edition
- Workstation edition

---

### Related Links
* [Get-VBRInstalledLicense](Get-VBRInstalledLicense.md)

* [Get-VBRLicensedSocketWorkload](Get-VBRLicensedSocketWorkload.md)

---

### Examples
> Example 1. Setting Server Edition

$license = Get-VBRInstalledLicense
$workload = Get-VBRLicensedInstanceWorkload -License $license
Assign-VBRInstanceWorkload -Workload $workload -LicenseMode Workstation
This example shows how to set the Server edition for a standalone Veeam Agent that is running the Workstation edition.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Run the Get-VBRLicensedSocketWorkload cmdlet. Set the $license variable as the License parameter value. Save the result to the $workload variable.
3. Run the Assign-VBRInstanceWorkload cmdlet. Set the $workload variable as the Workload parameter value. Set the Server option for the LicenseMode parameter.
> Example 2. Setting Workstation Edition

$license = Get-VBRInstalledLicense
$workload = Get-VBRLicensedInstanceWorkload -License $license
Assign-VBRInstanceWorkload -Workload $workload -LicenseMode Server
This example shows how to set the Workstation edition for a standalone Veeam Agent that is running the Server edition.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Run the Get-VBRLicensedSocketWorkload cmdlet. Set the $license variable as the License parameter value. Save the result to the $workload variable.
3. Run the Assign-VBRInstanceWorkload cmdlet. Set the $workload variable as the Workload parameter value. Set the Workstation value as the LicenseMode parameter value.

---

### Parameters
#### **LicenseMode**
Specifies a product edition. The cmdlet will set this product edition to protected. You can specify either of the following product editions:
* Server
* Workstation
Valid Values:

* Server
* Workstation

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRAgentLicenseMode]`|true    |named   |False        |

#### **Workload**
Specifies an array of protected workloads. The cmdlet will set the product edition for these workloads.

|Type                             |Required|Position|PipelineInput                 |
|---------------------------------|--------|--------|------------------------------|
|`[VBRLicensedInstanceWorkload[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRLicensedInstanceWorkload[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Assign-VBRInstanceWorkload -LicenseMode {Server | Workstation} -Workload <VBRLicensedInstanceWorkload[]> [<CommonParameters>]
```

Clear-VBRManagedByAgentPolicyCache
----------------------------------

### Synopsis
Removes cache from the protected computers.

---

### Description

This cmdlet removes backup cache from protected computers.

---

### Related Links
* [Get-VBRComputerBackupJob](Get-VBRComputerBackupJob.md)

---

### Examples
> Removing Backup Cache from Protected Computers

$policy = Get-VBRComputerBackupJob -Name "WinSrv2049"
Clear-VBRManagedByAgentPolicyCache -Policy $policy
This example shows how to remove backup cache from protected computers that are processed by the WinSrv2049 Veeam Agent backup policy.
Perform the following steps:
1. Run the Get-VBRComputerBackupJob cmdlet. Specify the Name parameter value. Save the result to the $policy variable.
2. Run the Clear-VBRManagedByAgentPolicyCache cmdlet. Set the $policy variable as the Policy parameter value.

---

### Parameters
#### **Policy**
Specifies a Veeam Agent backup policy. The cmdlet will remove backup cache from computers that are processed by this policy.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Clear-VBRManagedByAgentPolicyCache [-Policy] <VBRComputerBackupJob[]> [-RunAsync] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Clear-VBRWANCache
-----------------

### Synopsis
Removes data from WAN accelerator global cache.

---

### Description

This cmdlet clears WAN accelerator global cache.
You may need to clear the global cache, for example, if the data gets corrupted.

---

### Examples
> Example 1

Get-VBRWANAccelerator -Name "WAN 01" | Clear-VBRWANCache
This example shows how to clear cache of the WAN 01 WAN accelerator.

Perform the following steps:
1. Run the Get-VBRWANAccelerator cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Clear-VBRWANCache cmdlet.
> Example 2

$accelerator01 = Get-VBRWANAccelerator -Name "WAN 01"
Clear-VBRWANCache -Accelerator $accelerator01
This example shows how to clear cache of the WAN 01 WAN accelerator.

Perform the following steps:
1. Run the Get-VBRWANAccelerator cmdlet. Specify the Name parameter value. Save the result to the $accelerator01 variable.
2. Run the Clear-VBRWANCache cmdlet. Set the $accelerator01 variable as the Accelerator parameter value.

---

### Parameters
#### **Accelerator**
Specifies the WAN accelerator. The cmdlet will clear cache of this accelerator.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[CWanAccelerator]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CWanAccelerator

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Clear-VBRWANCache -Accelerator <CWanAccelerator> [<CommonParameters>]
```

Close-VBRUserRestoreSessions
----------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **UserName**

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Close-VBRUserRestoreSessions -UserName <String> [<CommonParameters>]
```

Compare-VBRUnstructuredBackupFLRItem
------------------------------------

### Synopsis
Compares backed-up objects with objects on production file share or object storage.

---

### Description

This cmdlet compares backed-up objects with objects on production file share or object storage.

Important The cmdlet compares only backup files recovered to a certain restore point. You can not compare all versions of backup files. To recover files to a certain restore point, run the Start-VBRUnstructuredBackupFLRSession cmdlet and provide the RestorePoint parameter.

---

### Related Links
* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

* [Start-VBRUnstructuredBackupFLRSession](Start-VBRUnstructuredBackupFLRSession.md)

* [Get-VBRUnstructuredBackupFLRItem](Get-VBRUnstructuredBackupFLRItem.md)

---

### Examples
> Comparing Backed-Up Objects with Objects on Production Object Storage

$restorepoint = Get-VBRUnstructuredBackupRestorePoint -ID "51e4eced-3fce-465b-b516-f24cb5a068a4"
$session = Start-VBRUnstructuredBackupFLRSession -RestorePoint $restorepoint[3]
$item = Get-VBRUnstructuredBackupFLRItem -Session $session
Compare-VBRUnstructuredBackupFLRItem -Item $item[0,1,4,5] -Session $session
This example shows how to compare backed-up objects with objects on production object storage.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Specify the ID parameter value. Save the result to the $restorepoint variable.
2. Run the Start-VBRUnstructuredBackupFLRSession cmdlet. Specify the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Specify the Session parameter values. Save the result to the $item variable.
4. Run the Compare-VBRUnstructuredBackupFLRItem cmdlet. Set the Monthly option for the Type parameter value. Set the $monthly variable as the DailyOptions parameter value.

---

### Parameters
#### **Item**
Specifies an array of backed-up objects that you want to compare with production file share or object storage. Accepts the VBRUnstructuredBackupFLRItem[] object.  To get this object, run the Get-VBRUnstructuredBackupFLRItem cmdlet.

|Type                              |Required|Position|PipelineInput                 |
|----------------------------------|--------|--------|------------------------------|
|`[VBRUnstructuredBackupFLRItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Session**
Specifies restore sessions started to recover objects backed-up by file backup jobs and object storage backup jobs. The cmdlet will compare the objects restored within this session with objects on production file share or object storage. Accepts the VBRUnstructuredBackupFLRSession object.  To create this object, run the Get-VBRUnstructuredBackupFLRSession cmdlet.

|Type                               |Required|Position|PipelineInput                 |
|-----------------------------------|--------|--------|------------------------------|
|`[VBRUnstructuredBackupFLRSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRUnstructuredBackupFLRSession

Veeam.Backup.PowerShell.Infos.VBRUnstructuredBackupFLRItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Compare-VBRUnstructuredBackupFLRItem -Item <VBRUnstructuredBackupFLRItem[]> [-RunAsync] -Session <VBRUnstructuredBackupFLRSession> [<CommonParameters>]
```

Compare-VBRUnstructuredBackupFLRItemAttributes
----------------------------------------------

### Synopsis
Compares attributes of backed-up objects with objects on production file share or object storage.

---

### Description

This cmdlet compares attributes of backed-up objects with objects on production file share or object storage. The cmdlet compares only backup files recovered to a certain restore point. You can not compare all versions of backup files. To recover files to a certain restore point, run the Start-VBRUnstructuredBackupFLRSession cmdlet and provide the RestorePoint parameter.

---

### Related Links
* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

* [Start-VBRUnstructuredBackupFLRSession](Start-VBRUnstructuredBackupFLRSession.md)

* [Get-VBRUnstructuredBackupFLRItem](Get-VBRUnstructuredBackupFLRItem.md)

---

### Examples
> Comparing Attributes of Backed-Up Objects with Attributes of Objects on Production Object Storage

$restorepoint = Get-VBRUnstructuredBackupRestorePoint -ID "51e4eced-3fce-465b-b516-f24cb5a068a4"
$session = Start-VBRUnstructuredBackupFLRSession -RestorePoint $restorepoint[3]
$item = Get-VBRUnstructuredBackupFLRItem -Session $session
Compare-VBRUnstructuredBackupFLRItemAttributes -Item $item[0,1,4,5] -Session $session
This example shows how to compare attributes of backed-up objects with attributes of objects on production object storage.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Specify the ID parameter value. Save the result to the $restorepoint variable.
2. Run the Start-VBRUnstructuredBackupFLRSession cmdlet. Specify the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Specify the Session parameter values. Save the result to the $item variable.
4. Run the Compare-VBRUnstructuredBackupFLRItemAttributes cmdlet. Set the Monthly option for the Type parameter value. Set the $monthly variable as the DailyOptions parameter value.

---

### Parameters
#### **Item**
Specifies an array of backed-up objects which attributes you want to compare with objects on production file share or object storage. Accepts the VBRUnstructuredBackupFLRItem[] object.  To get this object, run the Get-VBRUnstructuredBackupFLRItem cmdlet.

|Type                              |Required|Position|PipelineInput                 |
|----------------------------------|--------|--------|------------------------------|
|`[VBRUnstructuredBackupFLRItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Session**
Specifies restore sessions started to recover objects backed-up by file backup jobs and object storage backup jobs. The cmdlet will compare attributes of the objects restored within this session with objects on production file share or object storage. Accepts the VBRUnstructuredBackupFLRSession object.  To create this object, run the Get-VBRUnstructuredBackupFLRSession cmdlet.

|Type                               |Required|Position|PipelineInput                 |
|-----------------------------------|--------|--------|------------------------------|
|`[VBRUnstructuredBackupFLRSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRUnstructuredBackupFLRSession

Veeam.Backup.PowerShell.Infos.VBRUnstructuredBackupFLRItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Compare-VBRUnstructuredBackupFLRItemAttributes -Item <VBRUnstructuredBackupFLRItem[]> -Session <VBRUnstructuredBackupFLRSession> [<CommonParameters>]
```

Compare-VBRWindowsGuestItemsAttributes
--------------------------------------

### Synopsis
Compares attributes of files and folders from a backup with attributes of original files and folders.

---

### Description

This cmdlet compares attributes of files and folders from a backup with attributes of original files and folders.
When Veeam Backup & Replication compares files, it compares their attributes. When Veeam Backup & Replication compares folders, it compares folder attributes and file attributes inside the folder recursively. Once a file with changed attributes is found, Veeam Backup & Replication stops comparing files and marks the folder as changed. If you further browse the folder in the compared state, Veeam Backup & Replication continues comparing non-compared files and folders. Veeam Backup & Replication compares the following attributes: Date Created, Date Modified, Size (only for files), Read-Only, Hidden, Archive, NTFS Encryption.
Note: Before comparing attributes, you must establish connection with the original machine using the Connect-VBRWindowsGuestProductionMachine cmdlet.

---

### Examples
> Example 1

$backup = Get-VBRBackup -Name "WinSrv25"
$restorepoint = Get-VBRRestorePoint -Backup $backup -Name "Production VM"
$session = Start-VBRWindowsFileRestore -RestorePoint $restorepoint[1]
Connect-VBRWindowsGuestProductionMachine -FileRestore $session
$file = Get-VBRWindowsGuestItem -FileRestore $session -Path "C:\Documents\Training\SummerTraining2020.pdf" 
Compare-VBRWindowsGuestItemsAttributes -FileRestore $session -Item $file
This example shows how to connect to a machine whose files you restore.

Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRRestorePoint cmdlet. Specify the Backup and Name parameter values. Save the result to the $restorepoint variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the second restore session in the array).
3. Run the Start-VBRWindowsFileRestore cmdlet. Set the $restorepoint as the RestorePoint parameter value. Save the result to the $session variable.
4. Run the Connect-VBRWindowsGuestProductionMachine cmdlet. Set $session as the FileRestore parameter value.
5. Run the Get-VBRWindowsGuestItem cmdlet. Set $session as the Session parameter value. Specif the Path parameter. Save the result to the $file variable.
6. Run the Compare-VBRWindowsGuestItemsAttributes cmdlet. Set $session as the FileRestore parameter value and $file as the FileRestore parameter value.

---

### Parameters
#### **FileRestore**
Specifies a restore session of Microsoft Windows guest OS files. The cmdlet will use this session to restore guest OS files.
Note: The restore session must be started within the current PowerShell session.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[FileRestore]`|true    |named   |False        |

#### **Item**
An array of files and folders whose attributes you want to compare.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[VBRFLRFsItem]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRFLRFsItem

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Compare-VBRWindowsGuestItemsAttributes -FileRestore <FileRestore> -Item <VBRFLRFsItem> [<CommonParameters>]
```

Connect-VBRAmazonS3CompatibleService
------------------------------------

### Synopsis
Connects to S3 compatible object storage.

---

### Description

This cmdlet connects to S3 compatible object storage. It creates the IVBRAmazonS3Connection object that contains the connection settings for the following types of storage:
- S3 compatible object storage
- S3 compatible object storage with data archiving
- AWS Snowball Edge device
- Wasabi Cloud Object Storage
You can use these settings to add S3 compatible devices to the backup infrastructure as the following types of repositories:
- An object storage repository. Run the Add-VBRAmazonS3CompatibleRepository cmdlet to add S3 compatible object storage as an object storage repository.
- An external repository. Run the Add-VBRAmazonS3ExternalRepository cmdlet to add S3 compatible as an external repository.
- A capacity extent of a scale-out backup repository.
- An archive extent of a scale-out backup repository.
NOTE
- It is recommended to disconnect the S3 compatible session at the end. Otherwise, the information that you get within the session will not be refreshed when you connect again, and outdated data will be used then. Run the Disconnect-VBRAmazonS3Service cmdlet to stop the session.
- To get an active session, save the result that you get after you run the Connect-VBRAmazonS3CompatibleService cmdlet to a variable.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

---

### Examples
> Example 1. Connecting to S3 Compatible Object Storage

$account = Get-VBRAmazonAccount -AccessKey "XXXXXXXXXXXXXXX"
Connect-VBRAmazonS3CompatibleService -Account $account -CustomRegionId "us-east-1" -ServicePoint "http://123.45.67.89:9000"
This example shows how to connect to S3 compatible object storage.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Save the result to the $connect variable. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Specify the CustomRegionId parameter value.
- Specify the ServicePoint parameter value.
> Example 2. Connecting to AWS Snowball Edge

$account = Get-VBRAmazonAccount -AccessKey "XXXXXXXXXXXXXXX"
Connect-VBRAmazonS3CompatibleService -Account $account -CustomRegionId "snow" -ServicePoint "http://123.45.67.89:9000"
This example shows how to connect to AWS Snowball Edge.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Save the result to the $connect variable. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Specify the CustomRegionId parameter value.
- Specify the ServicePoint parameter.

---

### Parameters
#### **Account**
Specifies an S3 compatible service credentials record.
Veeam Backup & Replication will use this credentials record to connect to S3 compatible object storage or S3 compatible object storage with data archiving.

|Type                |Required|Position|PipelineInput |
|--------------------|--------|--------|--------------|
|`[VBRAmazonAccount]`|true    |named   |True (ByValue)|

#### **ConnectionType**
Specifies how Veeam Backup & Replication will access the object storage repository:
* Direct: Use this option if you want Veeam Backup & Replication to use a proxy server to transfer data from the processed VM to object storage repositories.
* Gateway: Use this option if you want Veeam Backup & Replication to use a gateway server to transfer data from processed VM to object storage repositories.Note: Provide the GatewayServer parameter to specify the server.
Default: Direct.
Valid Values:

* Direct
* Gateway

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRRepositoryConnectionType]`|false   |named   |False        |

#### **CustomRegionId**
Specifies an Amazon S3 region where your S3 compatible object storage or or S3 compatible object storage with data archiving are located.
Note: To connect to the AWS Snowball Edge device, you must provide the snow value for the CustomRegionId parameter.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Force**
Defines that the cmdlet will set up a connection to S3 compatible object storage even if Veeam Backup & Replication or Veeam Agent cannot validate that the certificate is issued from the trusted authorities.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GatewayServer**
Specifies an array of gateway servers that you want to use to transfer data from processed VM to object storage repositories.
Note: If you use S3 compatible service credentials records to connect to S3 compatible object storage with data archiving, the cmdlet will ignore these gateway server settings. It will use the settings that you specify for an archiver appliance.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CHost[]]`|false   |named   |False        |

#### **ServicePoint**
Specifies the endpoint. The cmdlet will use this endpoint to connect to S3 compatible object storage or S3 compatible object storage with data archiving.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **ServiceType**
Specifies the type of the backup repository. The cmdlet will add the object storage as the specified type of the backup repository to backup infrastructure.
* ExternalRepository: Use this option to add object storage as an external backup repository.
* CapacityTier: Use this option to add object storage as a capacity extent or an object storage repository.
* ArchiveTier: Use this option to add object storage as an archive extent.
Valid Values:

* ExternalRepository
* CapacityTier
* ArchiveTier

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRAmazonServiceType]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonAccount

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRAmazonS3CompatibleService -Account <VBRAmazonAccount> [-ConnectionType {Direct | Gateway}] -CustomRegionId <String> [-Force] [-GatewayServer <CHost[]>] 
```
```PowerShell
-ServicePoint <String> [-ServiceType {ExternalRepository | CapacityTier | ArchiveTier}] [<CommonParameters>]
```

Connect-VBRAmazonS3Service
--------------------------

### Synopsis
Connects to Amazon S3 object storage.

---

### Description

This cmdlet connects to Amazon S3 object storage. It creates the IVBRAmazonS3Connection object that contains connection settings that Veeam Backup & Replication will use to connect to Amazon S3 object storage.
You can use these settings to add Amazon S3 object storage to the backup infrastructure as the following types of repositories:
- An object storage repository.
- An external repository. Run the Add-VBRAmazonS3ExternalRepository cmdlet to add Amazon S3 as an external repository.
- A capacity extent of a scale-out backup repository.
- An archive extent of a scale-out backup repository.
NOTE:
- It is recommended to disconnect the Amazon S3 session at the end of the PowerShell session. Otherwise, the information that you get within the session will not be refreshed when you connect again, and outdated data will be used then. Run the Disconnect-VBRAmazonS3Service cmdlet to stop the session.
- To get an active session, save the result that you get after you run the Connect-VBRAmazonS3Service cmdlet to a variable.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

---

### Examples
> Example 1. Connecting to Amazon S3 Object Storage [Capacity Extent Scenario]

$account = Get-VBRAmazonAccount -AccessKey "XXXXXXXXXXXXXXX"
$connect = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
This example shows how to connect to Amazon S3 object storage. Veeam Backup & Replication will use this connection type to configure a capacity extent of a scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Specify the RegionType parameter value.
- Specify the ServiceType parameter value.
Save the result to the $connect variable.
> Example 2. Connecting to Amazon S3 Object Storage [External Repository Scenario]

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
$connect = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType ExternalRepository
This example shows how to connect to Amazon S3 object storage. Veeam Backup & Replication will use this connection type to configure an external repository.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the ExternalRepository option for the ServiceType parameter.
Save the result to the $connect variable.
> Example 3. Connecting to Amazon S3 Object Storage [Archive Extent Scenario]

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
$connect = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType ArchiveTier
This example shows how to to connect to Amazon S3 object storage. Veeam Backup & Replication will use this connection type to set up an archive extent of a scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the ArchiveTier option for the ServiceType parameter.
Save the result to the $connect variable.
> Example 4. Connecting to Amazon S3 Object Storage [Object Storage Repository Scenario]

$account = Get-VBRAmazonAccount -AccessKey "XXXXXXXXXXXXXXX"
$connect = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
This example shows how to connect to Amazon S3 object storage. Veeam Backup & Replication will use this connection type to configure an object storage repository.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the CapacityTier option for the ServiceType parameter.
Save the result to the $connect variable.

---

### Parameters
#### **Account**
Specifies an Amazon S3 credentials record. Veeam Backup & Replication will use this credentials record to connect to Amazon S3 object storage.

|Type                |Required|Position|PipelineInput |
|--------------------|--------|--------|--------------|
|`[VBRAmazonAccount]`|true    |named   |True (ByValue)|

#### **ConnectionType**
Specifies how Veeam Backup & Replication will access the object storage repository:
* Direct: Use this option if you want Veeam Backup & Replication to use a proxy server to transfer data from the processed VM to object storage repositories.
* Gateway: Use this option if you want Veeam Backup & Replication to use a gateway server to transfer data from processed VM to object storage repositories. Note: Provide the GatewayServer parameter to specify the server.
Default: Direct.
Valid Values:

* Direct
* Gateway

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRRepositoryConnectionType]`|false   |named   |False        |

#### **GatewayServer**
Specifies an array of gateway servers that you want to use to transfer data from processed VM to object storage repositories.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CHost[]]`|false   |named   |False        |

#### **RegionType**
Specifies the region type of Amazon S3 object storage. Veeam Backup & Replication will connect to the selected region type to set up a connection with Amazon S3 object storage.
You can select the following types of regions:
* Global
* Government
* China
Valid Values:

* Global
* Government
* China

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRAmazonRegionType]`|true    |named   |False        |

#### **ServiceType**
Specifies the type of the backup repository. The cmdlet will add the object storage as the specified type of the backup repository to backup infrastructure.
* ExternalRepository: Use this option to add object storage as an external backup repository.
* CapacityTier: Use this option to add object storage as a capacity extent or an object storage repository.
* ArchiveTier: Use this option to add object storage as an archive extent.
Valid Values:

* ExternalRepository
* CapacityTier
* ArchiveTier

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRAmazonServiceType]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonAccount

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRAmazonS3Service -Account <VBRAmazonAccount> [-ConnectionType {Direct | Gateway}] [-GatewayServer <CHost[]>] -RegionType {Global | Government | China} -ServiceType 
```
```PowerShell
{ExternalRepository | CapacityTier | ArchiveTier} [<CommonParameters>]
```

Connect-VBRAzureBlobService
---------------------------

### Synopsis
Connects to Microsoft Azure Blob storage.

---

### Description

This cmdlet connects to Microsoft Azure Blob storage. It creates the VBRAzureBlobConnection object that contains connection settings that Veeam Backup & Replication will use to connect to Microsoft Azure Blob storage.
You can use these settings to add Microsoft Azure Blob storage to the backup infrastructure as the following types of repositories:
- An object storage repository.
- An external repository. Run the Add-VBRAzureExternalRepository cmdlet to add to add Azure Blob storage as an external repository.
- A capacity extent of a scale-out backup repository.
- An archive extent of a scale-out backup repository.
NOTE:
- It is recommended to disconnect the Microsoft Azure Blob session at the end. Otherwise, the information that you get within the session will not be refreshed when you connect again, and outdated data will be used then. Run the Disconnect-VBRAzureBlobService cmdlet to stop the session.
- To get the current session, save the result that you get after you run the Connect-VBRAzureBlobService cmdlet to a variable.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Connecting to Microsoft Azure Blob Storage [External Repository Scenario]

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType ExternalRepository
This example shows how to connect to Microsoft Azure Blob storage. Veeam Backup & Replication will use this connection to configure an external repository.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the ExternalRepository option for the ServiceType parameter.
- Save the result to the $connect variable.
> Example 2. Connecting to Microsoft Azure Blob Storage [Capacity Extent Scenario]

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
This example shows how to connect to Microsoft Azure Blob storage. Veeam Backup & Replication will use this connection type to configure a capacity extent of a scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the CapacityTier option for the ServiceType parameter.
- Save the result to the $connect variable.
> Example 3. Connecting to Microsoft Azure Blob Storage Using Specific Gateway Server

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$gate = Get-VBRServer -Name "North.tech.local"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -GatewayServer $gate
This example shows how to connect to Microsoft Azure Blob storage. Veeam Backup & Replication will use the North.tech.local gateway server to connect to Microsoft Azure Blob storage.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $gate variable.
3. Run the Connect-VBRAzureBlobService cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the $gate variable as the GatewayServer parameter value.
- Save the result to the $connect variable.
> Example 4. Connecting to Microsoft Azure Blob Storage [Archive Extent Scenario]

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType ArchiveTier
This example shows how to connect to Microsoft Azure Blob storage. Veeam Backup & Replication will use this connection type to configure an archive extent of a scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the ArchiveTier option for the ServiceType parameter.
- Save the result to the $connect variable.
> Example 5. Connecting to Microsoft Azure Blob Storage [Object Storage Repository Scenario]

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
This example shows how to connect to Microsoft Azure Blob storage. Veeam Backup & Replication will use this connection type to configure an object storage repository.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the Global option for the RegionType parameter.
- Set the CapacityTier option for the ServiceType parameter.
- Save the result to the $connect variable.

---

### Parameters
#### **Account**
Specifies a Microsoft Azure Blob credentials record. The cmdlet will use this credentials record to connect to Microsoft Azure Blob storage.

|Type                   |Required|Position|PipelineInput |
|-----------------------|--------|--------|--------------|
|`[VBRAzureBlobAccount]`|true    |named   |True (ByValue)|

#### **ConnectionType**
Specifies how Veeam Backup & Replication will access the object storage repository:
* Direct: Use this option if you want Veeam Backup & Replication to use a proxy server to transfer data from the processed VM to object storage repositories.
* Gateway: Use this option if you want Veeam Backup & Replication to use a gateway server to transfer data from processed VM to object storage repositories. Note: Provide the GatewayServer parameter to specify the server.
Default: Direct.
Valid Values:

* Direct
* Gateway

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRRepositoryConnectionType]`|false   |named   |False        |

#### **GatewayServer**
Specifies an array of gateway servers that you want to use to transfer data from processed VM to object storage repositories.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CHost[]]`|false   |named   |False        |

#### **RegionType**
Specifies the region type of Microsoft Azure Blob storage. The cmdlet will connect to the selected region type and will set up a connection with Microsoft Azure Blob storage.
You can select the following types of regions:
* Global
* Government
* China
Note: If you use Microsoft Azure Blob storage to connect to Veeam Data Cloud Vault, you must provide the Global region.
Valid Values:

* Global
* China
* Government

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureBlobRegionType]`|true    |named   |False        |

#### **ServiceType**
Specifies the type of the backup repository. The cmdlet will add the object storage as the specified type of the backup repository to backup infrastructure.
* ExternalRepository: Use this option to add object storage as an external backup repository.
* CapacityTier: Use this option to add object storage as a capacity extent or an object storage repository.
* ArchiveTier: Use this option to add object storage as an archive extent.
Valid Values:

* ExternalRepository
* CapacityTier
* ArchiveTier

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRAzureServiceType]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobAccount

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRAzureBlobService -Account <VBRAzureBlobAccount> [-ConnectionType {Direct | Gateway}] [-GatewayServer <CHost[]>] -RegionType {Global | China | Government} 
```
```PowerShell
-ServiceType {ExternalRepository | CapacityTier | ArchiveTier} [<CommonParameters>]
```

Connect-VBRAzureDataBoxService
------------------------------

### Synopsis
Connects to Azure Data Box storage.

---

### Description

This cmdlet connects to Azure Data Box storage.
IMPORTANT! This cmdlet connects only the Azure Data Box storage that can be used as a capacity extent of the scale-out backup repository.
Note:
- It is recommended to disconnect the Microsoft Azure Blob session at the end. Otherwise, the information that you get within the session will not be refreshed when you connect again, and outdated data will be used then. Run the Disconnect-VBRAzureBlobService cmdlet to stop the session.
- To get the current session, save the result that you get after you run the Connect-VBRAzureDataBoxService cmdlet to a variable.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

---

### Examples
> Connecting to Azure Data Box Storage

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
Connect-VBRAzureDataBoxService -Account $connect -ServicePoint "ZTX15910049.microsoftdatabox.com"
This example shows how to connect to Azure Data Box storage.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and the ServiceType parameter values. Save the result to the $connect variable.
3. Run the Connect-VBRAzureDataBoxService cmdlet. Set the $connect variable as the Account parameter value. Specify the ServicePoint parameter value.

---

### Parameters
#### **Account**
Specifies an Microsoft Azure Blob credentials record. The cmdlet will use this credentials record to connect to Azure Data Box storage.

|Type                   |Required|Position|PipelineInput |
|-----------------------|--------|--------|--------------|
|`[VBRAzureBlobAccount]`|true    |named   |True (ByValue)|

#### **ConnectionType**
Specifies how Veeam Backup & Replication will access the object storage repository:
* Direct: Use this option if you want Veeam Backup & Replication to use a proxy server to transfer data from the processed VM to object storage repositories.
* Use this option if you want Veeam Backup & Replication to use a gateway server to transfer data from processed VM to object storage repositories. Note: Provide the GatewayServer parameter to specify the server.
Default: Direct.
Valid Values:

* Direct
* Gateway

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRRepositoryConnectionType]`|false   |named   |False        |

#### **Force**
Defines that the cmdlet will skip the certificate check.
If you do not provide this parameter, Veeam Backup & Replication will check that the Azure Data Box certificate is valid.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GatewayServer**
Specifies an array of gateway servers that you want to use to transfer data from processed VM to object storage repositories.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CHost[]]`|false   |named   |False        |

#### **ServicePoint**
Specifies the endpoint. The cmdlet will use this endpoint to connect to Azure Data Box object storage.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobAccount

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRAzureDataBoxService -Account <VBRAzureBlobAccount> [-ConnectionType {Direct | Gateway}] [-Force] [-GatewayServer <CHost[]>] -ServicePoint <String> 
```
```PowerShell
[<CommonParameters>]
```

Connect-VBRGoogleCloudService
-----------------------------

### Synopsis
Connects to Google Cloud object storage.

---

### Description

This cmdlet connects to Google Cloud object storage. You can use these settings to add Google Cloud object storage into your backup infrastructure an object storage repository.
Run the Add-VBRGoogleCloudRepository cmdlet to add Google Cloud as an object storage repository.
Note:
- It is recommended to disconnect from the Google Cloud object storage at the end of the PowerShell session. Otherwise, the information that you get within the session will not be refreshed when you connect again, and outdated data will be used then. Run the Disconnect-VBRGoogleCloudService cmdlet to stop the session.
- To get an active session, save the result that you get after you run the Connect-VBRGoogleCloudService cmdlet to a variable.

---

### Related Links
* [Get-VBRGoogleCloudAccount](Get-VBRGoogleCloudAccount.md)

* [Add-VBRGoogleCloudRepository](Add-VBRGoogleCloudRepository.md)

---

### Examples
> Connecting to Google Cloud Service

$account = Get-VBRGoogleCloudAccount -AccessKey "ABCDEFGHIGKLMNOP"
Connect-VBRGoogleCloudService -Account $account -ServiceType ExternalRepository
This example shows how to connect to Google Cloud object storage.
Perform the following steps:
1. Run the Get-VBRGoogleCloudAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
2. Run the Connect-VBRGoogleCloudService cmdlet. Set the $account variable as the Account parameter value. Set the ExternalRepository value for the ServiceType parameter value.

---

### Parameters
#### **Account**
Specifies a Google Cloud credentials record. Veeam Backup & Replication will use this credentials record to connect to Google Cloud object storage.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRGoogleCloudAccount]`|true    |named   |False        |

#### **ConnectionType**
Specifies how Veeam Backup & Replication will access the object storage repository:
* Direct: Use this option if you want Veeam Backup & Replication to use a proxy server to transfer data from the processed VM to object storage repositories.
* Gateway: Use this option if you want Veeam Backup & Replication to use a gateway server to transfer data from processed VM to object storage repositories. Note: Provide the GatewayServer parameter to specify the server.
Default: Direct.
Valid Values:

* Direct
* Gateway

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRRepositoryConnectionType]`|false   |named   |False        |

#### **GatewayServer**
Specifies an array of gateway servers that you want to use to transfer data from processed VM to object storage repositories.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CHost[]]`|false   |named   |False        |

#### **ServiceType**
Specifies the type of the backup repository. The cmdlet will add the object storage as the specified type of the backup repository to backup infrastructure.
* ExternalRepository: Use this option to add object storage as an external backup repository.
* CapacityTier: Use this option to add object storage as a capacity extent or an object storage repository.
* ArchiveTier: Use this option to add object storage as an archive extent.
Valid Values:

* ExternalRepository
* CapacityTier

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRGoogleCloudServiceType]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRGoogleCloudService -Account <VBRGoogleCloudAccount> [-ConnectionType {Direct | Gateway}] [-GatewayServer <CHost[]>] -ServiceType {ExternalRepository | 
```
```PowerShell
CapacityTier} [<CommonParameters>]
```

Connect-VBRGuestService
-----------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ClientId**

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|false   |named   |True (ByPropertyName)|

#### **DisableVix**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Password**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **RunAsync**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Ttl**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[TimeSpan]`|false   |named   |False        |

#### **User**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **VirtualLab**

|Type             |Required|Position|PipelineInput        |
|-----------------|--------|--------|---------------------|
|`[ISbVirtualLab]`|false   |named   |True (ByPropertyName)|

#### **Vm**

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[IVmItem]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.IVmItem

Veeam.Backup.Core.SureBackup.ISbVirtualLab

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRGuestService [-ClientId <Guid>] [-DisableVix] -Password <String> [-RunAsync] [-Ttl <TimeSpan>] -User <String> [-VirtualLab <ISbVirtualLab>] -Vm <IVmItem> 
```
```PowerShell
[<CommonParameters>]
```

Connect-VBRHvVirtualLab
-----------------------

### Synopsis
Adds VMs to Veeam Backup & Replication.

---

### Description

This cmdlet adds VMs created on Hyper-V to Veeam Backup & Replication.

---

### Related Links
* [Find-VBRHvEntity](Find-VBRHvEntity.md)

---

### Examples
> Adding VM to Virtual Lab

$vm = Find-VBRHvEntity -Name "srv99"
Connect-VBRHvVirtualLab -VM $vm
This example shows how to add the srv99 VM into Veeam Backup & Replication infrastructure.
Perform the following steps:
1. Run the Find-VBRHvEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Connect-VBRHvVirtualLab cmdlet. Set the $vm variable as the VM parameter value.

---

### Parameters
#### **VM**
Specifies a VM that you want to add to Veeam Backup & Replication.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CHvVmItem]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.HyperV.Infrastructure.CHvVmItem

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRHvVirtualLab [-VM] <CHvVmItem> [<CommonParameters>]
```

Connect-VBRServer
-----------------

### Synopsis
Connects to a Veeam backup server.

---

### Description

This cmdlet creates connection with a local or remote Veeam backup server.
The connection starts a Veeam PowerShell session during which you can perform all operations available with Veeam PowerShell.
Within one session, you can connect to one Veeam server.
To connect to another Veeam server, you need to close the current session.
Run the Disconnect-VBRServer cmdlet to stop session with the current Veeam server.
Run the Get-VBRServerSession cmdlet to get information about the current session.

---

### Examples
> Example 1

```PowerShell
Connect-VBRServer -Server 192.24.125.135
This command connects to the 192.24.125.135 Veeam backup server as a current user.
```
> Example 2

Connect-VBRServer -Server "192.24.125.135" -User "TECH\Administrator" -Password "Password
This command connects to the 192.24.125.135 server using the User/Password authentication.
> Example 3

$creds = Get-Credential
Connect-VBRServer -Credential $creds -Server 192.24.125.135
This example shows how to connect to the 192.24.125.135 Veeam backup server using the credentials prompt.
1. Run the Get-Credential cmdlet. The cmdlet will prompt for a user name and password. Enter the necessary values. Save the result to the Screds variable.
2. Run the Connect-VBRServer cmdlet. Set the $creds variable as the Credential parameter value. Specify the Server parameter value.

---

### Parameters
#### **Credential**
Specifies the credentials you want to use for authenticating with the Veeam server.
Accepts the PSCredential object.
To get this object, run the Get-Credential cmdlet. Note: You must specify the user name in the DOMAIN\Username format when creating the PSCredential object.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[PSCredential]`|true    |named   |False        |

#### **Password**
Specifies the password you want to use for authenticating with the Veeam server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**
Specifies the port for connection.
Default: 9392.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**
Specifies the Veeam server to which you want to connect.
Default: localhost.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Timeout**
Specifies timeout for waiting for a blocked session.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **User**
Specifies the user name you want to use for authenticating with the remote server.
Note: You must specify the user name in the DOMAIN\Username format.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRServer -Credential <PSCredential> [-Port <Int32>] [-Server <String>] [-Timeout <Int32>] [<CommonParameters>]
```
```PowerShell
Connect-VBRServer -Password <String> [-Port <Int32>] [-Server <String>] [-Timeout <Int32>] -User <String> [<CommonParameters>]
```

Connect-VBRViVirtualLab
-----------------------

### Synopsis
Adds VMs to Veeam Backup & Replication.

---

### Description

This cmdlet adds VMs created on VMware to Veeam Backup & Replication.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Adding VM to Virtual Lab

$vm = Find-VBRViEntity -Name "Oracle05"
Connect-VBRViVirtualLab -VM $vm
This example shows how to add the Oracle05 VM created on VMware into Veeam Backup & Replication infrastructure.
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Connect-VBRViVirtualLab cmdlet. Set the $vm variable as the VM parameter value.

---

### Parameters
#### **VM**
Specifies a VM that you want to add to Veeam Backup & Replication.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CViVmItem]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Infrastructure.CViVmItem

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRViVirtualLab [-VM] <CViVmItem> [<CommonParameters>]
```

Connect-VBRWindowsGuestProductionMachine
----------------------------------------

### Synopsis
Connects to the machine where original files and folders reside.

---

### Description

Connects to the machine where original files and folders reside. You must launch this cmdlet before comparing files and folders using the Compare-VBRWindowsGuestItemsAttributes cmdlet.

---

### Examples
> Example 1

$backup = Get-VBRBackup -Name "WinSrv25"
$restorepoint = Get-VBRRestorePoint -Backup $backup -Name "Production VM"
$session = Start-VBRWindowsFileRestore -RestorePoint $restorepoint[1]
Connect-VBRWindowsGuestProductionMachine -FileRestore $session
This example shows how to connect to a machine whose files you restore.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Specify the Name parameter value. Save the result to the $restorepoint variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the second restore session in the array).
3. Run the Start-VBRWindowsFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
4. Run the Connect-VBRWindowsGuestProductionMachine cmdlet. Set the $session variable as the FileRestore parameter value.

---

### Parameters
#### **FileRestore**
Specifies a restore session of Microsoft Windows guest OS files.
The cmdlet will use this session to restore guest OS files.
Note: The restore session must be started within the current PowerShell session.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[FileRestore]`|true    |named   |False        |

#### **GuestCredentials**
Specifies credentials for the original machine.
Note: If you do not specify credentials, the cmdlet will try to use the credentials specified in the backup job that created the backup.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VBRWindowsGuestProductionMachine -FileRestore <FileRestore> [-GuestCredentials <CCredentials>] [<CommonParameters>]
```

Connect-VSBHvVirtualLab
-----------------------

### Synopsis
Connects an existing Hyper-V virtual lab.

---

### Description

This cmdlet connects an existing Hyper-V virtual lab to Veeam Backup & Replication console.

When you add a new host to your Veeam Backup & Replication console, the virtual labs that are registered on it are not added automatically. Use this cmdlet to add the virtual labs to your Veeam Backup & Replication console.

---

### Examples
> Example 1

Find-VSBHvVirtualLab -Server $server -Name "Exchange VLab 01" | Connect-VSBHvVirtualLab
This command connects a virtual lab named "Exchange VLab 01".

- The virtual lab to connect is obtained with Find-VSBHvVirtualLab by looking for the specific virtual lab by name on the server represented by the $server variable.

- The server object is obtained with Get-VBRServer and assigned to the variable beforehand.
> Example 2

```PowerShell
Connect-VSBHvVirtualLab -VirtualLab $VLab01
This command connects a virtual lab represented by the $VLab01 variable.

The virtual lab object is obtained with Find-VSBHvVirtualLab and assigned to the variable beforehand.
```

---

### Parameters
#### **VirtualLab**
Specifies the virtual lab you want to connect to your Veeam Backup & Replication console.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[CHvLabShortInfo]`|false   |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Model.CHvLabShortInfo

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VSBHvVirtualLab [[-VirtualLab] <CHvLabShortInfo>] [<CommonParameters>]
```

Connect-VSBVirtualLab
---------------------

### Synopsis
Connects an existing VMware virtual lab.

---

### Description

This cmdlet connects an existing VMware virtual lab to Veeam Backup & Replication console.

When you add a new host to your Veeam Backup & Replication console, the virtual labs that are registered on it are not added automatically. Use this cmdlet to add the virtual labs to your Veeam Backup & Replication console.

---

### Examples
> Example 1

Find-VSBVirtualLab -Server $server -Name "Exchange VLab 01" | Connect-VSBVirtualLab
This command connects a virtual lab named "Exchange VLab 01" to Veeam Backup & Replication. The server where the virtual lab is located is obtained with Get-VBRServer and assigned to the $server variable beforehand.
> Example 2

```PowerShell
Connect-VSBVirtualLab -VirtualLab $VLab01
This command connects a virtual lab represented by the $VLab01 variable. The virtual lab object is obtained with Find-VSBVirtualLab and assigned to the variable beforehand.
```

---

### Parameters
#### **VirtualLab**
Specifies the virtual lab you want to connect.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[CVirtualLabDescriptor]`|false   |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Model.CVirtualLabDescriptor

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Connect-VSBVirtualLab [[-VirtualLab] <CVirtualLabDescriptor>] [<CommonParameters>]
```

Convert-VBRLegacyCopyBackup
---------------------------

### Synopsis
Converts legacy backup file of legacy periodic backup copy job to the per-machine backup with separate metadata files using mapping.

---

### Description

This cmdlet converts legacy backup file of legacy periodic backup copy job to the per-machine backup with separate metadata files format using synthetic full creation based on the old backup file.
The cmdlet detaches legacy backup file from legacy periodic backup copy job and links the new backup file to the new backup copy job. After you run the cmdlet, you will have two backups: detached legacy backup file (in orphaned node) and per-machine backup with separate metadata files linked to the new backup copy job.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRLegacyBackupCopySourceJob](Get-VBRLegacyBackupCopySourceJob.md)

* [Disable-VBRJob](Disable-VBRJob.md)

* [Add-VBRBackupCopyJob](Add-VBRBackupCopyJob.md)

---

### Examples
> Upgrading Backup Chain Format
> Step 1. Getting Job Name and Target Repository

$LegacyJobName = "LegacyCopyJobName"
$Repo = Get-VBRBackupRepository -Name "TargetRepoName" # provide -ScaleOut parameter if it is a scale-out backup repository
At this step, get the job name and the target repository.
Perform the following steps:
1. Specify the job name. Save the result to the $LegacyJobName variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Provide the ScaleOut parameter if your target repository is a scale-out repository. Save the result to the $Repo variable.
> Step 2. Specifying Job and Repository Settings

$LegacyJob = Get-VBRJob -Name $LegacyJobName
$LegacyBackup = Get-VBRBackup -Name $LegacyJob.name
$NewJobName = ($LegacyJob.name + "_Upgraded")
At this step, specify the job and the repository settings.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Set the $LegacyJobName variable as the Name parameter value. Save the result to the $LegacyJob variable.
2. Run the Get-VBRBackup cmdlet. Set the $LegacyJob.name variable as the Name parameter value. Save the result to the $LegacyBackup variable.
3. Use the ($LegacyJob.name + "_Upgraded") command to create a name for the job that will contain upgraded backups. Save the result to the $NewJobName variable.
> Step 3. Getting Legacy Backup Copy Job Source Objects and Disabling Job

$Sources = Get-VBRLegacyBackupCopySourceJob -Job $LegacyJob
Disable-VBRJob -Job $LegacyJob
At this step, get legacy backup copy job source objects and disable the job you want to upgrade.
Perform the following steps:
1. Run the Get-VBRLegacyBackupCopySourceJob cmdlet. Set the $LegacyJob variable as the Job parameter value. Save the result to the $Sources variable.
2. Run the Disable-VBRJob cmdlet. Set the $LegacyJob variable as the Job parameter value.
> Step 4. Getting Legacy Source Backup Files and Starting Upgrade Process

$SourceJobName = $Sources.name
$SourceBackups = Get-VBRBackup -Name $SourceJobName
foreach ($SourceBackup in $SourceBackups)
{
                    if ($SourceBackup.istruepervmcontainer -eq $True)
                 {
                          write-host ("Backup "+$SourceJobName+" is already upgraded")
                 }
                    else
                    {
                          Upgrade-VBRBackup -Backup $SourceBackup -Force
                 }
             }
At this step, get legacy source backups files you want to upgrade to the per-machine backups with separate metadata files. Validate which of them are eligible for the upgrade using the foreach statement and start the upgrade process. Any existing per-machine backups with separate metadata files will be skipped.
Perform the following steps:
1. Assign the $sources.name variable as the $SourceJobName variable value.
2. Run the Get-VBRBackup cmdlet. Set the $SourceJobName variable as the Name parameter value. Save the result to the $SourceBackups variable.
3. Use the foreach statement where the $SourceBackup variable represents legacy source backup files and the $SourceBackups variable represents the collection of these files. Provide the If Else statements from the example.
> Step 5. Adding New Backup Copy Job and Converting Legacy Backup Files

$NewBackupCopyJob = Add-VBRBackupCopyJob -Name $NewJobName -Mode Immediate -BackupJob $Sources -TargetRepository $Repo -DirectOperation
Convert-VBRLegacyCopyBackup -Backup $LegacyBackup -TargetJob $NewBackupCopyJob
At this step, add new backup copy job and convert legacy backup files to the per-machine backups with separate metadata files.
Perform the following steps:
1. Run the Add-VBRBackupCopyJob cmdlet. Set the $NewJobName variable as the Name parameter value. Specify the Mode, the BackupJob and the TargetRepository parameter values. Provide the DirectOperation parameter. Save the result to the $NewBackupCopyJob variable.
2. Run the Convert-VBRLegacyCopyBackup cmdlet. Set the $LegacyBackup variable as the Backup parameter value. Set the $NewBackupCopyJob variable as the TargetJob parameter value.
> Full Script Example

```PowerShell
$LegacyJobName = "LegacyCopyJobName"
$Repo = Get-VBRBackupRepository -Name "LegacyCopyJobTargetRepoName" # provide -ScaleOut parameter if it is a scale-out backup repository
$LegacyJob = Get-VBRJob -Name $LegacyJobName
$LegacyBackup = Get-VBRBackup -Name $LegacyJob.name
$NewJobName = ($LegacyJob.name + "_Upgraded")

$Sources = Get-VBRLegacyBackupCopySourceJob -Job $LegacyJob
Disable-VBRjob -Job $LegacyJob

$SourceJobName = $Sources.name
$SourceBackups = Get-VBRBackup -Name $SourceJobName
foreach ($SourceBackup in $SourceBackups)
{
                    if ($SourceBackup.istruepervmcontainer -eq $True)
                 {
                          write-host ("Backup "+$SourceJobName+" is already upgraded")
                 }
                    else
                    {
                          Upgrade-VBRBackup -Backup $SourceBackup -Force
                 }
             }

$NewBackupCopyJob = Add-VBRBackupCopyJob -Name $NewJobName -Mode Immediate -BackupJob $Sources -TargetRepository $Repo -DirectOperation
Convert-VBRLegacyCopyBackup -Backup $LegacyBackup -TargetJob $NewBackupCopyJob
```

---

### Parameters
#### **Backup**
Specifies backup file. The cmdlet will return the backup file you want to link to the new backup copy job.

|Type       |Required|Position|PipelineInput |
|-----------|--------|--------|--------------|
|`[CBackup]`|true    |named   |True (ByValue)|

#### **Days**
Specifies an amount of days after which detached legacy backup file is deleted from the storage.
Note: Days count starts from the backup storage creation date.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **EnableTimeBasedRetention**
Defines that retention policy is applied to the source legacy backup file and its incremental backup files. The amount of retention days is specified in the Days parameter.
When determining whether the number of days is exceeded, the cmdlet compares storage creation date, the current date and retention days.
Note: If the number of retention days is exceeded for the source legacy backup file but not exceeded for any of the incremental backup files, the source legacy backup file will not be deleted.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **TargetJob**
Specifies a backup copy job to which you want to map a backup file.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRBackupCopyJob]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Convert-VBRLegacyCopyBackup -Backup <CBackup> [-Days <Int32>] [-EnableTimeBasedRetention] [-RunAsync] -TargetJob <VBRBackupCopyJob> [<CommonParameters>]
```

Convert-VBRNASBackupRootFormat
------------------------------

### Synopsis
Converts backups created by one file backup job for separate non-root shared folders residing on the same server into the backup created for the server single root folder.

---

### Description

The cmdlet converts backups created by one file backup job for separate non-root shared folders residing on the same server into the backup created for the server single root folder with all the non-root shared folders of the same type under it.

When converting the backups, you can specify a single root folder added to the backup infrastructure via one protocol (for example, SMB or NFS). If the initial backup protects shared folders accessed by different protocols (for example, the file backup job has both SMB and NFS shared folders residing on the same server as a source), you should run the Convert-VBRNASBackupRootFormat cmdlet for each of the protocols. Later on, you can add these separate root folders (for SMB and NFS shares) as sources to get the converted file backup job.

Note: Running the cmdlet is a single step in the procedure of converting backups from protecting multiple non-root shared folders to protecting single root folders. For more information, see Converting Backups from Non-Root to Root Shared Folders in the Veeam Backup & Replication User Guide.

Parameters

---

### Related Links
* [Get-VBRUnstructuredBackup](Get-VBRUnstructuredBackup.md)

* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

---

### Examples
> Converting Backup Source from NonRoot to Root Folder

$nasBackup = Get-VBRUnstructuredBackup -Name "Daily SMB1 Backup"
$nasServer = Get-VBRUnstructuredServer -Name "\\WinSRV2020"
Convert-VBRNASBackupRootFormat -Backup $nasBackup -Server $nasServer
The example shows how to convert a backup to replace the file share source: instead of separate non-root shared folders residing on the same server and protected by the same backup, the backup will protect the root folder in which these non-root shared folders are located.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackup cmdlet. Specify the Name parameter value. Save the result to the $nasBackup variable.
2. Run the Get-VBRUnstructuredServer cmdlet. Specify the Name parameter value. Save the result to the $nasServer variable.
3. Run the Convert-VBRNASBackupRootFormat cmdlet. Specify the following parameters:
- Set the $nasBackup variable as the Backup parameter value.
- Set the $nasServer variable as the Server parameter value.

---

### Parameters
#### **Backup**
Specifies a file share backup. The cmdlet will convert this backup to replace the file share source: instead of separate non-root shared folders residing on the same server and protected by the same backup, the backup will protect the root folder in which these non-root shared folders are located.
Accepts the VBRNASBackup object.  To get this object, run the Get-VBRUnstructuredBackup cmdlet.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[VBRNASBackup]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Server**
Specifies the file share server. The cmdlet will convert backups to have this server as the root shared folder protected by the backup.
Accepts the VBRNASServer[] object.  To get this object, run the Get-VBRUnstructuredServer cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRNASServer[]]`|true    |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRNASBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Convert-VBRNASBackupRootFormat -Backup <VBRNASBackup> -Server <VBRNASServer[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Convert-VBRNASBackupSANFormat
-----------------------------

### Synopsis
Converts backups created for SMB or NFS file shares residing on an enterprise NAS system into the format of a NAS filer share on the same storage system.

---

### Description

The cmdlet converts backups created for SMB or NFS file shares residing on an enterprise NAS system into the format of a NAS filer share. Use this cmdlet as the first step when replacing simple SMB or NFS shares with the NAS filer share residing on the same storage system. To locate the original file share, specify the name of the backup created for it and either the name of the file share or SAN entity (for example, storage system volume) where the file share resides. Note that running the Convert-VBRNASBackupSANFormat cmdlet is a single step in the procedure of converting backups from SMB or NFS shares to NAS filer shares. You can also convert backups created with backup copy jobs to continue the old backup chain.  For more information, see Converting Backups from SMB or NFS Shares to NAS Filer Shares in the Veeam Backup & Replication User Guide.

---

### Related Links
* [Get-VBRUnstructuredBackup](Get-VBRUnstructuredBackup.md)

* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

---

### Examples
> Example 1. Converting SMB or NFS File Shares by Backups that Protect Them

$nasBackup = Get-VBRUnstructuredBackup -Name "Daily SMB1 Backup"
$nasServer = Get-VBRUnstructuredServer -Name "\\WinSRV2020\Documents"
Convert-VBRNASBackupSANFormat -Backup $nasBackup -Server $nasServer
The example shows how to convert the "Daily SMB1 Backup" file shares that reside on an enterprise NAS system into SAN file shares on the same storage. The cmdlet will find the backup by the backup name.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackup cmdlet. Specify the Name parameter value. Save the result to the $nasBackup variable.
2. Run the Sync-VBRUnstructuredBackupState cmdlet. Specify the Name parameter value. Save the result to the $nasServer variable.
3. Run the Convert-VBRNASBackupSANFormat cmdlet. Specify the following parameters:
- Set the $nasBackup variable as the Backup parameter value.
- Set the $nasServer variable as the Server parameter value.
> Example 2. Converting SMB or NFS File Shares by Enterprise NAS System on Which They Reside

$nasbackup = Get-VBRUnstructuredBackup -Name "File Backup Job 1"
$netapp = Get-NetAppHost -Name "pdc-ontap-1"
$netapp_filer = Get-VBRUnstructuredServer -SANEntity $netapp
Convert-VBRNASBackupSANFormat -Backup $nasbackup -Server $netapp_filer
The example shows how to convert the "File Backup Job 1" file shares that reside on an enterprise NAS system into a NAS filer share on the same storage. The cmdlet will find the backup on the NAS filer by the backup name.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackup cmdlet. Specify the Name parameter value. Save the result to the $nasbackup variable.
2. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $netapp variable.
3. Run the Get-VBRUnstructuredServer cmdlet. Set the $netapp variable as the SANEntity parameter value. Save the result to the $netapp_filer variable.
4. Run the Convert-VBRNASBackupSANFormat cmdlet. Set the $nasBackup variable as the Backup parameter value. Set the $netapp_filer variable as the Server parameter value.

---

### Parameters
#### **Backup**
Specifies a file share backup. The cmdlet will convert an array of these backups from SMB or NFS format into SAN format. Accepts the VBRNASBackup object. To get this object, run the Get-VBRUnstructuredBackup cmdlet.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[VBRNASBackup]`|true    |named   |True (ByPropertyName, ByValue)|

#### **SANEntity**
Specifies the enterprise NAS system or its volume where the file shares reside. The cmdlet will convert backups protecting an array of file shares residing on this NAS system. Accepts the VBRSANEntity[] object.  To create this object, run the Get-NetAppHost, Get-ThinkSystemHost, Get-VBRIsilonHost or Get-VBRNutanixHost cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRSANEntity[]]`|true    |named   |False        |

#### **Server**
Specifies the file share server. The cmdlet will convert backups protecting an array of these file share servers. Accepts the VBRNASServer[] object. To get this object, run the Get-VBRUnstructuredServer cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRNASServer[]]`|true    |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRNASBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Convert-VBRNASBackupSANFormat -Backup <VBRNASBackup> -SANEntity <VBRSANEntity[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Convert-VBRNASBackupSANFormat -Backup <VBRNASBackup> -Server <VBRNASServer[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Convert-VBRNASBackupStorageFormat
---------------------------------

### Synopsis
Converts format of baskets used for storing backups created with file backup and file backup copy jobs.

---

### Description

The cmdlet converts format of baskets used for storing backups created with file backup and file backup copy jobs. File share backups can be stored either in baskets containing up to 16 standard blob files each up to 64 MB in size, or in single file baskets containing one file up to 1 GB in size. To provide better performance, it is recommended to convert backups that are stored on HPE StoreOnce storage appliances and Dell Data Domain storage systems into the single file basket format.

NOTE:
- If the backups created by the backup job are stored not only in the backup repository, but also in the archive repository, all of them will be converted when running this cmdlet.
- Archive backups stored on S3 repositories cannot be converted into the single file basket format. If you try to convert such backups, the cmdlet will return a warning about that.

---

### Related Links
* [Get-VBRUnstructuredBackupJob](Get-VBRUnstructuredBackupJob.md)

* [Get-VBRUnstructuredBackupCopyJob](Get-VBRUnstructuredBackupCopyJob.md)

---

### Examples
> Example 1. Converting File Share Backup into Single File Basket Format

$job = Get-VBRUnstructuredBackupJob -Name 'Daily file backup to StoreOnce'
Convert-VBRNASBackupStorageFormat -Job $job -BasketType SingleFileBasket
This example shows how to convert backups created by a file backup job into the single file basket format.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Convert-VBRNASBackupStorageFormat cmdlet. Specify the following settings:
- Set the $job variable as the Job parameter value.
- Specify the SingleFileBasket value for the BasketType parameter value.
> Example 2. Converting File Share Backup Copy into Classic Basket Format

$copy_job = Get-VBRUnstructuredBackupCopyJob -Name 'Daily file backup to StoreOnce'
Convert-VBRNASBackupStorageFormat -Job $copy_job -BasketType Classic
This example shows how to convert backups created by a file backup job into the classic basket format.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupCopyJob cmdlet. Specify the Name parameter value. Save the result to the $copy_job variable.
2. Run the Convert-VBRNASBackupStorageFormat cmdlet. Specify the following settings:
- Set the $copy_job variable as the Job parameter value.
- Specify the Classic value for the BasketType parameter value.

---

### Parameters
#### **BasketType**
Specifies a basket type into which file share backups will be converted. You can specify either of the following values:
* Automatic: use this option to automatically convert backups into the recommended format based on the type of the storage specified in file backup jobs or file backup copy jobs.
* SingleFileBasket: use this option to convert backups into single file baskets containing one file up to 1 GB in size.
* Classic: use this option to convert backups into classic containing up to 16 standard blob files each up to 64 MB in size.
If you do not specify this parameter, the cmdlet will use the Automatic setting for conversion by default.
Valid Values:

* Automatic
* SingleFileBasket
* Classic

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRBasketType]`|false   |named   |False        |

#### **Job**
Specifies an array of file backup jobs or file backup copy jobs. The cmdlet will convert backups created by these jobs into the specified format. Accepts the CBackupJob[] object. To get this object, run the Get-VBRUnstructuredBackupJob or Get-VBRUnstructuredBackupCopyJob cmdlet.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Convert-VBRNASBackupStorageFormat [-BasketType {Automatic | SingleFileBasket | Classic}] -Job <CBackupJob[]> [-RunAsync] [<CommonParameters>]
```

Copy-VBRAntivirusConfigurationFile
----------------------------------

### Synopsis
Copies the antivirus configuration file.

---

### Description

This cmdlet allows you to distribute the antivirus configuration file among mount servers in your backup infrastructure.
Veeam Backup & Replication will copy the specified antivirus configuration file to selected mount servers and place the file to the %Program Files%\Common Files\Veeam\Backup and Replication\Mount Service folder.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1

$mounthost = Get-VBRServer -Name "storage"
Copy-VBRAntivirusConfigurationFile -ConfigurationFilePath "C:\Program Files\Common Files\Veeam\Backup and Replication\Mount Service\AntivirusInfos.xml" -SelectedServer $mounthost -TargetType SelectedServer
The example shows how to copy the antivirus configuration file to the selected mount server.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $mounthost variable.
2. Run the Copy-VBRAntivirusConfigurationFile cmdlet. Specify the following settings:
- Specify the ConfigurationFilePath parameter value.
- Set the $mounthost variable as the SelectedServer parameter value.
- Set the SelectedServer option for the TargetType parameter.

---

### Parameters
#### **ConfigurationFilePath**
Specifies the path to the antivirus configuration file.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **SelectedServer**
For the SelectedServer option.
Specifies the mount server. Veeam Backup & Replication will copy the configuration file to that mount server.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

#### **TargetType**
Specifies the options to distribute the antivirus configuration file among mount servers.
You can specify the following options:
* AllMountServers - use this option if you want to copy the configuration file to all mount servers in your backup infrastructure.
* SelectedServer - use this option if you want to copy the configuration file to the particular mount server.
Valid Values:

* AllMountServers
* SelectedServer

|Type                                    |Required|Position|PipelineInput|
|----------------------------------------|--------|--------|-------------|
|`[VBRCopyAntivirusConfigFileTargetType]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRAntivirusConfigurationFile -ConfigurationFilePath <String> [-SelectedServer <CHost>] -TargetType {AllMountServers | SelectedServer} [<CommonParameters>]
```

Copy-VBRBackup
--------------

### Synopsis
Copies backups to a repository or local or shared folder.

---

### Description

This cmdlet copies the whole backup chains to a repository or local or shared folder.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Copying Backups

$backup = Get-VBRBackup
$repository = Get-VBRBackupRepository
Copy-VBRBackup -Backup $backup -Repository $repository
This example shows how copy backups to a repository.
Perform the following steps:
1.	Run the Get-VBRBackup cmdlet. Save the result to the $backup variable.
2.  Run the Get-VBRBackupRepository cmdlet. Save the result to the $repository variable.
3.  Run the Copy-VBRBackup cmdlet. Set the $backup variable as the Backup parameter value. Set the $repository variable as the Repository parameter value.

---

### Parameters
#### **AutoDelete**
Specifies the time interval after which Veeam Backup & Replication will delete copied backups.
The parameter accepts the following values:
* In1Month
* In3Months
* In6Months
* In1Year
* In2Years
* In3Years
* In5Years
* In7Years
Valid Values:

* In1Month
* In3Months
* In6Months
* In1Year
* In2Years
* In3Years
* In5Years
* In7Years

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRMoveCopyRetention]`|false   |named   |False        |

#### **Backup**
Specifies the backups that will be copied.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CBackup]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will copy backups without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies an array of names of the workloads that you want to move.
Note: This parameter applies only if backups are per-machine with metadata for each workload.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Path**
Specifies a path to the local or shared folder to which you want to copy backups.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Repository**
Specifies the repository to which you want to copy backups.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[CBackupRepository]`|false   |named   |True (ByPropertyName, ByValue)|

#### **RetentionNumber**
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).
For the RetentionPeriodType option.
Specifies the period of time to keep the copied data. After this period finishes, Veeam Backup & Replication will remove data.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **RetentionPeriodType**
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).
Specifies the type of the retention policy. You can set the following types:
* Days: use this option if you want Veeam Backup & Replication to apply retention policy daily.
* Months: use this option if you want Veeam Backup & Replication to apply retention policy monthly.
* Years: use this option if you want Veeam Backup & Replication to apply retention policy yearly.
Use the RetentionNumber to specify the number of days, months or years.
Note: Use this parameter if the AutoDelete parameter is not specified.
Valid Values:

* Days
* Months
* Years

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRRetentionPeriodType]`|false   |named   |False        |

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ShareCredentials**
Specifies the credentials that will be used to access the shared folder.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CCredentials]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.Core.CBackup

System.String[]

System.String

Veeam.Backup.Common.CCredentials

Veeam.Backup.Core.CBackupRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRBackup [-AutoDelete {In1Month | In3Months | In6Months | In1Year | In2Years | In3Years | In5Years | In7Years}] -Backup <CBackup> [-Force] [-Name <String[]>] [-Path 
```
```PowerShell
<String>] [-RetentionNumber <Int32>] [-RetentionPeriodType {Days | Months | Years}] [-RunAsync] [-ShareCredentials <CCredentials>] [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Copy-VBRBackup [-AutoDelete {In1Month | In3Months | In6Months | In1Year | In2Years | In3Years | In5Years | In7Years}] -Backup <CBackup> [-Force] [-Name <String[]>] 
```
```PowerShell
[-Repository <CBackupRepository>] [-RetentionNumber <Int32>] [-RetentionPeriodType {Days | Months | Years}] [-RunAsync] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Copy-VBRBackupCopyJob
---------------------

### Synopsis
Clones a backup copy job.

---

### Description

This cmdlet clones a backup copy job.

---

### Related Links
* [Get-VBRBackupCopyJob](Get-VBRBackupCopyJob.md)

---

### Examples
> Cloning Backup Copy Jobs

$copyjobs = Get-VBRBackupCopyJob
Copy-VBRBackupCopyJob -Job $copyjobs
This example shows how to clone backup copy jobs.
Perform the following steps:
1. Run the Get-VBRBackupCopyJob cmdlet. Save the result to the $copyjobs variable.
2. Run the Copy-VBRBackupCopyJob cmdlet. Set the $copyjobs variable as the Job parameter value.

---

### Parameters
#### **Description**
Specifies the description you want to assign to the backup copy job that you want to clone.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Job**
Specifies an array of backup copy jobs that you want to clone.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRBackupCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the name you want to assign to the backup copy that you want to clone.
Default: the name of the primary job with the _clone<clone sequence number> suffix.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Repository**
Specifies the repository to which you want to copy the backup job that you want to clone.
Note: If you do not specify this parameter, the cmdlet will copy the backup job to the same repository, where the original job stores backups.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRBackupCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRBackupCopyJob [-Job] <VBRBackupCopyJob[]> [-Description <String[]>] [-Name <String[]>] [-Repository <CBackupRepository>] [<CommonParameters>]
```

Copy-VBRComputerBackupCopyJob
-----------------------------

### Synopsis
Clones Veeam Agent backup copy jobs. IMPORTANT! This cmdlet is obsolete and only works for cloning a simple mode backup copy job. It is recommended to clone a new backup job using the Copy-VBRBackupCopyJob cmdlet.

---

### Description

This cmdlet clones Veeam Agent backup copy jobs.

---

### Related Links
* [Get-VBRComputerBackupCopyJob](Get-VBRComputerBackupCopyJob.md)

---

### Examples
> Cloninig Veeam Agent Backup Copy Jobs

$copyjobs = Get-VBRComputerBackupCopyJob
Copy-VBRComputerBackupCopyJob -Job $copyjobs
This example shows how to copy Veeam Agent backup copy jobs.

Perform the following steps:

1. Get the Get-VBRComputerBackupCopyJob cmdlet. Save the result to the $copyjobs variables.   2. Run the Copy-VBRComputerBackupCopyJob cmdlet. Set the $copyjobs variable as the Job parameter value.

---

### Parameters
#### **Description**
Specifies the description you want to assign to the Veeam Agent backup copy job that you want to clone.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Job**
Specifies an array of Veeam Agent backup copy jobs that you want to clone. Accepts the VBRComputerBackupCopyJob[] object. To create this object, run the Get-VBRComputerBackupCopyJob cmdlet.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the name you want to assign to the Veeam Agent backup copy that you want to clone. Default: the name of the primary job with the _clone<clone sequence number> suffix.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Repository**
Specifies the repository to which you want to copy to the Veeam Agent backup job that you want to clone.
NOTE: If you do not specify this parameter, the cmdlet will copy Veeam Agent backup jobs to the same repository, where the original job stores backups. Accepts the CBackupRepository object. To create this object, run Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRComputerBackupCopyJob [-Job] <VBRComputerBackupCopyJob[]> [-Description <String[]>] [-Name <String[]>] [-Repository <CBackupRepository>] [<CommonParameters>]
```

Copy-VBRComputerBackupJob
-------------------------

### Synopsis
Clones Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Description

This cmdlet clones Veeam Agent backup jobs and Veeam Agent backup policies.
IMPORTANT! The job cloning functionality is available only in the Enterprise and Enterprise Plus, Veeam Universal License editions of Veeam Backup & Replication.

---

### Related Links
* [Get-VBRComputerBackupJob](Get-VBRComputerBackupJob.md)

---

### Examples
> Cloning Veeam Agent Backup Job

$job = Get-VBRComputerBackupJob -Name "WinSrv2049"
Copy-VBRComputerBackupJob -Job $job
This example shows how to clone the WinSrv2049 Veeam Agent backup job.
Perform the following steps:
1. Run the Get-VBRComputerBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Copy-VBRComputerBackupJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Description**
Specifies a description of a cloned Veeam Agent backup job or a Veeam Agent backup policy.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Job**
Specifies a Veeam Agent backup job or a Veeam Agent backup policy that you want to clone.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **Name**
Specifies a name of a cloned Veeam Agent backup job or a Veeam Agent backup policy.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Repository**
Specifies a backup repository. The cmdlet will keep backups of a cloned Veeam Agent backup job or a Veeam Agent backup policy on this backup repository.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRComputerBackupJob [-Job] <VBRComputerBackupJob[]> [-Description <String[]>] [-Name <String[]>] [-Repository <CBackupRepository>] [<CommonParameters>]
```

Copy-VBRJob
-----------

### Synopsis
Clones existing jobs.

---

### Description

This cmdlet clones an existing job. You can use the cloned job, for example, as a template, as it retains all settings of the primary job.

You can run this cmdlet with backup, replication and copy jobs.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Cloning Specific Jobs [Using Pipeline]

Get-VBRJob -Name "DHCP Replica Job", "DHCP Backup Job" | Copy-VBRJob
This example shows how to clone the DHCP Replica Job and DHCP Backup Job jobs.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Copy-VBRJob cmdlet.
> Example 2. Cloning Jobs [Using Variable]

$job = Get-VBRJob -Name "Backup Job"
Copy-VBRJob -Job $job
This example shows how to clone the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Copy-VBRJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Description**
Specifies the description of the cloned job.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Job**
Specifies the array of jobs you want to clone.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the name you want to assign to the cloned job. The maximum length is 50 symbols. If you exceed the length limit, the cloned job name will be cropped to 50 symbols. Default: the name of the primary job with the _clone<clone sequence number> suffix.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Repository**
Specifies the backup repository that will be used by the cloned job as a target.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRJob [-Job] <CBackupJob[]> [-Description <String[]>] [-Name <String[]>] [-Repository <CBackupRepository>] [<CommonParameters>]
```

Copy-VBRLinuxGuestItem
----------------------

### Synopsis
Copies Linux-based or Unix-based guest OS files to the target host.

---

### Description

This cmdlet copies Linux-based or Unix-based guest OS files to the target host.
You can use the following types of servers and hosts as the target hosts:
- Microsoft Windows Server
- Linux Server
- VMware vSphere Server
- VMware Cloud Director Server

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

* [Get-VBRServer](Get-VBRServer.md)

* [Get-VBRLinuxGuestItem](Get-VBRLinuxGuestItem.md)

---

### Examples
> Copying LinuxBased or UnixBased Guest OS Files to Target Host

$backup = Get-VBRBackup -Name "UbuntuSrv"
$restorepoint = Get-VBRRestorePoint -Backup $backup
$server = Get-VBRServer -Name "LinSrv05"
$session = Start-VBRLinuxFileRestore -RestorePoint $restorepoint -MountServer $server
$items = Get-VBRLinuxGuestItem -LinuxFlrObject $session
$targetserver = Get-VBRServer -Name "LinSrv07"
Copy-VBRLinuxGuestItem -Item $items -LinuxFlrObject $session -TargetFolder "/home/pictures" -Server $targetserver
This example shows how to copy files from the UbuntuSrv to the LinSrv07 target machine.

Perform the following steps: 1. Start the restore session:
- Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
- Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $restorepoint variable.
- Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
- Run the Start-VBRLinuxFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Set the $server variable as the MountServer parameter value. Save the result to the $session variable.
2. Run the Get-VBRLinuxGuestItem cmdlet. Set the $session variable as the LinuxFlrObject parameter value. Save the result to the $items variable.
3. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $targetserver variable.
4. Run the Copy-VBRLinuxGuestItem cmdlet. Specify the following settings:
- Set the $items variable as the Item parameter value.
- Set the $session variable as the LinuxFlrObject parameter value.
- Specify the TargetFolder parameter value.
- Set the $targetserver variable as the Server parameter value.

---

### Parameters
#### **Datastore**
Specifies the datastore where the target machine will be located.
The cmdlet will copy the guest OS files to the machine located in this datastore.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViDatastoreBase]`|false   |named   |False        |

#### **Item**
Specifies an array of files and folders that are available on disks of Linux-based or Unix-based machines.
The cmdlet will copy these files and folders.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRFLRFsItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **KeepPermissionsAndOwnership**
Defines that the cmdlet will keep custom permissions and the ownership of the copied guest OS files.
If you do not provide this parameter, the cmdlet will restore guest OS files with default permissions and ownership.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LinuxFlrObject**
Specifies a restore session of Linux-based or Unix-based guest OS files.
The cmdlet will use this session to copy guest OS files.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRLinuxFlrObject]`|true    |named   |False        |

#### **Server**
Specifies a target machine to which you want to copy guest OS files.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|true    |named   |False        |

#### **ShareCredentials**
For copying guest OS files to a shared folder.
Specifies credentials that you want to use to authenticate with the target shared folder to which you copy guest OS files.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[PSCredential]`|false   |named   |False        |

#### **TargetFolder**
Specifies a folder in the target machine. The cmdlet will copy the guest OS files to this folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRFLRFsItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRLinuxGuestItem [-Datastore <VBRViDatastoreBase>] -Item <VBRFLRFsItem[]> [-KeepPermissionsAndOwnership] -LinuxFlrObject <VBRLinuxFlrObject> -Server <CHost> 
```
```PowerShell
[-ShareCredentials <PSCredential>] -TargetFolder <String> [<CommonParameters>]
```

Copy-VBRNASBackup
-----------------

### Synopsis
Copies file share backups to another repository or local or shared folder.

---

### Description

This cmdlet copies file share backups to another repository or local or shared folder. Veeam Backup & Replication copies the whole backup chain. When Veeam Backup & Replication performs the copy operation, it disables the job, copies files to the target location and then enables the job.

---

### Related Links
* [Get-VBRNASBackup](Get-VBRNASBackup.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example - Copying File Share Backups to Another Repository

$backup = Get-VBRNASBackup
$repository = Get-VBRBackupRepository
Copy-VBRNASBackup -Backup $backup[3] -BackupRepository $repository
This example shows how to copy file share backups to another repository.

Perform the following steps:
1. Run the Get-VBRNASBackup cmdlet. Save the result to the $backup variable.
2. Run the Get-VBRBackupRepository cmdlet. Save the result to the $repository variable.
3. Run the Copy-VBRNASBackup cmdlet. Set the $backup[3] variable as the Backup parameter value. Set the $repository variable as the BackupRepository parameter value.

---

### Parameters
#### **ArchiveRepository**
Specifies the archive repository. The cmdlet will copy the archive associated with the file share backup being copied to this long-term archive repository. Accepts the CBackupRepository object. To get this object, run the following cmdlets:
* Get-VBRBackupRepository: use this cmdlet to get backup repositories.
* Get-VBRObjectStorageRepository: use this cmdlet to get object storage repositories.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[IRepository]`|false   |named   |False        |

#### **Backup**
Specifies an array of file share backups. The cmdlet will copy these backups to a specified backup repository. Accepts the VBRNASBackup[] object.  To get this object, run the Get-VBRNASBackup cmdlet.

|Type              |Required|Position|PipelineInput |
|------------------|--------|--------|--------------|
|`[VBRNASBackup[]]`|true    |named   |True (ByValue)|

#### **BackupRepository**
Specifies the backup repository. The cmdlet will copy the specified file share backups to this backup repository. Accepts the CBackupRepository object.  To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRNASBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRNASBackup [-ArchiveRepository <IRepository>] -Backup <VBRNASBackup[]> -BackupRepository <CBackupRepository> [-RunAsync] [<CommonParameters>]
```

Copy-VBRUnstructuredBackup
--------------------------

### Synopsis
Copies backups created by file backup jobs and object storage backup jobs to another location.

---

### Description

This cmdlet copies backups created by file backup jobs and object storage backup jobs to one of the following locations:
- Another repository
- Local folder
- Shared folder
- Archive repository
Veeam Backup & Replication copies the whole backup chain. When Veeam Backup & Replication performs the copy operation, it disables the job, copies files to the target location and then enables the job.

---

### Related Links
* [Get-VBRUnstructuredBackup](Get-VBRUnstructuredBackup.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example - Copying Object Storage Backups to Another Repository

$backup = Get-VBRUnstructuredBackup     
$repository = Get-VBRBackupRepository           
Copy-VBRUnstructuredBackup -Backup $backup[3] -BackupRepository $repository
This example shows how to copy object storage backups to another repository.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackup cmdlet. Save the result to the $backup variable.
2. Run the Get-VBRBackupRepository cmdlet. Save the result to the $repository variable.
3. Run the Copy-VBRUnstructuredBackup cmdlet. Set the $backup[3] variable as the Backup parameter value. Set the $repository variable as the BackupRepository parameter value.

---

### Parameters
#### **ArchiveRepository**
Specifies the archive repository. The cmdlet will copy the backups created by file backup jobs and object storage backup jobs to this long-term archive repository. Accepts the CBackupRepository object.  To get this object, run the following cmdlets:
* Get-VBRBackupRepository: use this cmdlet to get backup repositories.
* Get-VBRObjectStorageRepository: use this cmdlet to get object storage repositories.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[IRepository]`|false   |named   |False        |

#### **Backup**
Specifies an array of backups created by file backup jobs and object storage backup jobs. The cmdlet will copy these backups to a specified backup repository.
Accepts the VBRUnstructuredBackup[] object.  To get this object, run the Get-VBRUnstructuredBackup cmdlet.

|Type                       |Required|Position|PipelineInput |
|---------------------------|--------|--------|--------------|
|`[VBRUnstructuredBackup[]]`|true    |named   |True (ByValue)|

#### **BackupRepository**
Specifies the backup repository. The cmdlet will copy the backups created by file backup jobs and object storage backup jobs to this backup repository.
Accepts the CBackupRepository object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|true    |named   |False        |

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRUnstructuredBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRUnstructuredBackup [-ArchiveRepository <IRepository>] -Backup <VBRUnstructuredBackup[]> -BackupRepository <CBackupRepository> [-RunAsync] [<CommonParameters>]
```

Copy-VBRWindowsGuestItem
------------------------

### Synopsis
Copies Microsoft Windows guest OS files to the target host.

---

### Description

This cmdlet copies Microsoft Windows guest OS files to the target host.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

* [Start-VBRWindowsFileRestore](Start-VBRWindowsFileRestore.md)

* [Get-VBRWindowsGuestItem](Get-VBRWindowsGuestItem.md)

---

### Examples
> Copying Microsoft Windows Guest OS Files to Target Folder

$backup = Get-VBRBackup -Name "WinSrv25"
$restorepoint = Get-VBRRestorePoint -Backup $backup -Name "Production VM"
$session = Start-VBRWindowsFileRestore -RestorePoint $restorepoint
$items = Get-VBRWindowsGuestItem -FileRestore $session -Name "Reports"
Copy-VBRWindowsGuestItem -Item $items -TargetFolder "D:\Copies" -FileRestore $session -KeepPermissionsAndOwnership
This example shows how to copy files from the backup of the WinSrv25 Windows machine to the "D:\Copies" folder.
The cmdlet will keep all custom permissions and ownership of the copied files.
Perform the following steps:
1. Get the restore session.
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Specify the Name parameter value. Save the result to the $restorepoint variable.
c. Run the Start-VBRWindowsFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
2. Run the Get-VBRWindowsGuestItem cmdlet. Specify the $session variable as the FileRestore parameter value. Specify the Name parameter value. Save the result to the $items variable.
3. Run the Copy-VBRWindowsGuestItem cmdlet. Specify the following settings:
- Set the $items variable as the Item parameter value.
- Specify the TargetFolder parameter value.
- Set the $session variable as the FileRestore parameter value.
- Provide the KeepPermissionsAndOwnership parameter.

---

### Parameters
#### **FileRestore**
Specifies a restore session of Microsoft Windows guest OS files. The cmdlet will use this session to restore guest OS files.
Note: The restore session must be started within the current PowerShell session.
This parameter is required if the Session parameter is not specified.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[FileRestore]`|false   |named   |False        |

#### **GuestCredentials**
Specifies the credentials of the target machine.
Note: If you do not specify credentials, the cmdlet will try to use the credentials from the current PowerShell session.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|false   |named   |False        |

#### **Item**
Specifies an array of Microsoft Windows guest OS files.
The cmdlet will copy these files.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRFLRFsItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **KeepPermissionsAndOwnership**
Defines that the cmdlet will keep custom permissions and the ownership of the copied guest OS files.
If you do not provide this parameter, the cmdlet will restore guest OS files with default permissions and ownership.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Session**
Specifies a restore session of Microsoft Windows guest OS files. The cmdlet will use this session to copy guest OS files.
This parameter is required if the FileRestore parameter is not specified.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CRestoreSession]`|false   |named   |False        |

#### **ShareCredentials**
For copying guest OS files to a shared folder.
Specifies credentials that you want to use to authenticate with the target shared folder to which you copy guest OS files.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[PSCredential]`|false   |named   |False        |

#### **TargetFolder**
Specifies a folder in the target machine.
The cmdlet will copy the guest OS files to this folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRFLRFsItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Copy-VBRWindowsGuestItem [-FileRestore <FileRestore>] [-GuestCredentials <CCredentials>] -Item <VBRFLRFsItem[]> [-KeepPermissionsAndOwnership] [-RunAsync] [-Session 
```
```PowerShell
<CRestoreSession>] [-ShareCredentials <PSCredential>] -TargetFolder <String> [<CommonParameters>]
```

Deploy-VBRAzureLinuxRestoreAppliance
------------------------------------

### Synopsis
Deploys or removes helper appliances for restoring Linux VMs to Microsoft Azure.

---

### Description

This cmdlet deploys or removes helper appliances for restoring Linux VMs to Microsoft Azure.
The cmdlet offers the following possibilities:
- To remove all helper appliances associated with an account, run the 1st parameter set.
- To remove selected helper appliances, run the 2nd parameter set and enumerate only those helper appliances that must remain.
- To deploy a new helper appliance or a number of new helper appliances, run the 2nd parameter set and pass an array of helper appliances you want to deploy. Note that if there are any existing helper appliances already deployed for this account that you want to keep, you must include them in the array.
- To modify settings of an existing helper appliance or helper appliances, run the 2nd parameter set and pass an array of existing helper appliances with different settings.

Run the Get-VBRAzureApplicanceSession cmdlet to get the status of sessions initiated by this cmdlet.

IMPORTANT! Consider the following:
- This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).
- This cmdlet always deploys the helper appliances anew. The array of helper appliances that you pass to this cmdlet must contain all helper appliances that you want to be associated with the account.
- If there are existing helper appliances associated with this account, but which you do not include in the array you pass, the cmdlet will remove them.
- If there are existing helper appliances associated with this account, and you pass them with different settings, the cmdlet will re-deploy them with the new settings.

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
$appliancesession = Deploy-VBRAzureLinuxRestoreAppliance -Account $account -RemoveAll:$true
This example shows how to remove all Linux VM restore helper appliances associated with a Microsoft Azure account.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Set the ResourceManager option for the Type parameter. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Deploy-VBRAzureLinuxRestoreAppliance cmdlet. Set the $account variable as the Account parameter value. Set the RemoveAll switch parameter to $true. Save the deployment session to the $appliancesession variable to check its status.
> Example 2

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
$appliances = Get-VBRAzureLinuxRestoreAppliance
$currentappliance = $appliances[0]
$newappliance = $appliances[1]
$appliancesession = Deploy-VBRAzureLinuxRestoreAppliance -Account $account -Appliance $currentappliance, $newappliance
This example shows how to deploy an additional Linux VM restore helper appliance for a Microsoft Azure account.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Set the ResourceManager value as the Type parameter value. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Get-VBRAzureLinuxRestoreAppliance cmdlet. Save the array to the $appliances variable.
3. From the $appliances array, get the Linux helper appliance that is currently used. Save it to the $currentappliance variable.
4. From the $appliances array, get the new Linux helper appliance. Save it to the $newappliance variable.
5. Run the Deploy-VBRAzureLinuxRestoreAppliance cmdlet. Specify the following settings:
- Set the $account variable as the Account parameter value.
- Set the $appliance and the $newappliance variables as the Appliance parameter value.
- Save the deployment session to the $appliancesession variable to check its status.

---

### Parameters
#### **Account**
Specifies the account.
For removing helper appliances: the cmdlet will remove all helper appliances connected to this account.
For deploying helper appliances: the cmdlet will deploy helper appliances for this account.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRAzureAccount]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Appliance**
Specifies the array of helper appliances you want to deploy.

|Type                               |Required|Position|PipelineInput        |
|-----------------------------------|--------|--------|---------------------|
|`[VBRAzureLinuxRestoreAppliance[]]`|true    |named   |True (ByPropertyName)|

#### **RemoveAll**
Defines that the cmdlet removes all helper appliances associated with the account.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **Wait**
Indicates that the command waits for the process to complete before accepting more input.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureAccount

Veeam.Backup.PowerShell.Infos.VBRAzureLinuxRestoreAppliance[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Deploy-VBRAzureLinuxRestoreAppliance -Account <VBRAzureAccount> -Appliance <VBRAzureLinuxRestoreAppliance[]> [-Wait] [<CommonParameters>]
```
```PowerShell
Deploy-VBRAzureLinuxRestoreAppliance -Account <VBRAzureAccount> -RemoveAll [-Wait] [<CommonParameters>]
```

Detach-VBRBackup
----------------

### Synopsis
Detaches backups from the job they belong to.

---

### Description

This cmdlet detaches backups from the job they belong to.

When the cmdlet detaches backups from a job, the job stops processing these backup files. During the next run, the job will start a new backups chain, that is, will create active full backups.
If the detached backups belonged to the job with daily retention, the background retention process retains the backups according to the configured retention and deletes the backups from the repository after the retention period ends. If the retention period is set in restore points, the background retention process does not delete the backups. You need to delete them manually using the Remove-VBRBackup cmdlet.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Detaching Backups from Job

$backup = Get-VBRBackup -Name "Daily backups"
Detach-VBRBackup -Backup $backup
This example shows how to detach backups from the Daily backups job.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Detach-VBRBackup cmdlet. Set the $backup variable as the Backup parameter value.

---

### Parameters
#### **Backup**
Specifies an array of backups that you want to detach from a job.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will detach backups without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.Core.CBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Detach-VBRBackup -Backup <CBackup[]> [-Force] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VACManagedMode
----------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VACManagedMode [<CommonParameters>]
```

Disable-VACTenantManagement
---------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VACTenantManagement [<CommonParameters>]
```

Disable-VBRApplicationBackupJob
-------------------------------

### Synopsis
Disables application backup policies.

---

### Description

This cmdlet disables application backup policies. Run the Enable-VBRApplicationBackupJob cmdlet to enable application backup policies.

---

### Related Links
* [Get-VBRApplicationBackupJob](Get-VBRApplicationBackupJob.md)

---

### Examples
> Disabling Application Backup Policy

$job = Get-VBRApplicationBackupJob -Name "DbsSrv2049"
Disable-VBRApplicationBackupJob -Job $job
This example shows how to disable the DbsSrv2049 application backup policy.

Perform the following steps:
1. Run the Get-VBRApplicationBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRApplicationBackupJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an application backup policy that you want to disable. Accepts the VBRApplicationBackupJob[] object.  To get this object, run the Get-VBRApplicationBackupJob cmdlet.

|Type                             |Required|Position|PipelineInput                 |
|---------------------------------|--------|--------|------------------------------|
|`[VBRApplicationBackupJobBase[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRApplicationBackupJobBase[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRApplicationBackupJob [-Job] <VBRApplicationBackupJobBase[]> [-PassThru] [<CommonParameters>]
```

Disable-VBRArchiveExtentMaintenanceMode
---------------------------------------

### Synopsis
Disables the Maintenance mode for the archive extent.

---

### Description

This cmdlet disables the Maintenance mode for the archive extent of the scale-out backup repository.
Run the Enable-VBRArchiveExtentMaintenanceMode cmdlet to enable the maintenance mode.

---

### Related Links
* [Get-VBRArchiveExtent](Get-VBRArchiveExtent.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Disabling Maintenance Mode for Archive Extent

$scaleoutrepository = Get-VBRBackupRepository -ScaleOut -Name "Amazon S3"
$extent = Get-VBRArchiveExtent -Repository $scaleoutrepository
Disable-VBRArchiveExtentMaintenanceMode -ArchiveExtent $extent
This example shows how to disable the Maintenance mode for the archive extent.
Perform the following actions:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Specify the Name parameter value. Save the result to the $scaleoutrepository variable.
2. Run the Get-VBRArchiveExtent cmdlet. Set the $scaleoutrepository variable as the Repository parameter value. Save the result to the $extent variable.
3. Run the Disable-VBRArchiveExtentMaintenanceMode cmdlet. Set the $extent variable as the ArchiveExtent parameter value.

---

### Parameters
#### **ArchiveExtent**
Specifies the archive extent.The cmdlet will disable the Maintenance mode for this extent.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRArchiveExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRArchiveExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRArchiveExtentMaintenanceMode -ArchiveExtent <VBRArchiveExtent[]> [-RunAsync] [<CommonParameters>]
```

Disable-VBRArchiveExtentSealedMode
----------------------------------

### Synopsis
Disables the Sealed mode for the archive extent.

---

### Description

This cmdlet disables the Sealed mode for the archive extent of the scale-out backup repository.
Run the Enable-VBRArchiveExtentSealedMode cmdlet to enable the Sealed mode.

---

### Related Links
* [Get-VBRArchiveExtent](Get-VBRArchiveExtent.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Disabling Sealed Mode for Archive Extent

$repository = Get-VBRBackupRepository -ScaleOut
$extent = Get-VBRArchiveExtent -Repository $repository
Disable-VBRArchiveExtentSealedMode -ArchiveExtent $extent
This example shows how to disable Sealed mode for the specified archive extent of the scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Save the result to the $repository variable.
2. Run the Get-VBRArchiveExtent cmdlet. Set the $repository variable as the Repository parameter value. Save the result to the $extent variable.
3. Run the Disable-VBRArchiveExtentSealedMode cmdlet. Set the $extent variable as the ArchiveExtent parameter value.

---

### Parameters
#### **ArchiveExtent**
Specifies the archive extent.The cmdlet will disable the Sealed mode for this extent.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRArchiveExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRArchiveExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRArchiveExtentSealedMode -ArchiveExtent <VBRArchiveExtent[]> [-RunAsync] [<CommonParameters>]
```

Disable-VBRBackupCopyJob
------------------------

### Synopsis
Disables backup copy jobs.

---

### Description

This cmdlet disables backup copy jobs.
Run the Enable-VBRBackupCopyJob cmdlet to enable backup copy jobs.

---

### Related Links
* [Get-VBRBackupCopyJob](Get-VBRBackupCopyJob.md)

---

### Examples
> Disabling Backup Copy Job

$job = Get-VBRBackupCopyJob
Disable-VBRBackupCopyJob -Job $job
This example shows how to disable a backup copy job.
Perform the following steps:
1. Run the Get-VBRBackupCopyJob cmdlet. Save the result to the $job variable.
2. Run the Disable-VBRBackupCopyJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of backup copy jobs that you want to disable.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRBackupCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRBackupCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRBackupCopyJob [-Job] <VBRBackupCopyJob[]> [-PassThru] [<CommonParameters>]
```

Disable-VBRCapacityExtentMaintenanceMode
----------------------------------------

### Synopsis
Disables the Maintenance mode for capacity extents.

---

### Description

This cmdlet disables the Maintenance mode for capacity extents of the scale-out backup repository.
Run the Enable-VBRCapacityExtentMaintenanceMode cmdlet to enable the Maintenance mode.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCapacityExtent](Get-VBRCapacityExtent.md)

---

### Examples
> Disabling Maintenance Mode for Capacity Extent

$scaleoutrepository = Get-VBRBackupRepository -ScaleOut -Name "Amazon S3"
$extent = Get-VBRCapacityExtent -Repository $scaleoutrepository
Disable-VBRCapacityExtentMaintenanceMode -CapacityExtent $extent
This example shows how to disable the Maintenance mode for the capacity extent.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value and provide ScaleOut parameter. Save the result to the $scaleoutrepository variable.
2. Run the Get-VBRCapacityExtent cmdlet. Set the $scaleoutrepository variable as Repository parameter value. Save the result to the $extent variable.
3. Run the Disable-VBRCapacityExtentMaintenanceMode cmdlet. Set the $extent variable as the CapacityExtent parameter value.

---

### Parameters
#### **CapacityExtent**
Specifies the capacity extent. The cmdlet will disable the Maintenance mode for this extent.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRCapacityExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCapacityExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCapacityExtentMaintenanceMode -CapacityExtent <VBRCapacityExtent[]> [-RunAsync] [<CommonParameters>]
```

Disable-VBRCapacityExtentSealedMode
-----------------------------------

### Synopsis
Disable Sealed mode for capacity extents.

---

### Description

This cmdlet disables Sealed mode for capacity extents of the scale-out backup repository.
Run the Enable-VBRCapacityExtentSealedMode cmdlet to enable the Sealed mode for capacity extents of the scale-out backup repository.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCapacityExtent](Get-VBRCapacityExtent.md)

---

### Examples
> Disabling Sealed Mode for Capacity Extent

$repository = Get-VBRBackupRepository -ScaleOut
$extent = Get-VBRCapacityExtent
Disable-VBRRepositoryExtentSealedMode -Extent $extent
This example shows how to enable Sealed mode for the specified capacity extent of the scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Save the result to the $repository variable.
2. Run the Get-VBRCapacityExtent cmdlet. Save the result to the $extent variable.
3. Run the Disable-VBRCapacityExtentSealedMode cmdlet. Set the $extent variable as the CapacityExtent parameter value.

---

### Parameters
#### **CapacityExtent**
Specifies a capacity extents of scale-out backup repository. The cmdlet will disable Sealed mode for the specified capacity extent.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRCapacityExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCapacityExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCapacityExtentSealedMode -CapacityExtent <VBRCapacityExtent[]> [-RunAsync] [<CommonParameters>]
```

Disable-VBRCatalystCopyJob
--------------------------

### Synopsis
Disables backup copy jobs for HPE StoreOnce repositories.

---

### Description

This cmdlet disables backup copy jobs for HPE StoreOnce repositories.
Run the Enable-VBRCatalystCopyJob cmdlet to enable backup copy jobs for HPE StoreOnce repositories.

---

### Related Links
* [Get-VBRCatalystCopyJob](Get-VBRCatalystCopyJob.md)

---

### Examples
> Disabling Backup Copy Job for HPE StoreOnce Repository

$job = Get-VBRCatalystCopyJob -Name "StoreOnce copy job"
Disable-VBRCatalystCopyJob -Job $job
This example shows how to disable the StoreOnce copy job backup copy job for an HPE StoreOnce repository.
Perform the following steps:
1. Run the Get-VBRCatalystCopyJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRCatalystCopyJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of backup copy jobs for HPE StoreOnce repositories. The cmdlet will disable these jobs.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRCatalystCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCatalystCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCatalystCopyJob [-Job] <VBRCatalystCopyJob[]> [-PassThru] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCDPPolicy
--------------------

### Synopsis
Disables CDP policies including Cloud Director CDP policies, CDP policies, cloud CDP policies and so on.

---

### Description

This cmdlet disables CDP policies including Cloud Director CDP policies, CDP policies, cloud CDP policies and so on. Run the Enable-VBRCDPPolicy cmdlet to enable CDP policies.

---

### Related Links
* [Get-VBRCDPPolicy](Get-VBRCDPPolicy.md)

---

### Examples
> Disabling CDP Policies

$policy = Get-VBRCDPPolicy
Disable-VBRCDPPolicy -Policy $policy
This example shows how to disable CDP policies.

Perform the following steps:
1. Run the Get-VBRCDPPolicy cmdlet. Save the result to the $policy variable.
2. Run the Disable-VBRCDPPolicy cmdlet. Set the $policy variable as the Policy parameter value.

---

### Parameters
#### **Policy**
Specifies an array of CDP policies.The cmdlet will disable these policies.
Accepts the VBRCDPPolicyBase[] object. To get this object, run the Get-VBRCDPPolicy cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCDPPolicyBase[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCDPPolicyBase[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCDPPolicy -Policy <VBRCDPPolicyBase[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCDPProxy
-------------------

### Synopsis
Disables VMware CDP proxies.

---

### Description

This cmdlet disables VMware CDP proxies.
Run the Enable-VBRCDPProxy cmdlet to enable VMware CDP proxies

---

### Related Links
* [Get-VBRCDPProxy](Get-VBRCDPProxy.md)

---

### Examples
> Disabling VMware CDP Proxies

$proxy = Get-VBRCDPProxy
Disable-VBRCDPProxy -Proxy $proxy
This example shows how to disable VMware CDP proxies.

Perform the following steps:
1. Run the Get-VBRCDPProxy cmdlet. Save the result to the $proxy variable.
2. Run the Disable-VBRCDPProxy cmdlet. Set the $proxy variable as the Proxy parameter value.

---

### Parameters
#### **Proxy**
Specifies an array of VMware CDP proxies.
The cmdlet will disable these proxies.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[VBRCDPProxy[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCDPProxy[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCDPProxy -Proxy <VBRCDPProxy[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCloudGateway
-----------------------

### Synopsis
Disables cloud gateways.

---

### Description

This cmdlet disables a selected cloud gateway. Disabling a gateway temporarily suspends all operations on it. Run the Enable-VBRCloudGateway cmdlet to enable a disabled cloud gateway.

---

### Related Links
* [Get-VBRCloudGateway](Get-VBRCloudGateway.md)

---

### Examples
> Example 1. Disabling Cloud Gateway [Using Variable]

$cloudgateway = Get-VBRCloudGateway -Name "Cloud gateway"
Disable-VBRCloudGateway -CloudGateway $cloudgateway
This example shows how to disable the selected cloud gateway.

Perform the following steps:
1. Run the Get-VBRCloudGateway cmdlet. Specify the Name parameter value. Save the result to the $cloudgateway variable.
2. Run the Disable-VBRCloudGateway cmdlet. Set the $cloudgateway variable as the CloudGateway parameter value.
> Example 2. Disabling Cloud Gateway [Using Pipeline]

Get-VBRCloudGateway -Name "172.16.12.45" | Disable-VBRCloudGatewaya
This example shows how to disable the selected cloud gateway.

Perform the following steps:
1. Run the Get-VBRCloudGateway cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBRCloudGateway cmdlet.

---

### Parameters
#### **CloudGateway**
Specifies the array of cloud gateways you want to disable. Accepts the VBRCloudGateway[] object. To get this object, run the Get-VBRCloudGateway cmdlet.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[VBRCloudGateway[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudGateway[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCloudGateway -CloudGateway <VBRCloudGateway[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCloudGatewayPool
---------------------------

### Synopsis
Disables cloud gateway pools.

---

### Description

This cmdlet disables selected cloud gateway pools. Disabling a cloud gateway pool temporarily suspends all operations on it. Run the Enable-VBRCloudGatewayPool cmdlet to enable the disabled cloud gateway pools.

---

### Related Links
* [Get-VBRCloudGatewayPool](Get-VBRCloudGatewayPool.md)

---

### Examples
> Example - Disabling Cloud Gateway Pool

$pool = Get-VBRCloudGatewayPool -Name "New Cloud Pool"
Disable-VBRCloudGatewayPool -CloudGatewayPool $pool
This example shows how to disable a cloud gateway pool.

Perform the following steps:
1. Run the Get-VBRCloudGatewayPool cmdlet. Specify the Name parameter value. Save the result to the $pool variable.
2. Run the Disable-VBRCloudGatewayPool cmdlet. Set the $pool variable as the CloudGatewayPool parameter value.

---

### Parameters
#### **CloudGatewayPool**
Specifies an array of cloud gateway pools that you want to disable. Accepts the VBRCloudGatewayPool[] object. To get this object, run the Get-VBRCloudGatewayPool cmdlet.

|Type                     |Required|Position|PipelineInput |
|-------------------------|--------|--------|--------------|
|`[VBRCloudGatewayPool[]]`|true    |named   |True (ByValue)|

#### **Force**
Defines that the cmdlet will not show the notification about the active sessions of tenants

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudGatewayPool[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCloudGatewayPool -CloudGatewayPool <VBRCloudGatewayPool[]> [-Force] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCloudMaintenanceMode
-------------------------------

### Synopsis
Disables Maintenance mode for the cloud infrastructure.

---

### Description

This cmdlet returns the cloud infrastructure to the normal operational mode. Cloud resources become available for the associated cloud tenants. Run the Enable-VBRCloudMaintenanceMode cmdlet to bring the cloud infrastructure back to the Maintenance mode.

---

### Examples
> Example - Disabling Maintenance Mode for Cloud Infrastructure

```PowerShell
Disable-VBRCloudMaintenanceMode
This command returns the cloud infrastructure to the normal operational mode.
```

---

### Parameters
#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCloudMaintenanceMode [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCloudSubTenant
-------------------------

### Synopsis
Disables cloud subtenant accounts.

---

### Description

This cmdlet disables a cloud subtenant account. When you disable a subtenant account, the subtenant cannot use their account resources. You can disable cloud subtenant accounts of the following types:
- Simple cloud subtenant accounts
- vCD Cloud subtenant accounts
Run Enable-VBRCloudSubTenant to enable a disabled account.

---

### Related Links
* [Get-VBRCloudSubTenant](Get-VBRCloudSubTenant.md)

---

### Examples
> Example - Disabling Cloud Subtenant

$subtenant = Get-VBRCloudSubTenant -Name "Alpha"
Disable-VBRCloudSubTenant -SubTenant $subtenant
This example shows how to disable a cloud subtenant.

Perform the following steps:
1. Run the Get-VBRCloudSubTenant cmdlet. Specify the Name parameter value. Save the result to the $subtenant variable.
2. Run the Disable-VBRCloudSubTenant cmdlet. Set the $subtenant variable as the SubTenant parameter value.

---

### Parameters
#### **SubTenant**
Specifies the array of cloud subtenants you want to disable. The subtenants can have different parents. Accepts the VBRCloudSubTenant[] object. To get this object, run the Get-VBRCloudSubTenant cmdlet.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[IVBRCloudSubTenant[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudSubTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCloudSubTenant -SubTenant <IVBRCloudSubTenant[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCloudSubUser
-----------------------

### Synopsis
Disables cloud subuser accounts.

---

### Description

This cmdlet disables a cloud subuser account. When you disable a subuser account, the subuser cannot use their account resources. You can disable the cloud subtenant accounts of the following types:
- Simple cloud tenant accounts
- vCD Cloud tenant accounts
Run the Enable-VBRCloudSubUser cmdlet to enable a disabled account.

---

### Related Links
* [Get-VBRCloudSubUser](Get-VBRCloudSubUser.md)

---

### Examples
> Example - Disabling Cloud Subuser

$subuser = Get-VBRCloudSubUser -Name "Subuser 1"
Disable-VBRCloudSubUser -SubUser $subuser
This example shows how to disable a cloud subuser.

Perform the following steps:
1. Run the Get-VBRCloudSubUser cmdlet. Specify the Name parameter value. Save the result to the $subuser variable.
2. Run the Disable-VBRCloudSubUser cmdlet. Set the $subuser variable as the SubUser parameter value.

---

### Parameters
#### **SubUser**
Specifies the array of cloud subusers you want to disable. The subusers can have different parents. Accepts the VBRCloudSubUser[] object. To get this object, run the Get-VBRCloudSubUser cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[IVBRCloudSubUser[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudSubUser[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCloudSubUser -SubUser <IVBRCloudSubUser[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRCloudTenant
----------------------

### Synopsis
Disables cloud tenant accounts.

---

### Description

This cmdlet disables a cloud tenant account. When you disable a tenant account, the tenant cannot use their account resources. You can disable the cloud tenant accounts of the following types:
- Simple cloud tenant accounts
- vCD Cloud tenant accounts
Run the Enable-VBRCloudTenant cmdlet to enable a disabled account.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Example 1. Disabling vCD Cloud Tenant Account

$tenant = Get-VBRCloudTenant -Name "vCD Tenant"
Disable-VBRCloudTenant -CloudTenant $tenant
This example shows how to disable a vCD cloud tenant account.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter. Save the result to the $tenant variable.
2. Run the Disable-VBRCloudTenant cmdlet. Set the $tenant variable as the CloudTenant parameter value.
> Example 2. Disabling Several Cloud Tenant Accounts

$tenant = Get-VBRCloudTenant -Name "ABC Company Tenant", "vCD Tenant"
Disable-VBRCloudTenant -CloudTenant $tenant
This example shows how to disable several cloud tenant accounts.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Disable-VBRCloudTenant cmdlet. Set the $tenant variable as the CloudTenant parameter value.

---

### Parameters
#### **CloudTenant**
Specifies an array of tenant accounts that you want to disable. Accepts the VBRCloudTenant[] object. To get this object, run the Get-VBRCloudTenant cmdlet.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRCloudTenant -CloudTenant <IVBRCloudTenant[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRComputerBackupCopyJob
--------------------------------

### Synopsis
Disables Veeam Agent backup copy jobs.

---

### Description

This cmdlet disables Veeam Agent backup copy jobs.
Run the Enable-VBRComputerBackupCopyJob cmdlet to enable Veeam Agent backup copy jobs.

---

### Related Links
* [Get-VBRComputerBackupCopyJob](Get-VBRComputerBackupCopyJob.md)

---

### Examples
> Disabling Veeam Agent Backup Copy Jobs

$jobs = Get-VBRComputerBackupCopyJob
Disable-VBRComputerBackupCopyJob -Job $jobs
This example shows how to disable Veeam Agent Backup copy jobs.

Perform the following steps:
1. Run the Get-VBRComputerBackupCopyJob cmdlet. Save the result to the $jobs variable.
2. Run the Disable-VBRComputerBackupCopyJob cmdlet. Set the $jobs variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of Veeam Agent backup copy jobs that you want to disable.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRComputerBackupCopyJob [-Job] <VBRComputerBackupCopyJob[]> [-PassThru] [<CommonParameters>]
```

Disable-VBRComputerBackupJob
----------------------------

### Synopsis
Disables Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Description

This cmdlet disables Veeam Agent backup jobs and Veeam Agent backup policies.
Run the Enable-VBRComputerBackupJob cmdlet to enable Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Related Links
* [Get-VBRComputerBackupJob](Get-VBRComputerBackupJob.md)

---

### Examples
> Disabling Veeam Agent backup Job

$job = Get-VBRComputerBackupJob -Name "WinSrv2049"
Disable-VBRComputerBackupJob -Job $job
This example shows how to disable the WinSrv2049 Veeam Agent Backup Job.
Perform the following steps:
1. Run the Get-VBRComputerBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRComputerBackupJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies a Veeam Agent backup job or a Veeam Agent backup policy that you want to disable.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRComputerBackupJob [-Job] <VBRComputerBackupJob[]> [-PassThru] [<CommonParameters>]
```

Disable-VBRComputerFileProxyServer
----------------------------------

### Synopsis
Disables file proxy servers.

---

### Description

This cmdlet disables file proxy servers.
Run the Enable-VBRComputerFileProxyServer cmdlet to enable a file backup proxy.

---

### Related Links
* [Get-VBRComputerFileProxyServer](Get-VBRComputerFileProxyServer.md)

---

### Examples
> Disabling File Proxy Server

$fileproxy = Get-VBRComputerFileProxyServer
Disable-VBRComputerFileProxyServer -Proxy $fileproxy[3]
This example shows how to disable a file proxy server.
Perform the following steps:
1. Run the Get-VBRComputerFileProxyServer cmdlet. Save the result to the $fileproxy variable.
2. Run the Disable-VBRComputerFileProxyServer cmdlet. Set the $fileproxy[3] variable as the Proxy parameter value.
The Get-VBRComputerFileProxyServer cmdlet will return an array of file proxies. Mind the ordinal number of the necessary file proxy (in our example, it is the fourth file proxy in the array).

---

### Parameters
#### **Proxy**
Specifies an array of file backup proxies. The cmdlet will disable these proxies.

|Type                            |Required|Position|PipelineInput                 |
|--------------------------------|--------|--------|------------------------------|
|`[VBRComputerFileProxyServer[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerFileProxyServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRComputerFileProxyServer -Proxy <VBRComputerFileProxyServer[]> [<CommonParameters>]
```

Disable-VBREPJob
----------------

### Synopsis
Disables backup jobs run by Veeam Agent operating in a standalone mode.

---

### Description

This cmdlet disables backup jobs run by Veeam Agent operating in a standalone mode.
When you disable a job, you temporarily put it on hold. The job and its settings are not deleted from Veeam Backup & Replication.
Run the Enable-VBREPJob cmdlet to enable a disabled job.

---

### Related Links
* [Get-VBREPJob](Get-VBREPJob.md)

---

### Examples
> Example 1. Disabling Backup Job Run by Veeam Agent in Standalone Mode [Using Variable]

$job = Get-VBREPJob -Name "Backup Job Mediaserver"
Disable-VBREPJob -Job $job
This example shows how to disable a backup job run by Veeam Agent operating in a standalone mode using a variable.
Perform the following steps:
1. Run the Get-VBREPJob cmdlet. Specify the Name parameter value. Save it to the $job variable.
2. Run the Disable-VBREPJob cmdlet. Set the $job variable as the Job parameter value.
> Example 2. Disabling Backup Job Run by Veeam Agent in Standalone Mode [Using Pipeline]

Get-VBREPJob -Name "Backup Job Mediaserver" | Disable-VBREPJob
This example shows how to disable a backup job run by Veeam Agent operating in a standalone mode using a pipeline.
Perform the following steps:
1. Run the Get-VBREPJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBREPJob cmdlet.

---

### Parameters
#### **Job**
Specifies the array of backup jobs. The cmdlet will disable these jobs.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBREPJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBREPJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBREPJob -Job <VBREPJob[]> [<CommonParameters>]
```

Disable-VBRFreeAgentInstanceConsumption
---------------------------------------

### Synopsis
Disables instance consumption by non-licensed Veeam Agents.

---

### Description

This cmdlet disables instance consumption by non-licensed Veeam Agents.
Run the Enable-VBRFreeAgentInstanceConsumption cmdlet to enable this option.

---

### Examples
> Disabling Instance Consumption by Veeam Agents

```PowerShell
Disable-VBRFreeAgentInstanceConsumption
This command disables instance consumption by non-licensed Veeam Agents.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRFreeAgentInstanceConsumption [<CommonParameters>]
```

Disable-VBRHvProxy
------------------

### Synopsis
Disables a Hyper-V backup proxy.

---

### Description

This cmdlet allows you to disable the Hyper-V backup proxy. The disabled proxy is not used by any job.
Run the Enable-VBRHvProxy cmdlet to enable the Hyper-V backup proxy.

---

### Related Links
* [Get-VBRHvProxy](Get-VBRHvProxy.md)

---

### Examples
> Example 1. Disabling Hyper-V Backup Proxy [Using Pipeline]

Get-VBRHvProxy -Name "Hyper-V Backup Proxy 01" | Disable-VBRHvProxy
This example shows how to disable the Hyper-V backup proxy named Hyper-V Backup Proxy 01.
Perform the following steps:
1. Run the Get-VBRHvProxy cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBRHvProxy cmdlet.
> Example 2. Disabling Hyper-V Backup Proxy [Using Variable]

$proxy = Get-VBRHvProxy -Name "Local Backup Proxy"
Disable-VBRHvProxy -Proxy $proxy
This example shows how to disable the Hyper-V backup proxy named Local Backup Proxy.
Perform the following steps:
1. Run the Get-VBRHvProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
2. Run the Disable-VBRHvProxy cmdlet. Set the $proxy variable as the Proxy parameter value

---

### Parameters
#### **Proxy**
Specifies an array of the Hyper-V proxies you want to disable.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CHvProxy[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CHvProxy[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRHvProxy -Proxy <CHvProxy[]> [<CommonParameters>]
```

Disable-VBRIndependentRetention
-------------------------------

### Synopsis
Disables background retention for backups.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet disables background retention for backups that starts automatically every 24 hours at 00:30.
Run the Enable-VBRIndependentRetention cmdlet to enable background retention policy.
The Disable-VBRBackgroundRetention cmdlet is an alias for the Disable-VBRIndependentRetention cmdlet.

---

### Examples
> Disabling Background Retention for Backups

```PowerShell
Disable-VBRIndependentRetention
This command disables background retention for backups.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRIndependentRetention [<CommonParameters>]
```

Disable-VBRJob
--------------

### Synopsis
Puts a selected job on hold.

---

### Description

This cmdlet disables an enabled job. The job and its settings are not deleted from Veeam Backup & Replication. You can run this cmdlet with backup, replication and copy jobs.

Run the Enable-VBRJob cmdlet to enable the job.

Run the Stop-VBRJob cmdlet to stop the job once without disabling it.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Disabling Specific Jobs [Using Pipeline]

Get-VBRJob -Name "Backup Job 01", "Backup Job 02" | Disable-VBRJob
This example shows how to disable jobs named Backup Job 01 and Backup Job 02.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBRJob cmdlet.
> Example 2. Disabling Specific Job [Using Variable]

$job = Get-VBRJob -Name "Backup Job"
Disable-VBRJob -Job $job
This example shows how to disable the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs you want to disable.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRJob -Job <CBackupJob[]> [<CommonParameters>]
```

Disable-VBRJobGuestFSIndexing
-----------------------------

### Synopsis
Disables job guest file system indexing option.

---

### Description

This cmdlet disables guest file system indexing in the selected job. The guest file system indexing settings are not deleted.

You can run this cmdlet with backup and replication jobs.

Run the Enable-VBRJobGuestFSIndexing cmdlet to enable the guest file system indexing option.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Disabling Guest File System Indexing Option [Using Pipeline]

Get-VBRJob -Name "Backup Job 01", "Backup Job 02" | Disable-VBRJobGuestFSIndexing
This example shows how to disable the guest file system indexing option in Backup Job 01 and Backup Job 02 jobs.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBRJobGuestFSIndexing cmdlet.
> Example 2. Disabling Guest File System Indexing Option [Using Variable]

$job = Get-VBRJob -Name "Backup Job 01"
Disable-VBRJobGuestFSIndexing -Job $job
This example shows how to disable the guest file system indexing option in the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRJobGuestFSIndexing cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs. The cmdlet will disable guest file system indexing for these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRJobGuestFSIndexing [-Job] <CBackupJob[]> [<CommonParameters>]
```

Disable-VBRJobSchedule
----------------------

### Synopsis
Disables job schedule.

---

### Description

This cmdlet disables job schedule. The schedule settings are not deleted. You can run this cmdlet with backup, replication and copy jobs.
Run the Start-VBRJob cmdlet to start the job once.
Run the Enable-VBRJobSchedule cmdlet to enable job schedule.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Disabling Specific Job [Using Pipeline]

Get-VBRJob -Name "Backup Job 01" | Disable-VBRJobSchedule
This example shows how to disable the Backup Job 01 job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBRJobSchedule cmdlet.
> Example 2. Disabling Job Represented by Variable

$job = Get-VBRJob -Name "Backup Job 01"
Disable-VBRJobSchedule -Job $job
This example shows how to disable the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRJobSchedule cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs. The cmdlet will disable schedule in these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRJobSchedule -Job <CBackupJob[]> [<CommonParameters>]
```

Disable-VBRJobVSSIntegration
----------------------------

### Synopsis
Disables job VSS settings.

---

### Description

This cmdlet disables the VSS settings in the selected job. The VSSs settings are not deleted form the job.
You can run this cmdlet with backup and replication jobs.
Run the Enable-VBRJobVSSIntegration cmdlet to enable VSS settings in the selected job.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Disabling VSS Options in Specific Job [Using Pipeline]

Get-VBRJob -Name "Backup Job 01", "Backup Job 02" | Disable-VBRJobVSSIntegration
This example shows how to disable the VSS options in the Backup Job 01 and Backup Job 02 jobs.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBRJobVSSIntegration cmdlet.
> Example 2. Disabling VSS Options in Job [Using Variable]

$job = Get-VBRJob -Name "Backup Job 02"
Disable-VBRJobVSSIntegration -Job $job
This example shows how to disable the VSS options in job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRJobVSSIntegration cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs. The cmdlet will disable VSS settings for these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRJobVSSIntegration [-Job] <CBackupJob[]> [<CommonParameters>]
```

Disable-VBRLicenseAutoUpdate
----------------------------

### Synopsis
Disables the automatic license update option.

---

### Description

This cmdlet disables the automatic license update option.
Run the Enable-VBRLicenseAutoUpdate cmdlet to enable the automatic license update option.

---

### Examples
> Disabling Automatic License Update Option

```PowerShell
Disable-VBRLicenseAutoUpdate
This command disables the automatic license update option.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRLicenseAutoUpdate [<CommonParameters>]
```

Disable-VBRMailNotification
---------------------------

### Synopsis
Disables global email notification settings.

---

### Description

This cmdlet disables global email notification settings.
Run the Enable-VBRMailNotification cmdlet to enable global email notification settings.

---

### Examples
> Disabling Global Email Notification Settings

```PowerShell
Disable-VBRMailNotification
This command disables global email notification settings.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRMailNotification [<CommonParameters>]
```

Disable-VBRNASProxyServer
-------------------------

### Synopsis
Disables an enabled file share backup proxy.

---

### Description

This cmdlet allows you to disable a file share backup proxy. Run the Enable-VBRNASProxyServer cmdlet to enable a file share backup proxy.

---

### Related Links
* [Get-VBRNASProxyServer](Get-VBRNASProxyServer.md)

---

### Examples
> Example - Disabling File Share Backup Proxy by Name

$nasproxy = Get-VBRNASProxyServer -Name "File Backup Proxy 09"
Disable-VBRNASProxyServer -Proxy $nasproxy
This example shows how to disable the File Share Backup Proxy 09 proxy by its name.

Perform the following steps:
1. Run the Get-VBRNASProxyServer cmdlet. Specify the Name parameter value. Save the result to the $nasproxy variable.
2. Run the Disable-VBRNASProxyServer cmdlet. Set the $nasproxy variable as the Proxy parameter value.

---

### Parameters
#### **Proxy**
Specifies an array of file share proxies you want to disable. Accepts the VBRNASProxyServer[] object. To get this object, run the Get-VBRNASProxyServer cmdlet.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRNASProxyServer[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRNASProxyServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRNASProxyServer -Proxy <VBRNASProxyServer[]> [<CommonParameters>]
```

Disable-VBRPluginJob
--------------------

### Synopsis
Stops plug-in backup jobs and plug-in backup copy jobs.

---

### Description

This cmdlet stops plug-in backup jobs and plug-in backup copy jobs.
Run the Enable-VBRPluginJob cmdlet to start plug-in backup jobs and plug-in backup copy jobs.

---

### Related Links
* [Get-VBRPluginJob](Get-VBRPluginJob.md)

---

### Examples
> Stopping All Plug-in Backup Jobs and Plug-in Backup Copy Jobs

$job = Get-VBRPluginJob -Name "Plug-in backup 17"
Disable-VBRPluginJob -Job $job
This example shows how to stop plug-in backup jobs and plug-in backup copy jobs.
Perform the following steps:
1. Run the Get-VBRPluginJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Disable-VBRPluginJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Force**
Defines that the cmdlet will return a notification that the backup files created by the plug-in backup copy job will be left in the inconsistent state after running this cmdlet.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Job**
Specifies an array of plug-in backup jobs and plug-in backup copy jobs. The cmdlet will stop these jobs. Accepts the VBRPluginJob[] object.  To get this object, run the Get-VBRPluginJob cmdlet.

|Type              |Required|Position|PipelineInput |
|------------------|--------|--------|--------------|
|`[VBRPluginJob[]]`|true    |0       |True (ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRPluginJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRPluginJob [-Job] <VBRPluginJob[]> [-Force] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRPreferredNetworkDataTransfer
---------------------------------------

### Synopsis
Disables data transfer over preferred networks.

---

### Description

This cmdlet data transfer over preferred networks only.
Run the Enable-VBRPreferredNetworkDataTransfer cmdlet to enable the data transfer over preferred networks only.

---

### Examples
> Disabling Data Transfer over Preferred Networks

```PowerShell
Disable-VBRPreferredNetworkDataTransfer
This command disables data transfer over preferred networks.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRPreferredNetworkDataTransfer [<CommonParameters>]
```

Disable-VBRProtectionGroup
--------------------------

### Synopsis
Disables automatic discovery for the protection group computers.

---

### Description

This cmdlet disables automatic discovery for the computers of selected protection groups.
Run the Enable-VBRProtectionGroup cmdlet to enable automatic discovery.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Enable-VBRProtectionGroup](Enable-VBRProtectionGroup.md)

---

### Examples
> Disabling Automatic Discovery for Computers of Protection Group

$group = Get-VBRProtectionGroup -Name "East Computers"
Disable-VBRProtectionGroup -ProtectionGroup $group
This example shows how to disable automatic discovery for the computers of a protection group.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Disable-VBRProtectionGroup cmdlet. Set the $group variable as the ProtectionGroup parameter value.

---

### Parameters
#### **ProtectionGroup**
Specifies the array of protection groups. The cmdlet will disable automatic discovery for the computers of these protection groups.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRProtectionGroup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRProtectionGroup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRProtectionGroup -ProtectionGroup <VBRProtectionGroup[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRRepositoryExtentMaintenanceMode
------------------------------------------

### Synopsis
Disables Maintenance mode for extents of a scale-out backup repository.

---

### Description

This cmdlet disables Maintenance mode for a selected extent or several extents of scale-out backup repositories. You can disable the Maintenance mode that was enabled with the Enable-VBRRepositoryExtentMaintenanceMode cmdlet. When you disable the Maintenance mode, the extents return to normal operation.
With one command, you can disable the Maintenance mode for multiple extents.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRrepositoryExtent](Get-VBRrepositoryExtent.md)

---

### Examples
> Disabling Maintenance Mode for Performance Extents

$scaleoutrepository = Get-VBRBackupRepository -ScaleOut -Name "Amazon S3"
$extent = Get-VBRrepositoryExtent -Repository $scaleoutrepository
Disable-VBRRepositoryExtentMaintenanceMode -Extent $extent[2]
This example shows how to disable the Maintenance mode for the performance extents.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value and provide the ScaleOut parameter. Save the result to the $scaleoutrepository variable.
2. Run the Get-VBRrepositoryExtent cmdlet. Set the $scaleoutrepository as the Repository parameter value. Save the result to the $extent variable.
The Get-VBRrepositoryExtent cmdlet will return an array of extents. Mind the ordinal number of the necessary extent (in our example, it is the second extent in the array).
3. Run the Disable-VBRRepositoryExtentMaintenanceMode cmdlet. Set the $extent variable as the Extent parameter value.

---

### Parameters
#### **Extent**
Specifies the array of scale-out repository extents. The cmdlet will disable the Maintenance mode for these extents.
Accepts extents with different policies and of different scale-out repositories.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[VBRRepositoryExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRRepositoryExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRRepositoryExtentMaintenanceMode -Extent <VBRRepositoryExtent[]> [-RunAsync] [<CommonParameters>]
```

Disable-VBRRepositoryExtentSealedMode
-------------------------------------

### Synopsis
Disables Sealed mode for extents of a scale-out backup repository.

---

### Description

This cmdlet disables Sealed mode for extents of a scale-out backup repository.
Run the Enable-VBRRepositoryExtentSealedMode cmdlet to enable Sealed mode for extents of a scale-out backup repository.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCapacityExtent](Get-VBRCapacityExtent.md)

---

### Examples
> Disabling Sealed Mode for Extents

$repository = Get-VBRBackupRepository -ScaleOut
$extent = Get-VBRCapacityExtent -Repository $repository
Disable-VBRRepositoryExtentSealedMode -Extent $extent
This example shows how to disable Sealed mode for capacity extents of a scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRCapacityExtent cmdlet. Set the $repository variable as the Repository parameter value. Save the result to the $extent variable.
3. Run the Disable-VBRRepositoryExtentSealedMode cmdlet. Set the $extent variable as the Extent parameter value.

---

### Parameters
#### **Extent**
Specifies an array of scale-out repository extents. The cmdlet will disable the Sealed mode for these extents.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[VBRRepositoryExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRRepositoryExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRRepositoryExtentSealedMode -Extent <VBRRepositoryExtent[]> [-RunAsync] [<CommonParameters>]
```

Disable-VBRStorageLatencyControl
--------------------------------

### Synopsis
Disables the storage latency control option.

---

### Description

This cmdlet disables the storage latency control option on production datastores.
Run the Enable-VBRStorageLatencyControl cmdlet to enable the storage latency control option.

---

### Examples
> Disabling Storage Latency Control Option on Production Datastores

```PowerShell
Disable-VBRStorageLatencyControl
This command disables the storage latency control option on production datastores.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRStorageLatencyControl [<CommonParameters>]
```

Disable-VBRSureBackupJob
------------------------

### Synopsis
Disables running SureBackup jobs.

---

### Description

This cmdlet disables running SureBackup jobs.
Run the Enable-VBRSureBackupJob cmdlet to enable SureBackup jobs.

---

### Related Links
* [Get-VBRSureBackupJob](Get-VBRSureBackupJob.md)

---

### Examples
> Disabling SureBackup Job

$surejob = Get-VBRSureBackupJob -Name "Job01"
Disable-VBRSureBackupJob -Job $surejob
This example shows how to disable the Job01 SureBackup job.
Perform the following steps:
1. Run the Get-VBRSureBackupJob cmdlet. Specify the Name parameter value. Save the result to the $surejob variable.
2. Run the Disable-VBRSureBackupJob cmdlet. Set the $surejob variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies a SureBackup job. The cmdlet will disable this job.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRSureBackupJobBase]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSureBackupJobBase

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRSureBackupJob -Job <VBRSureBackupJobBase> [<CommonParameters>]
```

Disable-VBRTapeDrive
--------------------

### Synopsis
Disables a selected tape library drive.

---

### Description

This cmdlet disables a selected tape library recording drive.

When you disable a drive, Veeam Backup & Replication stops using it for read or write operations. You can disable a drive, for example, for maintenance.

Run the Enable-VBRTapeDrive cmdlet to enable the drive.

---

### Related Links
* [Get-VBRTapeDrive](Get-VBRTapeDrive.md)

---

### Examples
> Example 1 Disabling Drive of Selected Library [Using Pipeline]

Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00" | Get-VBRTapeDrive | Select -Last 1 | Disable-VBRTapeDrive
This example shows how to disable one drive of the HP MSL G3 Series 3.00 library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTapeDrive cmdlet. Select the last drive in the list. Pipe this all to Disable-VBRTapeDrive.
> Example 2 Disabling Drive of Selected Library [Using Variable]

$library = Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00"
$drive =  Get-VBRTapeDrive -Library $library | Select -First 1
Disable-VBRTapeDrive -Drive $drive
This example shows how to disable a first drive in HP MSL G3 Series 3.00 tape library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value. Save the result to the $library variable.
2. Run the Get-VBRTapeDrive cmdlet. Set the $library variable as the Library parameter value. Select the first drive. Save the result to the $drive variable.
3. Run the Disable-VBRTapeDrive cmdlet. Set the $drive variable as the Drive parameter value.

---

### Parameters
#### **Drive**
Specifies the array of drives. The cmdlet will disable these drives. Accepts the VBRTapeDrive[] object.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRTapeDrive[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeDrive[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRTapeDrive -Drive <VBRTapeDrive[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRTapeLibraryMaintenance
---------------------------------

### Synopsis
Disables the Maintenance mode for a tape library or a standalone tape drive.

---

### Description

The cmdlet disables the Maintenance mode for a tape library or a standalone tape drive. Run the Enable-VBRTapeLibraryMaintenance cmdlet to enable the maintenance mode for a tape library or a standalone tape drive.

---

### Related Links
* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

---

### Examples
> Disabling Maintenance Mode for Tape Library

$library = Get-VBRTapeLibrary -Name "HP MSL G3 Series 5.30"
Disable-VBRTapeLibraryMaintenance -Library $library
This example shows how to disable the maintenance mode for the HP MSL G3 Series 5.30 tape library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value. Save the result to the $library variable.
2. Run the Disable-VBRTapeLibraryMaintenance cmdlet. Set the $library variable as the Library parameter value.

---

### Parameters
#### **Library**
Specifies an array of tape libraries. The cmdlet will disable the Maintenance mode for this array of tape libraries. Accepts the VBRTapeLibrary[] object. To get this object, run the Get-VBRTapeLibrary cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeLibrary[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRTapeLibraryMaintenance -Library <VBRTapeLibrary[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Disable-VBRTapeProtection
-------------------------

### Synopsis
Disables protection set for tapes.

---

### Description

This cmdlet disables protection that was previously enabled for tapes.

You can disable protection of tapes that are both online or offline. When you disable protection, the tape retention period returns to media pool settings.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

---

### Examples
> Example - Turning off Tape Protection

$tape = Get-VBRTapeMedium -Name "00140009","00140010"
Disable-VBRTapeProtection -Medium $tape
This example shows how to turn off protections for the tapes named 00140009 and 00140010.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $tape variable.
2. Run the Disable-VBRTapeProtection cmdlet. Set $tape variable as the Medium parameter value.

---

### Parameters
#### **Medium**
Specifies the array of protected tapes. The cmdlet will disable protection for these tapes. Accepts the VBRTapeMedium object, GUID or string type.  To get this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeMedium[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeMedium[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRTapeProtection -Medium <VBRTapeMedium[]> [-PassThru] [<CommonParameters>]
```

Disable-VBRvCDReplicaJob
------------------------

### Synopsis
Disables Cloud Director replication jobs.

---

### Description

This cmdlet disables Cloud Director replication jobs.
Run the Enable-VBRvCDReplicaJob cmdlet to enable Cloud Director replication jobs.

---

### Related Links
* [Get-VBRvCDReplicaJob](Get-VBRvCDReplicaJob.md)

---

### Examples
> Disabling vCD Replication Jobs

$replicavCD = Get-VBRvCDReplicaJob
Disable-VBRvCDReplicaJob -Job $replicavCD
This example shows how to disable Cloud Director replication jobs.

Perform the following steps:
1. Run the Get-VBRvCDReplicaJob cmdlet. Save the result to the $replicavCD variable.
2. Run the Disable-VBRvCDReplicaJob cmdlet. Set the $replicavCD variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of Cloud Director replication jobs. The cmdlet will disable these jobs.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRvCDReplicaJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDReplicaJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRvCDReplicaJob -Job <VBRvCDReplicaJob[]> [<CommonParameters>]
```

Disable-VBRViProxy
------------------

### Synopsis
Disables a VMware backup proxy.

---

### Description

This cmdlet allows you to temporarily disable a VMware backup proxy. The disabled proxy is not used by any job.
Run the Enable-VBRViProxy cmdlet to enable a VMware backup proxy.

---

### Related Links
* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1. Disabling VMware Backup Proxy [Using Pipeline]

Get-VBRViProxy -Name "VMware Backup Proxy 01" | Disable-VBRViProxy
This example shows how to disable the VMware backup proxy named VMware Backup Proxy 01.
Perform the following steps:
1. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Disable-VBRViProxy cmdlet.
> Example 2. Disabling VMware Backup Proxy [Using Variable]

$proxy = Get-VBRViProxy -Name "Local Backup Proxy"
Disable-VBRViProxy -Proxy $proxy
This example shows how to disable the VMware backup proxy named Local Backup Proxy.
Perform the following steps:
1. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
2. Run the Disable-VBRViProxy cmdlet. Set the $proxy variable as the Proxy parameter value.

---

### Parameters
#### **Proxy**
Specifies an array of VMware proxies you want to disable.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CViProxy[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CViProxy[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VBRViProxy -Proxy <CViProxy[]> [<CommonParameters>]
```

Disable-VSBJob
--------------

### Synopsis
Puts a selected SureBackup job on hold.

---

### Description

This cmdlet puts a selected SureBackup job on hold. The job and its settings are not deleted from Veeam Backup & Replication. You can enable the job at any time by running Enable-VSBJob. Run Stop-VSBJob to stop the job once without disabling it.

---

### Examples
> Example 1

---

### Parameters
#### **Job**
Specifies the SureBackup job you want to disable.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[CSbJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CSbJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VSBJob [-Job <CSbJob[]>] [<CommonParameters>]
```

Disable-VSBJobSchedule
----------------------

### Synopsis
Disables a selected SureBackup job schedule.

---

### Description

This cmdlet disables a selected SureBackup job schedule. The schedule settings are not deleted. When you disable a job schedule, you can launch the job manually by running Start-VSBJob.

---

### Examples
> Example 1

---

### Parameters
#### **Job**
Specifies the job. The cmdlet will disable the schedule of this job. You can assign multiple backup jobs to this object.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[CSbJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CSbJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disable-VSBJobSchedule [-Job <CSbJob[]>] [<CommonParameters>]
```

Disconnect-VBRAmazonS3Service
-----------------------------

### Synopsis
Stops active sessions with Amazon S3 and S3 compatible object storage.

---

### Description

This cmdlet stops active sessions with Amazon S3 object storage. You can stop current sessions for the following types of Amazon object storage:
- Amazon S3
- S3 compatible (including IBM Cloud Object Storage)

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

---

### Examples
> Stopping Active Session with Amazon S3 Object Storage

$account = Get-VBRAmazonAccount -AccessKey "ABCDEFGHIGKLMNOP"
$session = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
Disconnect-VBRAmazonS3Service -Connection $session
This example shows how to stops an active session with Amazon S3 object storage.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $session variable.
3. Run the Disconnect-VBRAmazonS3Service cmdlet. Set the $session variable as the Connection parameter value.

---

### Parameters
#### **Connection**
Specifies a session with Amazon S3 object storage that you want to stop.

|Type                      |Required|Position|PipelineInput |
|--------------------------|--------|--------|--------------|
|`[IVBRAmazonS3Connection]`|true    |named   |True (ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRAmazonS3Connection

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disconnect-VBRAmazonS3Service -Connection <IVBRAmazonS3Connection> [<CommonParameters>]
```

Disconnect-VBRAzureBlobService
------------------------------

### Synopsis
Stops active sessions with Microsoft Azure Blob storage.

---

### Description

This cmdlet stops active sessions with Microsoft Azure Blob storage.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

---

### Examples
> Stopping Active Session with Microsoft Azure Blob Storage

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$session = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
Disconnect-VBRAzureBlobService -Connection $session
This example shows how to stop an active session with Microsoft Azure Blob storage.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $session variable.
3. Run the Disconnect-VBRAzureBlobService cmdlet. Set the $session variable as the Connection parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with Microsoft Azure Blob storage. The cmdlet will stop the session with this object storage.

|Type                       |Required|Position|PipelineInput |
|---------------------------|--------|--------|--------------|
|`[IVBRAzureBlobConnection]`|true    |named   |True (ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRAzureBlobConnection

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disconnect-VBRAzureBlobService -Connection <IVBRAzureBlobConnection> [<CommonParameters>]
```

Disconnect-VBRGoogleCloudService
--------------------------------

### Synopsis
Stops active sessions with Google Cloud object storage.

---

### Description

This cmdlet stops active sessions with Google Cloud object storage.

---

### Related Links
* [Get-VBRGoogleCloudAccount](Get-VBRGoogleCloudAccount.md)

* [Connect-VBRGoogleCloudService](Connect-VBRGoogleCloudService.md)

---

### Examples
> Disconnecting Google Cloud Service

$account = Get-VBRGoogleCloudAccount -AccessKey "ABCDEFGHIGKLMNOP"
$session = Connect-VBRGoogleCloudService -Account $account -ServiceType CapacityTier
Disconnect-VBRGoogleCloudService -Connection $session
This example shows how to stops an active session with Google Cloud object storage.
Perform the following steps:
1. Run the Get-VBRGoogleCloudAccount cmdlet. Specify the AccessKey parameter value. Save the result to the $account variable.
2. Run the Connect-VBRGoogleCloudService cmdlet. Specify the Account and the ServiceType parameters value. Save the result to the $session variable.
3. Run the Disconnect-VBRGoogleCloudService cmdlet. Set the $session variable as the Connection parameter value.

---

### Parameters
#### **Connection**
Specifies a session with Google Cloud object storage that you want to stop.

|Type                        |Required|Position|PipelineInput                 |
|----------------------------|--------|--------|------------------------------|
|`[VBRGoogleCloudConnection]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRGoogleCloudConnection

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disconnect-VBRGoogleCloudService -Connection <VBRGoogleCloudConnection> [<CommonParameters>]
```

Disconnect-VBRGuestService
--------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ConnectionId**

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[Guid]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disconnect-VBRGuestService -ConnectionId <Guid> [<CommonParameters>]
```

Disconnect-VBRServer
--------------------

### Synopsis
Ends current session with a Veeam backup server.

---

### Description

This cmdlet ends the current local or remote session with a Veeam backup server.
Run the Connect-VBRServer cmdlet to start the session again.

---

### Examples
> Example 1

```PowerShell
Disconnect-VBRServer
This command terminates the current connection to a Veeam backup server.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Disconnect-VBRServer [<CommonParameters>]
```

Download-VBRArchiveTierObjects
------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ArchiveBackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **ArchiveIndexId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **AuxDataFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **CheckpointFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **GlacierMetaFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Repository**

|Type                           |Required|Position|PipelineInput|Aliases|
|-------------------------------|--------|--------|-------------|-------|
|`[VBRScaleOutBackupRepository]`|true    |named   |False        |SOBR   |

#### **VbmFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Download-VBRArchiveTierObjects -ArchiveBackupId <Guid> -ArchiveIndexId <Guid> [-AuxDataFilePath <String>] [-CheckpointFilePath <String>] [-GlacierMetaFilePath <String>] 
```
```PowerShell
-Repository <VBRScaleOutBackupRepository> [-VbmFilePath <String>] [<CommonParameters>]
```

Download-VBRCapacityTierVbmAndCheckpoint
----------------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ArchiveBackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **ArchiveIndexId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **CapacityExtent**

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRCapacityExtent]`|false   |named   |False        |

#### **CheckpointFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Repository**

|Type                           |Required|Position|PipelineInput|Aliases|
|-------------------------------|--------|--------|-------------|-------|
|`[VBRScaleOutBackupRepository]`|true    |named   |False        |SOBR   |

#### **VbmFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Download-VBRCapacityTierVbmAndCheckpoint -ArchiveBackupId <Guid> -ArchiveIndexId <Guid> [-CapacityExtent <VBRCapacityExtent>] -CheckpointFilePath <String> -Repository 
```
```PowerShell
<VBRScaleOutBackupRepository> [<CommonParameters>]
```
```PowerShell
Download-VBRCapacityTierVbmAndCheckpoint -ArchiveBackupId <Guid> -ArchiveIndexId <Guid> [-CapacityExtent <VBRCapacityExtent>] -CheckpointFilePath <String> -Repository 
```
```PowerShell
<VBRScaleOutBackupRepository> -VbmFilePath <String> [<CommonParameters>]
```
```PowerShell
Download-VBRCapacityTierVbmAndCheckpoint -ArchiveBackupId <Guid> -ArchiveIndexId <Guid> [-CapacityExtent <VBRCapacityExtent>] -Repository <VBRScaleOutBackupRepository> 
```
```PowerShell
-VbmFilePath <String> [<CommonParameters>]
```

Download-VBRCapacityTierVbmsAndCheckpoints
------------------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ArchiveBackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **ArchiveIndexId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **CapacityExtent**

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRCapacityExtent]`|false   |named   |False        |

#### **DownloadCheckpoints**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **DownloadVbms**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FolderPath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Repository**

|Type                           |Required|Position|PipelineInput|Aliases|
|-------------------------------|--------|--------|-------------|-------|
|`[VBRScaleOutBackupRepository]`|true    |named   |False        |SOBR   |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Download-VBRCapacityTierVbmsAndCheckpoints -ArchiveBackupId <Guid> -ArchiveIndexId <Guid> [-CapacityExtent <VBRCapacityExtent>] [-DownloadCheckpoints] [-DownloadVbms] 
```
```PowerShell
-FolderPath <String> -Repository <VBRScaleOutBackupRepository> [<CommonParameters>]
```

Download-VBRDeletedArchivedBackupFile
-------------------------------------

### Synopsis
Retrieves a backup file deleted from the archive tier and preserved by insider protection.

---

### Description

This cmdlet retrieves a backup file deleted from the archive tier and preserved by insider protection.

---

### Related Links
* [Get-VBRDeletedArchivedBackupFile](Get-VBRDeletedArchivedBackupFile.md)

---

### Examples
> Example 1. Retrieving Backup Files from Amazon S3 Glacier

$backupFile = Get-VBRDeletedArchivedBackupFile
Download-VBRDeletedArchivedBackupFile -BackupFile $BackupFile[0] -AmazonS3GlacierRetrievalPolicy Standard -Overwrite
This example shows how to retrieve backup files from Amazon S3 Glacier.
Perform the following steps:
1. Run the Get-VBRDeletedArchivedBackupFile cmdlet. Save the result to the $backupfile variable.
The Get-VBRDeletedArchivedBackupFile cmdlet will return an array of deleted backup files. Mind the ordinal number of the necessary backup file (in our example, it is the first backup file in the array).
2. Run the Download-VBRDeletedArchivedBackupFile cmdlet. Set the $backupfile[0] variable as the BackupFile parameter value. Specify the AmazonS3GlacierRetrievalPolicy parameter value. Provide the Overwrite parameter.
> Example 2. Retrieving Backup Files from Microsoft Azure Archive Storage

$backupFile = Get-VBRDeletedArchivedBackupFile
Download-VBRDeletedArchivedBackupFile -BackupFile $backupFile[0] AzureArchiveRetrievalPolicy StandardPriority -Overwrite
This example shows how to retrieve backup files from Microsoft Azure Archive Storage.
Perform the following steps:
1. Run the Get-VBRDeletedArchivedBackupFile cmdlet. Save the result to the $backupfile variable.
The Get-VBRDeletedArchivedBackupFile cmdlet will return an array of deleted backup files. Mind the ordinal number of the necessary backup file (in our example, it is the first backup file in the array).
2. Run the Download-VBRDeletedArchivedBackupFile cmdlet. Set the $backupfile[0] variable as the BackupFile parameter value. Specify the AzureArchiveRetrievalPolicy parameter value. Provide the Overwrite parameter.

---

### Parameters
#### **AmazonS3GlacierRetrievalPolicy**
Defines the method of data retrieval for Amazon S3 Glacier object storage. You can retrieve data using one of the following method:
* Expedited: Use this method to retrieve archived data within 1-5 minutes. Note: this is the most expensive method.
* Standard: Use this method to retrieve archived data within 3-5 hours.
-Bulk: Use this method to retrieve archived data within 5-12 hours.
Valid Values:

* Expedited
* StandardAccelerated
* Standard
* Bulk

|Type                                 |Required|Position|PipelineInput|
|-------------------------------------|--------|--------|-------------|
|`[VBRAmazonS3GlacierRetrievalPolicy]`|true    |named   |False        |

#### **AzureArchiveRetrievalPolicy**
Defines the method of data retrieval for Azure Archive storage. You can retrieve data using one of the following method:
* StandardPriority: Use this method to retrieve archived data within 15 hours.
* HighPriority: Use this method to retrieve archived data within an hour. Note: this is the most expensive method.
Valid Values:

* StandardPriority
* HighPriority

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRAzureArchiveRetrievalPolicy]`|true    |named   |False        |

#### **BackupFile**
Specifies an array of deleted backup files that you want to retrieve.

|Type                            |Required|Position|PipelineInput                 |
|--------------------------------|--------|--------|------------------------------|
|`[VBRDeletedArchivedBackupFile]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Overwrite**
Defines that the cmdlet will overwrite an existing object with the downloaded one.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRDeletedArchivedBackupFile

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Download-VBRDeletedArchivedBackupFile -AmazonS3GlacierRetrievalPolicy {Expedited | StandardAccelerated | Standard | Bulk} -BackupFile <VBRDeletedArchivedBackupFile> 
```
```PowerShell
[-Overwrite] [-RunAsync] [<CommonParameters>]
```
```PowerShell
Download-VBRDeletedArchivedBackupFile -AzureArchiveRetrievalPolicy {StandardPriority | HighPriority} -BackupFile <VBRDeletedArchivedBackupFile> [-Overwrite] [-RunAsync] 
```
```PowerShell
[<CommonParameters>]
```

Download-VBRObjectStorageObjects
--------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ClientId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **CloudBackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **Repository**

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRObjectStorageRepository]`|true    |named   |True (ByPropertyName, ByValue)|

#### **SubClientId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|false   |named   |False        |

#### **VbmFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRObjectStorageRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Download-VBRObjectStorageObjects -ClientId <Guid> -CloudBackupId <Guid> -Repository <VBRObjectStorageRepository> [-SubClientId <Guid>] -VbmFilePath <String> 
```
```PowerShell
[<CommonParameters>]
```

Download-VBRObjectStorageRepositoryMetadata
-------------------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **BackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **CheckpointId**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[UInt64]`|false   |named   |False        |

#### **ExtentId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|false   |named   |False        |

#### **TargetLocalPath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Download-VBRObjectStorageRepositoryMetadata -BackupId <Guid> [-CheckpointId <UInt64>] [-ExtentId <Guid>] [-TargetLocalPath <String>] [<CommonParameters>]
```

Dump-VBRCapacityTierBackupContent
---------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ArchiveBackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **ArchiveIndexId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **CapacityExtent**

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRCapacityExtent]`|false   |named   |False        |

#### **DumpFolderPath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **IncludeBlockList**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **PerformVerboseDump**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Repository**

|Type                           |Required|Position|PipelineInput|Aliases|
|-------------------------------|--------|--------|-------------|-------|
|`[VBRScaleOutBackupRepository]`|true    |named   |False        |SOBR   |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Dump-VBRCapacityTierBackupContent -ArchiveBackupId <Guid> -ArchiveIndexId <Guid> [-CapacityExtent <VBRCapacityExtent>] -DumpFolderPath <String> [-IncludeBlockList] 
```
```PowerShell
[-PerformVerboseDump] -Repository <VBRScaleOutBackupRepository> [<CommonParameters>]
```

Dump-VBRObjectStorageRepositoryBackupContent
--------------------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ClientId**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **CloudBackupId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **DumpPath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **PerformVerboseDump**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Repository**

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRObjectStorageRepository]`|true    |named   |True (ByPropertyName, ByValue)|

#### **SelectedCheckpointIds**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[UInt64[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRObjectStorageRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Dump-VBRObjectStorageRepositoryBackupContent -ClientId <String> -CloudBackupId <Guid> -DumpPath <String> [-PerformVerboseDump] -Repository <VBRObjectStorageRepository> 
```
```PowerShell
[-SelectedCheckpointIds <UInt64[]>] [<CommonParameters>]
```

Eject-VBRTapeDrive
------------------

### Synopsis
Ejects tape from the selected media drive.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Drive**

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[TapeDrive]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Tape.Core.TapeDrive

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Eject-VBRTapeDrive -Drive <TapeDrive> [<CommonParameters>]
```

Eject-VBRTapeMedium
-------------------

### Synopsis
Ejects tapes from drive.

---

### Description

This cmdlet ejects tape that is located in drive. The ejected tape is moved to a standard library slot.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

* [Get-VBRTapeDrive](Get-VBRTapeDrive.md)

---

### Examples
> Example - Ejecting Selected Tape

$tape = Get-VBRTapeMedium -Name "00140009"
Eject-VBRTapeMedium -Medium $tape
This example shows how to eject tape named 00140009.
Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save it to the $tape variable.
2. Run the Eject-VBRTapeMedium cmdlet. Set the $tape variable as the Medium parameter value.

---

### Parameters
#### **Drive**
Specifies the array of drives. The cmdlet will eject tapes from these drives. Accepts the VBRTapeDrive[] object, GUID or string. To get this object, run the Get-VBRTapeMedium cmdlet.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRTapeDrive[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Medium**
Specifies the array of drives. The cmdlet will eject tapes from these drives. Accepts the VBRTapeMedium[] object, GUID or string. To get this object, run the Get-VBRTapeDrive cmdlet.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeMedium[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeMedium[]

Veeam.Backup.PowerShell.Infos.VBRTapeDrive[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Eject-VBRTapeMedium -Drive <VBRTapeDrive[]> [<CommonParameters>]
```
```PowerShell
Eject-VBRTapeMedium -Medium <VBRTapeMedium[]> [<CommonParameters>]
```

Enable-VACManagedMode
---------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VACManagedMode [<CommonParameters>]
```

Enable-VACTenantManagement
--------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VACTenantManagement [<CommonParameters>]
```

Enable-VBRApplicationBackupJob
------------------------------

### Synopsis
Enables application backup policies.

---

### Description

This cmdlet enables application backup policies. Run the Disable-VBRApplicationBackupJob cmdlet to disable application backup policies.

---

### Related Links
* [Get-VBRApplicationBackupJob](Get-VBRApplicationBackupJob.md)

---

### Examples
> Enabling Application Backup Policy

$job = Get-VBRApplicationBackupJob -Name "DbsSrv2049"
Enable-VBRApplicationBackupJob -Job $job
This example shows how to enable the DbsSrv2049 application backup policy. Perform the following steps:
1. Run the Get-VBRApplicationBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Enable-VBRApplicationBackupJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an application backup policy that you want to enable. Accepts the VBRApplicationBackupJob[] object.  To get this object, run the Get-VBRApplicationBackupJob cmdlet.

|Type                             |Required|Position|PipelineInput                 |
|---------------------------------|--------|--------|------------------------------|
|`[VBRApplicationBackupJobBase[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRApplicationBackupJobBase[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRApplicationBackupJob [-Job] <VBRApplicationBackupJobBase[]> [-PassThru] [<CommonParameters>]
```

Enable-VBRArchiveExtentMaintenanceMode
--------------------------------------

### Synopsis
Enables the Maintenance mode for the archive extent.

---

### Description

This cmdlet enables the Maintenance mode for the archive extent of the scale-out backup repository.
Run the Disable-VBRArchiveExtentMaintenanceMode cmdlet to disable the Maintenance mode.

---

### Related Links
* [Get-VBRArchiveExtent](Get-VBRArchiveExtent.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Enabling Maintenance Mode for Archive Extent

$scaleoutrepository = Get-VBRBackupRepository -ScaleOut -Name "Amazon S3"
$extent = Get-VBRArchiveExtent -Repository $scaleoutrepository
Enable-VBRArchiveExtentMaintenanceMode -ArchiveExtent $extent
This example shows how to set the Maintenance mode for the archive extent.
Perform the following actions:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Specify the Name parameter value. Save the result to the $scaleoutrepository variable.
2. Run the Get-VBRArchiveExtent cmdlet. Set the $scaleoutrepository variable as the Repository parameter value. Save the result to the $extent variable.
3. Run the Enable-VBRArchiveExtentMaintenanceMode cmdlet. Set the $extent variable as the ArchiveExtent parameter value.

---

### Parameters
#### **ArchiveExtent**
Specifies the archive extent. The cmdlet will set this extent to the Maintenance mode.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRArchiveExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRArchiveExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRArchiveExtentMaintenanceMode -ArchiveExtent <VBRArchiveExtent[]> [-RunAsync] [<CommonParameters>]
```

Enable-VBRArchiveExtentSealedMode
---------------------------------

### Synopsis
Enables the Sealed mode for the archive extent.

---

### Description

This cmdlet enables the Sealed mode for the archive extent of the scale-out backup repository.
Run the Disable-VBRArchiveExtentSealedMode cmdlet to disable the Sealed mode.

---

### Related Links
* [Get-VBRArchiveExtent](Get-VBRArchiveExtent.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Enabling Sealed Mode for Archive Extent

$repository = Get-VBRBackupRepository -ScaleOut
$extent = Get-VBRArchiveExtent -Repository $repository
Enable-VBRArchiveExtentSealedMode -ArchiveExtent $extent
This example shows how to enable Sealed mode for the specified capacity extent of the scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Save the result to the $repository variable.
2. Run the Get-VBRArchiveExtent cmdlet. Set the $repository variable as the Repository parameter value. Save the result to the $extent variable.
3. Run the Enable-VBRArchiveExtentSealedMode cmdlet. Set the $extent variable as the ArchiveExtent parameter value.

---

### Parameters
#### **ArchiveExtent**
Specifies the archive extent. The cmdlet will set this extent to the Sealed mode.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRArchiveExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRArchiveExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRArchiveExtentSealedMode -ArchiveExtent <VBRArchiveExtent[]> [-RunAsync] [<CommonParameters>]
```

Enable-VBRBackupCopyJob
-----------------------

### Synopsis
Enables backup copy jobs.

---

### Description

This cmdlet enables backup copy jobs.
Run the Disable-VBRBackupCopyJob cmdlet to disable backup copy jobs.

---

### Related Links
* [Get-VBRBackupCopyJob](Get-VBRBackupCopyJob.md)

---

### Examples
> Enabling Backup Copy Job

$job = Get-VBRBackupCopyJob
Enable-VBRBackupCopyJob -Job $job
This example shows how to enable a backup copy job.
Perform the following steps:
1. Run the Get-VBRBackupCopyJob cmdlet. Save the result to the $job variable.
2. Run the Enable-VBRBackupCopyJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of backup copy jobs that you want to enable.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRBackupCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRBackupCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRBackupCopyJob [-Job] <VBRBackupCopyJob[]> [-PassThru] [<CommonParameters>]
```

Enable-VBRCapacityExtentMaintenanceMode
---------------------------------------

### Synopsis
Enables the Maintenance mode for capacity extents.

---

### Description

This cmdlet enables the Maintenance mode for capacity extents of the scale-out backup repository.
Run the Disable-VBRCapacityExtentMaintenanceMode cmdlet to disable the Maintenance mode.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCapacityExtent](Get-VBRCapacityExtent.md)

---

### Examples
> Setting Maintenance Mode for Capacity Extent

$scaleoutrepository = Get-VBRBackupRepository -ScaleOut -Name "Amazon S3"
$extent = Get-VBRCapacityExtent -Repository $scaleoutrepository
Enable-VBRCapacityExtentMaintenanceMode -CapacityExtent $extent
This example shows how to set the Maintenance mode for the capacity extent.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value and provide ScaleOut parameter. Save the result to the $scaleoutrepository variable.
2. Run the Get-VBRCapacityExtent cmdlet. Set the $scaleoutrepository variable as Repository parameter value. Save the result to the $extent variable.
3. Run the Enable-VBRCapacityExtentMaintenanceMode cmdlet. Set the $extent variable as the CapacityExtent parameter value.

---

### Parameters
#### **CapacityExtent**
Specifies the capacity extent. The cmdlet will set this extent to the Maintenance mode.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRCapacityExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCapacityExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCapacityExtentMaintenanceMode -CapacityExtent <VBRCapacityExtent[]> [-RunAsync] [<CommonParameters>]
```

Enable-VBRCapacityExtentSealedMode
----------------------------------

### Synopsis
Enables Sealed mode for capacity extents.

---

### Description

This cmdlet enables Sealed mode for capacity extents.
Run the Disable-VBRCapacityExtentSealedMode cmdlet to disable the Sealed mode for capacity extent of the scale-out backup repository.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCapacityExtent](Get-VBRCapacityExtent.md)

---

### Examples
> Enabling Sealed Mode for Capacity Extent

$repository = Get-VBRBackupRepository -ScaleOut
$extent = Get-VBRCapacityExtent
Enable-VBRCapacityExtentSealedMode -CapacityExtent $extent
This example shows how to enable Sealed mode for the specified capacity extent of the scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Save the result to the $repository variable.
2. Run the Get-VBRCapacityExtent cmdlet. Save the result to the $extent variable.
3. Run the Enable-VBRCapacityExtentSealedMode cmdlet. Set the $extent variable as the CapacityExtent parameter value.

---

### Parameters
#### **CapacityExtent**
Specifies a capacity extent of scale-out backup repositories. The cmdlet will enable Sealed mode for the specified capacity extent.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRCapacityExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCapacityExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCapacityExtentSealedMode -CapacityExtent <VBRCapacityExtent[]> [-RunAsync] [<CommonParameters>]
```

Enable-VBRCatalystCopyJob
-------------------------

### Synopsis
Enables backup copy jobs for HPE StoreOnce repositories.

---

### Description

This cmdlet enables backup copy jobs for HPE StoreOnce repositories.
Run the Disable-VBRCatalystCopyJob cmdlet to disable backup copy jobs for HPE StoreOnce repositories

---

### Related Links
* [Get-VBRCatalystCopyJob](Get-VBRCatalystCopyJob.md)

---

### Examples
> Enabling Backup Copy Job for HPE StoreOnce Repository

$job = Get-VBRCatalystCopyJob -Name "StoreOnce copy job"
Enable-VBRCatalystCopyJob -Job $job
This example shows how to enable the StoreOnce copy job backup copy job for an HPE StoreOnce repository.
Perform the following steps:
1. Run the Get-VBRCatalystCopyJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Enable-VBRCatalystCopyJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of backup copy jobs for HPE StoreOnce repositories. The cmdlet will enable these jobs.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRCatalystCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCatalystCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCatalystCopyJob [-Job] <VBRCatalystCopyJob[]> [-PassThru] [<CommonParameters>]
```

Enable-VBRCDPPolicy
-------------------

### Synopsis
Enables CDP policies including Cloud Director CDP policies, CDP policies, cloud CDP policies and so on.

---

### Description

This cmdlet enables CDP policies that were disabled.
Run the Disable-VBRCDPPolicy cmdlet to disable CDP policies.

---

### Related Links
* [Get-VBRCDPPolicy](Get-VBRCDPPolicy.md)

---

### Examples
> Enabling CDP Policies

$policy = Get-VBRCDPPolicy
Enable-VBRCDPPolicy -Policy $policy
This example shows how to enable CDP policies.

Perform the following steps:
1. Run the Get-VBRCDPPolicy cmdlet. Save the result to the $policy variable.
2. Run the Enable-VBRCDPPolicy cmdlet. Set the $policy variable as the Policy parameter value.

---

### Parameters
#### **Force**
Defines that the cmdlet will enable policy without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Policy**
Specifies an array of CDP policies.The cmdlet will enable these policies.
Accepts the VBRCDPPolicyBase[] object. To get this object, run the Get-VBRCDPPolicy cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCDPPolicyBase[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCDPPolicyBase[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCDPPolicy [-Force] -Policy <VBRCDPPolicyBase[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRCDPProxy
------------------

### Synopsis
Enables VMware CDP proxies that were disabled.

---

### Description

This cmdlet enables VMware CDP proxies that were disabled.
Run the Disable-VBRCDPProxy cmdlet to disable VMware CDP proxies.

---

### Related Links
* [Get-VBRCDPProxy](Get-VBRCDPProxy.md)

---

### Examples
> Enabling VMware CDP Proxies

$proxy = Get-VBRCDPProxy
Enable-VBRCDPProxy -Proxy $proxy
This example shows how to enable VMware CDP proxies.

Perform the following steps:
1. Run the Get-VBRCDPProxy cmdlet. Save the result to the $proxy variable.
2. Run the Enable-VBRCDPProxy cmdlet. Set the $proxy variable as the Proxy parameter value.

---

### Parameters
#### **Proxy**
Specifies an array of VMware CDP proxies.
The cmdlet will enable these proxies.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[VBRCDPProxy[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCDPProxy[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCDPProxy -Proxy <VBRCDPProxy[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRCloudGateway
----------------------

### Synopsis
Enables disabled cloud gateways.

---

### Description

This cmdlet enables selected cloud gateways that were previously disabled.

---

### Related Links
* [Get-VBRCloudGateway](Get-VBRCloudGateway.md)

---

### Examples
> Example 1. Enabling Cloud Gateway [Using Variable]

$cloudgateway = Get-VBRCloudGateway -Name "Cloud gateway"
Enable-VBRCloudGateway -CloudGateway $cloudgateway
This example shows how to enable the selected cloud gateway.

Perform the following steps:
1. Run the Get-VBRCloudGateway cmdlet. Specify the Name parameter value. Save the result to the $cloudgateway variable.
2. Run the Enable-VBRCloudGateway cmdlet. Set the $cloudgateway variable as the CloudGateway parameter value.
> Example 2. Enabling Cloud Gateway [Using Pipeline]

Get-VBRCloudGateway -Name "172.16.12.45", "172.16.12.45" | Enable-VBRCloudGateway
This example shows how to enable two cloud gateways.

Perform the following steps:
1. Run the Get-VBRCloudGateway cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBRCloudGateway cmdlet.

---

### Parameters
#### **CloudGateway**
Specifies the array of cloud gateway you want to enable. Accepts the VBRCloudGateway[] object. To get this object, run the Get-VBRCloudGateway cmdlet.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[VBRCloudGateway[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudGateway[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCloudGateway -CloudGateway <VBRCloudGateway[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRCloudGatewayPool
--------------------------

### Synopsis
Enables disabled cloud gateway pools.

---

### Description

This cmdlet enables cloud gateway pools that have been disabled.

---

### Related Links
* [Get-VBRCloudGatewayPool](Get-VBRCloudGatewayPool.md)

---

### Examples
> Example - Enabling Cloud Gateway Pool

$pool = Get-VBRCloudGatewayPool -Name "New Cloud Pool"
Enable-VBRCloudGatewayPool -CloudGatewayPool $pool
This example shows how to enable a cloud gateway pool.

Perform the following steps:
1. Run the Get-VBRCloudGatewayPool cmdlet. Specify the Name parameter value. Save the result to the $pool variable.
2. Run the Enable-VBRCloudGatewayPool cmdlet. Set the $pool variable as the CloudGatewayPool parameter value.

---

### Parameters
#### **CloudGatewayPool**
Specifies an array of cloud gateway pools you want to enable. Accepts the VBRCloudGatewayPool[] object. To get this object, run the Get-VBRCloudGatewayPool cmdlet.

|Type                     |Required|Position|PipelineInput |
|-------------------------|--------|--------|--------------|
|`[VBRCloudGatewayPool[]]`|true    |named   |True (ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudGatewayPool[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCloudGatewayPool -CloudGatewayPool <VBRCloudGatewayPool[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRCloudMaintenanceMode
------------------------------

### Synopsis
Enables Maintenance mode for the cloud infrastructure.

---

### Description

This cmdlet sets the cloud infrastructure into Maintenance mode to let a service provider perform Maintenance tasks. Run the Disable-VBRCloudMaintenanceMode cmdlet to bring the cloud infrastructure back to the normal operational mode.

Important! When a service provider enables the Maintenance mode, cloud resources become temporarily inaccessible for the associated cloud tenants. As a result, most of the running jobs fail. For more information, see the Maintenance Mode section in the Veeam Cloud Connect Guide.

---

### Examples
> Example - Enabling Maintenance Mode for Cloud Infrastructure

```PowerShell
Enable-VBRCloudMaintenanceMode
This command puts the cloud infrastructure to Maintenance mode.
```

---

### Parameters
#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCloudMaintenanceMode [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRCloudSubTenant
------------------------

### Synopsis
Enables disabled cloud subtenant accounts.

---

### Description

This cmdlet enables selected cloud subtenant accounts that were previously disabled. You can enable the following types of cloud subtenant accounts:
- Simple cloud subtenant accounts
- vCD Cloud subtenant accounts
Run the Disable-VBRCloudSubTenant cmdlet to disable the subtenant account.

---

### Related Links
* [Get-VBRCloudSubTenant](Get-VBRCloudSubTenant.md)

---

### Examples
> Example - Enabling Cloud Subtenant

$subtenant = Get-VBRCloudSubTenant -Name "Alpha"
Enable-VBRCloudSubTenant -SubTenant $subtenant
This example shows how to enable a cloud subtenant.

Perform the following steps:
1. Run the Get-VBRCloudSubTenant cmdlet. Specify the Name parameter value. Save the result to the $subtenant variable.
2. Run the Enable-VBRCloudSubTenant cmdlet. Set the $subtenant variable as the SubTenant parameter value.

---

### Parameters
#### **SubTenant**
Specifies the array of cloud subtenant you want to enable. The subtenants can have different parents. Accepts the VBRCloudSubTenant[] object. To get this object, run the Get-VBRCloudSubTenant cmdlet.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[IVBRCloudSubTenant[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudSubTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCloudSubTenant -SubTenant <IVBRCloudSubTenant[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRCloudSubUser
----------------------

### Synopsis
Enables disabled cloud subuser accounts.

---

### Description

This cmdlet enables selected cloud subtenant accounts that were previously disabled. You can enable the following types of cloud subtenant accounts:
- Simple cloud subtenant accounts
- vCD Cloud subtenant accounts
Run the Disable-VBRCloudSubUser cmdlet to disable the subtenant account.

---

### Related Links
* [Get-VBRCloudSubUser](Get-VBRCloudSubUser.md)

---

### Examples
> Example

$subtenant = Get-VBRCloudSubTenant -Name "Alpha"
Enable-VBRCloudSubTenant -SubTenant $subtenant
This example shows how to enable a cloud subtenant.

Perform the following steps:
1. Run the Get-VBRCloudSubUser cmdlet. Specify the Name parameter value. Save the result to the $subuser variable.
2. Run the Enable-VBRCloudSubUser cmdlet. Set the $subuser variable as the SubUser parameter value.

---

### Parameters
#### **SubUser**
Specifies the array of cloud subusers you want to enable. The subusers can have different parents. Accepts the VBRCloudSubUser[] object. To get this object, run the Get-VBRCloudSubUser cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[IVBRCloudSubUser[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudSubUser[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCloudSubUser -SubUser <IVBRCloudSubUser[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRCloudTenant
---------------------

### Synopsis
Enables disabled cloud tenant accounts.

---

### Description

This cmdlet enables selected cloud tenant accounts that were previously disabled. You can enable the cloud tenants accounts of the following types:
- Simple cloud tenant accounts
- vCD Cloud tenant accounts
Run the Disable-VBRCloudTenant cmdlet to disable the tenant account.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Example 1. Enabling vCD Cloud Tenant Account

$tenant = Get-VBRCloudTenant -Name "vCD Tenant"
Enable-VBRCloudTenant -CloudTenant $tenant
This example shows how to enable a vCD cloud tenant account.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter. Save the result to the $tenant variable.
2. Run the Enable-VBRCloudTenant cmdlet. Set the $tenant variable as the CloudTenant parameter value.
> Example 2. Enabling Several Cloud Tenant Accounts

$cloudtenants = Get-VBRCloudTenant -Name "ABC Company Tenant", "vCD Tenant"
Enable-VBRCloudTenant -CloudTenant $cloudtenants
This example shows how to enable several cloud tenant accounts.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter. Save the result to the $cloudtenants variable.
2. Run the Enable-VBRCloudTenant cmdlet. Set the $cloudtenants variable as the CloudTenant parameter value.

---

### Parameters
#### **CloudTenant**
Specifies an array of the tenant accounts you want to enable. Accepts the VBRCloudTenant[] object. To get this object, run the Get-VBRCloudTenant cmdlet.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRCloudTenant -CloudTenant <IVBRCloudTenant[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRComputerBackupCopyJob
-------------------------------

### Synopsis
Enables Veeam Agent backup copy jobs.

---

### Description

This cmdlet enables Veeam Agent backup copy jobs.
Run the Disable-VBRComputerBackupCopyJob cmdlet to disable Veeam Agent backup copy jobs.

---

### Related Links
* [Get-VBRComputerBackupCopyJob](Get-VBRComputerBackupCopyJob.md)

---

### Examples
> Enabling Veeam Agent Backup Copy Jobs

$jobs = Get-VBRComputerBackupCopyJob
Enable-VBRComputerBackupCopyJob -Job $jobs
This example shows how to enable Veeam Agent Backup copy jobs.
Perform the following steps:
1. Run the Get-VBRComputerBackupCopyJob cmdlet. Save the result to the $jobs variable.
2. Run the Enable-VBRComputerBackupCopyJob cmdlet. Set the $jobs variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of Veeam Agent backup copy jobs that you want to enable.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupCopyJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupCopyJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRComputerBackupCopyJob [-Job] <VBRComputerBackupCopyJob[]> [-PassThru] [<CommonParameters>]
```

Enable-VBRComputerBackupJob
---------------------------

### Synopsis
Enables Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Description

This cmdlet enables Veeam Agent backup jobs and Veeam Agent backup policies.
Run the Disable-VBRComputerBackupJob cmdlet to disable Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Related Links
* [Get-VBRComputerBackupJob](Get-VBRComputerBackupJob.md)

---

### Examples
> Enabling Veeam Agent backup Job

$job = Get-VBRComputerBackupJob -Name "WinSrv2049"
Enable-VBRComputerBackupJob -Job $job
This example shows how to enable the WinSrv2049 Veeam Agent Backup Job.
Perform the following steps:
1. Run the Get-VBRComputerBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Enable-VBRComputerBackupJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies a Veeam Agent backup job or a Veeam Agent backup policy that you want to enable.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRComputerBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRComputerBackupJob [-Job] <VBRComputerBackupJob[]> [-PassThru] [<CommonParameters>]
```

Enable-VBRComputerFileProxyServer
---------------------------------

### Synopsis
Enables disabled file proxy servers.

---

### Description

This cmdlet enables disabled file proxy servers.
Run the Disable-VBRComputerFileProxyServer cmdlet to disable a file backup proxy.

---

### Related Links
* [Get-VBRComputerFileProxyServer](Get-VBRComputerFileProxyServer.md)

---

### Examples
> Enabling Disabled File Proxy Server

$fileproxy = Get-VBRComputerFileProxyServer
Enable-VBRComputerFileProxyServer -Proxy $fileproxy[3]
This example shows how to enable the disabled file proxy server.
Perform the following steps:
1. Run the Get-VBRComputerFileProxyServer cmdlet. Save the result to the $fileproxy variable.
2. Run the Enable-VBRComputerFileProxyServer cmdlet. Set the $fileproxy variable as the Proxy parameter value.
The Get-VBRComputerFileProxyServer cmdlet will return an array of file proxies. Mind the ordinal number of the necessary file proxy (in our example, it is the fourth file proxy in the array).

---

### Parameters
#### **Proxy**
Specifies an array of file backup proxies. The cmdlet will enable these proxies.

|Type                            |Required|Position|PipelineInput                 |
|--------------------------------|--------|--------|------------------------------|
|`[VBRComputerFileProxyServer[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRComputerFileProxyServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRComputerFileProxyServer -Proxy <VBRComputerFileProxyServer[]> [<CommonParameters>]
```

Enable-VBREPJob
---------------

### Synopsis
Enables disabled backup jobs run by Veeam Agent operating in a standalone mode.

---

### Description

This cmdlet enables backup jobs run by Veeam Agent operating in a standalone mode that were previously disabled.
Run the Disable-VBREPJob cmdlet to disable a job.

---

### Related Links
* [Get-VBREPJob](Get-VBREPJob.md)

---

### Examples
> Example 1. Enabling Backup Job Run by Veeam Agent in Standalone Mode [Using Variable]

$job = Get-VBREPJob -Name "Backup Job Mediaserver"
Enable-VBREPJob -Job $job
This example shows how to enable a backup job run by Veeam Agent operating in a standalone mode using a variable.
Perform the following steps:
1. Run the Get-VBREPJob cmdlet. Specify the Name parameter value. Save it to the $job variable.
2. Run the Enable-VBREPJob cmdlet. Set the $job variable as the Job parameter value.
> Example 2. Enabling Backup Job Run by Veeam Agent in Standalone Mode [Using Pipeline]

Get-VBREPJob -Name "Backup Job Mediaserver" | Enable-VBREPJob
This example shows how to enable a backup job run by Veeam Agent operating in a standalone mode using a pipeline.
Perform the following steps:
1. Run the Get-VBREPJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBREPJob cmdlet.

---

### Parameters
#### **Job**
Specifies the array of backup jobs. The cmdlet will enable these jobs.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBREPJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBREPJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBREPJob -Job <VBREPJob[]> [<CommonParameters>]
```

Enable-VBRFreeAgentInstanceConsumption
--------------------------------------

### Synopsis
Enables instance consumption by unlicensed Veeam Agents.

---

### Description

This cmdlet enables instance consumption by unlicensed Veeam Agents. This option allows Veeam Agents to create backups to Veeam Backup & Replication.
Run the Disable-VBRFreeAgentInstanceConsumption cmdlet to disable this option.

---

### Examples
> Enabling Instance Consumption by Veeam Agents

```PowerShell
Enable-VBRFreeAgentInstanceConsumption
This command enables the instance consumption by unlicensed Veeam Agents.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRFreeAgentInstanceConsumption [<CommonParameters>]
```

Enable-VBRHvProxy
-----------------

### Synopsis
Enables the disabled Hyper-V backup proxy.

---

### Description

This cmdlet enables the disabled Hyper-V backup proxy.
Run the Disable-VBRHvProxy cmdlet to disable the Hyper-V backup proxy.

---

### Related Links
* [Get-VBRHvProxy](Get-VBRHvProxy.md)

---

### Examples
> Example 1. Enabling Hyper-V Backup Proxy [Using Pipeline]

Get-VBRHvProxy -Name "VMware Backup Proxy 01" | Enable-VBRHvProxy
This example shows how to enable the Hyper-V backup proxy named VMware Backup Proxy 01.
Perform the following steps:
1. Run the Get-VBRHvProxy cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBRHvProxy cmdlet.
> Example 2. Enabling Hyper-V Backup Proxy [Using Variable]

$proxy = Get-VBRHvProxy -Name "Local Backup Proxy"
Enable-VBRHvProxy -Proxy $proxy
This example shows how to enable the Hyper-V backup proxy named Local Backup Proxy.
Perform the following steps:
1. Run the Get-VBRHvProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
2. Run the Enable-VBRHvProxy cmdlet. Set the $proxy variable as the Proxy parameter value

---

### Parameters
#### **Proxy**
Specifies an array of Hyper-V proxies you want to enable.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CHvProxy[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CHvProxy[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRHvProxy -Proxy <CHvProxy[]> [<CommonParameters>]
```

Enable-VBRIndependentRetention
------------------------------

### Synopsis
Enables previously disabled background retention for backups.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet enables the disabled background retention for backups. Enabled background retention is launched every 24 hours at 00:30.
Run the Disable-VBRIndependentRetention cmdlet to disable background retention policy.
The Enable-VBRBackgroundRetention cmdlet is an alias for the Enable-VBRIndependentRetention cmdlet.

---

### Examples
> Enabling Background Retention for Backups

```PowerShell
Enable-VBRIndependentRetention
This command enables background retention for backups.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRIndependentRetention [<CommonParameters>]
```

Enable-VBRJob
-------------

### Synopsis
Enables a disabled job.

---

### Description

This cmdlet enables a disabled job.  When you disable a job, you put it on hold until you enable it with this cmdlet. You can run this cmdlet with backup, replication and copy jobs.

Run the Disable-VBRJob cmdlet to disable a job.

Run the Start-VBRJob cmdlet to start a job once.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Enabling Specific Jobs [Using Pipeline]

Get-VBRJob -Name "Backup Job 01", "Backup Job 02" | Enable-VBRJob
This example shows how to enable the Backup Job 01 and Backup Job 02 jobs.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBRJob cmdlet.
> Example 2. Enabling Specific Job [Using Variable]

$job = Get-VBRJob -Name "Backup Job"
Enable-VBRJob -Job $job
This example shows how to enable the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Enable-VBRJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs you want to enable.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRJob -Job <CBackupJob[]> [<CommonParameters>]
```

Enable-VBRJobGuestFSIndexing
----------------------------

### Synopsis
Enables job guest file system indexing option.

---

### Description

This cmdlet enables guest file system indexing in the selected job. You can enable the guest file system indexing settings in case you have these settings set beforehand.

You can run this cmdlet with backup and replica jobs including vCloud jobs.
Run the Disable-VBRJobGuestFSIndexing cmdlet to disable the guest file system indexing option.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Enabling Guest File System Indexing Option [Using Pipeline]

Get-VBRJob -Name "Backup Job 01", "Backup Job 02" | Enable-VBRJobGuestFSIndexing
This example shows how to enable the guest file system indexing option in the Backup Job 01 and Backup Job 02 jobs.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBRJobGuestFSIndexing cmdlet.
> Example 2. Enabling Guest File System Indexing Option [Using Variable]

$job = Get-VBRJob -Name "Backup Job 01"
Enable-VBRJobGuestFSIndexing -Job $job
This example shows how to enable the guest file system indexing option in the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Enable-VBRJobGuestFSIndexing cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs. The cmdlet will enable guest file system indexing for these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRJobGuestFSIndexing [-Job] <CBackupJob[]> [<CommonParameters>]
```

Enable-VBRJobSchedule
---------------------

### Synopsis
Enables job schedule.

---

### Description

This cmdlet enables job schedule.
You can enable the job schedule in case you have the schedule configured for this job. You can run this cmdlet with any kind of jobs.
Run the Disable-VBRJobSchedule cmdlet to disable job schedule.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Enabling Specific Job [Using Pipeline]

Get-VBRJob -Name "Backup Job 01", "File Copy Job 02" | Enable-VBRJobSchedule
This example shows how to enable the schedule for Backup Job 01 and File Copy Job 02 jobs.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBRJobSchedule cmdlet.
> Example 2. Disabling Job Represented by Variable

$BackupJob01 = Get-VBRJob -Name "Backup Job 01"
Enable-VBRJobSchedule -Job $BackupJob01
This example shows how to enable the schedule for job represented by the $BackupJob01 variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $BackupJob01 variable.
2. Run the Enable-VBRJobSchedule cmdlet. Set the $BackupJob01 variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs.  The cmdlet will enable schedule in these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRJobSchedule -Job <CBackupJob[]> [<CommonParameters>]
```

Enable-VBRJobVSSIntegration
---------------------------

### Synopsis
Enables job VSS settings.

---

### Description

This cmdlet enables VSS settings in a selected job that were previously disabled. You can enable the VSS settings in case you have these settings set beforehand.
You can run this cmdlet with backup and replica jobs including vCloud jobs.
Run the Disable-VBRJobVSSIntegration cmdlet to disable VSS settings in the selected job.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Enabling VSS Option in Specific Job [Using Pipeline]

Get-VBRJob -Name "Backup Job 01", "Backup Job 02" | Enable-VBRJobVSSIntegration
This example shows how to enable the VSS option in the Backup Job 01 and Backup Job 02 jobs.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBRJobVSSIntegration cmdlet.
> Example 2. Enabling VSS Option in Job [Using Variable]

$BackupJob01 = Get-VBRJob -Name "Backup Job 01"
Enable-VBRJobVSSIntegration -Job $"Backup Job 01"
This example shows how to enable the VSS option in the Backup Job 01 job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $BackupJob01 variable.
2. Run the Enable-VBRJobVSSIntegration cmdlet. Set the $BackupJob01 variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs. The cmdlet will enable VSS settings for these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRJobVSSIntegration [-Job] <CBackupJob[]> [<CommonParameters>]
```

Enable-VBRLicenseAutoUpdate
---------------------------

### Synopsis
Enables the automatic license update option.

---

### Description

This cmdlet enables the automatic license update option.
For more information on the automatic license update option, see the Updating License Automatically section of User Guide for VMware vSphere.
Run the Disable-VBRLicenseAutoUpdate cmdlet to disable the automatic license update option.

---

### Examples
> Enabling Automatic License Update Option

```PowerShell
Enable-VBRLicenseAutoUpdate
This command enables the automatic license update option.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRLicenseAutoUpdate [<CommonParameters>]
```

Enable-VBRMailNotification
--------------------------

### Synopsis
Enables global email notification settings.

---

### Description

This cmdlet enables global email notification settings.
Run the Disable-VBRMailNotification cmdlet to disable global email notification settings.

---

### Examples
> Enabling Global Email Notification Settings

```PowerShell
Enable-VBRMailNotification
This command enables global email notification settings.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRMailNotification [<CommonParameters>]
```

Enable-VBRNASProxyServer
------------------------

### Synopsis
Enables a disabled file share backup proxy.

---

### Description

This cmdlet allows you to enable a file share backup proxy. Run the Disable-VBRNASProxyServer cmdlet to disable a file share backup proxy.

---

### Related Links
* [Get-VBRNASProxyServer](Get-VBRNASProxyServer.md)

---

### Examples
> Example

$nasproxy = Get-VBRNASProxyServer -Name "File Backup Proxy 09"
Enable-VBRNASProxyServer -Proxy $nasproxy
This example shows how to enable the File Share Backup Proxy 09 proxy by its name.

Perform the following steps:
1. Run the Get-VBRNASProxyServer cmdlet. Specify the Name parameter value. Save the result to the $nasproxy variable.
2. Run the Enable-VBRNASProxyServer cmdlet. Set the $nasproxy variable as the Proxy parameter value.

---

### Parameters
#### **Proxy**
Specifies an array of file share proxies you want to enable. Accepts the VBRNASProxyServer[] object. To get this object, run the Get-VBRNASProxyServer cmdlet.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRNASProxyServer[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRNASProxyServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRNASProxyServer -Proxy <VBRNASProxyServer[]> [<CommonParameters>]
```

Enable-VBRPluginJob
-------------------

### Synopsis
Starts plug-in backup jobs and plug-in backup copy jobs.

---

### Description

This cmdlet starts plug-in backup jobs and plug-in backup copy jobs.
Run the Disable-VBRPluginJob cmdlet to stop plug-in backup jobs and plug-in backup copy jobs.

---

### Related Links
* [Get-VBRPluginJob](Get-VBRPluginJob.md)

---

### Examples
> Starting All Plug-in Backup Jobs and Plug-in Backup Copy Jobs

$job = Get-VBRPluginJob -Name "Plug-in backup 17"
Enable-VBRPluginJob -Job $job
This example shows how to start plug-in backup jobs and plug-in backup copy jobs.
Perform the following steps:
1. Run the Get-VBRPluginJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Enable-VBRPluginJob cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of plug-in backup jobs and plug-in backup copy jobs. The cmdlet will start these jobs. Accepts the VBRPluginJob[] object.  To get this object, run the Get-VBRPluginJob cmdlet.

|Type              |Required|Position|PipelineInput |
|------------------|--------|--------|--------------|
|`[VBRPluginJob[]]`|true    |0       |True (ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRPluginJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRPluginJob [-Job] <VBRPluginJob[]> [<CommonParameters>]
```

Enable-VBRPreferredNetworkDataTransfer
--------------------------------------

### Synopsis
Enables data transfer over preferred networks.

---

### Description

This cmdlet enables data transfer over preferred networks only.
Run the Disable-VBRPreferredNetworkDataTransfer cmdlet to disable the data transfer over preferred networks only.

---

### Examples
> Enabling Data Transfer over Preferred Networks

```PowerShell
Enable-VBRPreferredNetworkDataTransfer
This command enables data transfer over preferred networks.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRPreferredNetworkDataTransfer [<CommonParameters>]
```

Enable-VBRProtectionGroup
-------------------------

### Synopsis
Enables automatic discovery for the protection group computers.

---

### Description

This cmdlet enables automatic discovery for selected protection groups. Automatic discovery is performed per discovery schedule configured for the protection group.
Run the Disable-VBRProtectionGroup cmdlet to disable automatic discovery.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Disable-VBRProtectionGroup](Disable-VBRProtectionGroup.md)

---

### Examples
> Enabling Automatic Discovery for Computers of Protection Group

$group = Get-VBRProtectionGroup -Name "East Computers"
Enable-VBRProtectionGroup -ProtectionGroup $group
This example shows how to enable automatic discovery for the computers of the protection group.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Enable-VBRProtectionGroup cmdlet. Set the $group variable as the ProtectionGroup parameter value.

---

### Parameters
#### **ProtectionGroup**
Specifies the array of protection groups. The cmdlet will enable automatic discovery for these protection groups.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRProtectionGroup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRProtectionGroup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRProtectionGroup -ProtectionGroup <VBRProtectionGroup[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRRepositoryExtentMaintenanceMode
-----------------------------------------

### Synopsis
Enables Maintenance mode for a performance extent or capacity extent of a scale-out backup repository.

---

### Description

This cmdlet enables Maintenance mode for a selected performance extent or extents of scale-out backup repositories.
With one command, you can switch to Maintenance mode multiple performance extents: the extents can be of mixed policies and belong to several scale-out repositories.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRRepositoryExtent](Get-VBRRepositoryExtent.md)

---

### Examples
> Enabling Maintenance Mode for Performance Extents

$scaleoutrepository = Get-VBRBackupRepository -ScaleOut -Name "Amazon S3"
$extent = Get-VBRRepositoryExtent -Repository $scaleoutrepository
Enable-VBRRepositoryExtentMaintenanceMode -Extent $extent[2]
This example shows how to enable the Maintenance mode for the performance extents.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value and provide the ScaleOut parameter. Save the result to the $scaleoutrepository variable.
2. Run the Get-VBRRepositoryExtent cmdlet. Set the $scaleoutrepository variable as the Repository parameter value. Save the result to the $extent variable.
The Get-VBRRepositoryExtent cmdlet will return an array of extents. Mind the ordinal number of the necessary extent (in our example, it is the second extent in the array).
3. Run the Enable-VBRRepositoryExtentMaintenanceMode cmdlet. Set the $extent variable as the Extent parameter value.

---

### Parameters
#### **Extent**
Specifies the array of scale-out repository extents. The cmdlet will enable the Maintenance mode for these extents.
Accepts extents with different policies and of different scale-out repositories.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[VBRRepositoryExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRRepositoryExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRRepositoryExtentMaintenanceMode -Extent <VBRRepositoryExtent[]> [-RunAsync] [<CommonParameters>]
```

Enable-VBRRepositoryExtentSealedMode
------------------------------------

### Synopsis
Enables Sealed mode for extents of a scale-out backup repository.

---

### Description

This cmdlet enables Sealed mode for extents of a scale-out backup repository.
Run the Disable-VBRRepositoryExtentSealedMode cmdlet to disable Sealed mode for extents of a scale-out backup repository.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRCapacityExtent](Get-VBRCapacityExtent.md)

---

### Examples
> Enabling Sealed Mode for Capacity Extents

$repository = Get-VBRBackupRepository -ScaleOut
$extent = Get-VBRCapacityExtent -Repository $repository
Enable-VBRRepositoryExtentSealedMode -Extent $extent
This example shows how to enable Sealed mode for capacity extents of a scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRCapacityExtent cmdlet. Set the Repository variable as the Repository parameter value. Save the result to the $extent variable.
3. Run the Enable-VBRRepositoryExtentSealedMode cmdlet. Set the $extent variable as the Extent parameter value.

---

### Parameters
#### **Extent**
Specifies an array of scale-out repository extents. The cmdlet will enable the Sealed mode for these extents.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[VBRRepositoryExtent[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRRepositoryExtent[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRRepositoryExtentSealedMode -Extent <VBRRepositoryExtent[]> [-RunAsync] [<CommonParameters>]
```

Enable-VBRStorageLatencyControl
-------------------------------

### Synopsis
Enables the storage latency control option.

---

### Description

This cmdlet enables the storage latency control option.
Run the Disable-VBRStorageLatencyControl cmdlet to enable the storage latency control option.

---

### Examples
> Enabling Storage Latency Control Option on Production Datastores

```PowerShell
Enable-VBRStorageLatencyControl
This command enables the storage latency control option on production datastores.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRStorageLatencyControl [<CommonParameters>]
```

Enable-VBRSureBackupJob
-----------------------

### Synopsis
Enables stopped SureBackup jobs.

---

### Description

This cmdlet disables running SureBackup jobs.
Run the Disable-VBRSureBackupJob cmdlet to disable SureBackup jobs.

---

### Related Links
* [Get-VBRSureBackupJob](Get-VBRSureBackupJob.md)

---

### Examples
> Enabling SureBackup Job

$surejob = Get-VBRSureBackupJob -Name "Job01"
Enable-VBRSureBackupJob -Job $surejob
This example shows how to enable the Job01 SureBackup job.
Perform the following steps:
1. Run the Get-VBRSureBackupJob cmdlet. Specify the Name parameter value. Save the result to the $surejob variable.
2. Run the Enable-VBRSureBackupJob cmdlet. Set the $surejob variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies a SureBackup job. The cmdlet will enable this job.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRSureBackupJobBase]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSureBackupJobBase

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRSureBackupJob -Job <VBRSureBackupJobBase> [<CommonParameters>]
```

Enable-VBRTapeDrive
-------------------

### Synopsis
Enables a selected tape library drive.

---

### Description

This cmdlet enables a selected tape library recording drive that was previously disabled.

Run the Disable-VBRTapeDrive cmdlet to disable a tape drive.

---

### Related Links
* [Get-VBRTapeDrive](Get-VBRTapeDrive.md)

---

### Examples
> Example 1 Enabling Drive of Selected Library [Using Pipeline]

Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00" | Get-VBRTapeDrive | Select -Last 1 | Enable-VBRTapeDrive
This example shows how to enable one drive of the HP MSL G3 Series 3.00 library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTapeDrive cmdlet. Select the last drive in the list. Pipe this all to Enable-VBRTapeDrive.
> Example 2 Enabling Drive of Selected Library [Using Variable]

$library = Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00"
$drive =  Get-VBRTapeDrive -Library $library | Select -First 1
Enable-VBRTapeDrive -Drive $drive
This example shows how to disable a first drive in HP MSL G3 Series 3.00 tape library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value. Save the result to the $library variable.
2. Run the Get-VBRTapeDrive cmdlet. Set the $library variable as the Library parameter value. Select the first drive. Save the result to the $drive variable.
3. Run the Enable-VBRTapeDrive cmdlet. Set the $drive variable as the Drive parameter value.

---

### Parameters
#### **Drive**
Specifies the array of drives. The cmdlet will enable these drives. Accepts the VBRTapeDrive[] object.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRTapeDrive[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeDrive[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRTapeDrive -Drive <VBRTapeDrive[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRTapeLibraryMaintenance
--------------------------------

### Synopsis
Enables the Maintenance mode for a tape library or a standalone tape drive.

---

### Description

The cmdlet enables the Maintenance mode for a tape library or a standalone tape drive.

You can run this cmdlet to lock a tape library or a standalone tape drive so that Veeam Backup & Replication will not be able to use them for tape jobs. This action might be necessary in case you want to provide maintenance services to them.

Run the Disable-VBRTapeLibraryMaintenance cmdlet to disable the Maintenance mode.

NOTE

Before you enable the Maintenance mode for the tape library, consider the following:
- You cannot enable the maintenance mode for the tape library if the jobs that use this tape library are in the running state.
- After you enable the maintenance mode for the tape library, all jobs that use it will fail with an error when starting.

---

### Related Links
* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

---

### Examples
> Enabling Maintenance Mode for Tape Library

$library = Get-VBRTapeLibrary -Name "HP MSL G3 Series 5.30"
Enable-VBRTapeLibraryMaintenance -Library $library
This example shows how to enable the maintenance mode for the HP MSL G3 Series 5.30 tape library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value. Save the result to the $library variable.
2. Run the Enable-VBRTapeLibraryMaintenance cmdlet. Set the $library variable as the Library parameter value.

---

### Parameters
#### **Library**
Specifies an array of tape libraries. The cmdlet will enable the Maintenance mode for this array of tape libraries. Accepts the VBRTapeLibrary[] object. To get this object, run the Get-VBRTapeLibrary cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeLibrary[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRTapeLibraryMaintenance -Library <VBRTapeLibrary[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Enable-VBRTapeProtection
------------------------

### Synopsis
Sets overwrite protection for selected tapes.

---

### Description

This cmdlet sets software overwrite protection for selected tapes.

Protection overrides the retention settings of the media pool to set a lifelong retention period for the selected tapes.

You can set protection for both online or offline tapes that contain data.

The protection can be switched off at any time. The retention settings will be changed to the value set for the media pool.

Run the Disable-VBRTapeProtection cmdlet to switch off the protection.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

---

### Examples
> Example -  Overwrite Protection to Selected Tape

$tape = Get-VBRTapeMedium -Name "00140009"
Enable-VBRTapeProtection -Medium $tape -PassThru
This example shows how to set protection for the tape named 00140009.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $tape variable.
2. Run the Enable-VBRTapeProtection cmdlet. Set the $tape variable as the Medium parameter value. Provide the PassThru parameter.

---

### Parameters
#### **Medium**
Specifies the array of tapes. The cmdlet will set protection to these tapes. Accepts the VBRTapeMedium[] object, GUID or string. To get this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeMedium[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **PassThru**
Defines that the command returns the output object to the Windows PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeMedium[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRTapeProtection -Medium <VBRTapeMedium[]> [-PassThru] [<CommonParameters>]
```

Enable-VBRvCDReplicaJob
-----------------------

### Synopsis
Enables Cloud Director replication jobs.

---

### Description

This cmdlet enables Cloud Director replication jobs that were previously disabled.
Run the Disable-VBRvCDReplicaJob cmdlet to disable Cloud Director replication jobs.

---

### Related Links
* [Get-VBRvCDReplicaJob](Get-VBRvCDReplicaJob.md)

---

### Examples
> Enabling vCD Replication Jobs

$replicavCD = Get-VBRvCDReplicaJob
Enable-VBRvCDReplicaJob -Job $replicavCD
This example shows how to enable vCD replication jobs.

Perform the following steps:
1. Run the Get-VBRvCDReplicaJob cmdlet. Save the result to the $replicavCD variable.
2. Run the Enable-VBRvCDReplicaJob cmdlet. Set the $replicavCD variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of Cloud Director replication jobs.
The cmdlet will enable these jobs.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRvCDReplicaJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDReplicaJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRvCDReplicaJob -Job <VBRvCDReplicaJob[]> [<CommonParameters>]
```

Enable-VBRViProxy
-----------------

### Synopsis
Enables a disabled VMware backup proxy.

---

### Description

This cmdlet allows you to enable a VMware backup proxy.
Run the Disable-VBRViProxy cmdlet to disable a VMware backup proxy.

---

### Related Links
* [Get-VBRViProxy](Get-VBRViProxy.md)

---

### Examples
> Example 1. Enabling VMware Backup Proxy [Using Pipeline]

Get-VBRViProxy -Name "VMware Backup Proxy 01" | Enable-VBRViProxy
This example shows how to enable the VMware backup proxy named VMware Backup Proxy 01.
Perform the following steps:
1. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Enable-VBRViProxy cmdlet.
> Example 2. Enabling VMware Backup Proxy [Using Variable]

$proxy = Get-VBRViProxy -Name "Local Backup Proxy"
Enable-VBRViProxy -Proxy $proxy
This example shows how to enable the VMware backup proxy named Local Backup Repository.
Perform the following steps:
1. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
2. Run the Enable-VBRViProxy cmdlet. Set the $proxy variable as the Proxy parameter value

---

### Parameters
#### **Proxy**
Specifies an array of VMware proxies you want to enable.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CViProxy[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CViProxy[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VBRViProxy -Proxy <CViProxy[]> [<CommonParameters>]
```

Enable-VSBJob
-------------

### Synopsis
Enables a disabled SureBackup job.

---

### Description

This cmdlet enables a disabled SureBackup job. When you disable a job, you put it on hold until you enable it with this cmdlet. You can disable a job by running Disable-VSBJob. Run Start-VSBJob to run a disabled job once.

---

### Examples
> Example 1

---

### Parameters
#### **Job**
Specifies the job. The cmdlet will enable schedule for this job. You can assign multiple jobs to this object.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[CSbJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CSbJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VSBJob [-Job <CSbJob[]>] [<CommonParameters>]
```

Enable-VSBJobSchedule
---------------------

### Synopsis
Enables a SureBackup job schedule.

---

### Description

This cmdlet enables a SureBackup job schedule. You can enable the job schedule in case the schedule is pre-configured for a selected job. You can enable the schedule that was was configured in a disabled state or that was disabled with Disable-VSBJobSchedule.

---

### Examples
> Example 1

---

### Parameters
#### **Job**
Specifies the job(s) you want to enable. You can assign multiple jobs to this object.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[CSbJob[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CSbJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Enable-VSBJobSchedule [-Job <CSbJob[]>] [<CommonParameters>]
```

Erase-VBRTapeMedium
-------------------

### Synopsis
Erases data from tape.

---

### Description

This cmdlet erases data from the selected tapes. The erased tapes are moved to the Free media pool.

The cmdlet provides two scenarios for erasing options:
- Short: only the tape data header is cleared. The tape becomes available for overwriting. Short erase is a quick procedure.
- Long: all data is cleared from tape. This procedure requires more time.
You cannot run erase for the following tapes:
- Offline tapes
- Tapes used by any jobs
- Tapes with software or hardware protection.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

---

### Examples
> Example 1. Running Short Erase on Selected Tape

$tape = Get-VBRTapeMedium -Name "00170010"
Erase-VBRTapeMedium -Medium $tape
This example shows how to run short erase on the 00170010 tape.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $tape variable.
2. Run the Erase-VBRTapeMedium cmdlet. Set the $tape variable as the Medium parameter value.
> Example 2. Running Long Erase on Selected Tape

$tape = Get-VBRTapeMedium -Name "00170010"
Erase-VBRTapeMedium -Medium $tape -Long
This example shows how to run long erase on the 00170010 tape.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $tape variable.
2. Run the Erase-VBRTapeMedium cmdlet. Set the $tape variable as the Medium parameter value. Provide the Long parameter.

---

### Parameters
#### **Long**
Defines that the cmdlet will perform the long (full) erase. Default: short erase.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Medium**
Specifies the array of tapes. The cmdlet will erase these tapes. Accepts the VBRTapeMedium[] object, GUID or string. To get this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeMedium[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Wait**
Defines that the command waits for the erase process(es) to complete before accepting more input.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeMedium[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Erase-VBRTapeMedium [-Long] -Medium <VBRTapeMedium[]> [-Wait] [-Confirm] [-WhatIf] [<CommonParameters>]
```

# [Building a custom Windows Update Report p1: Parsing HTML via PowerShell on modern systems (no IE)](https://arsenb.wordpress.com/2022/07/28/building-a-custom-windows-update-report-p1-parsing-html-via-powershell-on-modern-systems-no-ie/)

Wow, it’s been a while! A customer of mine recently wanted a detailed report that should include info such as how many weeks is the Windows on the machine behind the latest available Security Update. We’ve found to a way to combine Intune Data Warehouse and PowerBI to pull data that allows to identify the last installed patch, but we needed data from a different source to find out when that patch was released. And that involved some PowerShell, which Is what this part of the mini-series is about.

## Problem Statement

The required info is found in the Windows Release Health section of MS Docs website: [Win10](https://docs.microsoft.com/en-us/windows/release-health/release-information) and [Win11](https://docs.microsoft.com/en-us/windows/release-health/windows11-release-information) pages respectively. They contain very nice tables that look like this:

[![](https://arsenb.files.wordpress.com/2022/07/image.png?w=893)](https://arsenb.files.wordpress.com/2022/07/image.png)[Windows Release Information](https://docs.microsoft.com/en-us/windows/release-health/release-information) docs page has lots of useful information

From there, it is easy to figure out the release date for every OS build (which includes Quality/Security and Feature updates). Problem is, there is no machine-readable version of it (JSON/XML/CSV). And to make matters worse, the “human-friendly” Windows version (i.e. “21H2”) is not even part of the table! How can we approach this?

## Looking for a solution

There are two options: copy-paste manually (“nnnoooooooo…..” (c)Luke Skywalker”) or load the page programmatically and scrape the HTML. Fortunately, all the tables have a common **id** tag format and all the headings containing the human-friendly Windows version are wrapped into a **&lt;strong&gt;** tag, which we can also leverage.

Using PowerShell it is quite simple to pull down an HTML page and parse it using (*thanks, Internet*) the **[ParsedHtml](https://docs.microsoft.com/en-us/dotnet/api/microsoft.powershell.commands.htmlwebresponseobject.parsedhtml?view=powershellsdk-1.1.0#microsoft-powershell-commands-htmlwebresponseobject-parsedhtml)** property of the result returned by the **[Invoke-WebRequest](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-webrequest?view=powershell-5.1)** cmdlet. …Except that it does not work if your system has Internet Explorer! Does you machine have one? Mine does not.

There are workarounds based on creating COM objects etc. that were not stable on my machine. I ended up (*thanks, Internet*) finding a workaround called **HTML Agility Pack** and its wrapper called [PowerHTML](https://www.powershellgallery.com/packages/PowerHTML/0.1.6).

```powershell
PS> Install-Module -Name PowerHTML
```

Afterward, the script was relatively easy to build (most of the time spent unwrapping the resulting structure for proper CSV output). You are free to use and modify the script. ***Note that this is a raw MVP-kind of script – no error-checking and input validation whatsoever. You are responsible for everything that happens after you run it! 🙂***

The command line for running the script is  below. The output formats can be JSON or CSV. If this parameter is not specified it will return a pure PowerShell object (can be piped to other cmdlets). Otherwise just pipe it into a file.

```powershell
Get-WindowsUpdateBuildsData [-OutFormat <JSON, CSV>] | <next step>
Get-WindowsUpdateBuildsData -CSV | WinVersions.csv
```

Here is the script itself, the output is below.

```powershell
[CmdletBinding()]
Param(
    [string]$OutFormat = "raw"
)
$ProgressPreference = 'SilentlyContinue'
$URLs = @{
"10" = "https://docs.microsoft.com/en-us/windows/release-health/release-information" #Win10
"11" = "https://docs.microsoft.com/en-us/windows/release-health/windows11-release-information"
}
$VersionTable = @{}
$BuildVersionTable = @{}
function PullUpdateData {
    param (
        $ver = "10"
    )
    $Response = Invoke-WebRequest -Uri $URLs[$ver] -UseBasicParsing -ErrorAction Stop
    $HTMLdom = ConvertFrom-Html($Response)
    #First parse the Build number relationship - OS Name relationship
    #they are enclosed into <strong> element and have a format of "Version 21H2 (OS build 19044)"
    #one of them has "RTM", so we get rid of it via Substring
    $BuildVersions = $HTMLdom.SelectNodes('//strong') | Where-Object {$_.InnerText -match "^Version*"}
    foreach ($element in $BuildVersions) {
        $res = (Select-String -InputObject $element.InnerText -Pattern "^Version (.+?) \(OS build (\d+)\)").Matches[0]
        $BuildVersionTable[$res.Groups[2].Value] = $res.Groups[1].Value.Substring(0,4)
    }
    #Then parse the history tables into relevant sections
    #the history tables have id historyTable##
    $tables = $HTMLdom.SelectNodes('//table') | Where-Object {
        $_.Attributes['id'].Value  -match "historyTable"
    }
    #parse each table. First row should contain headers (th).
    foreach ($table in $tables) {
        $headers = $table.SelectNodes('tr')[0].SelectNodes('th').InnerText
        foreach ($row in $table.SelectNodes('tr')) {
            $values = $row.SelectNodes('td').InnerText
            if ($null -eq $values) { continue } # for the row containing headers
            $newrow = @{}
            for ($index = 0; $index -lt $values.count; $index++) {
                $newrow[$headers[$index]] = $values[$index]
            }
            $build = $newrow['Build'].Split('.')[0]
            $newrow['BuildShort'] = $build
            $newrow['BuildFull'] = "10.0."+$newrow['Build']
            $newrow['Version'] = $BuildVersionTable[$build]
            $newrow['WinVer'] = $ver
            $VersionTable[$newrow['Build']] = $newrow
        }
    }
}
PullUpdateData("10")
PullUpdateData("11")
$VersionArray = $VersionTable.GetEnumerator() | Sort-Object  $_.Key | ForEach-Object{[PSCustomObject]$_.Value}
switch ($OutFormat) {
    "CSV"  { return ($versionArray | ConvertTo-CSV -NoTypeInformation)}
    "JSON" { return ($versionArray | ConvertTo-JSON)}
    Default { return $VersionArray}
}
```

The script produces a data structure like this (*CSV file with several example rows*), which includes the patch date and several variations of the OS Version (full, partial, human friendly etc.) for various potential use cases. Note that if you are using Excel you must load the build numbers as Text, Excel insists that they are Integer, which messes them up.

[![](https://arsenb.files.wordpress.com/2022/07/image-2.png?w=1024)](https://arsenb.files.wordpress.com/2022/07/image-2.png)Sample rows from the resulting CSV file

## Summary

Now we can load this data into PowerBI to cross-reference with the **osVersion **device property from the **[Intune Data Warehouse](https://docs.microsoft.com/en-us/mem/intune/developer/reports-nav-create-intune-reports)** and build a detailed OS Update report, including how many weeks is the device behind the latest security update and show all kinds of useful graphs and charts (percentages against threshold, compliant/non-compliant devices, etc.). Which will be the next part of this blog once I figure out how to build cool visuals in PowerBI and get more familiar with PBI DAX (*or give up and just publish the PBI query and data transform, whichever comes first*).

Why use Data Warehouse instead of direct calls against the Intune API?

Export-VBRAudit
---------------

### Synopsis
Exports report on actions performed in Veeam Backup & Replication.

---

### Description

This cmdlet exports report that contain information on actions performed by an administrator in Veeam Backup & Replication.

---

### Examples
> Exporting Report on Actions Performed in Veeam Backup & Replication

$fromdate = Get-Date -Year 2023 -Month 2 -Day 2 -Hour 0 -Minute 0 -Second 0
$todate = Get-Date -Year 2023 -Month 3 -Day 4 -Hour 0 -Minute 0 -Second 0
Export-VBRAudit -From $fromdate -To $todate -FileFullPath "C:\Reports\02-03.2021AuditReport.txt"
This example shows how to export a  report that contains information on actions performed by an administrator in Veeam Backup & Replication for the period from 02/02/2023 to 03/04/2023.
Perform the following steps:
1. Run the Get-Date cmdlet. Specify the Year, Month, Day, Hour, Minute and Second parameter values. Save the result to the $fromdate variable.
2. Run the Get-Date cmdlet. Specify the Year, Month, Day, Hour, Minute and Second parameter values. Save the result to the $todate variable.
3. Run the Export-VBRAudit cmdlet. Specify the following settings:
- Set the $fromdate variable as the From parameter value.
- Set the $todate variable as the To parameter value.
- Specify the FileFullPath parameter value.

---

### Parameters
#### **FileFullPath**
Specifies the name of the file and the target path where this file is located. This cmdlet will export the report to this file located in the specified destination.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **From**
Specifies the starting date of the report period. The cmdlet will generate a report starting from the specified date.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|true    |named   |False        |

#### **To**
Specifies the end date of the report period. The cmdlet will generate a report for a period ending on the specified date.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRAudit -FileFullPath <String> -From <DateTime> -To <DateTime> [<CommonParameters>]
```

Export-VBRBackup
----------------

### Synopsis
Exports a backup or restore point files to a selected folder.

---

### Description

This cmdlet copies a selected backup files to a user-specified directory.

You can copy a whole backup file or select backups for a specific job object. The job objects are VMs, VM containers, datastores or resource pools.

---

### Examples
> Example 1

```PowerShell
Export-VBRBackup -Backup $"AD backup" -Dir "C:\Export"
This command exports the backup file represented by the $"AD backup" to the folder "C:\Export". The backup file to export is obtained with Get-VBRBackup and assigned to the variable beforehand.
```
> Example 2

```PowerShell
Export-VBRBackup -RestorePoint $"AD_local" -Dir "C:\Export"
This command exports the backup file for a specific VM represented by the $"AD_local" to the folder "C:\Export". The backup file to export is obtained with Get-VBRRestorePoint and assigned to the variable beforehand.
```

---

### Parameters
#### **Backup**
Specifies the backup file you want to export.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|true    |0       |False        |

#### **Dir**
Specifies the path to the folder where you want to copy the files to.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |1       |False        |

#### **RestorePoint**
Specifies the job object (i.e. a VM) for which you want to export the backup files.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[COib]`|true    |0       |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRBackup [-Backup] <CBackup> [-Dir] <String> [<CommonParameters>]
```
```PowerShell
Export-VBRBackup [-RestorePoint] <COib> [-Dir] <String> [<CommonParameters>]
```

Export-VBRBackupMetadata
------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Backup**

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|true    |named   |False        |

#### **Destination**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRBackupMetadata -Backup <CBackup> [-Destination <String>] [<CommonParameters>]
```

Export-VBRConfiguration
-----------------------

### Synopsis
Starts configuration backup job.

---

### Description

This cmdlet backs up current configuration of Veeam Backup & Replication server.

With configuration backup, you can store a copy of your host configuration: your virtual infrastructure, jobs configuration, Veeam Backup & Replication settings and other data. In case the Veeam Backup & Replication host is failed or configuration is corrupted, you can restore configuration with this copy.

The configuration backup is job-driven. You can configure settings of the configuration backup job, including schedule, in the main menu of the Veeam backup console. With Veeam PowerShell, you can start a job session but you cannot change the settings.

By default, the configuration backup job runs daily. The resulting backup files are stored to the C:\backup\VeeamConfigBackup\%BackupServer% folder on the Veeam backup default repository.

You cannot restore configuration with Veeam PowerShell. It is recommended to perform the restore operation with Veeam Backup & Replication UI for full functionality.

---

### Examples
> Example 1

Export-VBRConfiguration
This command backs up current configuration of Veeam Backup & Replication host.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRConfiguration [<CommonParameters>]
```

Export-VBRInternalData
----------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Id**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRInternalData -Id <Guid> [<CommonParameters>]
```

Export-VBRJobObjectMasks
------------------------

### Synopsis
Exports masks of objects for file backup jobs and object storage backup jobs.

---

### Description

This cmdlet exports masks of objects for file backup jobs and object storage backup jobs.

---

### Related Links
* [Get-VBRUnstructuredBackupJob](Get-VBRUnstructuredBackupJob.md)

* [New-VBRObjectStorageBackupJobObject](New-VBRObjectStorageBackupJobObject.md)

* [New-VBRNASBackupJobObject](New-VBRNASBackupJobObject.md)

* [Get-VBRUnstructuredBackupJob](Get-VBRUnstructuredBackupJob.md)

---

### Examples
> Exporting Exclusion Masks for Object Storage Backup Job

$Job = Get-VBRUnstructuredBackupJob -Name 'filemasks'
$BackupObjects = $Job.BackupObject
Export-VBRJobObjectMasks -BackupObject $BackupObjects[0] -Path "C:\export.xml"
This example shows how to exports exclusion masks for the Azure backup object storage backup jobs.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupJob cmdlet. Specify the Name parameter value. Save the result to the $Job variable.
2. Specify the BackupObject property of the $Job variable value. Save result to the $Job variable.
3. Run the Export-VBRJobObjectMasks cmdlet. Set the $BackupObjects[0] variable as the BackupObject parameter value. Specify the Path parameter value.

---

### Parameters
#### **BackupObject**
Specifies a scope of objects. The cmdlet will export a mask that contains these objects. Accepts the VBRUnstructuredBackupJobObject object. To create this object, run the following cmdlets:
* [For a file backup job] New-VBRNASBackupJobObject
* [For object storage backup job] New-VBRObjectStorageBackupJobObject

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupJobObject]`|true    |named   |False        |

#### **Force**
Defines that the cmdlet will export masks without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Job**
Specifies an array of of file backups job and object storage backup job. The cmdlet will return masks added to these jobs. Accepts the CBackupJob object.  To get this object, run the Get-VBRUnstructuredBackupJob cmdlet.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CBackupJob]`|true    |named   |False        |

#### **Path**
Specifies a path to a folder. The cmdlet will export a mask to this folder.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRJobObjectMasks -BackupObject <VBRUnstructuredBackupJobObject> [-Force] -Job <CBackupJob> -Path <String> [<CommonParameters>]
```

Export-VBRLinuxKnownHost
------------------------

### Synopsis
Exports Linux SSH fingerprints to a file.

---

### Description

This cmdlet copies TLS fingerprints of trusted Linux hosts from Veeam Backup & Replication to a file.

---

### Examples
> Exporting Linux SSH Fingerprints

```PowerShell
Export-VBRLinuxKnownHost -Path "C:\fingerprints.xml"
This command exports Linux SSH fingerprints to an XML file.
```

---

### Parameters
#### **Path**
Specifies the path to the file. The cmdlet will export TLS fingerprints to this file.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRLinuxKnownHost -Path <String> [<CommonParameters>]
```

Export-VBRLocation
------------------

### Synopsis
Exports geographic locations from Veeam Backup & Replication.

---

### Description

This cmdlet exports geographic locations created in Veeam Backup & Replication to an XML file.

---

### Examples
> Exporting Geographic Locations to XML File

Export-VBRLocation -Path "C:\Locations\BackupNorth.xml"
This command exports geographic locations from Veeam Backup & Replication to an XML file.

---

### Parameters
#### **Force**
Defines that the cmdlet will overwrite the existing destination XML file without asking a user.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Path**
Specifies the path to the XML file. The cmdlet will export locations to this file.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRLocation [-Force] -Path <String> [<CommonParameters>]
```

Export-VBRLogs
--------------

### Synopsis
Collects system logs for export.

---

### Description

This cmdlet collects system logs. The log files are written to the folder you specify in this cmdlet.
You can use this cmdlet to collect logs you can send to the Veeam support.
You can get logs for all kind of virtual host, any jobs including SureBackup jobs, entities including VMware or Hyper-V VMs, or any backup. Use an appropriate parameter set for each case.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Get-VBRSureBackupJob](Get-VBRSureBackupJob.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRDiscoveredComputer](Get-VBRDiscoveredComputer.md)

---

### Examples
> Example 1. Collecting Logs for Servers

$server = Get-VBRServer -Name "Active_Directory"
Export-VBRLogs -Server $server -FolderPath "C:\Logs" -Compress -LastDays 7
This example shows how to collect log files from the Active_Directory server with the following settings:
- The destination path is C:\Logs.
- The period for collecting data is last 7 days.
- The logs compression is enabled.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Export-VBRLogs cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Specify the FolderPath parameter value.
- Specify the LastDays parameter value.
> Example 2. Collecting Logs for Jobs

$job = Get-VBRSureBackupJob -Name "DC SureJob"
Export-VBRLogs -Job $job -FolderPath "C:\Logs\SureBackup Logs" -Compress:$false
This example shows how to collect log files for the DC SureJob SureBackup job with the following settings:
- The destination path is C:\Logs\SureBackup Logs.
- The period for collecting data is not set to collect all the data for the job.
- The logs compression is disabled.
Perform the following steps:
- Run the Get-VBRSureBackupJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
- Run the Export-VBRLogs cmdlet. Set the $job variable as the Job parameter value. Specify the FolderPath parameter value. Set the Compress parameter to $false.
> Example 3. Collecting Logs for VM

$vm = Find-VBRViEntity -Name "DC"
Export-VBRLogs -Entity $vm -FolderPath "C:\Logs" -LastDays 30
This example shows how to collect log files for the DC VM with the following settings:
- The destination path is C:\Logs.
- The period for collecting data is last 30 days.
- The logs compression is enabled.
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $vm variable.
2. Run the Export-VBRLogs cmdlet. Specify the following settings:
- Set the $vm variable as the Entity parameter value.
- Specify the FolderPath parameter value.
- Specify the LastDays parameter value.
> Example 4. Collecting Logs for Backups

$backup = Get-VBRBackup -Name "srv2049-job"
Export-VBRLogs -CBackup $backup -FolderPath "C:\Logs" -LastDays 14
This example shows how to collect log files for the srv2049-job backup with the following settings:
- The destination path is C:\Logs.
- The period for collecting data is last 14 days.
- The logs compression is enabled.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Export-VBRLogs cmdlet. Specify the following settings:
- Set the $backup variable as the CBackup parameter value.
- Specify the FolderPath parameter value.
- Specify the LastDays parameter value.
> Example 5. Collecting Logs for Protected Computers

$machines = Get-VBRDiscoveredComputer -Type Computer
Export-VBRLogs -Computer $machines[3] -FolderPath "C:\Logs" -LastDays 10
This example shows how to collect log files for protected computers with the following settings:
- The destination path is C:\Logs.
- The period for collecting data is last 10 days.
- The logs compression is enabled.
Perform the following steps:
1. Run the Get-VBRDiscoveredComputer cmdlet. Set the Computer option for the Type parameter. Save the result to the $machines variable.
The Get-VBRDiscoveredComputer cmdlet will return an array of protected computers. Mind the ordinal number of the necessary protected computer (in our example, it is the fourth computer in the array).
2. Run the Export-VBRLogs cmdlet. Specify the following settings:
- Set the $machines[3] variable as the Computer parameter value.
- Specify the FolderPath parameter value.
- Specify the LastDays parameter value.

---

### Parameters
#### **Backup**
Specifies an array of backups. The cmdlet will collect logs of these backups.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Compress**
Defines that the log files will be compressed.
Default: True.
Note: To disable this option, set the parameter value to $false. That is, parameter_name:$false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Computer**
Specifies an array of protected computers. The cmdlet will collect logs of these computers.

|Type                       |Required|Position|PipelineInput                 |
|---------------------------|--------|--------|------------------------------|
|`[VBRDiscoveredComputer[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Entity**
Specifies an array of VMs. The cmdlet will collect logs of these VMs.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IVmItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **FolderPath**
Specifies the destination folder. The cmdlet will export  logs to this folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **From**
Specifies the start date to collect the logs for export. Enter the date in format set in your workstation Date and Time settings. Note: This parameter is deprecated and will be marked as obsolete in the future. You must re-write your scripts by using the LastDays parameter. Otherwise, the script will return an error.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|false   |named   |False        |

#### **Job**
Specifies an array of jobs. The cmdlet will collect logs of these jobs.
Accepts all kinds of jobs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[IJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **LastDays**
Specifies the number of last days to collect the logs for.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**
Specifies an array of servers. The cmdlet will collect logs from these servers.
Note: The selected servers must be running and available over the network.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CHost[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Tenant**
Specifies an array of cloud tenants. The cmdlet will collect logs of these cloud tenants.
Note: This parameter does not return logs of VMware Cloud Director and Active Directory tenant accounts.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRCloudTenant[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **To**
Specifies the end date to collect the logs for export. Enter the date in format set in your workstation Date and Time settings. Note: This parameter is deprecated and will be marked as obsolete in the future. You must re-write your scripts by using the LastDays parameter. Otherwise, the script will return an error.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|false   |named   |False        |

#### **Wait**
Defines that the command waits for the process to complete before accepting more input.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Common.CHost[]

Veeam.Backup.Core.IJob[]

Veeam.Backup.Core.IVmItem[]

Veeam.Backup.Core.CBackup[]

Veeam.Backup.PowerShell.Infos.VBRDiscoveredComputer[]

Veeam.Backup.PowerShell.Infos.VBRCloudTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRLogs -Backup <CBackup[]> [-Compress] -FolderPath <String> [-From <DateTime>] [-LastDays <Int32>] [-To <DateTime>] [-Wait] [<CommonParameters>]
```
```PowerShell
Export-VBRLogs [-Compress] -Computer <VBRDiscoveredComputer[]> -FolderPath <String> [-From <DateTime>] [-LastDays <Int32>] [-To <DateTime>] [-Wait] [<CommonParameters>]
```
```PowerShell
Export-VBRLogs [-Compress] -Entity <IVmItem[]> -FolderPath <String> [-From <DateTime>] [-LastDays <Int32>] [-To <DateTime>] [-Wait] [<CommonParameters>]
```
```PowerShell
Export-VBRLogs [-Compress] -FolderPath <String> [-From <DateTime>] -Job <IJob[]> [-LastDays <Int32>] [-To <DateTime>] [-Wait] [<CommonParameters>]
```
```PowerShell
Export-VBRLogs [-Compress] -FolderPath <String> [-From <DateTime>] [-LastDays <Int32>] -Server <CHost[]> [-To <DateTime>] [-Wait] [<CommonParameters>]
```
```PowerShell
Export-VBRLogs [-Compress] -FolderPath <String> [-From <DateTime>] [-LastDays <Int32>] -Tenant <VBRCloudTenant[]> [-To <DateTime>] [-Wait] [<CommonParameters>]
```

Export-VBRMalwareDetectionExtensionList
---------------------------------------

### Synopsis
Exports a list of suspicious files extensions to a certain file.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet exports a list of suspicious files extensions from the Veeam Backup & Replication database to a certain file.

---

### Examples
> Exporting List of Suspicious Files Extensions

```PowerShell
Export-VBRMalwareDetectionExtensionList -Path "C:\Users\Administrator\Documents\SuspiciousFiles.xml"
This command exports a list of suspicious files extensions to the SuspiciousFiles.xml file located in the C:\Users\Administrator\Documents\ folder.
```

---

### Parameters
#### **Path**
Specifies a path to a file. The cmdlet will export a list of suspicious files extensions to this file.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRMalwareDetectionExtensionList [-Path] <String> [<CommonParameters>]
```

Export-VBRRestorePoint
----------------------

### Synopsis
Exports backup files of a specific restore point.

---

### Description

This cmdlet exports backup files of a specific restore point.

---

### Related Links
* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

---

### Examples
> Exporting Backup Files of Specific Restore Point

$restorepoint = Get-VBRRestorePoint         
Export-VBRRestorePoint -RestorePoint $restorepoint[2]
This example shows how to export backup files of a specific restore point.
Perform the following steps:
1. Run the Get-VBRRestorePoint cmdlet. Save the result to the $restorepoint variable.
2. Run the Export-VBRRestorePoint cmdlet. Set the third $restorepoint as the RestorePoint parameter value.

---

### Parameters
#### **Reason**
Specifies the reason of the export.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Repository**
Specifies the repository to which you want to export the restore point.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[CBackupRepository]`|false   |named   |False        |

#### **RestorePoint**
Specifies a restore point. The cmdlet will export backup files of this restore point.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[COib]`|true    |0       |True (ByPropertyName, ByValue)|

#### **RetentionNumber**
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).
For the RetentionPeriodType option.
Specifies the period of time to keep the exported data. After this period finishes, Veeam Backup & Replication will remove data.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **RetentionPeriod**
Specifies a retention period of exported backup files. The cmdlet will delete exported backup files within one of the following retention periods:
* Never
* In1Month
* In3Months
* In6Months
* In1Year
* In2Years
* In3Years
* In5Years
Note: Use this parameter if the RetentionPeriodType and RetentionNumber parameters are not specified.
Valid Values:

* Never
* In1Month
* In3Months
* In6Months
* In1Year
* In2Years
* In3Years
* In5Years
* In7Years

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRExportRetentionPeriod]`|false   |named   |False        |

#### **RetentionPeriodType**
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).
Specifies the type of the retention policy. You can set the following types:
* Days: use this option if you want Veeam Backup & Replication to apply retention policy daily.
* Months: use this option if you want Veeam Backup & Replication to apply retention policy monthly.
* Years: use this option if you want Veeam Backup & Replication to apply retention policy yearly.
Use the RetentionNumber to specify the number of days, months or years.
Note: Use this parameter if the RetentionPeriod parameter is not specified.
Valid Values:

* Days
* Months
* Years

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRRetentionPeriodType]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.COib

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRRestorePoint [-RestorePoint] <COib> [-Reason <String>] [-Repository <CBackupRepository>] [-RetentionNumber <Int32>] [-RetentionPeriod {Never | In1Month | In3Months 
```
```PowerShell
| In6Months | In1Year | In2Years | In3Years | In5Years | In7Years}] [-RetentionPeriodType {Days | Months | Years}] [<CommonParameters>]
```

Export-VBRStorageDump
---------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **DumpFilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |1       |False        |

#### **Password**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |2       |False        |

#### **Storage**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[CStorage]`|true    |0       |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRStorageDump [-Storage] <CStorage> [-DumpFilePath] <String> [[-Password] <String>] [<CommonParameters>]
```

Export-VBRTapeMedium
--------------------

### Synopsis
Moves tapes to Import/Export slot.

---

### Description

This cmdlet exports selected tapes to the Import/Export slot. You need to to run the exporting procedure if you want to take the tapes out of the tape library.

NOTE: Import/export commands are available only for the devices that support corresponding operations and include I/E slot.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

---

### Examples
> Example - Exporting Selected Tape

$tape = Get-VBRTapeMedium -Name "00170008"
Export-VBRTapeMedium -Medium $tape
This example shows how to export the 00170008 tape.

Perform the following steps:
1. Run Get-VBRTapeMedium to get the tape and save it to the $tape variable.
2. Run Export-VBRTapeMedium with this variable.

---

### Parameters
#### **Medium**
Specifies the array of tapes. The cmdlet will export these tapes. Accepts the VBRTapeMedium[] object, GUID or string. To get this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeMedium[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Wait**
Defines that the command waits for the import sessions to complete before accepting more input.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeMedium[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Export-VBRTapeMedium -Medium <VBRTapeMedium[]> [-Wait] [<CommonParameters>]
```

Find-VBRADEntity
----------------

### Synopsis
Looks for Active Directory objects.

---

### Description

This cmdlet looks for Active Directory objects.
You can use this cmdlet to search for Active Directory objects you plan to add to the scope of a protection group.

---

### Related Links
* [Get-VBRADDomain](Get-VBRADDomain.md)

---

### Examples
> Example 1. Getting All Active Directory Objects

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
Find-VBRADEntity -Domain $connection -Recurse
This example shows how to get all Active Directory objects.
Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Provide the Recurse parameter.
> Example 2. Getting Active Directory Objects by Name

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
Find-VBRADEntity -Domain $connection -Name *account* -Recurse
This example shows how to get Active Directory objects with names containing account.
Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Specify the Name parameter value. Provide the Recurse parameter.
> Example 3. Getting Active Directory Objects from Container

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
$root = Find-VBRADEntity -Domain $connection
$accounts = Find-VBRADEntity -Domain $connection -Root $root -Name Accounts
Find-VBRADEntity -Domain $connection -Root $accounts -Recurse
This example shows how to get Active Directory objects from the Accounts container.
Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Save the result to the $root variable.
3. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $root variable as the Root parameter value. Specify the Name parameter value. Save the result to the $accounts variable.
4. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $accounts variable as the Root parameter value. Provide the Recurse parameter.
> Example 4. Getting Active Directory Objects by Type

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
Find-VBRADEntity -Domain $connection -Type OrganizationUnit -Recurse
This example shows how to get all Active Directory objects of the OrganizationUnit type.
Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the OrganizationUnit option for the Type parameter. Provide the Recurse parameter.
> Example 5. Getting Active Directory Objects by ID

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
Find-VBRADEntity -Domain $connection -Id 3826d21c-0f7d-4c80-b5ef-b5568e967a6a, 85950671-5e3a-481f-8408-5af40de317c6
This example shows how to get Active Directory objects by ID.
Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value.  Specify the Id parameter value.
> Example 6. Getting Active Directory Object using Veeam PowerShell and Microsoft Active Directory Windows PowerShell

$comp = Get-ADComputer SUPP-G3321
$compid = $comp.ObjectGUID
$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
Find-VBRADEntity -Domain $connection -Id $compid
This example shows how to get an Active Directory object using both Veeam PowerShell and Microsoft Active Directory Windows PowerShell cmdlets.
Perform the following steps:
1. Make sure you have the Active Directory Windows PowerShell module installed. For more information, see https://technet.microsoft.com/en-us/library/dd378783(WS.10).aspx#Anchor_5.
2. Run the Get-ADComputer to get the Active Directory computer. Save the result to the $comp variable.
3. Use the ObjectGUID property of the $comp variable. Save the result to the $compid variable.
4. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
5. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $compid variable as the Id parameter value.

---

### Parameters
#### **Domain**
Specifies the Active Directory domain connection object.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[VBRADDomain]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the array of object IDs. The cmdlet will return objects with these IDs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

#### **Name**
Specifies the array of object names. The cmdlet will return objects with these names.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **Recurse**
Defines that the cmdlet will look for objects from all child containers of the specified container.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **Root**
Specifies the container of objects. The cmdlet will look for objects in this container.
If omitted, the cmdlet will look for objects in the domain container.

|Type           |Required|Position|PipelineInput        |
|---------------|--------|--------|---------------------|
|`[VBRADEntity]`|false   |named   |True (ByPropertyName)|

#### **Type**
Specifies the array of object types:
* Domain
* Cluster
* OrganizationUnit
* Group
* Folder
* Computer
The cmdlet will return objects of these types.
Valid Values:

* Domain
* Cluster
* OrganizationUnit
* Group
* Folder
* Computer

|Type                 |Required|Position|PipelineInput        |
|---------------------|--------|--------|---------------------|
|`[VBRADEntityType[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRADDomain

System.Guid[]

System.String[]

Veeam.Backup.PowerShell.Infos.VBRADEntityType[]

Veeam.Backup.PowerShell.Infos.VBRADEntity

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRADEntity -Domain <VBRADDomain> [-Id <Guid[]>] [-Recurse] [-Root <VBRADEntity>] [<CommonParameters>]
```
```PowerShell
Find-VBRADEntity -Domain <VBRADDomain> [-Name <String[]>] [-Recurse] [-Root <VBRADEntity>] [<CommonParameters>]
```
```PowerShell
Find-VBRADEntity -Domain <VBRADDomain> [-Recurse] [-Root <VBRADEntity>] [-Type {Domain | Cluster | OrganizationUnit | Group | Folder | Computer}] [<CommonParameters>]
```

Find-VBRDatastore
-----------------

### Synopsis
Returns a list of VMware datastores connected to the specified ESX(i) host.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRDatastore [-Server] <CHost> [-Name <String[]>] [<CommonParameters>]
```

Find-VBRHvEntity
----------------

### Synopsis
Returns Hyper-V objects.

---

### Description

This cmdlet retutns an array of Hyper-V objects.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Getting all Hosts and VMs Available on Hyper-V

$server = Get-VBRServer -Name "HvHost"
Find-VBRHvEntity -Server $server -HostsAndVMs
This example shows how to get a list of all hosts and VMs available on the HvHost Hyper-V server.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRHvEntity cmdlet. Set the $server variable as the Server parameter value. Provide the HostsAndVMs parameter.
> Example 2. Getting all Hosts Available on Hyper-V

$server = Get-VBRServer -Name "HvHost"
Find-VBRHvEntity -Server $server -Hosts
This example shows how to get a list of all hosts available on the "HvHost" Hyper-V server. Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRHvEntity cmdlet. Set the $server variable as the Server parameter value. Provide the Hosts parameter.
> Example 3. Getting all Hosts and Volumes Available on Hyper-V

$server = Get-VBRServer -Name "HvHost"
Find-VBRHvEntity -Server $server -HostsAndVolumes
This example shows how to get a list of all hosts and volumes available on the HvHost Hyper-V server.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRHvEntity cmdlet. Set the $server variable as the Server parameter value. Provide the HostsAndVolumes parameter.
> Example 4. Getting all Hyper-V Tags

$server = Get-VBRServer -Name "HvHost"
Find-VBRHvEntity -Server $server -Tags
This example shows how to get a list of all tags available on the HvHost Hyper-V server.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRHvEntity cmdlet. Set the $server variable as the Server parameter value. Provide the Tags parameter.

---

### Parameters
#### **Hosts**
Defines that the cmdlet will return an array of hosts.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HostsAndVMs**
Defines that the cmdlet will return an array of hosts.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HostsAndVolumes**
Defines that the cmdlet will return an array of hosts and volumes.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies an array of entity names. The cmdlet will return entities with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies an array of Hyper-V hosts. The cmdlet will return entities created on these hosts.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Tags**
Defines that the cmdlet will return an array of tags.
Note: To specify the tag name, provide the Name parameter.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **VMGroups**
Defines that the cmdlet will return an array of VM groups.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Common.CHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRHvEntity [-Hosts] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRHvEntity [-HostsAndVMs] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRHvEntity [-HostsAndVolumes] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRHvEntity [-Name <String[]>] [-Server <CHost[]>] [-Tags] [<CommonParameters>]
```
```PowerShell
Find-VBRHvEntity [-Name <String[]>] [-Server <CHost[]>] [-VMGroups] [<CommonParameters>]
```

Find-VBRObject
--------------

### Synopsis
Returns a list of all VMs and VM containers on the specified ESX(i) host.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRObject [-Server] <CHost> [-Name <String[]>] [<CommonParameters>]
```

Find-VBRResourcePool
--------------------

### Synopsis
Looks for VMware resource pools.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRResourcePool [-Server] <CHost> [-Name <String[]>] [<CommonParameters>]
```

Find-VBRTapeCatalog
-------------------

### Synopsis
Looks for files stored on tapes.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRTapeCatalog [-Name <String[]>] [<CommonParameters>]
```

Find-VBRTapeCatalogItem
-----------------------

### Synopsis
Looks for files or folders backed-up by tape jobs.

---

### Description

This cmdlet looks for files or folders backed-up by tape jobs.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Finding Files and Folders Backed-Up from Certain Server

$server = Get-VBRServer -Name "Repo 01"
Find-VBRTapeCatalogItem -Server $server
This example shows how to find files and folders backed-up from the certain server.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRTapeCatalogItem cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Finding Certain File Backed-Up by Tape Job

$item = Find-VBRTapeCatalogItem
Find-VBRTapeCatalogItem -CatalogItem $item
This example shows how to find a certain file backed-up by the tape job.

Perform the following steps:
1. Run the Find-VBRTapeCatalogItem cmdlet. Save the result to the $item variable.
2. Run the Find-VBRTapeCatalogItem cmdlet. Set the $item variable as the CatalogItem parameter value.

---

### Parameters
#### **CatalogItem**
Specifies a file or folder. This parameter is used to search further based on the results of the initial search without this parameter. Accepts the VBRTapeCatalogItem[] object. To get this object, run the Find-VBRTapeCatalogItem cmdlet.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRTapeCatalogItem[]]`|false   |named   |False        |

#### **Name**
Specifies the name of the file or folder. The cmdlet will filter files and folders by this value.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **ResolvePath**
Defines that the cmdlet will set correct path for all returned files or folders. It is used to view the full path to existing files or folders.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

#### **Server**
Specifies the server where files were backed up from. The cmdlet will find files and folders backed up from this server. Accepts the CHost object. To get this object, run the Get-VBRServer cmdlet.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[CHost]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRTapeCatalogItem [-CatalogItem <VBRTapeCatalogItem[]>] [-Name <String[]>] [-Server <CHost>] [<CommonParameters>]
```
```PowerShell
Find-VBRTapeCatalogItem -CatalogItem <VBRTapeCatalogItem[]> -ResolvePath [<CommonParameters>]
```

Find-VBRTapeCatalogItemVersion
------------------------------

### Synopsis
Looks for backed up versions of a file or folder.

---

### Description

This cmdlet looks for backed-up versions of a file or folder to be further used by the Start-VBRTapeFileRestore cmdlet.

---

### Related Links
* [Find-VBRTapeCatalogItem](Find-VBRTapeCatalogItem.md)

---

### Examples
> Example - Getting Version of File Backed-Up by Tape Job

$item = Find-VBRTapeCatalogItem 
Find-VBRTapeCatalogItemVersion -CatalogItem $item[3]
This example shows how to get versions of a file backed-up by the tape job.

Perform the following steps:
1. Run the Find-VBRTapeCatalogItem cmdlet. Save the result to the $item variable.
2. Run the Find-VBRTapeCatalogItemVersion cmdlet. Set the $item variable as the CatalogItem parameter value.

---

### Parameters
#### **CatalogItem**
Specifies a file or folder. The cmdlet will find versions of this file or folder. Accepts the VBRTapeCatalogItem[] object. To get this object, run the Find-VBRTapeCatalogItem cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRTapeCatalogItem]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRTapeCatalogItemVersion -CatalogItem <VBRTapeCatalogItem> [<CommonParameters>]
```

Find-VBRTapeCatalogueHost
-------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRTapeCatalogueHost [-Name <String[]>] [<CommonParameters>]
```

Find-VBRTapeCatalogVersion
--------------------------

### Synopsis
Looks for versions of files stored on tapes.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **CatalogFile**

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[CatalogueFile]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Tape.Core.CatalogueFile

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRTapeCatalogVersion [-CatalogFile <CatalogueFile>] [-Name <String[]>] [<CommonParameters>]
```

Find-VBRvCloudEntity
--------------------

### Synopsis
Looks for Cloud Director entities.

---

### Description

This cmdlet looks for Cloud Director entities. Use this cmdlet to get Cloud Director entities from the Service Provider's Veeam backup server.

To get Cloud Director entities from the Tenant Veeam Backup & Replication, use the following cmdlets:
- Run the Get-VBRvCDCloudOrganizationvDC cmdlet to get the organization VDC.
- Run the Get-VBRvCDCloudStoragePolicy cmdlet to get the Cloud Director storage policy.
- Run the Get-VBRvCDCloudvApp cmdlet to get Cloud Director vApps.
- Run the Get-VBRvCDCloudOrganizationUser cmdlet to get the organization users.
Important: - This cmdlet works from the Service Provider side only.
- The cmdlet will not return users with administrator roles.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1

$server = Get-VBRServer -Name "172.16.1.13"
Find-VBRvCloudEntity -Server $server -Full
This example shows how to look for all vCloud entities registered on the server.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
2. Run the Find-VBRvCloudEntity cmdlet. Set the $server variable as the Server parameter value. Provide the Full parameter.
> Example 2

$server = Get-VBRServer -Name "172.16.1.13"
Find-VBRvCloudEntity -Server $server -Name *SQL*
This example shows how to look for the particular vCloud entity.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRvCloudEntity cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value.
> Example 3

$server = Get-VBRServer -Name "Cloud Server"
Find-VBRvCloudEntity -Server $server -VApp
This example shows how to get the vApps on the particular vCloud entity.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRvCloudEntity cmdlet. Set the $server variable as the Server parameter value. Provide the VApp parameter.
> Example 4

$server = Get-VBRServer -Name "Cloud Server"
Find-VBRvCloudEntity -Server $server -Datastore -Name "Datastore 04"
This example shows how to get the datastore on the particular vCloud entity.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRvCloudEntity cmdlet. Set the $server variable as the Server parameter value. Provide the Datastore parameter. Specify the Name parameter value.
> Example 5

```PowerShell
Find-VBRvCloudEntity -OrganizationVdc
This command gets all Organization DCs.
```

---

### Parameters
#### **Datastore**
Defines that the cmdlet will return only datastores.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EntityRef**
Specifies one of the following Cloud Director entities:
* VM
* vApp
* OrganizationVDC
* Organization
The cmdlet will return these entities.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Full**
Defines that the cmdlet will return only Cloud Director entities.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies the array of Cloud Director entity names.
The cmdlet will return entities with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Organization**
Defines that the cmdlet will return only Organizations.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **OrganizationUser**
Defines that the cmdlet will return only Organization users.
Note: The cmdlet will not return users with administrator roles.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **OrganizationVdc**
Defines that the cmdlet will return only organization VDCs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Server**
Specifies the array of servers. The cmdlet will return Cloud Director entities located on these servers.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **StorageProfile**
Defines that the cmdlet will return only storage profiles.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Template**
Defines that the cmdlet will return only vApp templates.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **VApp**
Defines that the cmdlet will return only vApps.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Vc**
Defines that the cmdlet will return only vCenter Servers managed by Cloud Director.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Vm**
Defines that the cmdlet will return only VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **VmTemplate**
Defines that the cmdlet will return only VM templates.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Common.CHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRvCloudEntity [-Datastore] [-EntityRef <String>] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Full] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-Organization] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-OrganizationUser] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-OrganizationVdc] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-Server <CHost[]>] [-StorageProfile] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-Server <CHost[]>] [-Template] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-Server <CHost[]>] [-VApp] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-Server <CHost[]>] [-Vc] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-Server <CHost[]>] [-Vm] [<CommonParameters>]
```
```PowerShell
Find-VBRvCloudEntity [-EntityRef <String>] [-Name <String[]>] [-Server <CHost[]>] [-VmTemplate] [<CommonParameters>]
```

Find-VBRViDatastore
-------------------

### Synopsis
Looks for VMware datastores.

---

### Description

This cmdlet looks for VMware datastores connected to the specified ESXi host or that are compatible with a particular VMware storage policy profile.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViStoragePolicy](Find-VBRViStoragePolicy.md)

---

### Examples
> Example 1. Looking for VMware Datastores Connected to Specific ESXi Host

$server = Get-VBRServer -Type ESXi -Name "esx05.tech.local"
Find-VBRViDatastore -Server $server
This example shows how to get a list of datastores connected to the esx05.tech.local ESXi hosts.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViDatastore cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Looking for VMware Datastores Compatible with Specific Storage Policy Profiles

$server = Get-VBRServer -Type ESXi -Name "esx05.tech.local"
$policy = Find-VBRViStoragePolicy -Server $server -Name "SP Virtual SAN Default"
Find-VBRViDatastore -StoragePolicy $policy -Name "MSExchange", "LocalStore_0*"
This example shows how to get the list of the MSExchange datastores and datastores which names start with LocalStore_0*. These datastores are compatible with the SP Virtual SAN Default storage policy profile.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViStoragePolicy cmdlet. Specify the Server and Name parameter values. Save the result to the $policy variable.
3. Run the Find-VBRViDatastore cmdlet. Set the $policy variable as the StoragePolicy parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies an array of datastores names. The cmdlet will return datastores with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies an ESXi host. The cmdlet will return datastores connected to this host.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

#### **StoragePolicy**
Specifies the VMware storage policy profile. The cmdlet will return datastores compatible with this profile.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRViStoragePolicy]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

Veeam.Backup.PowerShell.Infos.VBRViStoragePolicy

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRViDatastore [-Name <String[]>] -Server <CHost> [<CommonParameters>]
```
```PowerShell
Find-VBRViDatastore [-Name <String[]>] -StoragePolicy <VBRViStoragePolicy> [<CommonParameters>]
```

Find-VBRViDatastoreCluster
--------------------------

### Synopsis
Looks for VMware datastore clusters.

---

### Description

This cmdlet returns a list of VMware datastore clusters.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViStoragePolicy](Find-VBRViStoragePolicy.md)

---

### Examples
> Example 1. Looking for VMware Datastores Clusters Connected to Specific ESXi Host

$server = Get-VBRServer -Type ESXi -Name "esx05.tech.local" 
Find-VBRViDatastoreCluster -Server $server
This example shows how to look for VMware datastore clusters on the esx05.tech.local host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViDatastoreCluster cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Looking for VMware Datastores Clusters Compatible with Specific Storage Policy Profiles

$server = Get-VBRServer -Type ESXi -Name "esx05.tech.local" 
$policy = Find-VBRViStoragePolicy -Server $server -Name "SP Virtual SAN Default"
Find-VBRViDatastoreCluster -StoragePolicy $policy -Name "vol2", "cluster0*"
This example shows how to get the list of the vol2 cluster datastores and cluster datastores which names start with cluster0*. These datastores are compatible with the SP Virtual SAN Default storage policy profile.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViStoragePolicy cmdlet. Specify the Server and Name parameter values. Save the result to the $policy variable.
3. Run the Find-VBRViDatastoreCluster cmdlet. Set the $policy variable as the StoragePolicy parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies an array of datastore cluster names. The cmdlet will return clusters with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies a host or cluster. The cmdlet will return the datastore clusters created on this host or cluster.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Object]`|true    |named   |True (ByPropertyName, ByValue)|

#### **StoragePolicy**
Specifies the VMware storage policy profile. The cmdlet will return datastores clusters compatible with this profile.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRViStoragePolicy]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Object

Veeam.Backup.PowerShell.Infos.VBRViStoragePolicy

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRViDatastoreCluster [-Name <String[]>] -Server <Object> [<CommonParameters>]
```
```PowerShell
Find-VBRViDatastoreCluster [-Name <String[]>] -StoragePolicy <VBRViStoragePolicy> [<CommonParameters>]
```

Find-VBRViEntity
----------------

### Synopsis
Looks for VMware objects.

---

### Description

This cmdlet returns VMware objects connected to a specified ESXi host.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Getting List of Hosts and Clusters Connected to Specific ESXI Hosts

$server = Get-VBRServer -Name "ESXiHost 01", "ESXiHost 02"
Find-VBRViEntity -HostsAndClusters -Server $server
This examples shows how to get a list of  hosts and clusters that are connected to the following ESXi hosts: ESXiHost 01 and ESXiHost 02.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViEntity cmdlet. Set the $server variable as the Server parameter value. Provide the HostsAndClusters parameter.
> Example 2. Getting Specific Cluster from ESXI Host

$server = Get-VBRServer -Name "ESX01"
Find-VBRViEntity -Server $server -HostsAndClusters -Name vSAN
This examples shows how to get the vSAN ESXi cluster named located on the ESX01 ESXiHost.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViEntity cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Provide the HostsAndClusters parameter.
- Specify the Name parameter value.
> Example 3. Getting List of Resource Pools

$server = Get-VBRServer -Name "ESX01"
Find-VBRViEntity -Server $server -ResourcePools -Name Veeam*
This examples shows how to get a list of resource pools with names starting with Veeam. The resource pools are located on the ESX01 ESXi host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViEntity cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Provide the ResourcePools parameter.
- Specify the Name parameter value.
> Example 4. Getting List of VMware Tags

$server = Get-VBRServer -Name vcenter05.tech.global
Find-VBRViEntity -Server $server -Tags -Name "Mac OS"
This examples shows how to get a list of the Mac OS VMware tags within the vcenter05.tech.global vCenter.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViEntity cmdlet. Specify the following settings:
- Set the $server variable as the Server parameter value.
- Provide the Tags parameter.
- Specify the Name parameter value.

---

### Parameters
#### **DatastoresAndVMs**
Defines that the cmdlet will return only datastores and VMs.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HostsAndClusters**
Defines that the cmdlet will return only hosts and clusters.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **HostsAndDatastores**
Defines that the cmdlet will return only hosts and datastores.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies an array of VMware object names. The cmdlet will return entities with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **ResourcePools**
Defines that the cmdlet will return only resource pools.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Server**
Specifies an array of ESXi hosts. The cmdlet will return entities created on these hosts.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Servers**
Defines that the cmdlet will return only VMware hosts.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Tags**
Defines that the cmdlet will return only tags.
Default: False.
Note:
* To get the necessary tags of the VMware objects, you must specify the vCenter Server in the Server parameter. If you specify ESXi hosts, the cmdlet will not return any data. If you don't provide the Server parameter, the cmdlet will return tags for all servers, added to a backup infrastructure.
* To specify the tag name, use the Name parameter.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **VMsAndTemplates**
Defines that the cmdlet will return only VMs, folders and templates.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.Common.CHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRViEntity [-DatastoresAndVMs] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRViEntity [-HostsAndClusters] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRViEntity [-HostsAndDatastores] [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRViEntity [-Name <String[]>] [-ResourcePools] [-Server <CHost[]>] [<CommonParameters>]
```
```PowerShell
Find-VBRViEntity [-Name <String[]>] [-Server <CHost[]>] [-Servers] [<CommonParameters>]
```
```PowerShell
Find-VBRViEntity [-Name <String[]>] [-Server <CHost[]>] [-Tags] [<CommonParameters>]
```
```PowerShell
Find-VBRViEntity [-Name <String[]>] [-Server <CHost[]>] [-VMsAndTemplates] [<CommonParameters>]
```

Find-VBRViFolder
----------------

### Synopsis
Looks for folders on a specified ESXi host.

---

### Description

This cmdlet returns folders on a specified ESXi host.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Looking for all Folders Located on ESXi Host

$server = Get-VBRServer -Type ESXi -Name "Server01"
Find-VBRViFolder -Server $server
This example shows how to look for all folders located on the Server01 ESXi host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViFolder cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Looking for Specific Folder Located on ESXi Host

$server = Get-VBRServer -Type ESXi -Name "Server01"
Find-VBRViFolder -Server $server -Name "Weekly_Reports"
This example shows how to look for the Weekly_Reports folder located on the Server01 ESXi host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.  2. Run the Find-VBRViFolder cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value.
> Example 3. Looking for Several Specific Folders Located on ESXi Host

$server01 = Get-VBRServer -Name "Server01"
Find-VBRViFolder -Server $server01 -Name "Weekly_Reports", "Monthly_Reports"
This example shows how to look for the Weekly_Reports and Monthly_Report folders located on the Server01 ESXi host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViFolder cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies an array of folder names. The cmdlet will return folders with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies an ESXi host on which you want to look for folders.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRViFolder [-Name <String[]>] -Server <CHost> [<CommonParameters>]
```

Find-VBRViResourcePool
----------------------

### Synopsis
Returns VMware resource pools.

---

### Description

This cmdlet returns resource pools on a selected ESXi host.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Looking for all Resource Pools on Specific ESXi Host

$server = Get-VBRServer -Type ESXi -Name "esx05.tech.local"
Find-VBRViResourcePool -Server $server
This example shows how to get a list of resource pools on the esx05.tech.local ESXi hosts.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViResourcePool cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Looking for Specific Resource Pool on Specific ESXi Host

$server = Get-VBRServer -Type ESXi -Name "esx05.tech.local"
Find-VBRViResourcePool -Server $server -Name "ResourcePool_05"
This example shows how to get the RP_05 resource pool on the esx05.tech.local ESXi hosts.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViResourcePool cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the array of resource pool names. The cmdlet will return resource pools with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies the ESXi host. The cmdlet will return resource pools created on this host.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRViResourcePool [-Name <String[]>] -Server <CHost> [<CommonParameters>]
```

Find-VBRViStoragePolicy
-----------------------

### Synopsis
Looks for VMware storage policy profiles.

---

### Description

This cmdlet returns VMware storage policy profiles created on a vCenter Server.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViDatastore](Find-VBRViDatastore.md)

---

### Examples
> Example 1. Looking for all Storage Policy Profiles

$server = Get-VBRServer -Type ESXi -Name "tech.local"
Find-VBRViStoragePolicy -Server $server
This example shows how to get a list of all storage policy profiles registered for the tech.local host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViStoragePolicy cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Looking for Storage Policy Profile by its Name

$server = Get-VBRServer -Type ESXi -Name "tech.local"
Find-VBRViStoragePolicy -Server $server -Name "Virtual SAN Default Storage Policy"
This example shows how to get the Virtual SAN Default Storage Policy storage policy profile registered for the tech.local host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViStoragePolicy cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value.
> Example 3. Looking for Storage Policy Profile by its ID

$server = Get-VBRServer -Type ESXi -Name "tech.local"
Find-VBRViStoragePolicy -Server $server -Id "4da512dc-dee7-465b-a507-72d44a9ba752"
This example shows how to get the 4da512dc-dee7-465b-a507-72d44a9ba752 storage policy profile registered for the tech.local host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Find-VBRViStoragePolicy cmdlet. Set the $server variable as the Server parameter value. Specify the Id parameter value.

---

### Parameters
#### **Datastore**
Specifies a datastore. The cmdlet will return storage policy profiles compatible with this datastore.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRViDatastoreBase]`|false   |named   |False        |

#### **Id**
Specifies an array of storage policy profile IDs. The cmdlet will return profiles with these IDs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Name**
Specifies an array of storage policy profile names. The cmdlet will return profiles with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies the vCenter Server where the storage policy profiles are created.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VBRViStoragePolicy [-Datastore <VBRViDatastoreBase>] [-Id <String[]>] -Server <CHost> [<CommonParameters>]
```
```PowerShell
Find-VBRViStoragePolicy [-Datastore <VBRViDatastoreBase>] [-Name <String[]>] -Server <CHost> [<CommonParameters>]
```

Find-VSBHvVirtualLab
--------------------

### Synopsis
Looks for the virtual labs created on the specified Hyper-V host.

---

### Description

This cmdlet returns a list of all virtual labs created on the specified Hyper-V host, both registered in Veeam Backup & Replication and not.

You can get the list of all virtual labs on the specified Hyper-V host or look for instances directly by name.

Run Connect-VSBHvVirtualLab to add the unregistered virtual labs to Veeam Backup & Replication.

---

### Examples
> Example 1

```PowerShell
Get-VBRServer -Name "Hyper-V Host" | Find-VSBHvVirtualLab
This command looks for the list of all virtual labs created on the Hyper-V server named "Hyper-V Host". The server object is obtained with Get-VBRServer and piped down.
```
> Example 2

```PowerShell
Find-VSBHvVirtualLab -Server $server -Name Hv*
This command looks for the virtual labs with names starting with "Hv" on the server represented by the $server variable. The server object is obtained with Get-VBRServer and assigned to the variable beforehand.
```

---

### Parameters
#### **Name**
Specifies the name of the virtual lab or search conditions. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies the server on which you want to look for virtual labs.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|false   |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VSBHvVirtualLab [[-Server] <CHost>] [-Name <String[]>] [<CommonParameters>]
```

Find-VSBVirtualLab
------------------

### Synopsis
Looks for virtual labs created on the specified ESX(i) host.

---

### Description

This cmdlet returns a list of all virtual labs created on the specified ESX(i) host, both registered in Veeam Backup & Replication and not.

You can get the list of all VMware virtual labs on the specified ESX(i) host or look for instances directly by name.

Run Connect-VSBVirtualLab to add the unregistered virtual labs to Veeam Backup & Replication.

---

### Examples
> Example 1

```PowerShell
Get-VBRServer -Type ESXi | Find-VSBVirtualLab
This command looks for the list of all virtual labs located on the ESXi hosts. The servers are obtained with Get-VBRServer, sorted by "Type" and piped down.
```
> Example 2

```PowerShell
Get-VBRServer -Name "ESXiHost" | Find-VSBVirtualLab -Name "MailServer_VLab"
This command looks for the virtual lab named "MailServer_VLab" connected to the ESXi host named "ESXiHost". The server is obtained with Get-VBRServer and piped down.
```

---

### Parameters
#### **Name**
Specifies the name of the resource pool you want to get, or search conditions. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies the server on which you want to look for virtual labs.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Find-VSBVirtualLab [-Server] <CHost> [-Name <String[]>] [<CommonParameters>]
```

Flush-CTFile
------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **File**

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRTrackedFileInfo[]]`|true    |1       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTrackedFileInfo[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Flush-CTFile [-File] <VBRTrackedFileInfo[]> [<CommonParameters>]
```

Forget-VBRCloudUnavailableBackupFile
------------------------------------

### Synopsis
Removes backup files that are no longer available from a cloud repository.

---

### Description

This cmdlet removes backup files, that are no longer available, from a cloud repository.
Note: Any restore points on a repository or extent that is inaccessible, on in Maintenance mode, will be considered as unavailable. Before you remove these backup files, check the list of the files that the Get-VBRCloudUnavailableBackupFile cmdlet returns to ensure the correct files will be removed.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

* [Get-VBRCloudUnavailableBackupFile](Get-VBRCloudUnavailableBackupFile.md)

---

### Examples
> Removing Unavailable Backup Files from Cloud Repository

$tenant = Get-VBRCloudTenant -Name "ABC Company"
$backupfiles = Get-VBRCloudUnavailableBackupFile -CloudTenant $tenant
Forget-VBRCloudUnavailableBackupFile -BackupFiles $backupfiles
This example shows how to remove backup files that are no longer available from a cloud repository for the ABC Company cloud tenant account. The cmdlet will remove incremental files as well.
Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Get-VBRCloudUnavailableBackupFile cmdlet. Set the $tenant variable as the CloudTenant parameter value. Save the result to the $backupfiles variable.
3. Run the Forget-VBRCloudUnavailableBackupFile cmdlet. Set the $backupfiles variable as the BackupFiles parameter value.

---

### Parameters
#### **BackupFiles**
Specifies backup files that you want to remove.

|Type                               |Required|Position|PipelineInput                 |
|-----------------------------------|--------|--------|------------------------------|
|`[VBRCloudUnavailableBackupFile[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **IncludeDependentFiles**
Defines that the cmdlet will remove incremental backup files that are related to the full backup files.
If you do not provide this parameter, the cmdlet will not remove full backup files and incremental backup files that are related to these full backup files.
Note: If full backup files that you want to remove do not have incremental backup files, the cmdlet will remove these full backup files even if you do not provide the IncludeDependentFiles parameter.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Switch]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudUnavailableBackupFile[]

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Forget-VBRCloudUnavailableBackupFile -BackupFiles <VBRCloudUnavailableBackupFile[]> [-IncludeDependentFiles] [<CommonParameters>]
```

(function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-N5S5ZL');

[!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/logos/st-logo-white.svg)](https://www.red-gate.com/simple-talk)

- [Articles](https://www.red-gate.com/simple-talk/articles/)

- [Podcasts](https://www.red-gate.com/simple-talk/podcasts/)

- About

    - [About Simple Talk](https://www.red-gate.com/simple-talk/about-simple-talk/)

    - [Author AI Usage Policy](https://www.red-gate.com/simple-talk/author-ai-usage-policy/)

[!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/icons/rss-white.svg)](/feed/ "Simple Talk RSS feed")[Register](https://www.red-gate.com/simple-talk/account/sign-up)[Log in](https://www.red-gate.com/simple-talk/account/log-in)![](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/icons/burger-white.svg)

#### Register for Simple Talk

[!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/icons/rss-white.svg)](/feed/ "Simple Talk RSS feed")

Get the latest Opinion, Podcasts, Webinars, and Events, delivered straight to your inbox.

[Register](https://www.red-gate.com/simple-talk/account/sign-up)[Log in](https://www.red-gate.com/simple-talk/account/log-in)

- [Articles](https://www.red-gate.com/simple-talk/articles/)

- [Podcasts](https://www.red-gate.com/simple-talk/podcasts/)

- About

    - [About Simple Talk](https://www.red-gate.com/simple-talk/about-simple-talk/)

    - [Author AI Usage Policy](https://www.red-gate.com/simple-talk/author-ai-usage-policy/)

- [Articles](https://www.red-gate.com/simple-talk/articles/)

- / 
												[Development](https://www.red-gate.com/simple-talk/development/)

- / 
												[.NET](https://www.red-gate.com/simple-talk/development/dotnet-development/)

# Further Down the Rabbit Hole: PowerShell Modules and Encapsulation

[!\[Michael Sorens\](https://www.red-gate.com/simple-talk/wp-content/uploads/2016/08/Michael-Sorens-1.png)Michael Sorens](https://www.red-gate.com/simple-talk/author/michael-sorens/)24th August 2011

- Article

- About the author

Comments                        15Share

### Share to social media

[!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/sharing/x-white.svg)](https://x.com/intent/tweet?url=https://www.red-gate.com/simple-talk/development/dotnet-development/further-down-the-rabbit-hole-powershell-modules-and-encapsulation/)[!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/sharing/linkedin-white.svg)](https://www.linkedin.com/sharing/share-offsite/?url=https://www.red-gate.com/simple-talk/development/dotnet-development/further-down-the-rabbit-hole-powershell-modules-and-encapsulation/)[!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/sharing/mastodon-white.svg)](https://mastodon.social/share?text=Further%20Down%20the%20Rabbit%20Hole:%20PowerShell%20Modules%20and%20Encapsulation&url=https://www.red-gate.com/simple-talk/development/dotnet-development/further-down-the-rabbit-hole-powershell-modules-and-encapsulation/)[!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/sharing/facebook-white.svg)](https://www.facebook.com/sharer/sharer.php?u=https://www.red-gate.com/simple-talk/development/dotnet-development/further-down-the-rabbit-hole-powershell-modules-and-encapsulation/)

https://www.red-gate.com/simple-talk/development/dotnet-development/further-down-the-rabbit-hole-powershell-modules-and-encapsulation/

![](https://www.red-gate.com/simple-talk/wp-content/uploads/2024/07/Image-600x823-1.jpeg)

![](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/logos/st-logo.svg)![](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/logos/st-logo-white.svg)

## Subscribe for more

Fortnightly newsletters help sharpen your skills and keep you ahead, with articles, ebooks and opinion to keep you informed.

            window.addEventListener('load', function () {
                window.ST.marketoForms.create({
                    formId: 4300,
                    success: {
                        message: 'Thank you! You are now signed up to the newsletter.'
                    }
                });
            });

On this page

- Contents

- Encapsulation

- Best Practices for Module Design

- Name Collisions - Which One to Run?

- Conclusion

## Contents

![1346-alice_cardssmall.jpg](https://www.red-gate.com/simple-talk/wp-content/uploads/imported/1346-alice_cardssmall.jpg)

- Encapsulation

    - Refactor Inline Code into Functions

    - Refactor Functions into Files

    - Refactor Functions into Modules

- Best Practices for Module Design

    - Extracting Information about Modules

    - Installing Modules

    - Associating a Manifest to a Module

    - Unapproved Verbs

    - Documenting a Module

    - Enhancing Robustness

- Name Collisions – Which One to Run?

- Conclusion

In my previous PowerShell exploration ([A Study in PowerShell Pipelines, Functions, and Parameters](http://www.simple-talk.com/dotnet/.net-tools/down-the-rabbit-hole--a-study-in-powershell-pipelines,-functions,-and-parameters/)) I concentrated on describing how parameters were passed to functions, explaining the bewildering intricacies on both sides of the function interface (the code doing the calling and the code inside the function doing the *receiving*). I didn’t mention how to go about actually creating a function because it was so simple to do that it could safely be left as an extracurricular exercise. With modules, by contrast, the complexity reverses; it is more intricate to create a module than to use a module, so that is where you are heading now. The first half of this article guides you along the twisted path from raw code to tidy module; the second half introduces a set of best practices for module design.

## Encapsulation

As you likely know, [encapsulation](http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29) makes your code more manageable. Encapsulation is the process of separating an interface from its implementation by bundling data and code together and exposing only a well-defined portion of it. The following sections walk you along the road to encapsulation in PowerShell.

*“Would you tell me, please, which way I ought to go from here?” “That depends a good deal on where you want to get to,” said the Cat. “I don’t much care where – ” said Alice. “Then it doesn’t matter which way you go,” said the Cat. ” – so long as I get somewhere,” Alice added as an explanation. “Oh, you’re sure to do that,” said the Cat, “if you only walk long enough.”*

— Chapter 6, Alice’s Adventures in Wonderland (Lewis Carroll)

![1346-cheshirecatsmall.png](https://www.red-gate.com/simple-talk/wp-content/uploads/imported/1346-cheshirecatsmall.png)

### Refactor Inline Code into Functions

Encapsulation encourages you to convert a single code sequence with inordinate detail into a more digestible and simpler piece of code (Figure 1).

![1346-image001.png](https://www.red-gate.com/simple-talk/wp-content/uploads/imported/1346-image001.png)

Figure 1: Refactoring inline code to a function

Refactoring the first example into the second ended up only moving one or two lines of code (depending on how you count it) into the separate Match-Expression function. But look at how much easier it is to comprehend the code! The main program lets a reader of your code observe that Match-Expression uses the given regular expression to find several values from a given string. It does not reveal how-the Match-Expression function hides the details of how the **match** operator works. And that’s great, because your reader does not care. Before you argue the point, consider a different context such as some .NET-supplied function, e.g. **String.Join**. Except in rare circumstances you simply do not care about the implementation of **String.Join**; you just need to know what it does.

Refactoring to functions is useful and important to do, of course, but there is one cautionary note: if instead of the simple Match-Expression function you have a more complex function that includes several support functions and variables, all of those support objects are polluting your current scope. There is nothing to prevent another part of your script from using one of these support functions that was specifically designed to be used only by Match-Expression (or rather its complex cousin). Or worse, in your zeal to refactor into smaller and smaller functions you might create a function with the same name as a built-in cmdlet; your function would supersede the built-in one. The next section returns to this consideration after a fashion.

### Refactor Functions into Files

Now you have this Match-Expression function that came in quite handy in your script. You find it so useful, in fact, that you want to use it in other scripts. Good design practice dictates the DRY principle: [Don’t Repeat Yourself](http://en.wikipedia.org/wiki/Don%27t_repeat_yourself). So rather than copying this function into several other script files, move it into its own file (Expressions.ps1) and reference it from each script. Modify the above example to use dot-sourcing (explained in the **Using Dot Source Notation with Scope** section of the help topic [about\_Scopes](http://technet.microsoft.com/en-us/library/dd315289.aspx)) to incorporate the contents of Expressions.ps1 (Figure 2).

![1346-image002.png](https://www.red-gate.com/simple-talk/wp-content/uploads/imported/1346-image002.png)

Figure 2: Refactoring an inline function to a separate file

The code on the right is exactly equivalent to the code on the left. The elegance of this is that if you want to change the function you have only one piece of code to modify and the changes are automatically propagated everywhere you have referenced the file.

*Dot-sourcing reads in the specified file just as if it was in the file.*

### Dot-Sourcing Pitfall

There is, however, a potential problem. As you have just seen, dot-sourcing syntax includes just two pieces: a dot (hence the name!) and a file path. In the example above I show the file path as a dot as well, but there it means *current directory*. The current directory is where you happen to be when you invoke the script; it is *not* tied to the script’s location at all! Thus, the above only works because I specifically executed the script*from the script directory*. What you need then is a way to tell PowerShell to look for the Expressions.ps1 file in the same directory as your main script-regardless of what your current directory is.

A web search on this question leads you to the seemingly ubiquitous script that originated with [this post](http://blogs.msdn.com/powershell/archive/2007/06/19/get-scriptdirectory.aspx) by Jeffrey Snover of the PowerShell team:

| 12345 | function Get-ScriptDirectory{ $Invocation = (Get-Variable MyInvocation -Scope 1).Value Split-Path $Invocation.MyCommand.Path} |

| --- | --- |

If you include the above in your script (or in a separate file and dot-source it!) then add this line to your script:

| 1 | Write-Host (Get-ScriptDirectory) |

| --- | --- |

…it will properly display the directory where your script resides rather than your current directory. **Maybe**. *The results you get from this function depend on where you call it from!*

*It is a very inconvenient habit of kittens (Alice had once made the remark) that, whatever you say to them, they always purr. “If they would only purr for ‘yes,’ and mew for ‘no,’ or any rule of that sort,” she had said, “so that one could keep up a conversation! But how can you talk with a person if they always say the same thing?”*

–Alice. Chapter 12, Through the Looking Glass (Lewis Carroll)

It failed immediately when I tried it! I was surprised, because I found this code example proliferated far and wide on the web. I soon discovered that it was because I used it differently to Snover’s example: Instead of calling it at the top-level in my script, I’d called it from inside another function in a way I refer to as “nested twice” in the following table. It took just a simple tweak to make Get-ScriptDirectory more robust: You just need to change from *parent* scope to *script* scope;** -scope 1** in the original function definition indicates parent scope and **$script** in the modified one indicates script scope.

| 1234 | function Get-ScriptDirectory{ Split-Path $script:MyInvocation.MyCommand.Path} |

| --- | --- |

To illustrate the difference between the two implementations, I created a test vehicle that evaluates the target expression in four different ways (bracketed terms are keys in the table that follows):

- Inline code [inline]

- Inline function, i.e. function in the main program [inline function]

- Dot-sourced function, i.e. the same function moved to a separate .ps1 file [dot source]

- Module function, i.e. the same function moved to a separate .psm1 file [module]

The first two columns in the table define the scenario; the last two columns display the results of the two candidate implementations of Get-ScriptDirectory. A result of **script** means that the invocation correctly reported the location of the script. A result of **module** means the invocation reported the location of the module (see next section) containing the function rather than the script that called the function; this indicates a drawback of both implementations such that you cannot put this function in a module to find the location of the calling script. Setting this module issue aside, the remarkable observation from the table is that using the parent scope approach fails most of the time (in fact, twice as often as it succeeds)!

| **Where Called** | **What Called** | **Script Scope** | **Parent Scope** |

| --- | --- | --- | --- |

| Top Level | inline | **script** | **error** |

|   | inline function | **script** | **script** |

|   | dot source | **script** | **script** |

|   | module | **module** | **module** |

| Nested once | inline | **script** | **script** |

|   | inline function | **script** | **error** |

|   | dot source | **script** | **error** |

|   | module | **module** | **module** |

| Nested twice | inline | **script** | **error** |

|   | inline function | **script** | **error** |

|   | dot source | **script** | **error** |

|   | module | **module** | **module** |

(You can find my test vehicle code for this in [my post](http://stackoverflow.com/questions/801967/how-can-i-find-the-source-path-of-an-executing-script/6985381#6985381) on StackOverflow.)

### Dot-Sourcing: The Dark Side

Dot-sourcing has a dark side, too, however. Consider again if instead of the simple Match-Expression function you have a more complex function that includes several support functions and variables. Moving those support functions out of the main file and hiding them (i.e. encapsulating them) in the file you will include with dot-sourcing is clearly a good thing to do. But the problem of dot-sourcing, then, is precisely the same as the benefit:

*Dot-sourcing reads in the specified file just as if it was in the file.*

That means dot-sourcing pollutes your main file with all of its support functions and variables-it is not actually hiding anything. In fact, the situation is far worse with dot-sourcing than it was with just refactoring in the same file: here the detritus is hidden from *you* (because you no longer see it in your main file) yet it is present and polluting your current scope all the same. But do not despair! The next section provides a way out of this quagmire.

### Refactor Functions into Modules

A module is nothing more than a PowerShell script with a .psm1 extension instead of a .ps1 extension. But that small change also addresses both of the issues just discussed for dot-sourcing a script. Figure 3 returns to the familiar example again. The contents of Expressions.ps1 and Expressions.psm1 are identical for this simple example. The main program uses the Import-Module cmdlet instead of the dot-sourcing operator.

![1346-image003.png](https://www.red-gate.com/simple-talk/wp-content/uploads/imported/1346-image003.png)

Figure 3: Refactoring code from dot-sourcing to module importation

Notice that the **Import-Module** cmdlet is not referencing a file at all; it references a module named **Expressions**, which corresponds to the file Expressions.psm1 when it is located under one of these two system-defined locations (*See Storing Modules on Disk* under [Windows PowerShell Modules](http://msdn.microsoft.com/en-us/library/dd878324%28v=vs.85%29.aspx)):

| Machine-specific | **C:\Windows\System32\WindowsPowerShell\v1.0\Modules** |

| --- | --- |

| User-specific | **C:\Users\*username*\Documents\WindowsPowerShell\Modules** |

Thus, the whole issue of current directory and script directory, a problem for dot-sourcing, becomes moot for modules. To use modules you must copy them into one or the other of these system repositories to be recognized by PowerShell. Once deposited you then use the **Import-Module** cmdlet to expose its interface to your script. (Caveat: you cannot just put Expressions.psm1 in either repository as an immediate child; you must put it in a subdirectory called Expressions. See the next section for the rules on this interesting topic.)

The second issue with dot-sourcing and inline code was pollution due to “faux encapsulation”. A module truly does encapsulate its contents. Thus, you can have as much support code as you want in your module; your main script that imports the module will be able to see only what you want exposed. By default, all functions are exposed. So if you do have some functions that you want to remain private, you have to use explicit exporting instead of the default. Also, if you want to export aliases, variables, or cmdlets, you must use explicit exporting. To explicitly specify what you want to export (and thus what a script using the module can see from an import) use the Export-ModuleMember cmdlet. Thus, to make Expressions.psm1 use explicit exporting, add this line to the file:

| 1 | Export-ModuleMember  Match-Expression |

| --- | --- |

## Best Practices for Module Design

Before you launch into creating modules willy-nilly, there are a few more practical things you should know, discussed next.

### Extracting Information about Modules

Before you can use modules you have to know what you already have and what you can get. [Get-Module](http://technet.microsoft.com/en-us/library/dd819449.aspx) is the gatekeeper you need. With no arguments, **Get-Module** lists the *loaded* modules. (Once you load a module with **Import-Module** you then can use its exported members.) Here is an example:

| 12345678 | ModuleType Name ExportedCommands---------- ----               ----------------         Manifest Assertions  {Set-AbortOnError, Assert-Expression,Set-MaxExpressionDisplayLe...Manifest IniFile Get-IniFileManifest Pscx {}Script Test-PSVersion {}Script TestParamFunctions {}Manifest BitsTransfer {}  |

| --- | --- |

The module type may be*manifest, script,* or *binary* (more on those later). The exported commands list identifies all the objects that the module writer exported with explicit exports. An empty list indicates default or implicit export mode, i.e. all functions in the module.

**Guideline #1: Use explicit exports so Get-Module can let your user know what you are providing**

**Get-Module** has a **ListAvailable** parameter to show you what is available to load, i.e. what you have correctly installed into one of the two system repository locations provided earlier. The output format is identical to that shown just above.

The default output of **Get-Module** shows just the three properties above, but there are other ones that are important as well. To see what other interesting properties you could extract from **Get-Module**, pipe it into the handy [Get-Member](http://technet.microsoft.com/en-us/library/dd315351.aspx) cmdlet:

| 1 | Get-Module | Get-Member |

| --- | --- |

Notable properties you find in the output include **Path** (the path to the module file), **Description** (a brief summary of the module), and **Version**. To display these properties with **Get-Module**, switch from its implicit use of [Format-Table](http://technet.microsoft.com/en-us/library/dd315255.aspx) to explicit use, where you can enumerate the fields *you* want:

| 1 | Get-Module -ListAvailable | Format-Table Name, Path, Description, Version |

| --- | --- |

| 123456789101112 | Name Path Description Version ----                 ----                        -----------                 -------                    Assertion C:\Users\ms\Documents\Wi... Aborting and non-abortin... 1.0EnhancedChildItem C:\Users\ms\Documents\Wi... Enhanced version of Get-... 1.0 inifile C:\Users\ms\Documents\Wi... INI file reader 1.0 SvnKeywords C:\Users\ms\Documents\Wi... 0.0 MetaProgramming C:\Users\ms\Documents\Wi... MetaProgramming Module 0.0.0.1 TestParamFunctions C:\Users\ms\Documents\Wi... 0.0 AppLocker C:\Windows\system32\Wind... PowerShell AppLocker Module 1.0.0.0BitsTransfer C:\Windows\system32\Wind... 1.0.0.0PSDiagnostics C:\Windows\system32\Wind... 1.0.0.0TroubleshootingPack  C:\Windows\system32\Wind... Microsoft Windows Troubl... 1.0.0.0 |

| --- | --- |

If you actually want to see the value of some fields, though, particularly longer fields like **Path **or **Description**, it might behoove you to use [Format-List](http://technet.microsoft.com/en-us/library/dd347700.aspx) rather than [Format-Table](http://technet.microsoft.com/en-us/library/dd315255.aspx):

| 1 | Get-Module -ListAvailable | Format-List Name, Path, Description, Version |

| --- | --- |

| 12345678910111213 | Name : AssertionPath : C:\Users\ms\Documents\WindowsPowerShell\Modules\CleanCode\Assertion\Assertion.psm1Description : Aborting and non-aborting validation functions for testing.Version : 1.0 Name : EnhancedChildItemPath : C:\Users\ms\Documents\WindowsPowerShell\Modules\CleanCode\EnhancedChildItem\ EnhancedChildItem.psd1Description : Enhanced version of Get-ChildItem providing -ExcludeTree, -FullName, -Svn, -ContainersOnly, and -NoContainersOnly.Version : 1.0 etc. . . |

| --- | --- |

The **Get-Member** cmdlet quite thoroughly tells you what you can learn about a module but if, like me, you occasionally prefer to bore down into the raw details, you can follow the object trail to its source. First, you can determine that the .NET type of an object returned by **Get-Module** is called **PSModuleInfo** via this command:

| 1 | (Get-Module)[0].GetType().Name |

| --- | --- |

Lookup [PSModuleInfo on MSDN](http://msdn.microsoft.com/en-us/library/system.management.automation.psmoduleinfo_members%28v=VS.85%29.aspx) and there you can see that the list of public properties are just what **Get-Member** showed you. On MSDN, however, you can dig further. For example, if you follow the links for the ModuleType property, you can drill down to find that the possible values are Binary, Manifest, and Script, as mentioned earlier.

Finally, for loaded modules (i.e. not just *installed*but actually *loaded*) you can explore further with the [Get-Command](http://technet.microsoft.com/en-us/library/dd347726.aspx) cmdlet, specifying the module of interest:

| 1 | Get-Command -Module Assertion |

| --- | --- |

| 123456 | CommandType NameDefinition -----------     ----                              ----------                              Function Assert-Expressionparam($expression, $expected)... Function Get-AssertCounts... Function Set-AbortOnErrorparam([bool]$state)... Function Set-MaxExpressionDisplayLengthparam([int]$limit = 50)... |

| --- | --- |

Again, you can use **Get-Member** to discover what other properties **Get-Command** could display.

### Installing Modules

Now that you know how to see what you have installed here are the important points you need to know about installation. As mentioned earlier you install modules into either the system-wide repository or the user-specific repository. Whichever you pick, its leaf node is **Modules** so in this discussion I simply use “Modules” to indicate the root of your repository. The table shows what **Get-Module** and** Import-Module** can each access for various naming permutations.

| **#** | **Location** | **Get-Module ?** | **Import-Module ?** |

| --- | --- | --- | --- |

| **1** | name\name.psm1 | name | name |

| **2** | **name.psm1** | **X** | **X** |

| **3** | namespace\name\name.psm1 | name | namespace\name |

| **4** | namespace\folder\name\name.psm1 | name | namespace\folder\name |

| **5** | **name\other-name.psm1** | **X** | **name\other-name** |

Standard module installation (line 1 in the table) requires that you copy your module into this directory:

Modules/module-name/module-name.psm1

That is, whatever your modules base file name is, the file must be stored in a subdirectory of the same name under Modules. If instead you put it in the Modules root without the subdirectory:

Modules/module-name.psm1

…PowerShell will not recognize the module (line 2 in the table)! This peculiar behavior is probably what you would try first, so it is a common source of frustration with modules not being recognized.

*Alice felt dreadfully puzzled. The Hatter’s remark seemed to her to have no sort of meaning in it, and yet it was certainly English. “I don’t quite understand you,” she said, as politely as she could.*

–Alice, Chapter 7, Alice’s Adventures in Wonderland (Lewis Carroll)

Putting a module in the Modules directory is not good enough; only in an eponymous subfolder will it make be recognized by PowerShell.

Line 3 illustrates that you can use namespaces rather than clutter up your Modules root with a hodgepodge of modules from different sources. When you use **Get-Module**, though, the default output shows just the name; you must look at the **Path** property of **Get-Module** if you want to see the namespace as well. If you ask Get-Module to find a particular module, you again provide only the name. However, when you use **Import-Module** you specify the path relative to the Modules root.

Note that namespaces are purely a convention you may or may not choose to use; PowerShell has no notion of namespaces per se (at least as of version 2-Dmitry Sotnikov has made a plea via Microsoft Connect to add namespaces in future versions; see [We Need Namespaces!](https://connect.microsoft.com/feedback/ViewFeedback.aspx?FeedbackID=301052&amp;SiteID=99)).

Line 4 extends the case of line 3, showing that you can make your namespace as nested as you like-as long as your modules end up in like-named leaf directories.

Given the above discourse, here is the next cardinal rule for modules:

**Guideline #2: Install a module in an eponymous subdirectory under your Modules root**

Line 5 in the table presents an interesting corner case showing what happens if you violate Guideline #2. The module is invisible to Get-Module -ListAvailable yet you can still load it by specifying the differing subdirectory name and module name. This is, of course, not advisable.

### Associating a Manifest to a Module

The first half of the article showed the progression from inline code to script file to module file. There is a further step – introducing a manifest file associated with the module file. You need to use a manifest to specify details of your module that may be accessed programmatically. Recall that when discussing **Get-Module** one example showed how to get additional properties beyond the default – including description and version. But in the example’s output, some entries showed an empty description and a 0.0 version. Both description and version come from the manifest file; a module lacking a manifest has just those default values.

To create a manifest file, simply invoke the [New-ModuleManifest](http://technet.microsoft.com/en-us/library/dd819477.aspx) command and it will prompt you to enter property values. If you do this in a standard PowerShell command-line window, you receive a series of prompts for each property. If, on the other hand, you use the [PowerGUI script editor](http://powergui.org/) it presents a more flexible pop-up dialog, as shown in figure 4. I also entered a couple other common properties, author and copyright.

![1346-image004.png](https://www.red-gate.com/simple-talk/wp-content/uploads/imported/1346-image004.png)

Figure 4: New-ModuleManifest dialog from PowerGUI Script Editor

The **ModuleToProcess** property must reference your module script file. Upon selecting OK, the dialog closes and the manifest file is created at the location you specified for the **Path** property. The path of the manifest file must also follow rule #2, this time with a .psd1 extension. Once the manifest exists, PowerShell now looks to the manifest whenever you reference the module, notably in both the **Get-Module** and **Import-Module** cmdlets. You can confirm this with **Get-Module**: recall that **Get-Module** displays the **ModuleType** property by default; now you will see it display **Manifest** instead of **Script** for the **ModuleType**.

**Guideline #3: Use a manifest so your users can get a version and description of your module**

Once you create your manifest, or at any time later, you can use [Test-ModuleManifest](http://technet.microsoft.com/en-us/library/dd819466.aspx) to validate it. This cmdlet checks for existence of the manifest and it verifies any file references in the manifest. For more on manifests, see [How to Write a Module Manifest](http://msdn.microsoft.com/en-us/library/dd878297%28VS.85%29.aspx) on MSDN.

*“When I use a word,” Humpty Dumpty said, in rather a scornful tone, “it means just what I choose it to mean – neither more nor less.”*

— Chapter 6, Through the Looking Glass (Lewis Carroll)

![1346-humpty_dumpty.jpg](https://www.red-gate.com/simple-talk/wp-content/uploads/imported/1346-humpty_dumpty.jpg)

### Unapproved Verbs

If you imported the Expressions.psm1 module given earlier, you likely received this warning message:

WARNING: Some imported command names include unapproved verbs which might make them less discoverable. Use the Verbose parameter for more detail or type Get-Verb to see the list of approved verbs.

PowerShell wants to encourage users to use standard naming conventions so it is easier for everybody who uses external modules to know what to expect. Cmdlets and functions should use the convention action-noun (e.g. **Get-Module**). PowerShell does not make any guesses about your choice of nouns, but it is particular about your choice of actions. You can see the list of approved actions, as the warning about indicates, by executing the [Get-Verb](http://technet.microsoft.com/en-us/library/ee407453.aspx) cmdlet.

Note that I use the term action rather than verb in this paragraph, because PowerShell’s definition of *verb*is rather non-standard(!). Humpty Dumpty really had the right idea – I use this quote frequently…

To PowerShell a verb is “a word that implies an action”, so a construct such as **New-ModuleManifest** qualifies. See [Cmdlet Verbs](http://msdn.microsoft.com/en-us/library/ms714428.aspx) in MSDN for more details on naming.

**Guideline #4: Name your functions following PowerShell conventions**

### Documenting a Module

The help system in PowerShell is a tremendous boon: without leaving the IDE (or PowerShell prompt) you can immediately find out almost anything you care to know about any PowerShell cmdlet (e.g. Get-Help Get-Module) or general topic (e.g. Get-Help about\_modules). When you create a module you can easily provide the same level of professional support for your own functions. *Implementing* the help is the easy part; writing *your content* is what takes most of your time.

To implement the integrated help support, you add documentation comments (“doc-comments”) to your module script file just like you would with your other favorite programming language. Some IDEs provide great support for adding doc-comments. Visual Studio, for example, with the GhostDoc add-on almost writes the doc-comments for you. Alas, PowerShell does not yet have such a ghost writer available. To do it yourself, start with [about\_Comment\_Based\_Help](http://technet.microsoft.com/en-us/library/dd819489.aspx) (which you can also access from the PowerShell prompt by feeding that to [Get-Help](http://technet.microsoft.com/en-us/library/dd347639.aspx)!). Scroll down to the **Syntax for Comment-Based Help in Functions** section. Note that the page also talks about adding help for the script itself; that applies only to main scripts (ps1 files); it does not apply to modules (psm1 files). What you will see here is that you must add a special comment section that looks like this for each function:

| 12345 |  &lt;# .&lt; help keyword&gt; &lt; help content&gt; . . . #&gt; |

| --- | --- |

…and that you can place that in any of three positions relative to your function body. You can then pick your relevant help keywords from the subsequent section, **Comment-Based Help Keywords**.

One small annoyance (hard to say if it is a feature or a defect, since it documents it as both in adjoining paragraphs!): for each function parameter, **Get-Hel**p displays a small table of its attributes. But the default value is *never* filled in! Here is an example from **Get-Module**‘s **ListAvailable** parameter:

| 12345678910111213 | -ListAvailable [&lt;SwitchParameter&gt;] Gets all of the modules that can be imported into the session. Get-Module gets the modules in the paths specified by the $env:PSModulePath  environment variable.   Without this parameter, Get-Module gets only the modules that have been  imported into the session.  Required? false Position? named Default value  Accept pipeline input? false Accept wildcard characters?  false |

| --- | --- |

You can see this feature/issue documented under **Autogenerated Content &gt; Parameter Attribute Table**. The documentation is certainly thorough on this point, though, even to the extent of providing a workaround-it suggests you mention your default in your help text. And that is just what all the standard .NET cmdlets do!

PowerShell provides support for help on individual modules, allowing **Get-Help** to access your help text, as you have just seen. If you produce *libraries* rather than just*individual modules* you will next be looking for the way to create an API documentation tree that you can supply with your library. Wait for it… sigh. No, PowerShell does not provide any such took like javadoc for Java or Sandcastle for .NET. Well, I found that rather unsatisfactory so I undertook to create one. My API generator for PowerShell (written in PowerShell, of course!) is in my PowerShell library, scheduled for release in the fourth quarter of 2011. You can find it here on my [API bookshelf](http://cleancode.sourceforge.net/wwwdoc/APIbookshelf.html), alongside my libraries in five other languages. As an enthusiastic library builder, I have created similar API generators for Perl (see [Pod2HtmlTree](http://cleancode.sourceforge.net/wwwdoc/software/Pod2HtmlTree.html)) and for T-SQL (see [XmlTransform](http://cleancode.sourceforge.net/wwwdoc/software/XmlTransform.html)). (Note that the Perl version is Perl-specific while the T-SQL one is my generic XML conversion tool configured to handle SQL documentation, described in [Add Custom XML Documentation Capability To Your SQL Code](http://www.devx.com/dbzone/Article/36646).)

**Guideline #5: Add polish to your modules by documenting your functions**

### Enhancing Robustness

I would be remiss if I did not add a mention, however brief, of an important guideline for any PowerShell script, module or otherwise. Let the compiler help you-turn on strict mode with [Set-StrictMode](http://technet.microsoft.com/en-us/library/dd347614.aspx):

| 1 | Set-StrictMode -Version Latest |

| --- | --- |

**Guideline #6: Tighten up your code by enforcing strict mode**

It is regrettable that that setting is not on by default.

## Name Collisions – Which One to Run?

If you create a function with the same name as a cmdlet, which one does PowerShell pick? To determine that you need to know the execution precedence order (from [about\_Command\_Precedence](http://technet.microsoft.com/en-us/library/dd347579.aspx)):

1. Alias

2. Function

3. Cmdlet

4. Native Windows commands

If you have two items at the *same* precedence level, such as two functions or two cmdlets with the same name, the most recently added one has precedence. (Hence the desire by some to have namespaces introduced in PowerShell, as mentioned earlier.)

When you add a new item with the same name as another item it may *replace* the original or it may *hide* the original. Defining a function with the same name as an existing cmdlet, for example, hides the cmdlet, but does not replace it; the cmdlet is still accessible if you provide a fully-qualified name. To determine the name, examine the **PSSnapin** and **Module** properties of the cmdlet:

| 1 | Get-Command Get-ChildItem | Format-List -property Name, PSSnapin, Module |

| --- | --- |

| 123 | Name : Get-ChildItemPSSnapIn : Microsoft.PowerShell.ManagementModule :  |

| --- | --- |

The fully qualified name, then, for the Get-ChildItem cmdlet is:

| 1 | Microsoft.PowerShell.Management\Get-ChildItem |

| --- | --- |

To avoid naming conflicts in the first place, import a module with the **Prefix **option to the [Import-Module](http://technet.microsoft.com/en-us/library/dd819454.aspx) cmdlet. If you have created, for example, a new version of **Get-Date** in a **DateFunctions** module and run this:

| 1 | Import-Module -name DateFunctions -prefix Enhanced |

| --- | --- |

…then your **Get-Date** function is now mapped to** Get-EnhancedDate**, i.e., the action in the command is affixed with the prefix you specified.

## Conclusion

Modules let you organize your code well and to make your code highly reusable. Now that you are aware of them, you will probably start noticing code smells that shout “Module!”. That is, be on the lookout for chunks of code that perform a useful calculation but are generic enough to deserve separating out from your main code. I have found that taking the effort to move generic functionality into a separate module forces me to think about it in isolation and often leads me to find corner cases that I missed in the logic. Also, modularizing lets you then focus more fine-grained and more specific unit tests on that code as well. For further reading, be sure to take a look at the whole section on modules on MSDN at [Writing a Windows PowerShell Module](http://msdn.microsoft.com/en-us/library/dd878310%28v=VS.85%29.aspx).

        var disqus\_config = function() {
            this.callbacks.onNewComment = [function(comment) {
                window?.ST?.analytics?.trackEvent?.('Disqus comment submission', {
                    origin: window.location.origin,
                    pathname: window.location.pathname,
                    url: window.location.origin + window.location.pathname,
                });
            }];
        };

Load comments

### About the author

[!\[\](https://www.red-gate.com/simple-talk/wp-content/uploads/2016/08/Michael-Sorens-1.png)](https://www.red-gate.com/simple-talk/author/michael-sorens/)

### Michael Sorens

[See Profile](https://www.red-gate.com/simple-talk/author/michael-sorens/)

Michael Sorens is passionate about productivity, process, and quality. Besides working at a variety of companies from Fortune 500 firms to Silicon Valley startups, he enjoys spreading the seeds of good design wherever possible, having written over 100 [articles](http://cleancode.sourceforge.net/wwwdoc/articles.html), more than a dozen [wallcharts](http://cleancode.sourceforge.net/wwwdoc/wallcharts.html), and posted in excess of 200 [answers on StackOverflow](https://stackoverflow.com/users/115690/msorens). You can also find his open source projects on [SourceForge](https://cleancode.sourceforge.net/wwwdoc/APIbookshelf.html) and [GitHub](https://github.com/msorens/) (notably [SqlDiffFramework](https://github.com/msorens/SqlDiffFramework), a DB comparison tool for heterogeneous systems including SQL Server, Oracle, and MySql).  Like what you have read? Connect with Michael on [LinkedIn](https://www.linkedin.com/in/michaelsorens/)

##### Michael's contributions

- ###### Articles

    88

- ###### Books

    0

- ###### Top topics

    - [Blogs](https://www.red-gate.com/simple-talk/blogs/)

    - [.NET](https://www.red-gate.com/simple-talk/development/dotnet-development/)

    - [Database Administration](https://www.red-gate.com/simple-talk/databases/sql-server/database-administration-sql-server/)

    - [T-SQL Programming](https://www.red-gate.com/simple-talk/databases/sql-server/t-sql-programming-sql-server/)

    - [Editorials](https://www.red-gate.com/simple-talk/opinion/editorials/)

##### Michael's latest contributions:

[Containers and Virtualization!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/logos/st-logo.svg)](https://www.red-gate.com/simple-talk/devops/containers-and-virtualization/checking-the-pulse-of-kubernetes/)

[!\[Michael Sorens\](https://www.red-gate.com/simple-talk/wp-content/uploads/2016/08/Michael-Sorens-1.png)Michael Sorens](https://www.red-gate.com/simple-talk/author/michael-sorens/)in[Containers and Virtualization](https://www.red-gate.com/simple-talk/devops/containers-and-virtualization/)

[# Checking the pulse of Kubernetes

In this article, Michael Sorens describes the many ways that you can monitor Kubernetes.…

08 October 202010 min read](https://www.red-gate.com/simple-talk/devops/containers-and-virtualization/checking-the-pulse-of-kubernetes/)

[Testing!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/logos/st-logo.svg)](https://www.red-gate.com/simple-talk/devops/testing/the-phantom-menace-in-unit-testing/)

[!\[Michael Sorens\](https://www.red-gate.com/simple-talk/wp-content/uploads/2016/08/Michael-Sorens-1.png)Michael Sorens](https://www.red-gate.com/simple-talk/author/michael-sorens/)in[Testing](https://www.red-gate.com/simple-talk/devops/testing/)

[# The Phantom Menace in Unit Testing

Testing is a challenging yet crucial part of software development, but how do you know that a test is telling you what you need to...

09 May 201910 min read](https://www.red-gate.com/simple-talk/devops/testing/the-phantom-menace-in-unit-testing/)

[Software Delivery!\[\](https://www.red-gate.com/simple-talk/wp-content/themes/simple-talk-theme-2024/assets/images/logos/st-logo.svg)](https://www.red-gate.com/simple-talk/devops/software-delivery-devops-2/better-code-reviews-with-git/)

[!\[Michael Sorens\](https://www.red-gate.com/simple-talk/wp-content/uploads/2016/08/Michael-Sorens-1.png)Michael Sorens](https://www.red-gate.com/simple-talk/author/michael-sorens/)in[Software Delivery](https://www.red-gate.com/simple-talk/devops/software-delivery-devops-2/)

[# Better Code Reviews with GIT

As more dev teams move their code to Git, it’s important to understand the differences between it and other tools they have used in the...

07 January 201912 min read](https://www.red-gate.com/simple-talk/devops/software-delivery-devops-2/better-code-reviews-with-git/)

/\* <![CDATA[ \*/
var scriptParams = {"google\_search\_engine\_id":"002272417707427032016:mpxi5hqackc"};
/\* ]]> \*//\* <![CDATA[ \*/
var countVars = {"disqusShortname":"simpletalk"};
/\* ]]> \*//\* <![CDATA[ \*/
var embedVars = {"disqusConfig":{"integration":"wordpress 3.1.1","sso":{"name":"Simple Talk","button":"","url":"https:\/\/www.red-gate.com\/simple-talk\/wp-login.php?redirect\_to=https%3A%2F%2Fwww.red-gate.com%2Fsimple-talk%2Fwp-admin%2Fprofile.php%3Fopener%3Ddsq-sso-login","logout":"https:\/\/www.red-gate.com\/simple-talk\/wp-login.php?action=logout&\_wpnonce=afe0b12833","width":"800","height":"700"},"api\_key":"PdEcftjqQxIsV3NwcBYKFkOmzPru3MJsixpbMeAAxi28QtGQ1LI5tjrfD7nlLmya","remote\_auth\_s3":"W10= 0c3f455cffe56c442b9aac8bc1ed7a7c7737cf43 1720719095"},"disqusIdentifier":"1194 https:\/\/test.simple-talk.com\/uncategorized\/further-down-the-rabbit-hole-powershell-modules-and-encapsulation\/","disqusShortname":"simpletalk","disqusTitle":"Further Down the Rabbit Hole: PowerShell Modules and Encapsulation","disqusUrl":"https:\/\/www.red-gate.com\/simple-talk\/development\/dotnet-development\/further-down-the-rabbit-hole-powershell-modules-and-encapsulation\/","postId":"1194"};
/\* ]]> \*//\* <![CDATA[ \*/
var webcomicCommonJS = {"ajaxurl":"https:\/\/www.red-gate.com\/simple-talk\/wp-admin\/admin-ajax.php"};
/\* ]]> \*//\* <![CDATA[ \*/
var webcomicCommonJS = {"ajaxurl":"https:\/\/www.red-gate.com\/simple-talk\/wp-admin\/admin-ajax.php"};
/\* ]]> \*//\* <![CDATA[ \*/
var pp\_ajax\_form = {"ajaxurl":"https:\/\/www.red-gate.com\/simple-talk\/wp-admin\/admin-ajax.php","confirm\_delete":"Are you sure?","deleting\_text":"Deleting...","deleting\_error":"An error occurred. Please try again.","nonce":"6b7d1f7462","disable\_ajax\_form":"false","is\_checkout":"0","is\_checkout\_tax\_enabled":"0"};
/\* ]]> \*//\* <![CDATA[ \*/
var wpOptions = {"siteurl":"https:\/\/www.red-gate.com\/simple-talk"};
/\* ]]> \*//\* <![CDATA[ \*/
if ( typeof $ !== "function" && typeof jQuery === "function" ) { window.$ = jQuery; }
/\* ]]> \*//\* <![CDATA[ \*/
var Redgate = Redgate || {}; Redgate.Hub = Redgate.Hub || {}; Redgate.Hub.isHubSubPage = true;
/\* ]]> \*//\* <![CDATA[ \*/
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.36","is\_admin":"0","ajaxurl":"https:\/\/www.red-gate.com\/simple-talk\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig\_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"Copied to the clipboard","minimize":"Click To Expand Code"};
/\* ]]> \*/

Generate-VBRBackupServerDeployerKit
-----------------------------------

### Synopsis
Generates the Veeam Deployer Service certificate and installation packages for Linux machines.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

The cmdlet generates Veeam Deployer Service certificate and installation packages and exports them to the necessary location for Linux machines. The cmdlet will generate the following files:
- client-cert.pem
- server-cert.p12
- veeamdeployment_12.1.0.x_amd64.deb
- veeamdeployment-12.1.0.x.x86_64.rpm
For more information, see the Deploying Veeam Agents Using Pre-installed Veeam Deployer Service section in the Veeam Agent Management User Guide.

---

### Examples
> Generating Veeam Deployer Service Certificate and Installation Packages

```PowerShell
Generate-VBRBackupServerDeployerKit -ExportPath "C:\Users\Administrator\Documents"
This command generates Veeam Deployer Service certificate and installation packages to the C:\Users\Administrator\Documents folder.
```

---

### Parameters
#### **ExportPath**
Specifies a path to a location. The cmdlet will export generated files to this location.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ValidityPeriodInHours**
Specifies a period in hours during which Veeam Deployer Service certificates are valid.
Default: 24 hours.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[Int32]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Nullable`1[[System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Generate-VBRBackupServerDeployerKit -ExportPath <String> [-ValidityPeriodInHours <Int32>] [<CommonParameters>]
```

Generate-VBRCloudSubTenantSecondaryPassword
-------------------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **CloudSubtenant**

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[IVBRCloudSubTenant]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Description**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Key**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudSubTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Generate-VBRCloudSubTenantSecondaryPassword -CloudSubtenant <IVBRCloudSubTenant> [-Description <String>] -Key <String> [-Password <String>] [<CommonParameters>]
```

Generate-VBRCloudTenantSecondaryPassword
----------------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **CloudTenant**

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Description**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Key**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Password**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Generate-VBRCloudTenantSecondaryPassword -CloudTenant <IVBRCloudTenant> [-Description <String>] -Key <String> [-Password <String>] [<CommonParameters>]
```

Generate-VBRLicenseUsageReport
------------------------------

### Synopsis
Crates reports on license usage.

---

### Description

This cmdlet creates a report on license usage.

---

### Examples
> Example 1. Creating HTML Report

```PowerShell
Generate-VBRLicenseUsageReport -Path "C:\Users\Administrator\VeeamReports\" -Type Html
This command creates the HTML report on license usage.
The report is saved as the report.html file to the C:\Users\Administrator\VeeamReports\ folder.
```
> Example 2. Creating PDF Report

```PowerShell
Generate-VBRLicenseUsageReport -Path "C:\Users\Administrator\VeeamReports\" -Type Pdf
This command creates the PFD report on license usage.
The report is saved as the report.pdf file to the C:\Users\Administrator\VeeamReports\ folder.
```
> Example 3. Creating JSON Report

```PowerShell
Generate-VBRLicenseUsageReport -Path "C:\Users\Administrator\VeeamReports\" -Type Json
This command creates the JSON report on license usage.
The report is saved as the report.json file to the C:\Users\Administrator\VeeamReports\ folder.
```

---

### Parameters
#### **Path**
Specifies a name of file and the path to the folder. The cmdlet will save a report with the specified name to this folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Type**
Specifies a type of the report file. You can generate a report in one of the following file types:
* HTML
* PDF
* JSON
Valid Values:

* Html
* Pdf
* Json

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRLicenseUsageReportType]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Generate-VBRLicenseUsageReport -Path <String> -Type {Html | Pdf | Json} [<CommonParameters>]
```

Get-CTFile
----------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **FilePath**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |2       |False        |

#### **Server**

|Type     |Required|Position|PipelineInput|Aliases|
|---------|--------|--------|-------------|-------|
|`[CHost]`|true    |1       |False        |Host   |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-CTFile [-Server] <CHost> [[-FilePath] <String>] [<CommonParameters>]
```

Get-HP3InfrastructureVolume
---------------------------

### Synopsis
Returns volumes of HPE 3PAR StoreServ storage systems.

---

### Description

This cmdlet returns an array of volumes of HPE 3PAR StoreServ storage systems.
The cmdlet will return storage volumes, even if they are not added to your backup infrastructure.

TIP: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-HP3Storage](Get-HP3Storage.md)

---

### Examples
> Example 1

```PowerShell
Get-HP3InfrastructureVolume
This command returns all volumes added to HPE 3PAR StoreServ storage systems.
```
> Example 2

```PowerShell
Get-HP3InfrastructureVolume -Name "ISCSI Volume4", "ISCSI Volume5", "NFS Volume1"
This command returns specific HPE 3PAR StoreServ storage volumes. Use the Name parameter to specify the names of the volumes.
```
> Example 3

$storage = Get-HP3Storage -Name "HPE 3PAR StoreServe Storage"
Get-HP3InfrastructureVolume -Storage $storage
This example shows how to get all volumes added to the specific HPE 3PAR StoreServ storage system.

Perform the following steps:
1. Run the Get-HP3Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP3InfrastructureVolume cmdlet. Set the $storage variable as the Storage parameter value.

---

### Parameters
#### **Name**
Specifies an array of volume names that you want to get.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Storage**
Specifies a storage system.
The cmdlet will return an array of the volumes added to that storage system.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CHp3PARHost]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.SanPlugin.Hp3PAR.CHp3PARHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP3InfrastructureVolume [-Name <String[]>] [-Storage <CHp3PARHost>] [<CommonParameters>]
```

Get-HP3Snapshot
---------------

### Synopsis
Returns HPE 3PAR StoreServ storage snapshots.

---

### Description

This cmdlet returns existing HPE 3PAR StoreServ storage snapshots.
You can get the list of all storage snapshots, or look for a specific snapshot by name or associated volume.

---

### Examples
> Example 1

```PowerShell
Get-HP3Snapshot
This command looks for all snapshots.
```
> Example 2

$storage = Get-HP3Storage -Name "HPE 3PAR StoreServe Storage"
$volume1 = Get-HP3Volume -Host $storage -Name "VOL01"
$volume2 = Get-HP3Volume -Host $storage -Name "VOL02"
Get-HP3Snapshot -Volume $volume1, $volume2
This example shows how to get the existing snapshots of several HPE 3PAR StoreServ storage volumes.

Perform the following steps:
1. Run the Get-HP3Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP3Volume cmdlet. Set the $storage variable as the Host parameter value. Specify the Name parameter value. Save each volume to a separate variable: $volume1, $volume2, etc.
3. Run the Get-HP3Snapshot cmdlet. Set the $volume1 and $volume2 variables as the Volume parameter values.

---

### Parameters
#### **Name**
Specifies the array of the snapshot names.
The cmdlet will return the snapshots with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies the array of volumes.
The cmdlet will return the snapshots of these volumes.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP3Snapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-HP3Storage
--------------

### Synopsis
Returns HPE 3PAR StoreServ storage systems.

---

### Description

This cmdlet returns HPE 3PAR StoreServ storages added to Veeam Backup & Replication.
You can get the list of all storages added to your virtual infrastructure or narrow down the output by storage name.

---

### Examples
> Example 1

```PowerShell
Get-HP3Storage
This command returns all storages.
```
> Example 2

```PowerShell
Get-HP3Storage -Name "HPE 3PAR StoreServe Storage"
This command looks for a storage by name.
```

---

### Parameters
#### **Name**
Specifies the array of storage names.
The cmdlet will return the storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP3Storage [-Name <String[]>] [<CommonParameters>]
```

Get-HP3Volume
-------------

### Synopsis
Returns HPE 3PAR StoreServ storage volumes added to the backup infrastructure.

---

### Description

This cmdlet returns HPE 3PAR StoreServ storage volumes added to the backup infrastructure.

TIP: Run Get-HP3InfrastructureVolume to get an array of volumes from HPE 3PAR StoreServ storage systems.

---

### Related Links
* [Get-HP3Storage](Get-HP3Storage.md)

---

### Examples
> Example 1

$storage = Get-HP3Storage -Name "HPE 3PAR StoreServe Storage"
Get-HP3Volume -Storage $storage
This example shows how to get an HPE 3PAR StoreServ volume volume added to the backup infrastructure.

Perform the following steps:
1. Run the Get-HP3Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP3Volume cmdlet. Set the $storage variable as the Storage parameter value.

---

### Parameters
#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Storage**
Specifies an array of storage systems.
The cmdlet will return volumes of these storage systems.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[CHp3PARHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.SanPlugin.Hp3PAR.CHp3PARHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP3Volume [-Name <String[]>] [-Storage <CHp3PARHost[]>] [<CommonParameters>]
```

Get-HP4Cluster
--------------

### Synopsis
Returns HPE StoreVirtual storage clusters.

---

### Description

This cmdlet returns HPE StoreVirtual storage clusters. You can get the list of all storage clusters in your storage system, or narrow down the output by the cluster name or a specific storage.

Alias Get-VBRHPCluster

---

### Examples
> Example 1

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
Get-HP4Cluster -Storage $storage
This example shows how to get all clusters in the HPE StoreVirtual storage.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Cluster cmdlet. Set the $storage variable as the Storage parameter value.
> Example 2

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
Get-HP4Cluster -Storage $storage -Name "HPE Cluster 01"
This example shows how to get a cluster by name.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Cluster cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the array of storage cluster names.
The cmdlet will return the clusters with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Storage**
Specifies the array of the storage systems.
The cmdlet will return the clusters on these storage systems.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[CHpP4kGroup[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.SanPlugin.HpP4k.CHpP4kGroup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP4Cluster [-Name <String[]>] [-Storage <CHpP4kGroup[]>] [<CommonParameters>]
```

Get-HP4InfrastructureVolume
---------------------------

### Synopsis
Returns volumes of HPE StoreVirtual storage systems.

---

### Description

This cmdlet returns an array of volumes of HPE StoreVirtual storage systems.
The cmdlet will return storage volumes, even if they are not added to your backup infrastructure.

TIP: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-HP4Storage](Get-HP4Storage.md)

* [Get-HP4Cluster](Get-HP4Cluster.md)

---

### Examples
> Example 1

```PowerShell
Get-HP4InfrastructureVolume
This command returns all volumes added to HPE StoreVirtual storage systems.
```
> Example 2

```PowerShell
Get-HP4InfrastructureVolume -Name "Volume1", "Volume2"
This command returns specific HPE StoreVirtual storage volumes.
```
> Example 3

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
$cluster = Get-HP4Cluster -Storage $storage -Name "HPE Cluster 01"
Get-HP4InfrastructureVolume -Cluster $cluster
This example shows how to get the array of all volumes added to the specific HPE StoreVirtual cluster.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Cluster cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value. Save the result to the $cluster variable.
3. Run the Get-HP4InfrastructureVolume cmdlet. Set the $cluster variable as the Cluster parameter value.

---

### Parameters
#### **Cluster**
Specifies an array of clusters.
The cmdlet will return the volumes of these clusters.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[CHpP4kCluster[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return the volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Storage**
Specifies an array of storage systems.
The cmdlet will return the volumes of these storage systems.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CHpP4kGroup]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.SanPlugin.HpP4k.CHpP4kCluster[]

Veeam.Backup.SanPlugin.HpP4k.CHpP4kGroup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP4InfrastructureVolume [-Cluster <CHpP4kCluster[]>] [-Name <String[]>] [-Storage <CHpP4kGroup>] [<CommonParameters>]
```

Get-HP4Snapshot
---------------

### Synopsis
Returns HPE StoreVirtual storage snapshots.

---

### Description

This cmdlet returns existing HPE StoreVirtual storage snapshots.
You can get all storage snapshots, or look for a specific snapshot by name or associated volume.

Alias Get-VBRHPSnapshot

---

### Examples
> Example 1

```PowerShell
Get-HP4Snapshot -Name "HPE Volume 01 Snapshot"
This command returns the HPE StoreVirtual storage snapshot by name.
```
> Example 2

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
$volume = Get-HP4Volume -Storage $storage -Name "HPE Volume 01"
Get-HP4Snapshot -Volume $volume
This example shows how to get all snapshots of the HPE StoreVirtual storage volume.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Volume cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value. Save the result to the $volume variable.
3. Run the Get-HP4Snapshot cmdlet. Set the $volume variable as the Volume parameter value.
> Example 3

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
$volume = Get-HP4Volume -Storage $storage -Name "HPE Volume 01"
Get-HP4Snapshot -Volume $volume -Name "HPE Volume 01 Snapshot"
This example shows how to get a specific snapshot of the HPE StoreVirtual storage volume.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Volume cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value. Save the result to the $volume variable.
3. Run the Get-HP4Snapshot cmdlet. Set the $volume variable as the Volume parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the array of snapshot names.
The cmdlet will return snapshots with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies the array of storage volumes.
The cmdlet will return snapshots of these volumes.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP4Snapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-HP4Storage
--------------

### Synopsis
Returns HPE StoreVirtual storages.

---

### Description

This cmdlet returns HPE StoreVirtual storages added to Veeam Backup & Replication. You can get the list of all HPE StoreVirtual storages added to your virtual infrastructure or narrow down the output by storage name.

Alias Get-VBRHPStorage

---

### Examples
> Example 1

```PowerShell
Get-HP4Storage
This command returns all storages.
```
> Example 2

```PowerShell
Get-HP4Storage -Name "HPE StoreVirtual VSA"
This command looks for a storage by name.
```

---

### Parameters
#### **Name**
Specifies the array of storage names. The cmdlet will return storages with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP4Storage [-Name <String[]>] [<CommonParameters>]
```

Get-HP4Volume
-------------

### Synopsis
Returns HPE StoreVirtual volumes added to the backup infrastructure.

---

### Description

This cmdlet returns HPE StoreVirtual volumes added to the backup infrastructure.

TIP: Run the Get-HP4InfrastructureVolume cmdlet to get an array of volumes from HPE StoreVirtual storage systems.

Alias Get-VBRHPVolume

---

### Related Links
* [Get-HP4Storage](Get-HP4Storage.md)

* [Get-HP4Cluster](Get-HP4Cluster.md)

---

### Examples
> Example 1

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
Get-HP4Volume -Storage $storage
This example shows how to get all HPE StoreVirtual volumes added to the backup infrastructure.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Volume cmdlet. Set the $storage variable as the Storage parameter value.
> Example 2

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
$cluster = Get-HP4Cluster -Storage $storage -Name "HPE Cluster 01"
Get-HP4Volume -Cluster $cluster
This example shows how to get all an HPE StoreVirtual volumes on a cluster.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Cluster cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value. Save the result to the $cluster variable.
3. Run the Get-HP4Volume cmdlet. Set the $cluster variable as the Cluster parameter value.
> Example 3

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
$cluster = Get-HP4Cluster -Storage $storage -Name "HPE Cluster 01"
Get-HP4Volume -Cluster $cluster -Name "HPE Volume 01"
This example shows how to get an HPE StoreVirtual volume on a cluster.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Cluster cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value. Save the result to the $cluster variable.
3. Run the Get-HP4Volume cmdlet. Set the $cluster variable as the Cluster parameter value. Specify the Name parameter value.
> Example 4

$storage = Get-HP4Storage -Name "HPE StoreVirtual VSA"
Get-HP4Volume -Storage $storage -Name "HPE Volume 01"
This example shows how to get HPE StoreVirtual volume added to the backup infrastructure.

Perform the following steps:
1. Run the Get-HP4Storage cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-HP4Volume cmdlet. Set the $storage variable as the Storage parameter value. Specify the Name parameter value.

---

### Parameters
#### **Cluster**
Specifies an array of clusters.
The cmdlet will return volumes on these clusters.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[CHpP4kCluster[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Storage**
Specifies an array of storage systems.
The cmdlet will return volumes of these storage systems.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[CHpP4kGroup[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.SanPlugin.HpP4k.CHpP4kCluster[]

Veeam.Backup.SanPlugin.HpP4k.CHpP4kGroup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HP4Volume [-Cluster <CHpP4kCluster[]>] [-Name <String[]>] [-Storage <CHpP4kGroup[]>] [<CommonParameters>]
```

Get-HyperFlexHost
-----------------

### Synopsis
Returns Cisco HyperFlex storage systems.

---

### Description

can get the list of all Cisco HyperFlex storage systems added to your backup infrastructure or narrow down the output by storage name.

---

### Examples
> Example 1. Returning All Cisco HyperFlex Storage Systems

```PowerShell
Get-HyperFlexHost
This command returns all Cisco HyperFlex storage systems
```
> Example 2. Returning Cisco HyperFlex Storage Systems by Name

```PowerShell
Get-HyperFlexHost -Name "HX Storage"
This command returns the HX Storage Cisco HyperFlex storage.
```

---

### Parameters
#### **Name**
Specifies an array of storage names.
The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-HyperFlexHost [-Name <String[]>] [<CommonParameters>]
```

Get-NetAppHost
--------------

### Synopsis
Returns NetApp storage systems added to Veeam Backup & Replication.

---

### Description

This cmdlet returns NetApp storages added to Veeam Backup & Replication.
You can get the list of all NetApp storage systems added to your virtual infrastructure or narrow down the output by storage name.

---

### Examples
> Example 1

```PowerShell
Get-NetAppHost -Name "NetApp Store"
This command returns a NetApp storage by name.
```
> Example 2

```PowerShell
Get-NetAppHost
This command returns all NetApp storage systems.
```

---

### Parameters
#### **Name**
Specifies an array of storage names.
The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NetAppHost [-Name <String[]>] [<CommonParameters>]
```

Get-NetAppInfrastructureVolume
------------------------------

### Synopsis
Returns storage volumes of NetApp storage systems.

---

### Description

This cmdlet returns an array of volumes of NetApp s torage systems.
The cmdlet will return storage volumes, even if they are not added to your backup infrastructure.

TIP: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-NetAppHost](Get-NetAppHost.md)

---

### Examples
> Example 1

```PowerShell
Get-NetAppInfrastructureVolume
This command returns volumes of all NetApp storage systems.
```
> Example 2

```PowerShell
Get-NetAppInfrastructureVolume -Name "ISCSI Volume4", "ISCSI Volume5", "NFS Volume1"
This command returns NetApp storage volumes by the volume name.
```
> Example 3

$storage = Get-NetAppHost -Name "NetApp Store"
Get-NetAppInfrastructureVolume -Host $storage
This example shows how to get all volumes of the specified NetApp storage system.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-NetAppInfrastructureVolume cmdlet. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies a storage system.
The cmdlet will return volumes of this storage system.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CNaHost]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.NetApp.CNaHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NetAppInfrastructureVolume [-Host <CNaHost>] [-Name <String[]>] [<CommonParameters>]
```

Get-NetAppSnapshot
------------------

### Synopsis
Returns NetApp storage snapshots.

---

### Description

This cmdlet returns existing NetApp storage snapshots.
You can get the list of all storage snapshots, or look for a specific snapshot by name or associated volume.

---

### Examples
> Example 1

```PowerShell
Get-NetAppSnapshot
This command returns the list of all snapshots.
```
> Example 2

$vol = Get-NetAppVolume | Select -last 1
Get-NetAppSnapshot -Volume $vol
This example shows how to get snapshots of a specific volume.

Perform the following steps:
1. Run the Get-NetAppVolume cmdlet. Select the last volume in the list. Save the result to the $vol variable.
2. Run the Get-NetAppSnapshot cmdlet. Set the $vol variable as the Volume parameter value.

---

### Parameters
#### **Name**
Specifies the array of the snapshot names.
The cmdlet will return the snapshots with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies the array of volumes.
The cmdlet will return the snapshots of these volumes.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NetAppSnapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-NetAppVolume
----------------

### Synopsis
Returns NetApp storage volumes added to the backup infrastructure.

---

### Description

This cmdlet returns NetApp storage volumes added to the backup infrastructure.

TIP: Run Get-NetAppInfrastructureVolume to get an array of volumes from a NetApp storage system.

---

### Related Links
* [Get-NetAppHost](Get-NetAppHost.md)

---

### Examples
> Example 1

$storage = Get-NetAppHost -Name "NetApp Store"
Get-NetAppVolume -Name "NetApp Volume 01" -Host $storage
This example shows how to get a specific NetApp storage volume added to the backup infrastructure.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-NetAppVolume cmdlet. Specify the Name parameter value. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies an array of storage systems.
The cmdlet will return volumes of these storage systems.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CNaHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.NetApp.CNaHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NetAppVolume [-Host <CNaHost[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-NimbleHost
--------------

### Synopsis
Returns HPE Nimble storage systems.

---

### Description

This cmdlet returns Nimble storages added to Veeam Backup & Replication.
You can get the list of all Nimble storages added to your virtual infrastructure or narrow down the output by storage name.

---

### Examples
> Example 1

```PowerShell
Get-NimbleHost
This command returns all HPE Nimble storage systems.
```
> Example 2

```PowerShell
Get-NimbleHost -Name "Nimble-FC"
This command returns an HPE Nimble storage by name.
```

---

### Parameters
#### **Name**
Specifies the array of storage names.
The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NimbleHost [-Name <String[]>] [<CommonParameters>]
```

Get-NimbleInfrastructureVolume
------------------------------

### Synopsis
Returns volumes of HPE Nimble storage systems.

---

### Description

This cmdlet returns an array of volumes of HPE Nimble storage systems.
The cmdlet will return storage volumes, even if they are not added to your backup infrastructure.

TIP: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-NimbleHost](Get-NimbleHost.md)

---

### Examples
> Example 1

```PowerShell
Get-NimbleInfrastructureVolume
This command returns all volumes added to an HPE Nimble storage system.
```
> Example 2

```PowerShell
Get-NimbleInfrastructureVolume -Name "Volume4", "Volume5", "Volume1"
This command returns specific HPE Nimble volumes.
```
> Example 3

$storage = Get-NimbleHost -Name "HPE Nimble-FC"
Get-NimbleInfrastructureVolume -Host $storage
This example shows how to get all volumes added to the specific HPE Nimble storage system.

Perform the following steps:
1. Run the Get-NimbleHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-NimbleInfrastructureVolume cmdlet. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies a storage.
The cmdlet will return an array of volumes added to that storage system.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CNimbleHost]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names that you want to get.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Nimble.CNimbleHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NimbleInfrastructureVolume [-Host <CNimbleHost>] [-Name <String[]>] [<CommonParameters>]
```

Get-NimbleSnapshot
------------------

### Synopsis
Returns HPE Nimble storage snapshots.

---

### Description

This cmdlet returns HPE Nimble storage snapshots.
You can get the list of all storage snapshots or look for a specific snapshot by name or associated volume.

---

### Examples
> Example 1

```PowerShell
Get-NimbleSnapshot -Name "DailySnapshot01"
This command returns an existing HPE Nimble storage snapshot by name.
```
> Example 2

$storage = Get-NimbleHost -Name "HPE Nimble-FC"
$volume1 = Get-NimbleVolume -Host $storage -Name "VOL01"
$volume2 = Get-NimbleVolume -Host $storage -Name "VOL02"
Get-NimbleSnapshot -Volume $volume1, $volume2
This example shows how to get the existing snapshots of several HPE Nimble storage volumes.

Perform the following steps:
1. Run the Get-NimbleHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-NimbleVolume cmdlet. Set the $storage variable as the Host parameter value. Specify the Name parameter value. Save each volume to a separate variable: $volume1, $volume2, etc.
3. Run the Get-NimbleSnapshot cmdlet. Set the $volume1 and $volume2 variables as the Volume parameter values.

---

### Parameters
#### **Name**
Specifies the array of snapshot names.
The cmdlet will return the snapshots with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies the array of storage volumes.
The cmdlet will return snapshots of these volumes.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NimbleSnapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-NimbleVolume
----------------

### Synopsis
Returns HPE Nimble volumes added to the backup infrastructure.

---

### Description

This cmdlet returns HPE Nimble volumes added to the backup infrastructure.

TIP: Run Get-NimbleInfrastructureVolume to get an array of volumes from HPE Nimble storage systems.

---

### Related Links
* [Get-NimbleHost](Get-NimbleHost.md)

---

### Examples
> Example 1

$storage = Get-NimbleHost -Name "HPE Nimble-FC"
Get-NimbleVolume -Name "VOL01" -Host $storage
This example shows how to get an HPE Nimble volume added to the backup infrastructure.

Perform the following steps:
1. Run the Get-NimbleHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-NimbleVolume cmdlet. Specify the Name parameter value. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies an array of storage systems.
The cmdlet will return volumes of these storage systems.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[CNimbleHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Nimble.CNimbleHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-NimbleVolume [-Host <CNimbleHost[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-StoragePluginArchivedSnapshot
---------------------------------

### Synopsis
Returns archived snapshots of Universal Storage API integrated systems.

---

### Description

This cmdlet returns archived snapshots of Universal Storage API integrated systems. Archived snapshots are long-term snapshots offloaded to a 3rd party storage solution supported by a storage vendor.
If you do not specify any parameter, the cmdlet will return all archived snapshots that Veeam Backup & Replication detected during the latest rescan.

---

### Examples
> Example 1

```PowerShell
Get-StoragePluginArchivedSnapshot -Name pdcqastg11:-pure14-AAB97A18587ghudDaPRSF-t5kbsdr1E
This cmdlet returns the archived snapshot with the pdcqastg11:-pure14-AAB97A18587ghudDaPRSF-t5kbsdr1E name.
```

---

### Parameters
#### **Name**
Specifies an array of names of the archived snapshot that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies an array of storage volumes where you want to search for archived snapshots.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-StoragePluginArchivedSnapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-StoragePluginHost
---------------------

### Synopsis
Returns Universal Storage API integrated systems.

---

### Description

This cmdlet returns Veeam Universal Storage API integrated storages added to Veeam Backup & Replication.

You can get the list of all storages or narrow down the output by storage name or storage plugin.

---

### Related Links
* [Get-StoragePluginHost](Get-StoragePluginHost.md)

---

### Examples
> Example 1

Get-StoragePluginHost
This command returns all storages added to Veeam Backup & Replication.
> Example 2

```PowerShell
Get-StoragePluginHost -Name "IBM Spectrum"
This command returns storages by name.
```
> Example 3

```PowerShell
Get-StoragePluginHost -PluginType "Ibm"
This command returns storages by the associated storage plugin.
```

---

### Parameters
#### **Name**
Specifies the array of storage names.
The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **PluginType**
Specifies the storage plug-in.
The cmdlet will return storage systems added to Veeam Backup & Replication over this plug-in.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-StoragePluginHost [-Name <String[]>] [-PluginType <String>] [<CommonParameters>]
```

Get-StoragePluginInfrastructureVolume
-------------------------------------

### Synopsis
Returns volumes of Universal Storage API integrated systems.

---

### Description

This cmdlet returns an array of volumes of Universal Storage API integrated systems.
The cmdlet will return storage volumes, even if they are not added to your backup infrastructure.

TIP: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-StoragePluginHost](Get-StoragePluginHost.md)

---

### Examples
> Example 1

```PowerShell
Get-StoragePluginInfrastructureVolume
This command returns all volumes added to Universal Storage API integrated systems.
```
> Example 2

```PowerShell
Get-StoragePluginInfrastructureVolume -Name "Volume4", "Volume5", "Volume1"
This command returns specific volumes added to Universal Storage API integrated systems.
```
> Example 3

$storage = Get-StoragePluginHost -Name "IBM Spectrum"
Get-StoragePluginInfrastructureVolume -Name "VOLUME-01" -Host $storage
This example shows how to get all volumes added to the specific Universal Storage API integrated systems.

Perform the following steps:
1. Run the Get-StoragePluginHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-StoragePluginInfrastructureVolume cmdlet. Specify the Name parameter value. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies a storage.
The cmdlet will return an array of volumes added to that storage.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[CPublicPluginHost]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.PublicStorage.CPublicPluginHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-StoragePluginInfrastructureVolume [-Host <CPublicPluginHost>] [-Name <String[]>] [<CommonParameters>]
```

Get-StoragePluginSnapshot
-------------------------

### Synopsis
Returns snapshots of Universal Storage API integrated systems.

---

### Description

This cmdlet returns snapshots of Universal Storage API integrated systems.
You can get the list of all storage snapshots, or look for a specific snapshot by name or associated volume.

---

### Related Links
* [Get-StoragePluginHost](Get-StoragePluginHost.md)

* [Get-StoragePluginVolume](Get-StoragePluginVolume.md)

---

### Examples
> Example 1

```PowerShell
Get-StoragePluginSnapshot -Name "DailySnapshot01"
This example shows how to get a storage snapshot by name.
The cmdlet will look for the snapshot across all Veeam Universal Storage API integrated storages.
```
> Example 2

$storage = Get-StoragePluginHost -Name "IBM Spectrum"
$volume1 = Get-StoragePluginVolume -Host $storage -Name "VOLUME-01"
$volume2 = Get-StoragePluginVolume -Host $storage -Name "VOLUME-02"
Get-StoragePluginSnapshot -Volume $volume1, $volume2
This example shows how to get the snapshots of several storage volumes.

Perform the following steps:
1. Run the Get-StoragePluginHost cmdlet. Save the result to the $storage variable.
2. Get the volumes. To do this, run the Get-StoragePluginVolume cmdlet. Set the $storage variable as the Host parameter value. Specify the Name parameter value. Save each volume to a separate variable: $volume1, $volume2, etc.
3. Run the Get-StoragePluginSnapshot cmdlet. Set the $volume1 and $volume2 variables as the Volume parameter value.

---

### Parameters
#### **Name**
Specifies the array of snapshot names.
The cmdlet will return the snapshots with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies the array of storage volumes.
The cmdlet will return the snapshots of these volumes.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-StoragePluginSnapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-StoragePluginVolume
-----------------------

### Synopsis
Returns volumes of Universal Storage API integrated systems added to the backup infrastructure.

---

### Description

This cmdlet returns volumes of Universal Storage API integrated systems added to the backup infrastructure.

TIP: Run Get-StoragePluginInfrastructureVolume to get an array of volumes from Universal Storage API integrated systems.

---

### Related Links
* [Get-StoragePluginHost](Get-StoragePluginHost.md)

---

### Examples
> Example 1

$storage = Get-StoragePluginHost -Name "IBM Spectrum"
Get-StoragePluginVolume -Name "VOLUME-01" -Host $storage
This example shows how to get a Universal Storage API integrated systems volume added to the backup infrastructure.

Perform the following steps:
1. Run the Get-StoragePluginHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-StoragePluginVolume cmdlet. Specify the Name parameter value. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies an array of storage systems.
The cmdlet will return volumes of these storage systems.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[CPublicPluginHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.PublicStorage.CPublicPluginHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-StoragePluginVolume [-Host <CPublicPluginHost[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-ThinkSystemHost
-------------------

### Synopsis
Returns ThinkSystem storage systems added to the backup infrastructure.

---

### Description

This cmdlet returns the list of all ThinkSystem storage systems added to the backup infrastructure or narrow down the output by a storage name.

---

### Examples
> Example 1. Getting All ThinkSystem Storage Systems

```PowerShell
Get-ThinkSystemHost
This command returns all ThinkSystem storage systems.
```
> Example 2. Getting ThinkSystem Storage Systems by Name

```PowerShell
Get-ThinkSystemHost -Name "ThinkSystem Store"
This command returns a ThinkSystem storage by name.
```

---

### Parameters
#### **Name**
Specifies an array of storage names. The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-ThinkSystemHost [-Name <String[]>] [<CommonParameters>]
```

Get-ThinkSystemInfrastructureVolume
-----------------------------------

### Synopsis
Returns storage volumes of ThinkSystem storage systems.

---

### Description

This cmdlet returns an array of volumes of ThinkSystem storage systems.
The cmdlet will return storage volumes, even if they are not added to your backup infrastructure.

Tip: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-ThinkSystemHost](Get-ThinkSystemHost.md)

---

### Examples
> Example 1. Getting All Storage Volumes

```PowerShell
Get-ThinkSystemInfrastructureVolume
This command returns volumes of all ThinkSystem storage systems.
```
> Example 2. Getting Storage Volumes by Name

```PowerShell
Get-ThinkSystemInfrastructureVolume -Name "ISCSI Volume4", "ISCSI Volume5", "NFS Volume1"
This command returns ThinkSystem storage volumes by the volume name.
```
> Example 3. Getting All Volumes of Specific Storage System

$storage = Get-ThinkSystemHost -Name "ThinkSystem Store"
Get-VInfrastructureVolume -Host $storage
This example shows how to get all volumes of the specified ThinkSystem storage system.

Perform the following steps:
1. Run the Get-ThinkSystemHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-ThinkSystemInfrastructureVolume cmdlet. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies a storage system.
The cmdlet will return volumes of this storage system.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CNaHost]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.NetApp.CNaHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-ThinkSystemInfrastructureVolume [-Host <CNaHost>] [-Name <String[]>] [<CommonParameters>]
```

Get-ThinkSystemSnapshot
-----------------------

### Synopsis
Returns ThinkSystem storage snapshots.

---

### Description

You can get the list of all storage snapshots, or look for a specific snapshot by name or associated volume.

---

### Related Links
* [Get-ThinkSystemVolume](Get-ThinkSystemVolume.md)

---

### Examples
> Example 1. Getting All Snapshots

```PowerShell
Get-ThinkSystemSnapshot
This command returns the list of all snapshots.
```
> Example 2. Getting Snapshots of Specific Volume

$vol = Get-ThinkSystemVolume | Select -last 1
Get-ThinkSystemSnapshot -Volume $vol
This example shows how to get snapshots of a specific volume.

Perform the following steps:
1. Run the Get-ThinkSystemVolume cmdlet. Select the last volume in the list. Save the result to the $vol variable.
2. Run the Get-ThinkSystemSnapshot cmdlet. Set the $vol variable as the Volume parameter value.

---

### Parameters
#### **Name**
Specifies the array of the snapshot names.
The cmdlet will return the snapshots with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies the array of volumes.
The cmdlet will return the snapshots of these volumes.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-ThinkSystemSnapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-ThinkSystemVolume
---------------------

### Synopsis
Returns ThinkSystem storage volumes added to the backup infrastructure.

---

### Description

This cmdlet returns ThinkSystem storage volumes added to the backup infrastructure.

TIP: Run the Get-NetAppInfrastructureVolume cmdlet to get an array of volumes from a ThinkSystem storage system.

---

### Related Links
* [Get-ThinkSystemHost](Get-ThinkSystemHost.md)

---

### Examples
> Getting ThinkSystem Storage Volume

$storage = Get-ThinkSystemHost -Name "ThinkSystem Store"
Get-ThinkSystemVolume -Name "ThinkSystem Volume 01" -Host $storage
This example shows how to get a specific ThinkSystem storage volume added to the backup infrastructure.

Perform the following steps:
1. Run the Get-ThinkSystemHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-ThinkSystemVolume cmdlet. Specify the Name parameter value. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies an array of storage systems.
The cmdlet will return volumes of these storage systems.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CNaHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.NetApp.CNaHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-ThinkSystemVolume [-Host <CNaHost[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VACManagedModeStatus
------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VACManagedModeStatus [<CommonParameters>]
```

Get-VACTenantManagementStatus
-----------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VACTenantManagementStatus [<CommonParameters>]
```

Get-VBRADDomain
---------------

### Synopsis
Creates an object for connecting to Active Directory domain.

---

### Description

This cmdlet creates the VBRADDomain object for connecting to the Active Directory domain.
Veeam Backup & Replication will use this object to access Active Directory objects that you want to add to the scope of a protection group.

---

### Related Links
* [Find-VBRADEntity](Find-VBRADEntity.md)

---

### Examples
> Example 1. Creating Active Directory Domain Connection Object

$adcreds = Get-Credential
Get-VBRADDomain -Server support.north -Credentials $adcreds
This example shows how to create an Active Directory domain connection object using credentials.
Perform the following steps:
1. Run the Get-Credential cmdlet. Type the credentials you want to use for authenticating with the DC server or Active Directory domain. Save the result to the $adcreds variable.
2. Run the Get-VBRADDomain cmdlet. Specify the Server parameter value. Set the $adcreds variable as the Credentials parameter value.
> Example 2. Creating Active Directory Domain Connection Object

```PowerShell
Get-VBRADDomain -Server support.north -Credentials support\jsmith
This command shows how to create an Active Directory domain connection object using credentials in the Domain\Username format.
```

---

### Parameters
#### **Credentials**
Specifies credentials for authenticating with DC server/Domain.
Note: for string type, enter a user name in the Domain\Username format.

|Type            |Required|Position|PipelineInput        |
|----------------|--------|--------|---------------------|
|`[CCredentials]`|true    |named   |True (ByPropertyName)|

#### **Port**
Specifies the port for authenticating with the DC server/Domain.
Default: 389.

|Type     |Required|Position|PipelineInput        |
|---------|--------|--------|---------------------|
|`[Int32]`|false   |named   |True (ByPropertyName)|

#### **ServerName**
Specifies the name for connecting to DC server/domain:
* DNS name for DC server
* FQDN or NetBIOS for domain

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

System.Int32

Veeam.Backup.Common.CCredentials

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRADDomain -Credentials <CCredentials> [-Port <Int32>] -ServerName <String> [<CommonParameters>]
```

Get-VBRAdvancedLatencyOptions
-----------------------------

### Synopsis
Returns latency settings for a specific datastore.

---

### Description

This cmdlet returns latency settings for a specific datastore.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViDatastore](Find-VBRViDatastore.md)

* [Get-VBRHvServerVolume](Get-VBRHvServerVolume.md)

---

### Examples
> Example 1. Getting Latency Settings for all Datastores

Get-VBRAdvancedLatencyOptions
DatastoreId     LatencyLimitMs ThrottlingIOLimitMs Id
-----------     -------------- ------------------- --
datastore-45443            999                 999 34879a65-415b-4243-a195-d7ea52af79dc
datastore-45474            790                 530 c0a6feb4-a289-4f93-8301-dc7b273f224e
datastore-45474            500                 430 270ab173-2903-4cf4-80a6-4bd2256bebf5
This command returns latency settings for all datastores added to your backup infrastructure.
The cmdlet output will contain the following details on the datastore latency settings: DatastoreId, LatencyLimitMs, ThrottlingIOLimitMs.
> Example 2. Getting Latency Settings for VMware Datastore

$server = Get-VBRServer -Name esx06.tech.local
$datastore = Find-VBRViDatastore -Server $server
Get-VBRAdvancedLatencyOptions -ViDatastore $datastore
DatastoreId     LatencyLimitMs ThrottlingIOLimitMs Id
-----------     -------------- ------------------- --
datastore-45443            999                 999 34879a65-415b-4243-a195-d7ea52af79dc
This example shows how to get latency settings of the datastore-45443 VMware datastore that is located on the esx06.tech.local ESXi host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViDatastore cmdlet. Set the $server variable as the Server parameter value. Save the result to the $datastore variable.
3. Run the Get-VBRAdvancedLatencyOptions cmdlet. Set the $datastore variable as the ViDatastore parameter value.
The cmdlet output will contain the following details on the datastore latency settings: DatastoreId, LatencyLimitMs, ThrottlingIOLimitMs.
> Example 3. Getting Latency Settings for Hyper-V Datastores

$server = Get-VBRServer -Name hyperv09.tech.local
$volume = Get-VBRHvServerVolume -Server $server
Get-VBRAdvancedLatencyOptions -HvVolume $volume
DatastoreId     LatencyLimitMs ThrottlingIOLimitMs Id
-----------     -------------- ------------------- --
datastore-45474            500                 430 270ab173-2903-4cf4-80a6-4bd2256bebf5
Get latency settings of the datastore-45474 Hyper-V datastores that is located on the hyperv09.tech.local volume.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvServerVolume cmdlet. Set the $server variable as the Server parameter value. Save the result to the $volume variable.
3. Run the Get-VBRAdvancedLatencyOptions cmdlet. Set the $volume variable as the HvVolume parameter value.
The cmdlet output will contain the following details on the datastore latency settings: DatastoreId, LatencyLimitMs, ThrottlingIOLimitMs.

---

### Parameters
#### **HvVolume**
Specifies the following types of datastores:
* Microsoft Hyper-V
* Microsoft SMB3 servers
The cmdlet will return the latency settings for these datastores.

|Type                       |Required|Position|PipelineInput                 |
|---------------------------|--------|--------|------------------------------|
|`[VBRHvServerVolumeObject]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ViDatastore**
Specifies the VMware datastores. The cmdlet will return the latency settings for these datastores.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRViDatastore]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRViDatastore

Veeam.Backup.PowerShell.Infos.VBRHvServerVolumeObject

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAdvancedLatencyOptions -HvVolume <VBRHvServerVolumeObject> [<CommonParameters>]
```
```PowerShell
Get-VBRAdvancedLatencyOptions -ViDatastore <VBRViDatastore> [<CommonParameters>]
```

Get-VBRAmazonAccount
--------------------

### Synopsis
Returns AWS credentials records.

---

### Description

This cmdlet returns an array of existing AWS credentials records managed by Veeam Backup & Replication.
Veeam Backup & Replication will use these credentials records to access the following services:
- Amazon S3
- Amazon EC2
- S3 compatible (including IBM Cloud Object Storage)

---

### Examples
> Example 1. Getting AWS Credentials Record by Access Key

```PowerShell
Get-VBRAmazonAccount -AccessKey "XXXXXXXXXXXXXXXXXXXXXXX"
This command gets an AWS credentials record by the AWS access key.
```
> Example 2. Getting AWS Credentials Record by AWS ID

Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c", "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c
This command gets an AWS credentials record by the AWS ID.

---

### Parameters
#### **AccessKey**
Specifies an array of access keys for AWS credentials records.
The cmdlet will return AWS credentials records with these access keys.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Id**
Specifies an array of IDs for AWS credentials records. The cmdlet will return AWS credentials records with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonAccount [-AccessKey <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRAmazonAccount [-Id <Guid[]>] [<CommonParameters>]
```

Get-VBRAmazonEC2InstanceType
----------------------------

### Synopsis
Returns an array of Amazon EC2 instances.

---

### Description

This cmdlet returns an array of Amazon EC2 instance types that are available for the specified AWS region. It also returns the information about the memory and the CPU available for each instance type.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonEC2Region](Get-VBRAmazonEC2Region.md)

---

### Examples
> Example 1

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$region = Get-VBRAmazonEC2Region -Account $account -RegionType Global -Name "ap-northeast-1"
Get-VBRAmazonEC2InstanceType -Region $region
This example shows how to get an array of all instance types from the specified AWS region.
The cmdlet will return all instance types from the ap-northeast-1 AWS region.

Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Get-VBRAmazonEC2Region cmdlet. Set the $account variable as the Account parameter value. Set the Global value as the RegionType parameter value. Specify the Name parameter value. Save the result to the $region variable.
3. Run the Get-VBRAmazonEC2InstanceType cmdlet. Set the $region variable as the Region parameter value.

---

### Parameters
#### **Name**
Specifies the name of the Amazon EC2 instance type.
The cmdlet will return the instance type with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Region**
Specifies an AWS region.
The cmdlet will return an array of Amazon EC2 instance types that are available for the specified AWS region.
Accepts the VBRAmazonEC2Region object.
To get this object, run the Get-VBRAmazonEC2Region cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRAmazonEC2Region]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonEC2InstanceType [-Name <String>] -Region <VBRAmazonEC2Region> [<CommonParameters>]
```

Get-VBRAmazonEC2Region
----------------------

### Synopsis
Returns AWS Regions and datacenters.

---

### Description

This cmdlet returns an array of AWS Regions and datacenters.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

---

### Examples
> Example 1

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
Get-VBRAmazonEC2Region -Account $account -RegionType Global -Name "eu-west-3"
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable. 2. Run the Get-VBRAmazonEC2Region cmdlet. Set the $account variable as the Account parameter value.    Set the Global value as the RegionType parameter value. Specify the Name parameter value.

---

### Parameters
#### **Account**
Specifies AWS credentials records. Veeam Backup and Replication will use these credentials to connect to the AWS account.
Accepts the VBRAmazonAccount object. To get this object, run the Get-VBRAmazonAccount cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAmazonAccount]`|true    |named   |False        |

#### **Name**
Specifies the AWS datacenter.
The cmdlet will return the datacenter with the specified name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **RegionType**
Specifies the AWS Regions type:
* Global
* Government
* China
Veeam Backup and Replication will get an array of Amazon EC2 Regions based on the specified type.
Valid Values:

* Global
* Government
* China

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRAmazonRegionType]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonEC2Region -Account <VBRAmazonAccount> [-Name <String>] -RegionType {Global | Government | China} [<CommonParameters>]
```

Get-VBRAmazonEC2SecurityGroup
-----------------------------

### Synopsis
Returns an array of AmazonEC2 security groups.

---

### Description

This cmdlet returns an array of Amazon EC2 security groups that are configured for the specified Amazon VPC.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonEC2Region](Get-VBRAmazonEC2Region.md)

* [Get-VBRAmazonEC2VPC](Get-VBRAmazonEC2VPC.md)

---

### Examples
> Example 1

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$region = Get-VBRAmazonEC2Region -Account $account -RegionType Global -Name "eu-west-3"
$vpc = Get-VBRAmazonEC2VPC -Region $region
Get-VBRAmazonEC2SecurityGroup -VPC $vpc
This example shows how to get an array of Amazon EC2 security groups that are configured for selected Amazon VCP.

Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Get-VBRAmazonEC2Region cmdlet.
Set the $account variable as the Account parameter value.    Set the Global value as the RegionType parameter value.    Specify the Name parameter value. Save the result to the $region variable.
3. Run the Get-VBRAmazonEC2VPC cmdlet. Set the $region variable as the Region parameter value. Save the result to the $vpc variable.
4. Run the Get-VBRAmazonEC2SecurityGroup cmdlet. Set the $vpc variable as the VPC parameter value.

---

### Parameters
#### **Name**
Specifies the name of the security group.
The cmdlet will return the security group with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **VPC**
Specifies an Amazon VPC.
Accepts the VBRAmazonEC2VPC object.
To get this object, run the Get-VBRAmazonEC2VPC cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRAmazonEC2VPC]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonEC2SecurityGroup [-Name <String>] -VPC <VBRAmazonEC2VPC> [<CommonParameters>]
```

Get-VBRAmazonEC2Subnet
----------------------

### Synopsis
Returns an array of Amazon VPC subnets.

---

### Description

This cmdlet returns an array of subnets that are available in the selected Amazon VPC.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonEC2Region](Get-VBRAmazonEC2Region.md)

* [Get-VBRAmazonEC2VPC](Get-VBRAmazonEC2VPC.md)

---

### Examples
> Example 1

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$region = Get-VBRAmazonEC2Region -Account $account -RegionType Global -Name "ap-northeast-1"
$vpc = Get-VBRAmazonEC2VPC -Region $region
Get-VBRAmazonEC2Subnet -VPC $vpc -AvailabilityZone "eu-west-1a"
This example shows how to get the Amazon VPC subnet by geographic location and the associated Availability Zone.

Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet.    Specify the Id parameter value.    Save the result to the $account variable.
2. Run the Get-VBRAmazonEC2Region cmdlet.    Set the $account variable as the Account parameter value.    Set the Global value as the RegionType parameter value.    Specify the Name parameter value. Save the result to the $region variable.
3. Run the Get-VBRAmazonEC2VPC cmdlet.    Set the $region variable as the Region parameter value.    Save the result to the $vpc variable.
4. Run the Get-VBRAmazonEC2Subnet cmdlet.    Set the $vpc variable as the VCP parameter value.    Specify the AvailabilityZone parameter value.

---

### Parameters
#### **AvailabilityZone**
Specifies the Availability Zone.
The cmdlet will return the Amazon VPC subnet that resides in the specified Availability Zone.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Name**
Specifies the IP range.
The cmdlet will return the Amazon VPC subnet with this IP range.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **VPC**
Specifies the Amazon VPC.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRAmazonEC2VPC]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonEC2Subnet [-AvailabilityZone <String>] -VPC <VBRAmazonEC2VPC> [<CommonParameters>]
```
```PowerShell
Get-VBRAmazonEC2Subnet -Name <String> -VPC <VBRAmazonEC2VPC> [<CommonParameters>]
```

Get-VBRAmazonEC2VM
------------------

### Synopsis
Returns Amazon EC2 instances.

---

### Description

This cmdlet returns the Amazon EC2 instances.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonEC2Region](Get-VBRAmazonEC2Region.md)

---

### Examples
> Getting all Amazon EC2 Instances Available in Specific AWS Region

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$region = Get-VBRAmazonEC2Region -Account $account -RegionType Global -Name "eu-west-3"
$EC2 = Get-VBRAmazonEC2VM -Region $region
This example shows how to get all Amazon EC2 instances available in the Global AWS Region.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter values. Save the result to the $account variable.
2. Run the Get-VBRAmazonEC2Region cmdlet. Set the $account variable as the Account parameter. Set the Global value as the RegionType parameter value. Specify the Name parameter value. Save the result to the $region variable.
3. Run the Get-VBRAmazonEC2VM cmdlet. Set the $region variable as the Region parameter. Save the result to the $EC2 variable.

---

### Parameters
#### **Region**
Specifies AWS Regions in which you want to deploy Veeam Agent on cloud machines.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRAmazonEC2Region]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonEC2VM -Region <VBRAmazonEC2Region> [<CommonParameters>]
```

Get-VBRAmazonEC2VPC
-------------------

### Synopsis
Returns an Amazon VPC.

---

### Description

This cmdlet returns an Amazon VPC.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonEC2Region](Get-VBRAmazonEC2Region.md)

---

### Examples
> Example 1

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$region = Get-VBRAmazonEC2Region -Account $account -RegionType Global -Name "ap-northeast-1"
Get-VBRAmazonEC2VPC -Region $region
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Get-VBRAmazonEC2Region cmdlet.    Set the $account variable as the Account parameter value.    Set the Global value as the RegionType parameter value.    Specify the Name parameter value. Save the result to the $region variable.
3. Run the Get-VBRAmazonEC2VPC cmdlet. Set the $region variable as the Region parameter value.

---

### Parameters
#### **AWSObjectId**
Specifies the internal ID of the Amazon VPC.
The cmdlet will return the VPC with this ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Region**
Specifies an AWS region.
The cmdlet will return Amazon VPCs that are configured for this AWS location.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRAmazonEC2Region]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonEC2VPC [-AWSObjectId <String>] -Region <VBRAmazonEC2Region> [<CommonParameters>]
```

Get-VBRAmazonRestoreSession
---------------------------

### Synopsis
Returns active restore sessions to Amazon EC2

---

### Description

This cmdlet returns active restore to Amazon EC2 sessions.

---

### Examples
> Example 1

```PowerShell
Get-VBRAmazonRestoreSession -Session "New session"
This command gets the active restore session to Amazon EC2.
```

---

### Parameters
#### **Id**
Specifies the ID of the restore to Amazon EC2 active session you want to get.

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|false   |named   |True (ByPropertyName)|

#### **Session**
Specifies the restore to Amazon EC2 active session that you want to get.

|Type                       |Required|Position|PipelineInput                 |
|---------------------------|--------|--------|------------------------------|
|`[VBRAmazonRestoreSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonRestoreSession

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonRestoreSession [-Id <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRAmazonRestoreSession [-Session <VBRAmazonRestoreSession>] [<CommonParameters>]
```

Get-VBRAmazonS3Bucket
---------------------

### Synopsis
Returns Amazon S3 buckets.

---

### Description

This cmdlet returns the VBRAmazonS3Bucket object that contains an array of Amazon buckets for the following Amazon services:
- Amazon S3
- Amazon S3 Compatible (including IBM Cloud Object Storage)
IMPORTANT! To be able to get a list of all buckets, you must configure the s3:ListAllMyBuckets permission.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

* [Get-VBRAmazonS3Region](Get-VBRAmazonS3Region.md)

---

### Examples
> Example 1. Getting All Amazon S3 Buckets from Specific Amazon S3 Region

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
$region = Get-VBRAmazonS3Region -Connection $connection
Get-VBRAmazonS3Bucket -Connection $connection -Region $region
This example shows how to get an array of all Amazon S3 buckets from a particular Amazon S3 region.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Region cmdlet. Set the $connection variable as the Connection parameter value. Save the result to the $region variable.
4. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connection variable as the Connection parameter value. Set the $region variable as the Region parameter value.
> Example 2. Getting All Amazon S3 Buckets from Specific Amazon S3 Region

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
$region = Get-VBRAmazonS3Region -Connection $connection -Regionid eu-west-1
Get-VBRAmazonS3Bucket -Connection $connection -Region $region
This example shows how to get an array of all Amazon S3 buckets from the selected Amazon S3 region.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Region cmdlet. Set the $connection variable as the Connection parameter value. Specify the Regionid parameter value. Save the result to the $region variable.
4. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connection variable as the Connection parameter value. Set the $region variable as the Region parameter value.
> Example 3. Getting Amazon S3 Bucket

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
Get-VBRAmazonS3Bucket -Connection $connection -Name "MyBucket"
This example shows how to get an Amazon S3 bucket.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connection variable as the Connection parameter value. Specify the Name parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with Amazon object storage. The cmdlet will return an array of Amazon S3 buckets for this Amazon object storage.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[IVBRAmazonS3Connection]`|true    |named   |False        |

#### **Name**
Specifies a name of the Amazon S3 bucket. The cmdlet will return the bucket with this name.
Note: If you do not grant necessary  permissions to the get all buckets, the cmdlet will not return the necessary bucket.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Region**
Specifies an array of Amazon S3 regions where Amazon S3 buckets are located. The cmdlet will return an array of Amazon S3 buckets from these Amazon S3 regions.

|Type                   |Required|Position|PipelineInput |
|-----------------------|--------|--------|--------------|
|`[VBRAmazonS3Region[]]`|false   |named   |True (ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Region[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonS3Bucket -Connection <IVBRAmazonS3Connection> [-Name <String[]>] [-Region <VBRAmazonS3Region[]>] [<CommonParameters>]
```

Get-VBRAmazonS3Folder
---------------------

### Synopsis
Returns Amazon S3 folders.

---

### Description

This cmdlet returns the VBRAmazonS3Folder object that contains an array of Amazon S3 folders. You can get the array of the folders for the following types of Amazon object storage:
- Amazon S3
- Amazon S3 Compatible (including IBM Cloud Object Storage)
Note:
The Get-VBRAmazonS3Folder cmdlet returns the array of Amazon S3 folders that are created under the following paths:
- [For Capacity Tier] - /Veeam/Archive/
- [For External Repository] - /Veeam/Backup/

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

* [Get-VBRAmazonS3Bucket](Get-VBRAmazonS3Bucket.md)

---

### Examples
> Example 1. Getting All Folders Added to Amazon Object Storage

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
$bucket = Get-VBRAmazonS3Bucket -Connection $connection
Get-VBRAmazonS3Folder -Connection $connection -Bucket $bucket
This example shows how to get folders added to Amazon object storage.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connection variable as the Connection parameter value. Save the result to the $bucket variable.
4. Run the Get-VBRAmazonS3Folder cmdlet. Set the $connection variable as the Connection parameter value. Set the $bucket variable as the Bucket parameter value.
> Example 2. Getting Specific Folder Added to Amazon Object Storage

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
$bucket = Get-VBRAmazonS3Bucket -Connection $connection
Get-VBRAmazonS3Folder -Connection $connection -Bucket $bucket -Name "NewBucket"
This example shows how to get a folder added to Amazon object storage.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connection variable as the Connection parameter value. Save the result to the $bucket variable.
4. Run the Get-VBRAmazonS3Folder cmdlet. Set the $connection variable as the Connection parameter value. Set the $bucket variable as the Bucket parameter value. Specify the Name parameter value.

---

### Parameters
#### **Bucket**
Specifies an Amazon S3 bucket. The cmdlet will return an array of the folders added to this bucket.

|Type                   |Required|Position|PipelineInput |
|-----------------------|--------|--------|--------------|
|`[VBRAmazonS3Bucket[]]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with Amazon S3 object storage. The cmdlet will return an array of the folders added to this object storage.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[IVBRAmazonS3Connection]`|true    |named   |False        |

#### **Name**
Specifies a name of the Amazon S3 folder. Veeam Backup & Replication will return the folder with this name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Bucket[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonS3Folder -Bucket <VBRAmazonS3Bucket[]> -Connection <IVBRAmazonS3Connection> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRAmazonS3Region
---------------------

### Synopsis
Returns Amazon S3 regions.

---

### Description

This cmdlet returns an array of Amazon S3 regions. You can get regions for the following services:
- Amazon S3
- S3 compatible (including IBM Cloud Object Storage)

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

---

### Examples
> Example 1. Getting Amazon S3 Regions

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
Get-VBRAmazonS3Region -Connection $connection
This example shows how to get Amazon S3 regions.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Region cmdlet. Set the $connection variable as the Connection parameter value.
> Example 2. Getting Amazon S3 Regions for Amazon S3 Object Storage

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
Get-VBRAmazonS3Region -Connection $connection -RegionId "eu-west-3"
This example shows how to get Amazon S3 regions for Amazon S3 object storage.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Region cmdlet. Set the $connection variable as the Connection parameter value. Specify the RegionId parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with AWS. The cmdlet will return an array of all Amazon S3 regions from this session.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[IVBRAmazonS3Connection]`|false   |named   |False        |

#### **RegionId**
Specifies an ID of Amazon S3 region. The cmdlet will return an array of Amazon S3 regions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAmazonS3Region [-Connection <IVBRAmazonS3Connection>] [-RegionId <String>] [<CommonParameters>]
```

Get-VBRApplicationBackupJob
---------------------------

### Synopsis
Returns application backup policies.

---

### Description

This cmdlet returns an array of application backup policies.

---

### Examples
> Example 1. Getting all Application Backup Policies

Get-VBRApplicationBackupJob
This command returns an array of all application backup policies that are added to Veeam Backup & Replication.
> Example 2. Getting Veeam Agent Backup Job by Name

```PowerShell
Get-VBRApplicationBackupJob -Name "Plugin Policy 05"
This command returns the Plugin Policy 05 application backup policy.
```

---

### Parameters
#### **Id**
Specifies an ID of an application backup policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies a name of an application backup policy.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Type**
Specifies the type of Veeam Plug-in to be installed on the protected computers:
* OracleRMAN: for Veeam Plug-in for Oracle RMAN.
* SAPHANA: for Veeam Plug-in for SAP HANA.
* SAPOnOracle: for Veeam Plug-in for SAP on Oracle.
The cmdlet will return discovered computers with applications of these types.
Valid Values:

* OracleRMAN
* SAPHANA
* SAPOnOracle
* MongoDB

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRApplicationType[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRApplicationBackupJob [-Id <Guid[]>] [-Name <String[]>] [-Type {OracleRMAN | SAPHANA | SAPOnOracle | MongoDB}] [<CommonParameters>]
```

Get-VBRApplicationBackupJobSession
----------------------------------

### Synopsis
Returns job sessions.

---

### Description

This cmdlet returns job sessions of application backup policies that are managed by Veeam Backup & Replication.

---

### Examples
> Example 1. Getting Application Policy Sessions by Name

```PowerShell
Get-VBRApplicationBackupJobSession -Name "Database backup policy"
This command returns the Database backup policy application policy session.
```
> Example 2. Get Application Policy Sessions by ID

```PowerShell
Get-VBRApplicationBackupJobSession -Id 1137c678-e79d-48c4-8d30-b921a612ba1e
This command returns the 1137c678-e79d-48c4-8d30-b921a612ba1e application policy session.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for application policy sessions. The cmdlet will return the sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies an array of names for application policy sessions. The cmdlet will return sessions with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRApplicationBackupJobSession [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRApplicationBackupJobSession [-Name <String[]>] [<CommonParameters>]
```

Get-VBRApplicationGroup
-----------------------

### Synopsis
Returns VMware and Hyper-V application groups.

---

### Description

This cmdlet returns VMware and Hyper-V application groups.

---

### Examples
> Example 1. Getting all Application Groups

Get-VBRApplicationGroup
Name                 Description
----                 -----------
Exchange Group       AppGroup for Exchange verification
SQL Group            AppGroup for SQL verification
File Server Group    AppGroup for File Server verification
This command returns application groups that are added to the Veeam Backup & Replication infrastructure.
The cmdlet output will contain the details about the Name and the Description of application groups.
> Example 2. Getting Application Group by Name

Get-VBRApplicationGroup -Name "Exchange Application Group"
Name                 Description
----                 -----------
Exchange Group       AppGroup for Exchange verification
This command returns the AppGroup for SQL verification application group.
The cmdlet output will contain the details about the Name and the Description of an application group.

---

### Parameters
#### **Name**
Specifies a name of an application group. The cmdlet will return the application group with the specified name.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRApplicationGroup [-Name <String[]>] [<CommonParameters>]
```

Get-VBRApplicationRestorePoint
------------------------------

### Synopsis
Returns restore points created with the VSS-aware image processing enabled.

---

### Description

This cmdlet returns restore points of backups that were created with the VSS-aware image processing enabled.

---

### Related Links
* [Sort-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Sort-Object)

* [Select-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Select-Object)

---

### Examples
> Example 1. Returning all Restore Points

```PowerShell
Get-VBRApplicationRestorePoint -SQL
This command returns all restore points of backups containing Microsoft SQL VMs.
```
> Example 2. Returning Specific Restore Point of Micrsofot SQL VM

$crmdb = Get-VBRApplicationRestorePoint -SQL -Name "crm_db"
$restorepoint = $crmdb[2]
This example shows how to return a specific restore points of a Microsoft SQL VM named crm_db.
Perform the following steps:
1. Run the Get-VBRApplicationRestorePoint cmdlet. Provide the SQL parameter. Specify the Name parameter value. Save the result to the $crmdb variable.
2. Select the third restore point. Save the result to the $restorepoint variable.
> Example 3. Returning Most Recent Restore Point of Specific Microsoft SQL VM [Using Pipeline]

$crmdb = Get-VBRApplicationRestorePoint -SQL -Name "CRM-db" | Sort-Object -Property CreationTime -Descending | Select-Object -First 1
This example shows how to return the most recent restore point of a Microsoft SQL VM named crm_db.
Perform the following steps:
1. Run the Get-VBRApplicationRestorePoint cmdlet. Provide the SQL parameter. Specify the Name parameter value.
2. Pipe the cmdlet output to the Sort-Object cmdlet. Set the CreationTime value for the Property parameter. Provide the Descending parameter.
3. Pipe the cmdlet output to the Select-Object cmdlet. Set the 1 number as the First parameter value.
4. Save the result to the $crmdb variable.
> Example 4. Looking for Specific Restore Point

```PowerShell
Get-VBRApplicationRestorePoint -Id 4d39c279-f15c-4fd3-9b32-5f4e65f221b2
This command looks for a specific restore point with the 4d39c279-f15c-4fd3-9b32-5f4e65f221b2 Id.
```

---

### Parameters
#### **ActiveDirectory**
Defines that the cmdlet will return the restore points of Microsoft Active Directory VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Exchange**
Defines that the cmdlet will return the restore points of Microsoft Exchange VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Id**
Filters the restore points by ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **MongoDB**
Defines that the the cmdlet will return the restore points of MongoDB VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Name**
Specifies backed-up VMs. The cmdlet will return an array of restore points created for these VMs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Oracle**
Defines that the the cmdlet will return the restore points of Oracle VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **PostgreSQL**
Defines that the the cmdlet will return the restore points of PostgreSQL VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SharePoint**
Defines that the the cmdlet will return the restore points of Microsoft SharePoint VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SQL**
Defines that the the cmdlet will return the restore points of Microsoft SQL Server VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRApplicationRestorePoint [-ActiveDirectory] [-Exchange] [-MongoDB] [-Name <String[]>] [-Oracle] [-PostgreSQL] [-SharePoint] [-SQL] [<CommonParameters>]
```
```PowerShell
Get-VBRApplicationRestorePoint [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRApplicationRestorePoint [-Name <String[]>] [<CommonParameters>]
```

Get-VBRArchiveExtent
--------------------

### Synopsis
Returns the archive extent.

---

### Description

This cmdlet returns the archive extent of scale-out backup repositories. The archive extent is an archive object storage repository that is added to the scale-out backup repository.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Getting Archive Extent

$repository = Get-VBRBackupRepository -ScaleOut
Get-VBRArchiveExtent -Repository $repository
This example shows how to get the archive extents added to the scale-out backup repositories.
Perform the following actions:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Save the result to the $repository variable.
2. Run the Get-VBRCArchiveExtent cmdlet. Set the $repository variable as the Repository parameter value.

---

### Parameters
#### **Repository**
Specifies an array of scale-out backup repositories. The cmdlet will return the archive extent added to this repository.

|Type                             |Required|Position|PipelineInput                 |
|---------------------------------|--------|--------|------------------------------|
|`[VBRScaleOutBackupRepository[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRScaleOutBackupRepository[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRArchiveExtent

---

### Notes

---

### Syntax
```PowerShell
Get-VBRArchiveExtent -Repository <VBRScaleOutBackupRepository[]> [<CommonParameters>]
```

Get-VBRArchiveObjectStorageRepository
-------------------------------------

### Synopsis
Returns archive repositories added to the backup infrastructure.

---

### Description

This cmdlet returns a list of archive repositories added to Veeam Backup & Replication. You can get the following types of these archive repositories:
- Amazon S3 Glacier
- Azure Archive
- S3 compatible object storage with data archiving

---

### Examples
> Example 1. Getting Azure Archive Repositories

```PowerShell
Get-VBRObjectStorageRepository -Type AzureArchive
This command gets all Azure Archive repository instances added to the backup infrastructure.
```
> Example 2. Getting Amazon S3 Glacier Archive Repositories

```PowerShell
Get-VBRObjectStorageRepository -Type AmazonS3Glacier
This command gets all Amazon S3 Glacier archive repository instances added to the backup infrastructure.
```

---

### Parameters
#### **Id**
Specifies an ID of an archive repository that you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies a name of an archive repository that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Type**
Specifies the type of an archive repository that you want to get. You can select the following type of backup repositories:
* Amazon S3 Glacier
* Azure Archive
Valid Values:

* AzureArchive
* AmazonS3Glacier
* S3GlacierCompatible

|Type                                     |Required|Position|PipelineInput|
|-----------------------------------------|--------|--------|-------------|
|`[VBRArchiveObjectStorageRepositoryType]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRArchiveObjectStorageRepository

---

### Notes

---

### Syntax
```PowerShell
Get-VBRArchiveObjectStorageRepository [-Id <Guid[]>] [-Type {AzureArchive | AmazonS3Glacier | S3GlacierCompatible}] [<CommonParameters>]
```
```PowerShell
Get-VBRArchiveObjectStorageRepository [-Name <String[]>] [-Type {AzureArchive | AmazonS3Glacier | S3GlacierCompatible}] [<CommonParameters>]
```

Get-VBRArchiveTierSyncInterval
------------------------------

### Synopsis
Returns a time period of checkpoints in the archive tier that are available for synchronization.

---

### Description

This cmdlet returns a time period of checkpoints in the archive tier that are available for synchronization.
You may want to run this cmdlet before you synchronize the state of backup chains with the state of backup chains on the archive tier for the specific period of time.
When you synchronize the state of backup chains with state of backup chains on the archive tier, the state of backup chains on the capacity tier does not change.
Run the Sync-VBRSOBREntityState cmdlet to synchronize the state of the backup chains.
IMPORTANT! Use this cmdlet only with archive storage that support the immutability option.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Example 1. Getting Time Period for all Checkpoints Available on Archive Tier

$repository = Get-VBRBackupRepository -ScaleOut
Get-VBRArchiveTierSyncInterval -Repository $repository

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period with contains checkpoints on archive tier that are available for synchronization.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRArchiveTierSyncInterval cmdlet. Set the $repository variable as the Repository parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.
> Example 2. Getting Time Period of Checkpoints for Specific Job

$repository = Get-VBRBackupRepository -ScaleOut
$job = Get-VBRJob -Name "Backup05"
Get-VBRArchiveTierSyncInterval -Repository $repository -Job $job

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period that contains checkpoints on archive tier that you can synchronize for the Backup05 job.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
3. Run the Get-VBRArchiveTierSyncInterval cmdlet. Set the $repository variable as the Repository parameter value. Set the $job variable as the Job parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.
> Example 3. Getting Time Period of Checkpoints for Specific Backup

$repository = Get-VBRBackupRepository -ScaleOut
$backup = Get-VBRBackup -Name "Report05"
Get-VBRArchiveTierSyncInterval -Repository <VBRScaleOutBackupRepository> -Backup $backup

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period that contains details on checkpoints on archive tier that you can synchronize for the Report05 backup.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
3. Run the Get-VBRArchiveTierSyncInterval cmdlet. Set the $repository variable as the Repository parameter value. Set the $backup variable as the Backup parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.

---

### Parameters
#### **Backup**
Specifies a backup. The cmdlet will return a time period that contains checkpoints on the archive tier for this backup.

|Type       |Required|Position|PipelineInput        |
|-----------|--------|--------|---------------------|
|`[CBackup]`|true    |named   |True (ByPropertyName)|

#### **Job**
Specifies a job. The cmdlet will return a time period that contains checkpoints on the archive tier for this job.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[VBRJob]`|true    |named   |True (ByPropertyName)|

#### **Repository**
Specifies a scale-out backup repository. The cmdlet will return a time period that contains checkpoints that were moved from this scale-out backup repository but are still available on the archive tier.

|Type                           |Required|Position|PipelineInput                 |Aliases|
|-------------------------------|--------|--------|------------------------------|-------|
|`[VBRScaleOutBackupRepository]`|true    |named   |True (ByPropertyName, ByValue)|SOBR   |

#### **TenantBackupId**
Specifies an ID of the cloud tenant backup. The cmdlet will return a time period that contains checkpoints on the archive tier for this backup.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **TenantId**
Specifies an ID of the cloud tenant. The cmdlet will return a time period that contains checkpoints on the archive tier created by this tenant.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRScaleOutBackupRepository

Veeam.Backup.PowerShell.Infos.VBRJob

Veeam.Backup.Core.CBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRArchiveTierSyncInterval -Backup <CBackup> -Repository <VBRScaleOutBackupRepository> [<CommonParameters>]
```
```PowerShell
Get-VBRArchiveTierSyncInterval -Job <VBRJob> -Repository <VBRScaleOutBackupRepository> [<CommonParameters>]
```
```PowerShell
Get-VBRArchiveTierSyncInterval -Repository <VBRScaleOutBackupRepository> -TenantBackupId <Guid> [<CommonParameters>]
```
```PowerShell
Get-VBRArchiveTierSyncInterval -Repository <VBRScaleOutBackupRepository> -TenantId <Guid> [<CommonParameters>]
```

Get-VBRAzureAccount
-------------------

### Synopsis
Returns Microsoft Azure accounts added to Veeam Backup & Replication.

---

### Description

This cmdlet returns Microsoft Azure accounts added to Veeam Backup & Replication.
IMPORTANT! This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).

---

### Examples
> Example 1. Getting All Microsoft Azure Accounts

Get-VBRAzureAccount
This command returns all accounts added to Veeam Backup & Replication.
> Example 2. Getting All Resource Manager Accounts

Get-VBRAzureAccount -Type ResourceManager
This command returns all Resource Manager accounts added to Veeam Backup & Replication.
> Example 3. Getting Classic Account by Name

Get-VBRAzureAccount -Type Classic -Name RestoreToAzure@Veeam.com
This command returns a Classic account named RestoreToAzure@Veeam.com added to Veeam Backup & Replication.

---

### Parameters
#### **Id**
Specifies the array of IDs of the accounts. The cmdlet will return the accounts that match these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the array of names of the accounts. The cmdlet will return the accounts that match these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Type**
Specifies the account model: ResourceManager, Classic.
Valid Values:

* ResourceManager
* Classic

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRAzureModelType]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureAccount [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRAzureAccount [-Name <String[]>] [-Type {ResourceManager | Classic}] [<CommonParameters>]
```

Get-VBRAzureADAccount
---------------------

### Synopsis
Returns Azure Entra ID-based storage accounts.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns Azure Entra ID-based storage accounts added to Veeam Backup & Replication.

---

### Examples
> Example 1. Getting Azure Entra ID-Based Storage Accounts by ID

```PowerShell
Get-VBRAzureADAccount -Id Guid "cfe6a67f-f322-446d-92e3-cf1da7cbf192", "1242a067-8292-406b-8035-8b0aefb187bf"
This command returns Azure Entra ID-based storage accounts with the following IDs: cfe6a67f-f322-446d-92e3-cf1da7cbf192 and 1242a067-8292-406b-8035-8b0aefb187bf.
```
> Example 2. Getting Azure Entra ID-Based Storage Accounts by Names

```PowerShell
Get-VBRAzureADAccount -Name "Azure Entra ID Admin"
This command returns Azure Entra ID-based storage accounts with the Azure Entra ID Admin name.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for Azure Entra ID-based storage accounts. The cmdlet will return storage accounts with these ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of friendly names for storage accounts. The cmdlet will return storage accounts with these names. Note: The friendly names match the names of the storage accounts

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **StorageAccountName**
Specifies an array of names for Azure Entra ID storage account. The cmdlet will return Microsoft Entra ID user accounts with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureADAccount -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRAzureADAccount [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRAzureADAccount [-StorageAccountName <String[]>] [<CommonParameters>]
```

Get-VBRAzureApplianceSession
----------------------------

### Synopsis
Returns statuses of deployment sessions for helper restore appliance.

---

### Description

This cmdlet returns status of process initiated by the Deploy-VBRAzureLinuxRestoreAppliance cmdlet.

---

### Examples
> Example 1

```PowerShell
Get-VBRAzureApplianceSession
This command returns statuses of all sessions.
```
> Example 2

```PowerShell
Get-VBRAzureApplianceSession -Session $appliancesession
This command returns status of a specific session. In this example, we assume that the user saved the session to a variable when they deployed the appliance. See examples for the Deploy-VBRAzureLinuxRestoreAppliance cmdlet for details.
```

---

### Parameters
#### **Id**
Specifies the ID of the session.
The cmdlet will return the statuses of the  sessions with this ID.

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|false   |named   |True (ByPropertyName)|

#### **Session**
Specifies the session.
The cmdlet will return the status of this session.

|Type                        |Required|Position|PipelineInput                 |
|----------------------------|--------|--------|------------------------------|
|`[VBRAzureApplianceSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureApplianceSession

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureApplianceSession [-Id <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRAzureApplianceSession [-Session <VBRAzureApplianceSession>] [<CommonParameters>]
```

Get-VBRAzureBlobAccount
-----------------------

### Synopsis
Returns Microsoft Azure Blob credentials records.

---

### Description

This cmdlet returns an array of credentials records for Microsoft Azure Blob storage added to Veeam Backup & Replication.

---

### Examples
> Example 1. Getting Microsoft Azure Blob Credentials Records by Name

```PowerShell
Get-VBRAzureBlobAccount -Name "Azure Blob"
This command gets an Microsoft Azure Blob credentials record by the credentials record login name.
```
> Example 2. Getting Microsoft Azure Blob Credentials Records by ID

```PowerShell
Get-VBRAzureBlobAccount -Id "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
This command gets an Microsoft Azure Blob credentials record by the credentials record ID.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for Microsoft Azure Blob credentials records. The cmdlet will return Microsoft Azure Blob credentials records with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of login names for Microsoft Azure Blob credentials records. The cmdlet will return Microsoft Azure Blob credentials records with these logins.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureBlobAccount -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRAzureBlobAccount [-Name <String[]>] [<CommonParameters>]
```

Get-VBRAzureBlobContainer
-------------------------

### Synopsis
Returns Microsoft Azure Blob containers.

---

### Description

This cmdlet returns an array of Microsoft Azure Blob containers.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

---

### Examples
> Getting All Microsoft Azure Blob Containers

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global  -ServiceType ExternalRepository
Get-VBRAzureBlobContainer -Connection $connect
This example shows how to get all containers added to Microsoft Azure Blob storage. The cmdlet will return an array of containers added to the Global region type.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Specify the Account, RegionType and the ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connect variable as the Connection parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with Microsoft Azure Blob storage. The cmdlet will return an array of the containers added to this object storage.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[IVBRAzureBlobConnection]`|true    |named   |False        |

#### **Name**
Specifies an array of names of the Microsoft Azure Blob container that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureBlobContainer -Connection <IVBRAzureBlobConnection> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRAzureBlobFolder
----------------------

### Synopsis
Returns Microsoft Azure Blob folders.

---

### Description

This cmdlet returns an array of Microsoft Azure Blob folders. You can get the array of all folders from your Microsoft Azure Blob storage or the array of the folders from the particular container.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

---

### Examples
> Example 1. Getting All Folders from Microsoft Azure Blob Storage

$account = Get-VBRAzureBlobAccount -Name "Microsoft Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect
Get-VBRAzureBlobFolder -Container $Container -Connection $connect
This example shows how to get all folders from Microsoft Azure Blob storage.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and the ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connect variable as the Connection parameter value. Save the result to the $container variable.
4. Run the Get-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connect variable as the Connection parameter value.
> Example 2. Getting All Folders from Specific Microsoft Azure Blob Container

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect -Name "Container"
Get-VBRAzureBlobFolder -Container $Container -Connection $connect
This example shows how to get all folders from a specific Microsoft Azure Blob container.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and the ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connect variable as the Connection parameter value. Specify the Name parameter value. Save the result to the $container variable.
4. Run the Get-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connect variable as the Connection parameter value.
> Example 3. Getting Specific Folder from Microsoft Azure Blob Storage

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect
Get-VBRAzureBlobFolder -Container $container -Connection $connect -Name "New Folder"
This example shows how to get a specific folder from Microsoft Azure Blob storage.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and the ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAzureBlobContainer cmdlet. Set the $connect variable as the Connection parameter value. Save the result to the $container variable.
4. Run the Get-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connect variable as the Connection parameter value. Specify the Name parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with Microsoft Azure Blob storage.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[IVBRAzureBlobConnection]`|true    |named   |False        |

#### **Container**
Specifies an array of Microsoft Azure Blob containers. The cmdlet will return the folders from these containers.

|Type                       |Required|Position|PipelineInput |
|---------------------------|--------|--------|--------------|
|`[VBRAzureBlobContainer[]]`|true    |named   |True (ByValue)|

#### **Name**
Specifies an array of names for Microsoft Azure Blob folders that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobContainer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureBlobFolder -Connection <IVBRAzureBlobConnection> -Container <VBRAzureBlobContainer[]> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRAzureCloudService
------------------------

### Synopsis
Returns Microsoft Azure cloud services available for a subscription.

---

### Description

This cmdlet returns the Microsoft Azure cloud services available for a selected subscription.
You can get the cloud services only for Microsoft Azure Classic accounts.
NOTE: This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Type Classic -Name "RestoreToAzure@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureCloudService -Subscription $subscription -Name "VeeamCloudService"
This example shows how to get a cloud service by the cloud service name.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Set the Classic value as the Type parameter value. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureCloudService cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
The array on names of cloud services.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Subscription**
Specifies the subscription. The cmdlet will return cloud services associated with this subscription.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureCloudService [-Name <String[]>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRAzureComputeBackup
-------------------------

### Synopsis
Returns Azure backups.

---

### Description

This cmdlet returns an array of Azure backups.

---

### Examples
> Getting Azure Backups

```PowerShell
Get-VBRAzureComputeBackup
This command returns an array of Azure backups.
```

---

### Parameters
#### **Name**
Specifies an array of names for Azure backups. The cmdlet will return Azure backups with the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureComputeBackup [-Name <String[]>] [<CommonParameters>]
```

Get-VBRAzureLinuxRestoreAppliance
---------------------------------

### Synopsis
Returns helper appliances for restoring Linux VMs to Microsoft Azure.

---

### Description

This cmdlet returns helper appliances for restoring Linux VMs to Microsoft Azure.
NOTE: This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).

---

### Examples
> Example 1

```PowerShell
Get-VBRAzureLinuxRestoreAppliance
This command returns all helper appliances that will be used to restore Linux VMs.
```
> Example 2

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
Get-VBRAzureLinuxRestoreAppliance -Account $account | Select-Object -First 1
This example shows how to get a helper appliance for the RestoreToAzureRM@Veeam.com Microsoft Azure account.
Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Type and Name parameter values. Save the result to the $account variable.
2. Run the Get-VBRAzureLinuxRestoreAppliance cmdlet. Set the $account variable as the Account parameter value.
3. Pipe the cmdlet output to the Select-Object cmdlet. Specify the First parameter value.

---

### Parameters
#### **Account**
Specifies the Microsoft Azure account.
The cmdlet will return helper appliances associated with this account.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRAzureAccount]`|false   |named   |False        |

#### **Id**
Specifies an array of IDs.
The cmdlet will return helper appliances with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Location**
Specifies the Microsoft Azure account.
The cmdlet will return helper appliances associated with this account.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAzureLocation]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureLinuxRestoreAppliance [-Account <VBRAzureAccount>] [-Location <VBRAzureLocation>] [<CommonParameters>]
```
```PowerShell
Get-VBRAzureLinuxRestoreAppliance [-Id <Guid[]>] [-Location <VBRAzureLocation>] [<CommonParameters>]
```

Get-VBRAzureLocation
--------------------

### Synopsis
Returns geographic locations of Microsoft Azure datacenters available for a subscription.

---

### Description

This cmdlet returns geographic locations of Microsoft Azure datacenters available for a selected subscription.
NOTE: This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureLocation -Subscription $subscription
This example shows how to get all locations associated with a subscription.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable as the Subscription parameter value.
> Example 2

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureLocation -Subscription $subscription -Name "australiaeast"
This example shows how to get a location by the location name.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the array of names.
The cmdlet will return locations that match the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Subscription**
Specifies the subscription.
The cmdlet will return locations available for this subscription.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureLocation [-Name <String[]>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRAzureNetworkSecurityGroup
--------------------------------

### Synopsis
Returns Microsoft Azure security groups.

---

### Description

This cmdlet returns Microsoft Azure security groups.
NOTE: This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).

---

### Related Links
* [Get-VBRAzureAccount](Get-VBRAzureAccount.md)

* [Get-VBRAzureSubscription](Get-VBRAzureSubscription.md)

---

### Examples
> Example 1. Getting All Microsoft Azure Security Groups

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account
Get-VBRAzureNetworkSecurityGroup -Subscription $subscription
This example shows how to get all security groups that are available in Microsoft Azure.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Type and Name parameter values. Save the result to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Save the result to the $subscription variable.
3. Run the Get-VBRAzureNetworkSecurityGroup cmdlet. Set the $subscription variable as the Subscription parameter value.
> Example 2. Getting Microsoft Azure Security Groups by ID

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account
Get-VBRAzureNetworkSecurityGroup -Subscription $subscription -ID "374e0811-161e-4878-bc05-2ecba95fe4bd"
This example shows how to get the 374e0811-161e-4878-bc05-2ecba95fe4bd Microsoft Azure security group.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Type and Name parameter values. Save the result to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Save the result to the $subscription variable.
3. Run the Get-VBRAzureNetworkSecurityGroup cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the ID parameter value.
> Example 3. Getting Microsoft Azure Security Groups by Name

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account
Get-VBRAzureNetworkSecurityGroup -Subscription $subscription -Name "Security Group 2000"
This example shows how to get the Security Group 2000 Microsoft Azure security group.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Type and Name parameter values. Save the result to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Save the result to the $subscription variable.
3. Run the Get-VBRAzureNetworkSecurityGroup cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value.

---

### Parameters
#### **Id**
Specifies Microsoft Azure security groups ID.
The cmdlet will return security groups with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Location**
Specifies a geographical location of the network security group.
Accepts the VBRAzureLocation object. To get this object, run the Get-VBRAzureLocation cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAzureLocation]`|false   |named   |False        |

#### **Name**
Specifies an array of Microsoft Azure security groups names.
The cmdlet will return security groups with the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Subscription**
Specifies subscriptions associated with a Microsoft Azure account.
Accepts the VBRAzureSubscription object.
To create this object, run the Get-VBRAzureSubscription cmdlet.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureNetworkSecurityGroup [-Id <String>] [-Location <VBRAzureLocation>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```
```PowerShell
Get-VBRAzureNetworkSecurityGroup [-Location <VBRAzureLocation>] [-Name <String[]>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRAzureResourceGroup
-------------------------

### Synopsis
Returns Microsoft Azure resource groups available for a subscription.

---

### Description

This cmdlet returns resource groups available for a selected subscription.

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureResourceGroup -Subscription $subscription
This example shows how to get all resource groups associated with a subscription.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureResourceGroup cmdlet. Set the $subscription variable as the Subscription parameter value.
> Example 2

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureResourceGroup -Subscription $subscription -Name "VeeamResourceGroup"
This example shows how to get a resource group by the resource group name.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureResourceGroup cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value.

---

### Parameters
#### **Location**
Specifies geographical locations of Microsoft Azure datacenters available for a resource group.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAzureLocation]`|false   |named   |False        |

#### **Name**
Specifies the array of names.
The cmdlet will return resource groups that match the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Subscription**
Specifies the subscription.
The cmdlet will return resource groups associated with this subscription.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureResourceGroup [-Location <VBRAzureLocation>] [-Name <String[]>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRAzureRestoreSession
--------------------------

### Synopsis
Returns VM backup restore to Microsoft Azure sessions.

---

### Description

This cmdlet returns restore to Microsoft Azure sessions.
You can look for a session to check its status or to pass it to the Stop-VBRVMRestoreToAzure cmdlet to stop the running session.

---

### Examples
> Example 1

```PowerShell
Get-VBRAzureRestoreSession
This command gets all restore to Azure sessions that have been run on this Veeam backup server.
```
> Example 2

$session = Get-VBRAzureRestoreSession | Sort-Object CreationTime -Descending | Select -First 1
This example shows how to get a restore session and check its status.

Perform the following steps:
1. Run the Get-VBRAzureRestoreSession cmdlet.
2. Pipe the cmdlet output to the Sort-Object cmdlet. Specify the CreationTime parameter.
3. Pipe the cmdlet output to the Select cmdlet. Specify the First parameter.

---

### Parameters
#### **Id**
Specifies the ID of the Microsoft Azure session you want to get.

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|false   |named   |True (ByPropertyName)|

#### **Session**
Specifies the restore to Microsoft Azure session you want to get.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRAzureRestoreSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureRestoreSession

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureRestoreSession [-Id <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRAzureRestoreSession [-Session <VBRAzureRestoreSession>] [<CommonParameters>]
```

Get-VBRAzureStorageAccount
--------------------------

### Synopsis
Returns Microsoft Azure storage accounts available for a subscription.

---

### Description

This cmdlet returns storage accounts available for a Microsoft Azure subscription.

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureStorageAccount -Subscription $subscription
This example shows how to get all storage accounts associated with a subscription.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureStorageAccount cmdlet. Set the $subscription variable as the Subscription parameter value.
> Example 2

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureStorageAccount -Subscription $subscription -Name "VeeamDirectRestore2AzureStorage"
This example shows how to get a storage account by the storage account name.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureStorageAccount cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the array of names.
The cmdlet will return storage accounts that match the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Subscription**
Specifies the subscription.
The cmdlet will return storage accounts associated with this subscription.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRAzureSubscription]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureStorageAccount [-Name <String[]>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRAzureSubscription
------------------------

### Synopsis
Returns subscriptions associated with a Microsoft Azure account.

---

### Description

This cmdlet returns subscriptions associated with a selected Microsoft Azure account.

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
Get-VBRAzureSubscription -Account $account
This example shows how to get all subscriptions associated with an account.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Set the ResourceManager value as the Type parameter value. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value.
> Example 2

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
This example shows how to get a subscription by the subscription name.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Set the ResourceManager value as the Type parameter value. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
> Example 3

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
Get-VBRAzureSubscription -Account $account | Where-Object Id -eq "f482cd54-454d-419f-9ec2-f388796091f9"
This example shows how to get a subscription by the subscription ID.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Set the ResourceManager value as the Type parameter value. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Pass the result to the Where-Object cmdlet to select the subscriptions with the Id property that equals f482cd54-454d-419f-9ec2-f388796091f9.

---

### Parameters
#### **Account**
Specifies the account. The cmdlet will return subscriptions associated with this account.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRAzureAccount]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the array of IDs of the subscriptions you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the array of names of the subscriptions you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureAccount

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureSubscription -Account <VBRAzureAccount> [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRAzureSubscription -Account <VBRAzureAccount> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRAzureVirtualNetwork
--------------------------

### Synopsis
Returns Microsoft Azure virtual networks available for a subscription.

---

### Description

This cmdlet returns virtual networks available for a Microsoft Azure subscription.
NOTE: This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureVirtualNetwork -Subscription $subscription
This example shows how to get all virtual networks associated with a subscription.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureVirtualNetwork cmdlet. Set the $subscription variable as the Subscription parameter value.
> Example 2

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
Get-VBRAzureVirtualNetwork -Subscription $subscription -Name "VeeamInternalNetwork"
This example shows how to get a virtual network by the virtual network name.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureVirtualNetwork cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value.

---

### Parameters
#### **Location**
Specifies geographical locations of Microsoft Azure datacenters available for the virtual network.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAzureLocation]`|false   |named   |False        |

#### **Name**
Specifies the array of names.
The cmdlet will return virtual networks that match the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Subscription**
Specifies the subscription.
The cmdlet will return virtual networks associated with this subscription.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureVirtualNetwork [-Location <VBRAzureLocation>] [-Name <String[]>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRAzureVirtualNetworkSubnet
--------------------------------

### Synopsis
Returns Microsoft Azure virtual network subnets available for a subscription.

---

### Description

This cmdlet returns virtual network subnets available for a Microsoft Azure subscription.
NOTE: This cmdlet does not support Microsoft Azure accounts with the Azure Service Manager type of a subscription (ASM, also known as a "classic" type subscription).

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
$network = Get-VBRAzureVirtualNetwork -Subscription $subscription -Name "VeeamInternalNetwork"
Get-VBRAzureVirtualNetworkSubnet -Network $network
This example shows how to get all virtual network subnets associated with a subscription.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureVirtualNetwork cmdlet. Set the $subscription variable as the Subscription parameter value. Save it to the $network variable.
4. Run the Get-VBRAzureVirtualNetworkSubnet cmdlet. Set the $network variable as the Network parameter value.
> Example 2

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
$network = Get-VBRAzureVirtualNetwork -Subscription $subscription -Name "VeeamInternalNetwork"
Get-VBRAzureVirtualNetworkSubnet -Network $network -Name "VeeamInternalSubnet"
This example shows how to get a virtual network subnet by the subnet name.

1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureVirtualNetwork cmdlet. Set the $subscription variable as the Subscription parameter value. Save it to the $network variable.
4. Run the Get-VBRAzureVirtualNetworkSubnet cmdlet. Set the $network variable as the Network parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the array of names.
The cmdlet will return virtual networks that match the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Network**
Specifies the virtual network.
The cmdlet will return subnets of this virtual network.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRAzureVirtualNetwork]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureVirtualNetwork

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureVirtualNetworkSubnet [-Name <String[]>] -Network <VBRAzureVirtualNetwork> [<CommonParameters>]
```

Get-VBRAzureVM
--------------

### Synopsis
Returns Azure VMs.

---

### Description

This cmdlet returns Azure VMs.

---

### Related Links
* [Get-VBRAzureAccount](Get-VBRAzureAccount.md)

* [Get-VBRAzureSubscription](Get-VBRAzureSubscription.md)

* [Get-VBRAzureLocation](Get-VBRAzureLocation.md)

---

### Examples
> Getting Azure VMs

$account = Get-VBRAzureAccount -Type ResourceManager -Name "AzureRM@tech.com"
$subscription = Get-VBRAzureSubscription -Account $account
$location = Get-VBRAzureLocation -Subscription $subscription
$VMs = Get-VBRAzureVM -Subscription $subscription -Location $location
This example shows how to get Azure VMs.
Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Type and the Name parameter values. Save the result to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Save the result to the $subscription variable.
3. Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable as the Subscription parameter value. Save the result to the $location variable.
4. Run the Get-VBRAzureVM cmdlet. Set the $subscription variable as the Subscription parameter value. Set the $location variable as the Location parameter value. Save the result to the $VMs variable.

---

### Parameters
#### **Location**
Specifies Microsoft Azure region.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAzureLocation]`|true    |named   |False        |

#### **Subscription**
Specifies subscriptions associated with a Microsoft Azure account.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRAzureSubscription]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureVM -Location <VBRAzureLocation> -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRAzureVMSize
------------------

### Synopsis
Returns Microsoft Azure VM configuration options available for a subscription.

---

### Description

This cmdlet returns VM configuration options available for a for a Microsoft Azure subscription.

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
$location = Get-VBRAzureLocation -Subscription $subscription -Name "australiaeast"
Get-VBRAzureVMSize -Subscription $subscription -Location $location
This example shows how to get all VM configuration options available for a subscription.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value. Save it to the $location variable.
4. Run the Get-VBRAzureVMSize cmdlet. Set the $subscription variable as the Subscription parameter value. Set the $location variable as the Location parameter value.
> Example 2

$account = Get-VBRAzureAccount -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
$location = Get-VBRAzureLocation -Subscription $subscription -Name "australiaeast"
Get-VBRAzureVMSize -Subscription $subscription -Location $location -Name "Standard_G3"
This example shows how to get a VM configuration by the VM configuration name.

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value. Save it to the $location variable.
4. Run the Get-VBRAzureVMSize cmdlet. Set the $subscription variable as the Subscription parameter value. Set the $location variable as the Location parameter value. Specify the Name parameter value.

---

### Parameters
#### **Location**
Specifies the geographic location of the data center.

|Type                |Required|Position|PipelineInput        |
|--------------------|--------|--------|---------------------|
|`[VBRAzureLocation]`|true    |named   |True (ByPropertyName)|

#### **Name**
Specifies the array of names.
The cmdlet will return VM configuration options that match the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Subscription**
Specifies the subscription.
The cmdlet will return VM configuration options associated with this subscription.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

Veeam.Backup.PowerShell.Infos.VBRAzureLocation

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRAzureVMSize -Location <VBRAzureLocation> [-Name <String[]>] -Subscription <VBRAzureSubscription> [<CommonParameters>]
```

Get-VBRBackup
-------------

### Synopsis
Returns backups.

---

### Description

This cmdlet returns backups created with Veeam Backup & Replication.
NOTE: The backups contain all restore points for all machines that are processed by the job.

---

### Examples
> Example 1. Getting all Backups

Get-VBRBackup
This command returns all backups created with Veeam Backup & Replication.
> Example 2. Getting Backups by ID

```PowerShell
Get-VBRBackup -Id d6b08a78-f405-400a-bb02-a132cf1778fa
This command returns the d6b08a78-f405-400a-bb02-a132cf1778fa backup.
```
> Example 3. Getting Backups by Name

```PowerShell
Get-VBRBackup -Name "vCloud Webservices Backup", "Exchange Backup_imported"
This command returns the vCloud Webservices Backup and Exchange Backup_imported backups.
```
> Example 4. Getting VeeamZIP Backups

```PowerShell
Get-VBRBackup -VeeamZIP
This command returns the VeeamZIP backups.
```

---

### Parameters
#### **Id**
Specifies an array of the backup IDs. The cmdlet will return backups with these IDs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName)|

#### **Name**
Specifies an array of the job name. The cmdlet will return backups produced with these jobs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **VeeamZIP**
Defines that the cmdlet will return VeeamZIP backups.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackup -Id <Guid[]> [-VeeamZIP] [<CommonParameters>]
```
```PowerShell
Get-VBRBackup [-Name <String[]>] [-VeeamZIP] [<CommonParameters>]
```

Get-VBRBackupCopyJob
--------------------

### Synopsis
Returns backup copy jobs.

---

### Description

This cmdlet returns backup copy jobs.

---

### Examples
> Example 1. Getting All Backup Copy Jobs

```PowerShell
Get-VBRBackupCopyJob
This command returns all backup copy jobs.
```
> Example 2. Getting Backup Copy Job by Name

```PowerShell
Get-VBRBackupCopyJob -Name "Copy Job05"
This command returns the Copy Job05 backup copy job.
```
> Example 3. Getting Backup Copy Job by ID

```PowerShell
Get-VBRBackupCopyJob -Id "c4bb4625-7158-43d7-ab63-beaee75d2cff"
This command returns the c4bb4625-7158-43d7-ab63-beaee75d2cff backup copy job.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for backup copy jobs. The cmdlet will return jobs with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies an array of names for backup copy jobs. The cmdlet will return jobs with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupCopyJob [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRBackupCopyJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRBackupFile
-----------------

### Synopsis
Returns backup files.

---

### Description

This cmdlet returns backup files. You can use this cmdlet to get backup files from an object storage and to move them to the object storage.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Example 1. Getting all Backup Files from Specified Backup

$backup = Get-VBRBackup -Name "Exchange backups"
Get-VBRBackupFile -Backup $backup
This example shows how to get all backup files from the specified backup.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRBackupFile cmdlet. Set the $backup variable as the Backup parameter value.
> Example 2. Getting all Incremental Backup Files from Specified Backup

$backup = Get-VBRBackup -Name "Exchange backups"
Get-VBRBackupFile -Backup $backup -Path "C:\Users\Administrator\Downloads\.vib"
This example shows how to get all incremental backup files from the specified backup.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRBackupFile cmdlet. Set the $backup variable as the Backup parameter value. Specify the Path parameter value.

---

### Parameters
#### **Backup**
Specifies the backup. The cmdlet will return an array of backup files for this backup.

|Type       |Required|Position|PipelineInput |
|-----------|--------|--------|--------------|
|`[CBackup]`|true    |named   |True (ByValue)|

#### **Id**
Specifies an ID of a backup file. The cmdlet will return the backup file with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Path**
Specifies a relative path to the folder with backup files.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupFile -Backup <CBackup> [-Path <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRBackupFile -Id <Guid[]> [<CommonParameters>]
```

Get-VBRBackupObject
-------------------

### Synopsis
Returns backups or replicas of machines.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns backups or replicas of machines. You can scan these backups with antivirus or YARA scan.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Getting Backups of Machines

$backup = Get-VBRBackup
$vmbackup = Get-VBRBackupObject -Backup $backup
This example shows how to get backups of machines.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Save the result to the $backup variable. 2. Run the Get-VBRBackupObject cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $vmbackup variable.

---

### Parameters
#### **Backup**
Specifies a backup or replica object with protected machines.

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[CBackup]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupObject -Backup <CBackup> [<CommonParameters>]
```

Get-VBRBackupRepository
-----------------------

### Synopsis
Returns a list of backup repositories.

---

### Description

This cmdlet returns a list of backup repositories added to the backup infrastructure.
You can get a list of all backup repositories, get scale-out backup repositories or look for repositories directly by name.
IMPORTANT! To get information on object storage repositories, run the Get-VBRObjectStorageRepository cmdlet.

---

### Examples
> Example 1. Getting Standalone Backup Repositories

```PowerShell
Get-VBRBackupRepository
This command gets all standalone backup repositories added to the backup infrastructure.
```
> Example 2. Getting Scale-Out Backup Repositories

```PowerShell
Get-VBRBackupRepository -ScaleOut
This command gets scale-out backup repositories added to the backup infrastructure.
```
> Example 3. Getting Standalone Backup Repositories by Name

```PowerShell
Get-VBRBackupRepository -Name "Backups Vol2", "Local*"
This command gets the Backups Vol12 and Local standalone backup repositories.
```
> Example 4. Getting Scale-Out Backup Repository by Name

```PowerShell
Get-VBRBackupRepository -ScaleOut -Name "Veeam Performance Scale-Out Repository"
This command gets scale-out backup repository named  Veeam Performance Scale-Out Repository.
```

---

### Parameters
#### **Name**
Specifies an array of backup repositories names. The cmdlet will return repositories with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **ScaleOut**
Defines that the cmdlet will return only scale-out backup repositories.
Note: You must provide this parameter to get scale-out backup repositories.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupRepository [-Name <String[]>] [-ScaleOut] [<CommonParameters>]
```

Get-VBRBackupServerCertificate
------------------------------

### Synopsis
Returns TLS certificates.

---

### Description

This cmdlet returns the TLS certificates.

---

### Examples
> Example 1. Getting TLS Certificates from Microsoft Windows Certificate Store

```PowerShell
Get-VBRBackupServerCertificate -FromStore | Where FriendlyName -eq "ABC"
This command gets a TLS certificate from the Microsoft Windows Certificate store.
```
> Example 2. Getting Currently Imported TLS Certificates

```PowerShell
Get-VBRBackupServerCertificate
This command returns the TLS  certificate that is currently imported to the backup server.
```

---

### Parameters
#### **FromStore**
Defines that the cmdlet will return the TLS certificate present in the local certificate store on this server.
If you run the cmdlet without this parameter, it will return the certificate that is currently used.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupServerCertificate -FromStore [<CommonParameters>]
```

Get-VBRBackupServerDeployerCertificate
--------------------------------------

### Synopsis
Exports Veeam Deployer Service certificates to the specified location for Linux machines.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet exports Veeam Deployer Service certificates to the specified location for Linux machines.

---

### Examples
> Uploading Veeam Deployer Service Certificate to Certain Folder

```PowerShell
Get-VBRBackupServerDeployerCertificate -ExportPath C:\Users\Administrator\Documents
This command uploads Veeam Deployer Service certificate to the "C:\Users\Administrator\Documents" folder.
```

---

### Parameters
#### **ExportPath**
Specifies a path to a location. The cmdlet will upload Veeam Deployer Service certificates to this location.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupServerDeployerCertificate -ExportPath <String> [<CommonParameters>]
```

Get-VBRBackupServerInfo
-----------------------

### Synopsis
Returns the backup server information.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns the following information on the backup server:
- Name - the IP or name of the backup server.
- Build - the build version of you Veeam Backup & Replication installation.
- PatchLevel - patch details.

---

### Examples
> Getting Information on Backups Server

```PowerShell
Get-VBRBackupServerInfo
This command returns the IP address, current build version and patch details of the backup server.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupServerInfo [<CommonParameters>]
```

Get-VBRBackupSession
--------------------

### Synopsis
Returns jobs sessions.

---

### Description

This cmdlet returns jobs sessions.
You can get the sessions for the following jobs:
- Backup jobs
- Replication jobs
- Backup copy jobs
- File backup jobs jobs
- File backup jobs copy jobs
Run the Get-VSBTaskSession cmdlet to get the SureBackup jobs sessions.
Run the Get-VBRSession cmdlet to get the tape jobs sessions.
Run the Get-VBRTaskSession cmdlet to get the tasks performed during specific sessions.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Getting All Backup Sessions

```PowerShell
Get-VBRBackupSession
This command returns the list of all backup sessions.
```
> Example 2. Getting Backup Session by Name

```PowerShell
Get-VBRBackupSession -Name "Backup Copy (Incremental)"
This command returns all Backup Copy sessions with incremental backups.
```
> Example 3. Getting Latest Backup Session for Backup Job

$job = Get-VBRJob -Name "ABC Job"
Get-VBRBackupSession | Where {$_.jobId -eq $job.Id.Guid} | Sort EndTimeUTC -Descending | Select -First 1
This example shows how to return the latest backup session for the backup job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRBackupSession cmdlet. Use the Where-Object method to get all backup sessions for the backup job in the $job variable. Use the Sort-Object method to get the latest backup session.
> Example 4. Getting Latest Stopped Backup Session

```PowerShell
Get-VBRBackupSession | Sort {$_.state -eq "Stopped"} -Descending | Select -First 1
This command returns the latest stopped backup session.
```

---

### Parameters
#### **Id**
Specifies the array of backup session IDs. The cmdlet will return the sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specify the array of backup session names, followed by the backup type (Incremental, Full, Synthetic Full).
The cmdlet will return the sessions with these names and the specified backup type.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRBackupSession [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRBackupSession [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCapacityExtent
---------------------

### Synopsis
Returns the capacity extents.

---

### Description

This cmdlet returns the capacity extent of scale-out backup repositories. The capacity extent is an object storage repository that is added to the scale-out backup repository and constitutes a capacity tier.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Getting Capacity Extents Added to Scale-Out Backup Repository

$repository = Get-VBRBackupRepository -ScaleOut
Get-VBRCapacityExtent -Repository $repository
This example shows how to get the capacity extents added to the scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter. Save the result to the $repository variable.
2. Run the Get-VBRCapacityExtent cmdlet. Set the $repository variable as the Repository parameter value.

---

### Parameters
#### **Repository**
Specifies an array of scale-out backup repositories. The cmdlet will return the capacity extent added to this repository.

|Type                             |Required|Position|PipelineInput                 |
|---------------------------------|--------|--------|------------------------------|
|`[VBRScaleOutBackupRepository[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRScaleOutBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCapacityExtent -Repository <VBRScaleOutBackupRepository[]> [<CommonParameters>]
```

Get-VBRCapacityLicenseSummary
-----------------------------

### Synopsis
Returns details on capacity of licenses installed on a backup server.

---

### Description

This cmdlet returns details on capacity of licenses installed on a backup server.

---

### Related Links
* [Get-VBRInstalledLicense](Get-VBRInstalledLicense.md)

---

### Examples
> Example 1

$lic = Get-VBRInstalledLicense
Get-VBRCapacityLicenseSummary -License $lic
LicensedCapacityTb UsedCapacityTb Object Workload
------------------ -------------- ------ --------
                 0              0 {}     {}
This example shows how to get details on capacity of licenses installed on a backup server.

Perform the following steps:

1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $lic variable.   2. Run the Get-VBRCapacityLicenseSummary cmdlet. Set the $lic variable as the License parameter value.     The cmdlet output will contain the following details on the license capacity: LicensedCapacityTb, UsedCapacityTb, Object, Workload.

---

### Parameters
#### **License**
Specifies a license installed on a backup server. The cmdlet will return details on capacity of this license. Accepts the VBRInstalledLicense object. To get this object, run the Get-VBRInstalledLicense cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRInstalledLicense]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCapacityLicenseSummary -License <VBRInstalledLicense> [<CommonParameters>]
```

Get-VBRCapacityTierSyncInterval
-------------------------------

### Synopsis
Returns a time period of checkpoints in capacity tier that are available for synchronization.

---

### Description

This cmdlet returns a time period of checkpoints in capacity tier that are available for synchronization.
You may want to run this cmdlet before you synchronize the state of the backup chains on performance tier with the state of the backup chains on capacity tier for the specific period of time.
Run the Sync-VBRSOBREntityState cmdlet to synchronize the state of the backup chains.
IMPORTANT! Use this cmdlet only with object storage that support the immutability option.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Example 1. Getting Time Period for all Checkpoints Available on Capacity Tier

$repository = Get-VBRBackupRepository -ScaleOut
Get-VBRCapacityTierSyncInterval -Repository $repository

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period with contains checkpoints on capacity tier that are available for synchronization.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRCapacityTierSyncInterval cmdlet. Set the $repository variable as the Repository parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.
> Example 2. Getting Time Period of Checkpoints for Specific Job

$repository = Get-VBRBackupRepository -ScaleOut
$job = Get-VBRJob -Name "BackupJob05"
Get-VBRCapacityTierSyncInterval -Repository $repository -Job $job

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period that contains checkpoints on capacity tier that you can synchronize for the Backup05 job.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
3. Run the Get-VBRCapacityTierSyncInterval cmdlet. Set the $repository variable as the Repository parameter value. Set the $job variable as the Job parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.
> Example 3. Getting Time Period of Checkpoints for Specific Backup

$repository = Get-VBRBackupRepository -ScaleOut
$backup = Get-VBRBackup -Name "Report05"
Get-VBRCapacityTierSyncInterval -Repository $repository -Backup $backup

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period that contains details on checkpoints on capacity tier that you can synchronize for the Report05 backup.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Provide the ScaleOut parameter value. Save the result to the $repository variable.
2. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
3. Run the Get-VBRCapacityTierSyncInterval cmdlet. Set the $repository variable as the Repository parameter value. Set the $backup variable as the Backup parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.

---

### Parameters
#### **Backup**
Specifies a backup. The cmdlet will return a time period that contains checkpoints on the capacity tier for this backup.

|Type       |Required|Position|PipelineInput        |
|-----------|--------|--------|---------------------|
|`[CBackup]`|true    |named   |True (ByPropertyName)|

#### **Job**
Specifies a job. The cmdlet will return a time period that contains checkpoints on the capacity tier for this job.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[VBRJob]`|true    |named   |True (ByPropertyName)|

#### **Repository**
Specifies a scale-out backup repository. The cmdlet will return a time period that contains checkpoints that were moved from this scale-out backup repository but are still available on the capacity tier.

|Type                           |Required|Position|PipelineInput                 |Aliases|
|-------------------------------|--------|--------|------------------------------|-------|
|`[VBRScaleOutBackupRepository]`|true    |named   |True (ByPropertyName, ByValue)|SOBR   |

#### **TenantBackupId**
Specifies an ID of the cloud tenant backup. The cmdlet will return a time period that contains checkpoints on the capacity tier for this backup.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **TenantId**
Specifies an ID of the cloud tenant. The cmdlet will return a time period that contains checkpoints on the capacity tier created by this tenant.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRScaleOutBackupRepository

Veeam.Backup.PowerShell.Infos.VBRJob

Veeam.Backup.Core.CBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCapacityTierSyncInterval -Backup <CBackup> -Repository <VBRScaleOutBackupRepository> [<CommonParameters>]
```
```PowerShell
Get-VBRCapacityTierSyncInterval -Job <VBRJob> -Repository <VBRScaleOutBackupRepository> [<CommonParameters>]
```
```PowerShell
Get-VBRCapacityTierSyncInterval -Repository <VBRScaleOutBackupRepository> -TenantBackupId <Guid> [<CommonParameters>]
```
```PowerShell
Get-VBRCapacityTierSyncInterval -Repository <VBRScaleOutBackupRepository> -TenantId <Guid> [<CommonParameters>]
```

Get-VBRCatalystCopyJob
----------------------

### Synopsis
Returns backup copy jobs for HPE StoreOnce repositories.

---

### Description

This cmdlet returns backup copy jobs for HPE StoreOnce repositories.

---

### Examples
> Example 1. Getting Backup Copy Job for HPE StoreOnce Repository by Name

```PowerShell
Get-VBRCatalystCopyJob -Name "StoreOnce copy job"
This command returns the StoreOnce copy job backup copy job for an HPE StoreOnce repository.
```
> Example 2. Getting Backup Copy Job for HPE StoreOnce Repositories by ID

```PowerShell
Get-VBRCatalystCopyJob -Id "cc20878e-614a-4e28-b00b-d2434bae15d7"
This command returns the cc20878e-614a-4e28-b00b-d2434bae15d7 backup copy job for an HPE StoreOnce repository.
```

---

### Parameters
#### **Id**
Specifies an ID of a backup copy job for HPE StoreOnce repositories. The cmdlet will return the job with this ID.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|false   |named   |False        |

#### **Name**
Specifies an array of names of backup copy jobs for HPE StoreOnce repositories. The cmdlet will return the job with this name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCatalystCopyJob [-Id <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRCatalystCopyJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCDPFilter
----------------

### Synopsis
Returns a list of Veeam I/O filters that are installed on VMware clusters.

---

### Description

This cmdlet returns a list of Veeam I/O filters that are installed on VMware clusters.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Getting I/O Filters Installed on VMware Clusters

$server = Get-VBRServer -Name "vCenterServer"
$cluster = Find-VBRViEntity -Server $server -HostsAndClusters -Name "CDPCluster"
Get-VBRCDPFilter -Cluster $cluster
This example shows how to get I/O filters that are installed on the CDPCluster VMware cluster.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Server, HostsAndClusters and Name parameters. Save the result to the $cluster variable.
3. Run the Get-VBRCDPFilter cmdlet. Set the $cluster variable as the Cluster parameter value.

---

### Parameters
#### **Cluster**
Specifies an array of VMware clusters. The cmdlet will return Veeam I/O filters that are installed on these VMware clusters.
Accepts the  CViClusterItem[] object. To get this object, run the Find-VBRViEntity cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[CViClusterItem[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Infrastructure.CViClusterItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPFilter [-Cluster <CViClusterItem[]>] [<CommonParameters>]
```

Get-VBRCDPLongTermRestorePoint
------------------------------

### Synopsis
Returns a long-term restore point of VM replicas.

---

### Description

This cmdlet returns a long-term restore point of VM replicas.

---

### Related Links
* [Get-VBRCDPReplica](Get-VBRCDPReplica.md)

---

### Examples
> Example 1.  Getting all VMs Protected with CDP LongTerm Restore Points

$replica = Get-VBRCDPReplica -Name "WinK0t"
Get-VBRCDPLongTermRestorePoint -Replica $replica
This command returns all long-term restore points that are available for the WinK0t VM protected with CDP.

Perform the following steps:
1. Run the Get-VBRCDPReplica cmdlet. Specify the Name parameter value. Save the result to the $replica variable.
2. Run the Get-VBRCDPLongTermRestorePoint cmdlet. Set the $replica variable as the Replica parameter.
> Example 2. Getting ApplicationConsistent Restore Points for VM Protected with CDP

$replica = Get-VBRCDPReplica -Name "WinK0t"
Get-VBRCDPLongTermRestorePoint -Replica $replica -ApplicationConsistent
This command returns all application-consistent restore points that are available for the WinK0t VM protected with CDP.

Perform the following steps:
1. Run the Get-VBRCDPReplica cmdlet. Specify the Name parameter value. Save the result to the $replica variable.
2. Run the Get-VBRCDPLongTermRestorePoint cmdlet. Set the $replica variable as the Replica parameter. Provide the ApplicationConsistent parameter.
> Example 3. Getting Last LongTerm Restore Points for VM Protected with CDP

$replica = Get-VBRCDPReplica -Name "WinK0t"
Get-VBRCDPLongTermRestorePoint -Replica $replica -Last
This command returns the last restore point that is available for the WinK0t VM protected with CDP.

Perform the following steps:
1. Run the Get-VBRCDPReplica cmdlet. Specify the Name parameter value. Save the result to the $replica variable.
2. Run the Get-VBRCDPLongTermRestorePoint cmdlet. Set the $replica variable as the Replica parameter. Provide the Last parameter.

---

### Parameters
#### **ApplicationConsistent**
Defines that the cmdlet will return only application-consistent restore points.
If you do not provide this parameter, the cmdet will also return crash-consistent restore points.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Last**
Defines that the cmdlet will return only the last restore point.
If you do not provide this parameter, the cmdet will return all restore points.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Replica**
Specifies a VM protected with CDP which long-term restore points you want to get.
Accepts the VBRCDPReplica object.
To create this object, run the Get-VBRCDPReplica cmdlet.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[VBRCDPReplica]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCDPReplica

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPLongTermRestorePoint [-ApplicationConsistent] [-Last] -Replica <VBRCDPReplica> [<CommonParameters>]
```

Get-VBRCDPPolicy
----------------

### Synopsis
Returns CDP policies including Cloud Director CDP policies, CDP policies, cloud CDP policies and so on.

---

### Description

This cmdlet returns CDP policies including Cloud Director CDP policies, CDP policies, cloud CDP policies and so on.

---

### Examples
> Example 1. Getting CDP Policy by Name

```PowerShell
Get-VBRCDPPolicy -Name "VM079"
This command returns the VM079 CDP policy.
```
> Example 2. Getting CDP Policy by ID

```PowerShell
Get-VBRCDPPolicy -Id "13744fce-e8ea-4b77-9092-26e3f09e6a6e"
This command returns the 13744fce-e8ea-4b77-9092-26e3f09e6a6e CDP policy.
```
> Example 3. Getting all CDP Policies

```PowerShell
Get-VBRCDPPolicy
This command returns all CDP policies that are created on the backup server.
```

---

### Parameters
#### **Id**
Specifies an array of IDs of policies.
The cmdlet will return a list of policies with the specified IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names of policies.
The cmdlet will return a list of policies with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPPolicy [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCDPPolicy [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCDPProxy
---------------

### Synopsis
Returns VMware CDP proxies added to the backup infrastructure.

---

### Description

This cmdlet returns VMware CDP proxies added to the backup infrastructure.

---

### Examples
> Example 1. Getting VMware CDP Proxy by Name

```PowerShell
Get-VBRCDPProxy -Name "Proxy05"
This command returns the Proxy05 VMware CDP Proxy.
```
> Example 2. Getting VMware CDP Proxy by ID

```PowerShell
Get-VBRCDPProxy -Id "d602b38b-fab6-4c4e-8066-a1bf16affa76"
This command returns the d602b38b-fab6-4c4e-8066-a1bf16affa76 VMware CDP Proxy.
```

---

### Parameters
#### **Id**
Specifies an array of Ids for VMware CDP proxies.
The cmdlet will return a list of proxies with these names IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for VMware CDP proxies. The cmdlet will return a list of proxies with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPProxy [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCDPProxy [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCDPReplica
-----------------

### Synopsis
Returns CDP replicas created by CDP policies including Cloud Director CDP policies, CDP policies, cloud CDP policies and so on.

---

### Description

This cmdlet returns CDP replicas created by CDP policies including Cloud Director CDP policies, CDP policies, cloud CDP policies and so on.

---

### Examples
> Example 1. Getting VM Protected with CDP by Name

```PowerShell
Get-VBRCDPReplica -Name "Win07"
This command returns the Win07 VM protected with CDP.
```
> Example 2. Getting VM Protected with CDP by ID

```PowerShell
Get-VBRCDPReplica -Id "13744fce-e8ea-4b77-9092-26e3f09e6a6e"
This command returns the 13744fce-e8ea-4b77-9092-26e3f09e6a6e VM protected with CDP.
```
> Example 3. Getting all VMs Protected with CDP Available in Backup Infrastructure

```PowerShell
Get-VBRCDPReplica
This command returns all VMs protected with CDP that are available in the backup Infrastructure
```

---

### Parameters
#### **Id**
Specifies an array of IDs of workloads protected by CDP.
The cmdlet will return a list of replicas of the workloads with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names of workloads protected by CDP.
The cmdlet will return a list of replicas of the workloads with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Type**
Specifies which type of replicas to get:
* Local: use this option to get local CDP and Cloud Director CDP replicas. The cmdlet will return replicas created not using Cloud Connect.
* Tenant: use this option to get CDP replicas available on the tenant side. The cmdlet will return replicas created using Cloud Connect.
* Cloud: use this option to get CDP replicas available on the Service Provider side. The cmdlet will return replicas created using Cloud Connect during the CDP to VMware scenario.
* Cloudvcd: use this option to get CDP replicas available on the Service Provider side. The cmdlet will return replicas created using Cloud Connect during the CDP to VMware Cloud Director scenario.
Valid Values:

* Local
* Cloud
* Tenant
* CloudvCD

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRReplicaType]`|false   |named   |False        |

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPReplica [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCDPReplica [-Name <String[]>] [-Type {Local | Cloud | Tenant | CloudvCD}] [<CommonParameters>]
```

Get-VBRCDPSession
-----------------

### Synopsis
Returns CDP policy session.

---

### Description

This cmdlet returns returns CDP policy session.

---

### Related Links
* [Get-VBRCDPPolicy](Get-VBRCDPPolicy.md)

* [Get-VBRSession](Get-VBRSession.md)

---

### Examples
> Example 1. Getting Session for Specified CDP Policy

$policy = Get-VBRCDPPolicy -Name "VM079"
Get-VBRCDPSession -Policy $policy
This example shows how to get the session for the VM079 CDP policy.
Perform the following steps:
1. Run the Get-VBRCDPPolicy cmdlet. Specify the Name parameter value. Save the result to the $policy variable.
2. Run the Get-VBRCDPSession cmdlet. Set the $policy variable as the Policy parameter value.
> Example 2. Getting CDP Policy Session with Specific ID

```PowerShell
Get-VBRCDPSession -Id "8a3eec9a-1ff0-4594-a454-522c410f76ab"
This command returns the 8a3eec9a-1ff0-4594-a454-522c410f76ab CDP policy session.
```
> Example 3. Getting CDP Policy Session with Specific Result

$policy = Get-VBRCDPPolicy -Name "VM079"
Get-VBRCDPSession -Policy $policy -Result Failed
This example shows how to get a CDP policy session with the Failed result.
Perform the following steps:
1. Run the Get-VBRCDPPolicy cmdlet. Specify the Name parameter value. Save the result to the $policy variable.
2. Run the Get-VBRCDPSession cmdlet. Set the $policy variable as the Policy parameter value. Set the Failed option for the Result parameter.
> Example 4. Getting CDP Policy Session with Specific State

$policy = Get-VBRCDPPolicy -Name "VM079"
Get-VBRCDPSession -Policy $policy -State Pending
This example shows how get a CDP policy session with the Pending state.
Perform the following steps:
1. Run the Get-VBRCDPPolicy cmdlet. Specify the Name parameter value. Save the result to the $policy variable.
2. Run the Get-VBRCDPSession cmdlet. Set the $policy variable as the Policy parameter value. Set the Pending option for the State parameter.

---

### Parameters
#### **Id**
Specifies the ID of the session. The cmdlet will return the session with this ID.

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|true    |named   |True (ByPropertyName)|

#### **Last**
Defines that the command returns the last session of the specified CDP policy.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Policy**
Specifies the CDP policy for which you want to get sessions.

|Type                |Required|Position|PipelineInput        |
|--------------------|--------|--------|---------------------|
|`[VBRCDPPolicyBase]`|true    |named   |True (ByPropertyName)|

#### **Result**
Specifies the session result.
The cmdlet will return sessions with the on of the following results:
* None
* Success
* Warning
* Failed
Valid Values:

* None
* Success
* Warning
* Failed

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRSessionResult]`|false   |named   |False        |

#### **Session**
Specifies the CDP policy session for which you want to get an updated state.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBRSession]`|true    |named   |True (ByPropertyName, ByValue)|

#### **State**
Specifies the session state. The cmdlet will return sessions with the specified state.
Valid Values:

* Stopped
* Starting
* Stopping
* Working
* Pausing
* Resuming
* WaitingTape
* Idle
* Postprocessing
* WaitingRepository
* Pending
* WaitingSlot
* ActionRequired

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRSessionState]`|false   |named   |False        |

---

### Inputs
System.Guid

Veeam.Backup.PowerShell.Infos.VBRSession

Veeam.Backup.PowerShell.Infos.VBRCDPPolicyBase

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPSession -Id <Guid> [<CommonParameters>]
```
```PowerShell
Get-VBRCDPSession [-Last] -Policy <VBRCDPPolicyBase> [<CommonParameters>]
```
```PowerShell
Get-VBRCDPSession -Policy <VBRCDPPolicyBase> [-Result {None | Success | Warning | Failed}] [<CommonParameters>]
```
```PowerShell
Get-VBRCDPSession -Policy <VBRCDPPolicyBase> [-State {Stopped | Starting | Stopping | Working | Pausing | Resuming | WaitingTape | Idle | Postprocessing | WaitingRepository 
```
```PowerShell
| Pending | WaitingSlot | ActionRequired}] [<CommonParameters>]
```
```PowerShell
Get-VBRCDPSession -Session <VBRSession> [<CommonParameters>]
```

Get-VBRCDPShortTermRestoreInterval
----------------------------------

### Synopsis
Returns a list of replicated states for VM replicas.

---

### Description

This cmdlet returns a list of the replicated states for VM replicas in the date and time format.
You may want to run this cmdlet to get a list of all replicated states before you perform a failover.
Run the Start-VBRCDPReplicaFailover cmdlet, to perform a failover.

---

### Related Links
* [Get-VBRCDPReplica](Get-VBRCDPReplica.md)

---

### Examples
> Getting Replicated States of VMs Protected with CDP

$replica = Get-VBRCDPReplica -Name "Win07"
Get-VBRCDPShortTermRestoreInterval -Replica $replica
This example shows how to get a list of replicated states that are available for the Win07 VM protected with CDP.

Perform the following steps:
1. Run the Get-VBRCDPReplica cmdlet. Specify the Name parameter value. Save the result to the $replica variable.
2. Run the Get-VBRCDPShortTermRestoreInterval cmdlet. Set the $replica variable as the Replica parameter.

---

### Parameters
#### **Replica**
Specifies a VM protected with CDP.
The cmdlet will return all replicated states that are available for this replica.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRCDPReplica]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPShortTermRestoreInterval -Replica <VBRCDPReplica> [<CommonParameters>]
```

Get-VBRCDPTaskSession
---------------------

### Synopsis
Returns VMs processed during CDP policy sessions.

---

### Description

This cmdlet returns VMs performed during CDP policy sessions.

---

### Related Links
* [Get-VBRCDPPolicy](Get-VBRCDPPolicy.md)

* [Get-VBRCDPSession](Get-VBRCDPSession.md)

---

### Examples
> Example 1. Getting VMs Processed During Specific CDP Policy Session

$policy = Get-VBRCDPPolicy -Name "VM079"
$session Get-VBRCDPSession -Policy $policy -Last
Get-VBRCDPTaskSession -Session $session
This example shows how to get VMs processed during the CDP policy session.
Perform the following steps:
1. Run the Get-VBRCDPPolicy cmdlet. Specify the Name parameter value. Save the result to the $policy variable.
2. Run the Get-VBRCDPSession cmdlet. Set the $policy variable as the Policy parameter value. Provide the Last parameter. Save the result to the $session variable.
3. Run the Get-VBRCDPTaskSession cmdlet. Set the $session variable as the Session parameter value.
> Example 2. Getting VMs Processed During CDP Policy Session by Session ID

```PowerShell
Get-VBRCDPTaskSession -Id "402e082c-4a6d-4a9b-86c8-3330f35e9773"
This command returns the VMs processed during the 402e082c-4a6d-4a9b-86c8-3330f35e9773 CDP policy session.
```
> Example 3. Getting VM Processed During CDP Policy Session by VMs ID

Get-VBRCDPTaskSession -ObjectId "15e56946-b75c-444a-9022-99f15ee0b9a2
This command returns the 15e56946-b75c-444a-9022-99f15ee0b9a2 VM processed during a CDP policy session.
> Example 4. Getting Last VM Processed During CDP Policy Session

```PowerShell
Get-VBRCDPTaskSession -Last
This command returns the last VMs processed during a CDP policy session.
```

---

### Parameters
#### **Id**
Specifies an ID of a session that you want to get.

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|false   |named   |True (ByPropertyName)|

#### **Last**
Defines that the cmdlet will return the last VMs that were processed during a CDP policy session.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ObjectId**
Specifies an ID of VMs that processed during a CDP policy session.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|false   |named   |False        |

#### **ObjectName**
Specifies a name of VMs that processed during a CDP policy session.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Session**
Specifies a CDP policy session that processes VMs. The cmdlt will return these VMs.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[VBRCDPSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid

Veeam.Backup.PowerShell.Infos.VBRCDPSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCDPTaskSession [-Id <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRCDPTaskSession [-Last] -Session <VBRCDPSession> [<CommonParameters>]
```
```PowerShell
Get-VBRCDPTaskSession [-Last] [-ObjectId <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRCDPTaskSession [-Last] [-ObjectName <String>] [<CommonParameters>]
```

Get-VBRChildObject
------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Id**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRChildObject -Id <Guid> [<CommonParameters>]
```

Get-VBRCloudArchiveRestorePoint
-------------------------------

### Synopsis
Returns restore points of tenant backups located in the archive tier.

---

### Description

This cmdlet returns restore points of tenant backups located in the archive tier.
The cloud provider need to run this cmdlet when a tenant wants to restore backups that are stored in the archive extent of the scale-out backup repository. Since the tenant is not able to restore data on his side, he need to contact the cloud provider and specify an Id of the restore point for backups that he wants to restore.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Getting Restore Point of Tenant Backup Stored in Archive Tier

$tenant = Get-VBRCloudTenant -Name "ABC Company"
Get-VBRCloudArchiveRestorePoint -Tenant $tenant -Id "3e57a915-2755-4297-be14-deddb8564ca9"
This example shows how to get the 3e57a915-2755-4297-be14-deddb8564ca9 restore point of the ABC Company tenant.
Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Get-VBRCloudArchiveRestorePoint cmdlet. Set the $tenant variable as the Tenant parameter value. Specify the Id parameter value.

---

### Parameters
#### **Id**
Specifies a restore point ID of tenant backups that you want to restore.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|false   |named   |False        |

#### **Tenant**
Specifies a tenant whose data you want to restore.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRCloudTenant]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudArchiveRestorePoint [-Id <Guid>] -Tenant <VBRCloudTenant> [<CommonParameters>]
```

Get-VBRCloudDatastore
---------------------

### Synopsis
Returns datastores or disk volumes allocated to you under your cloud resources.

---

### Description

This cmdlet returns datastores (for VMware) or volumes (for Hyper-V) in your cloud resources.

---

### Related Links
* [Get-VBRCloudServer](Get-VBRCloudServer.md)

---

### Examples
> Example 1. Getting Cloud Datastore by Name

```PowerShell
Get-VBRCloudDatastore -Name "Cloud Replicas"
This command returns the cloud datastore named "Cloud Replicas".
```
> Example 2. Getting Cloud Datastores of Selected Cloud Server

$cloudServer = Get-VBRCloudServer -Name "Hyper-V Silver"
Get-VBRCloudDatastore -CloudServer $cloudServer
This example shows how to return cloud datastores located on the cloud server named "Hyper-V Silver".

Perform the following steps:
1. Run the Get-VBRCloudServer cmdlet. Specify the Name parameter value. Save the result to the $cloudServer variable.
2. Run the Get-VBRCloudDatastore cmdlet. Set the $cloudServer variable as the CloudServer parameter value.

---

### Parameters
#### **CloudServer**
Specifies the cloud service provider. The cmdlet will return the datastores or volumes provided by this cloud service provider. Accepts the VBRCloudServer[] object.  To get this object, run the Get-VBRCloudServer cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRCloudServer[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the ID of the datastore or volume  you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the name of the datastore or volume you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudDatastore [-CloudServer <VBRCloudServer[]>] [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudDatastore [-Id <Guid[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudGateway
-------------------

### Synopsis
Returns cloud gateways.

---

### Description

This cmdlet returns existing cloud gateways.

---

### Examples
> Example 1. Getting All Cloud Gateways

Get-VBRCloudGateway
This command returns all cloud gateways configured in Veeam Backup & Replication.
> Example 2. Getting Cloud Gateway by Name

Get-VBRCloudGateway -Name "Cloud gateway
This command gets the cloud gateway by name.

---

### Parameters
#### **Id**
Specifies the array of IDs of cloud gateways. Accepts GUID[] or string[].

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of the cloud gateway names you want to get or search conditions.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudGateway [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudGateway [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudGatewayCertificate
------------------------------

### Synopsis
Returns TLS certificates.

---

### Description

This cmdlet returns TLS certificates that are currently used, or the TLS certificate saved to your certificate store.

---

### Examples
> Example 1. Getting TLS Certificate from Certificate Store

```PowerShell
Get-VBRCloudGatewayCertificate -FromStore | Where FriendlyName -eq "Omega Company"
This command gets the Omega Company TLS certificate from the certificate store.
```
> Example 2. Getting TLS Certificate

```PowerShell
Get-VBRCloudGatewayCertificate
This command returns the TLS certificate that is currently assigned to the service provider.
```

---

### Parameters
#### **FromStore**
Defines that the cmdlet will return the TLS certificate present in the local certificate store on this server.  If you run the cmdlet without this parameter, it will return the certificate that is currently used.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudGatewayCertificate [-FromStore] [<CommonParameters>]
```

Get-VBRCloudGatewayPool
-----------------------

### Synopsis
Returns cloud gateway pools.

---

### Description

This cmdlet returns existing cloud gateway pools.

---

### Examples
> Example 1. Getting All Cloud Gateway Pools

```PowerShell
Get-VBRCloudGatewayPool
This command gets all cloud gateway pools.
```
> Example 2. Getting Cloud Gateway Pool by Name

```PowerShell
Get-VBRCloudGatewayPool -Name "CloudGT01"
This command gets the CloudGT01 cloud gateway pool by the cloud gateway pool name.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for cloud gateway pools that you want to get.

|Type      |Required|Position|PipelineInput |
|----------|--------|--------|--------------|
|`[Guid[]]`|false   |named   |True (ByValue)|

#### **Name**
Specifies an array of names for cloud gateway pool that you want to get.

|Type        |Required|Position|PipelineInput |
|------------|--------|--------|--------------|
|`[String[]]`|false   |named   |True (ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudGatewayPool [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudGatewayPool [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudHardwarePlan
------------------------

### Synopsis
Returns existing hardware plans.

---

### Description

This cmdlet returns existing hardware plans. You can get the list of all hardware plans or search for instances directly by name, virtuallization platform or ID.

---

### Examples
> Example 1. Getting All Hardware Plans

```PowerShell
Get-VBRCloudHardwarePlan
This command returns all existing hardware plans.
```
> Example 2. Getting All VMware Hardware Plans

```PowerShell
Get-VBRCloudHardwarePlan -Platform VMWare
This command returns all VMware hardware plans.
```
> Example 3. Getting All Hyper-V Hardware Plans

```PowerShell
Get-VBRCloudHardwarePlan -Platform HyperV
This command returns all Hyper-V hardware plans.
```
> Example 4. Getting Hardware Plan by Name

```PowerShell
Get-VBRCloudHardwarePlan -Name "VMware Silver"
This command returns a hardware plan named "VMware Silver".
```
> Example 5. Getting Hardware Plan by Platform and Name

```PowerShell
Get-VBRCloudHardwarePlan -Name "Hyper-V Silver" -Platform HyperV
This command returns a Hyper-V hardware plan named "Hyper-V Silver".
```

---

### Parameters
#### **Id**
Specifies the array of the  IDs of the VBRViCloudHardwarePlan or VBRHvCloudHardwarePlan object you want to get. Accepts GUID[] or string[].

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of the hardware plan names you want to get.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Platform**
Specifies the platform of the hardware plan: VMWare, HyperV, vCD, LinuxPhysical, WindowsPhysical, Tape, CustomPlatform.
Valid Values:

* VMWare
* HyperV
* vCD
* LinuxPhysical
* WindowsPhysical
* Tape
* CustomPlatform

|Type           |Required|Position|PipelineInput        |
|---------------|--------|--------|---------------------|
|`[VBRPlatform]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.String[]

System.Guid[]

Veeam.Backup.PowerShell.Infos.VBRPlatform

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudHardwarePlan -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRCloudHardwarePlan [-Name <String[]>] [-Platform {VMWare | HyperV | vCD | LinuxPhysical | WindowsPhysical | Tape | CustomPlatform}] [<CommonParameters>]
```

Get-VBRCloudInfrastructureServiceState
--------------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudInfrastructureServiceState [<CommonParameters>]
```

Get-VBRCloudInfrastructureState
-------------------------------

### Synopsis
Returns the current state of the cloud infrastructure.

---

### Description

This cmdlet returns the current state of the cloud infrastructure:
- Active: the cloud infrastructure is in normal operational mode
- Maintenance: the cloud infrastructure is in maintenance mode

---

### Examples
> Example - Getting Cloud Infrastructure State

```PowerShell
Get-VBRCloudInfrastructureState

Maintenance
This command returns the state of the cloud infrastructure.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudInfrastructureState [<CommonParameters>]
```

Get-VBRCloudProvider
--------------------

### Synopsis
Returns service providers.

---

### Description

This cmdlet returns service providers added to Veeam Backup & Replication. You can get the list of all existing service providers or search for instances directly by name or ID.

---

### Examples
> Example 1. Getting All Cloud Service Providers

Get-VBRCloudProvider
This command returns all cloud service providers added to Veeam Backup & Replication.
> Example 2. Getting Cloud Service Provider by IP Address

```PowerShell
Get-VBRCloudProvider -Name "104.45.95.227"
This command looks for the cloud service provider with the 104.45.95.227 IP address.
```

---

### Parameters
#### **Id**
Specifies the array of the IDs of the VBRCloudProvider object you want to get.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of the service provider names you want to get or search conditions.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudProvider [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudProvider [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudProviderCredentials
-------------------------------

### Synopsis
Returns cloud provider credentials records.

---

### Description

This cmdlet returns an array of cloud provider credentials records.

---

### Examples
> Example 1. Getting Cloud Provider Credentials by Tenant Name

```PowerShell
Get-VBRCloudProviderCredentials -Name "Tenant1"
This example shows how to get cloud provider credentials records by the tenant name.
```
> Example 2. Getting Cloud Provider Credentials by ID

```PowerShell
Get-VBRCloudProviderCredentials -ID "bea3b786-75de-4882-a4f7-c2f236eb2874"
This example shows how to get cloud provider credentials records by the credentials records ID.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for cloud provider credentials records. The cmdlet will return credentials records with the specified IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of logins for cloud provider credentials records. The cmdlet will return credentials records with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudProviderCredentials -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRCloudProviderCredentials [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudProviderNetworkAppliance
------------------------------------

### Synopsis
Returns network extension appliance configured on the user side.

---

### Description

This cmdlet returns network extension appliance created on the user side. This appliance is used in replica failover scenarios.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

---

### Examples
> Example - Getting All Network Appliances by Cloud Service Provider IP Address

$provider = Get-VBRCloudProvider -Name "104.45.95.227" 
Get-VBRCloudProviderNetworkAppliance -CloudProvider $provider
This example shows how to search for all network appliances configured by the cloud service provider with the 104.45.95.227 IP address.

Perform the following steps:
1. Run the Get-VBRCloudProvider cmdlet. Specify the Name parameter value. Save the result to the $provider variable.
2. Run the Get-VBRCloudProviderNetworkAppliance cmdlet. Set the $provider variable as the CloudProvider parameter value.

---

### Parameters
#### **CloudProvider**
Specifies the array of the service providers. The cmdlet will return appliances configured by these providers. Accepts the VBRCloudProvider[] object.  To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCloudProvider[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of the appliance names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudProvider[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudProviderNetworkAppliance [-CloudProvider <VBRCloudProvider[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudPublicIP
--------------------

### Synopsis
Returns existing public IP addresses.

---

### Description

This cmdlet returns public IP addresses that are configured by the service provider. You can get all configured IP addresses or the IP addresses allocated to a selected user.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Example 1. Getting All Configured Public IP Addresses

```PowerShell
Get-VBRCloudPublicIP
This command returns all configured public IP addresses.
```
> Example 2. Getting All Configured Public IP Addresses

$tenant = Get-VBRCloudTenant -Name "ABC Company"
Get-VBRCloudPublicIP -Tenant $tenant
This example shows how to return public IP addresses assigned to the ABC company.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Get-VBRCloudPublicIP cmdlet. Set the $tenant variable as the Tenant parameter value.

---

### Parameters
#### **Tenant**
Specifies the cloud user. The cmdlet will return the IP addresses assigned to this user. Accepts the VBRCloudTenant object. To get this object, run the Get-VBRCloudTenant cmdlet.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRCloudTenant]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudPublicIP [-Tenant <VBRCloudTenant>] [<CommonParameters>]
```

Get-VBRCloudServer
------------------

### Synopsis
Returns cloud hosts allocated by a service provider.

---

### Description

This cmdlet returns cloud hosts that are allocated by a service provider.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

---

### Examples
> Example 1. Getting Cloud Server by Name

```PowerShell
Get-VBRCloudServer -Name "Hyper-V Silver"
This command returns cloud server named "Hyper-V Silver".
```
> Example 2.  Getting Cloud Servers of Selected Cloud Service Provider

$cloudProvider = Get-VBRCloudProvider -Name "104.45.95.227"
Get-VBRCloudServer -CloudProvider $cloudProvider
This example shows how to return cloud servers of the server provider with the 104.45.95.227 IP address.

Perform the following steps:
1. Run the Get-VBRCloudProvider cmdlet. Specify the Name parameter value. Save the result to the $cloudProvider variable.
2. Run the Get-VBRCloudServer cmdket. Set the $cloudProvider variable as the CloudProvider parameter value.

---

### Parameters
#### **CloudProvider**
Specifies the array of the  cloud providers. The cmdlet will return the hosts that are provided to you by these providers. Accepts the VBRCloudProvider[] object.  To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCloudProvider[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the array of the IDs of the host you want to get. The cmdlet will return the hosts with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies the array of the host names you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudProvider[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudServer -CloudProvider <VBRCloudProvider[]> [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudServer -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRCloudServer -Name <String[]> [<CommonParameters>]
```

Get-VBRCloudServerNetworkInfo
-----------------------------

### Synopsis
Returns networks available in your cloud resources.

---

### Description

This cmdlet returns networks that are allocated to you by your cloud resources.

---

### Related Links
* [Get-VBRCloudServer](Get-VBRCloudServer.md)

---

### Examples
> Example 1. Getting Network by Name

```PowerShell
Get-VBRCloudServerNetworkInfo -Name "Lab Isolated Network"
This command looks for a network by name.
```
> Example 2. Getting Networks Connected to Selected Cloud Server

$cloudServer = Get-VBRCloudServer -Name "Hyper-V Silver"
Get-VBRCloudServerNetworkInfo -CloudServer $cloudServer
This example shows how to return networks connected to a selected cloud server.

Perform the following steps:
1. Run the Get-VBRCloudServer cmdlet. Specify the Name parameter value. Save the result to the $cloudServer variable.
2. Run the Get-VBRCloudServerNetworkInfo cmdlet. Set the $cloudServer variable as the CloudServer parameter value.

---

### Parameters
#### **CloudServer**
Specifies the cloud server.  The cmdlet will return networks connected to this server. Accepts the VBRCloudServer[] object.  To get this object, run the Get-VBRCloudServer cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRCloudServer[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the ID of the network you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the name of the network you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudServerNetworkInfo [-CloudServer <VBRCloudServer[]>] [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudServerNetworkInfo [-Id <Guid[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudSubTenant
---------------------

### Synopsis
Returns cloud subtenant accounts.

---

### Description

This cmdlet returns cloud subtenant accounts of the following types: � Simple cloud subtenant accounts � vCD cloud subtenant accounts

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Example 1

```PowerShell
Get-VBRCloudSubTenant -Name "Alpha"
This example shows how to get a cloud subtenant by name.
```
> Example 2

$Alpha = Get-VBRCloudTenant -Name "Alpha"
Get-VBRCloudSubTenant -Tenant $Alpha
This example shows how to get a cloud subtenant by tenant.

1. Run Get-VBRCloudTenant to get the cloud tenant. Save the result to the $Alpha variable.  2. Run Get-VBRCloudSubTenant with the $Alpha variable.

---

### Parameters
#### **Id**
Specifies the array of IDs of the VBRCloudSubTenant objects. The cmdlet will return the subtenants with these IDs. Accepts GUID or string type.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Mode**
Specifies the cloud subtenant mode. You can select either of the following modes: � Common � AgentManagement The cmdlet will return subusers of the specified mode.
Valid Values:

* Common
* AgentManagement

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRCloudSubTenantMode]`|false   |named   |False        |

#### **Name**
Specifies the array of names for the subtenant account you want to get or search conditions.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Tenant**
Specifies the tenant. The cmdlet will return the subtenants associated with this tenant. Accepts VBRCloudTenant object.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

Veeam.Backup.PowerShell.Infos.IVBRCloudTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudSubTenant [-Id <Guid[]>] [-Mode {Common | AgentManagement}] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudSubTenant [-Mode {Common | AgentManagement}] [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudSubTenant [-Mode {Common | AgentManagement}] [-Tenant <IVBRCloudTenant[]>] [<CommonParameters>]
```

Get-VBRCloudSubUser
-------------------

### Synopsis
Returns cloud subuser accounts.

---

### Description

This cmdlet returns cloud subuser accounts of the following types:
- Simple cloud subtenant accounts
- vCD cloud subtenant accounts
You can get the list of all existing subuser accounts, or narrow down the search results to name, ID or cloud provider. Use an appropriate parameter set for each case.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

---

### Examples
> Example 1. Getting All Cloud Subusers

```PowerShell
Get-VBRCloudSubUser
This command returns all cloud subusers.
```
> Example 2. Getting Cloud Subuser by Name

```PowerShell
Get-VBRCloudSubUser -Name "Subuser 1"
This command looks for a subuser by the subuser name.
```
> Example 3. Getting Cloud Subuser by Cloud Service Provider

$cloudProvider = Get-VBRCloudProvider
Get-VBRCloudSubUser -CloudProvider $cloudprovider
This example shows how to get a subuser by a cloud service provider.

Perform the following steps:
1. Run the Get-VBRCloudProvider cmdlet. Save the result to the $cloudprovider variable.
2. Run the Get-VBRCloudSubUser cmdlet. Set the $cloudprovider variable as the CloudProvider parameter value.

---

### Parameters
#### **CloudProvider**
Specifies the cloud provider. The cmdlet will return subusers associated with this cloud provider.  Accepts the VBRCloudProvider[] object. To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCloudProvider[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies an array of subuser ID.  The cmdlet will return subusers with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Mode**
Specifies the cloud subtenant mode. You can select either of the following modes:
* Common
* AgentManagement
The cmdlet will return subusers of the specified mode.
Valid Values:

* Common
* AgentManagement

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRCloudSubUserMode]`|false   |named   |False        |

#### **Name**
Specifies the array of names for the subuser account you want to get or search conditions.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

Veeam.Backup.PowerShell.Infos.VBRCloudProvider[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudSubUser [-CloudProvider <VBRCloudProvider[]>] [-Mode {Common | AgentManagement}] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudSubUser [-Id <Guid[]>] [-Mode {Common | AgentManagement}] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudSubUser [-Mode {Common | AgentManagement}] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudTapeBackupTenant
----------------------------

### Synopsis
Returns tenants backups.

---

### Description

This cmdlet returns the array of backups of tenants. IMPORTANT! You can run this cmdlet from the service provider side only.

---

### Examples
> Example 1. Getting Backups of All Tenants

```PowerShell
Get-VBRCloudTapeBackupTenant -ID "0fccf7c9-1f90-49de-8bec-53a0697e04ab"
This command gets backups of all tenants.
```
> Example 2. Getting Backups of Selected Tenant by Tenant ID

```PowerShell
Get-VBRCloudTapeBackupTenant -ID "0fccf7c9-1f90-49de-8bec-53a0697e04ab"
This command gets backups of a tenant with a specific tenant ID.
```
> Example 3. Getting Backups of Selected Tenant by Tenant Name

```PowerShell
Get-VBRCloudTapeBackupTenant -Name "New tenant"
This command gets a backup of a tenant by the tenant name.
```

---

### Parameters
#### **Id**
Specifies an array of tenant IDs. The cmdlet will return backups of tenants with the specified IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of tenant names. The cmdlet will return backups of tenants with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTapeBackupTenant -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTapeBackupTenant [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudTapeBackupTenantJob
-------------------------------

### Synopsis
Returns tenant jobs.

---

### Description

This cmdlet returns the array of jobs from the tenant Veeam Backup & Replication infrastructure. IMPORTANT! You can run this cmdlet from the service provider side only.

---

### Examples
> Example 1. Getting Tenant Job by Name

```PowerShell
Get-VBRCloudTapeBackupTenantJob -Name "Backup Job 01"
This command gets a tenant job by the job name.
```
> Example 2. Getting Tenant Job by Job ID

```PowerShell
Get-VBRCloudTapeBackupTenantJob -Id "0814a9b4-5fba-4f20-86dd-4790a5b659ab"
This command gets a tenant job by the job ID.
```
> Example 3. Getting Tenant Job by Tenant ID

```PowerShell
Get-VBRCloudTapeBackupTenantJob -TenantId "12a6f8f5-832a-4c7c-9b9b-74b020d6d78e"
This command gets a tenant job by the tenant ID.
```
> Example 4. Getting Tenant Job by Tenant Repository ID

```PowerShell
Get-VBRCloudTapeBackupTenantJob -TenantRepositoryId "729c82d6-54d5-4eb6-b0f2-9d85bcff1b9b"
This command gets a tenant job by the tenant repository ID.
```

---

### Parameters
#### **Id**
Specifies an array of tenant jobs IDs. The cmdlet will return tenant jobs with specified IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of tenant jobs names. The cmdlet will return tenant jobs with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **TenantId**
Specifies an array of tenant IDs. The cmdlet will return tenant jobs of specified tenant IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **TenantRepositoryId**
Specifies an array of the tenant cloud repository IDs. The cmdlet will return tenant jobs that are targeted to these repositories.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTapeBackupTenantJob -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTapeBackupTenantJob [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTapeBackupTenantJob -TenantId <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTapeBackupTenantJob -TenantRepositoryId <Guid[]> [<CommonParameters>]
```

Get-VBRCloudTapeBackupTenantRepository
--------------------------------------

### Synopsis
Returns tenant cloud repositories.

---

### Description

This cmdlet returns the array of tenant cloud repositories. IMPORTANT! You can run this cmdlet from the service provider side only.

---

### Examples
> Example 1. Getting All Tenant Cloud Repositories

```PowerShell
Get-VBRCloudTapeBackupTenantRepository
This command gets an array of all tenant cloud repositories.
```
> Example 2. Getting Tenant Cloud Repository by Repository ID

```PowerShell
Get-VBRCloudTapeBackupTenantRepository -ID "0fccf7c9-1f90-49de-8bec-53a0697e04ab"
This command gets a tenant cloud repository by the repository ID.
```
> Example 3. Getting Tenant Cloud Repository by Repository Name

```PowerShell
Get-VBRCloudTapeBackupTenantRepository -Name "New tenant"
This command gets tenant cloud repositories by the tenant friendly name.
```
> Example 4. Getting Tenant Cloud Repository by Tenant ID

```PowerShell
Get-VBRCloudTapeBackupTenantRepository -TenantId "4bff98a5-c49e-473c-8ce0-4203549b7560"
This command gets tenant cloud repositories by the tenant ID.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for tenant backup repositories. The cmdlet will return the tenant backup repositories with the specified IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of friendly names for tenant backup repositories. The cmdlet will return the tenant backup repositories with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **TenantId**
Specifies an array of tenant IDs. The cmdlet will return tenant backup repositories with the specified tenant IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTapeBackupTenantRepository -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTapeBackupTenantRepository [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTapeBackupTenantRepository -TenantId <Guid[]> [<CommonParameters>]
```

Get-VBRCloudTapeRestoreSession
------------------------------

### Synopsis
Returns active restore sessions of the tenant data from tape.

---

### Description

This cmdlet returns active restore sessions of the tenant data from tape.

---

### Examples
> Example - Getting All Active Restore Sessions of Tenant Data from Tape

```PowerShell
Get-VBRCloudTapeRestoreSession
This command shows how to get all active restore sessions of the tenant data from tape.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTapeRestoreSession [<CommonParameters>]
```

Get-VBRCloudTenant
------------------

### Synopsis
Returns cloud tenant accounts.

---

### Description

This cmdlet returns cloud tenant accounts of the following types:
- Simple cloud tenant accounts
- vCD cloud tenant accounts

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1. Getting All Cloud Tenants

```PowerShell
Get-VBRCloudTenant
This example shows how to look for all cloud tenants.
```
> Example 2. Getting Cloud Tenant by Tenant Account Name

```PowerShell
Get-VBRCloudTenant -Name "ABC Company"
This example shows how to look for a cloud tenant by the tenant account name.
```
> Example 3. Getting Cloud Tenant by Tenant Account Backup Repository

$repository = Get-VBRBackupRepository -Name "Backups Vol2"
Get-VBRCloudTenant -Repository $repository
This example shows how to look for a cloud tenants by the tenant account backup repository.

Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Get-VBRCloudTenant cmdlet. Set the $repository variable as Repository parameter value.

---

### Parameters
#### **Id**
Specifies an array of cloud tenant IDs you want to get. Accepts GUID[] or string.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of cloud tenant names.  The cmdlet will return details on tenants with specified names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Repository**
Specifies an array of backup repositories. The cmdlet will return the tenants that use these repositories. You can specify simple or scale-out backup repositories. You cannot specify cloud repositories. Accepts the CBackupRepository[] object. To get this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[CBackupRepository[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

Veeam.Backup.Core.CBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTenant [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTenant [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTenant [-Repository <CBackupRepository[]>] [<CommonParameters>]
```

Get-VBRCloudTenantBackup
------------------------

### Synopsis
Returns non-encrypted backups of AD tenants and tenants managed by the Service Provider.

---

### Description

Returns non-encrypted backups of AD tenants and tenants managed by the Service Provider.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Getting Non-Encrypted Backups for AD Tenant Accounts

$tenant = Get-VBRCloudTenant -Name "ABC Company"
$backupfiles = Get-VBRCloudTenantBackup -Tenant $tenant
This example shows how to get a list of non-encrypted backups of AD tenants and tenants managed by the Service Provider.
Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Get-VBRCloudTenantBackup cmdlet. Set the $tenant variable as the Tenant parameter value. Save the result to the $backupfiles variable.

---

### Parameters
#### **Id**
Specifies an array of the backup IDs. The cmdlet will return backups with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of the job names. The cmdlet will return backups produced with these jobs.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Tenant**
Specifies an array of tenant accounts for which you want to get backup files.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

Veeam.Backup.PowerShell.Infos.IVBRCloudTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTenantBackup [-Id <Guid[]>] [-Name <String[]>] [-Tenant <IVBRCloudTenant[]>] [<CommonParameters>]
```

Get-VBRCloudTenantNetworkAppliance
----------------------------------

### Synopsis
Returns network extension appliances.

---

### Description

This cmdlet returns network extension appliances. You can get the network extension appliance for the cloud tenants of the following types:
- Simple cloud tenant accounts
- vCD Cloud tenant accounts

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Example 1. Getting All Network Appliances

```PowerShell
Get-VBRCloudTenantNetworkAppliance
This command returns all tenant network appliances.
```
> Example 2. Getting Network Appliances for Selected Tenant

$tenant = Get-VBRCloudTenant -Name "ABC Company"
Get-VBRCloudTenantNetworkAppliance -Tenant $tenant
This example shows how to return network appliances of a selected tenant.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save it to the $tenant variable.
2. Run the Get-VBRCloudTenantNetworkAppliance cmdlet. Set the $tenant variable as the Tenant parameter value.
> Example 3. Getting Network Appliances for Selected Host

$server = Get-VBRServer -Name "srv01.tech.local"
Get-VBRCloudTenantNetworkAppliance -Server $server
This example shows how to return network appliances deployed on a selected host.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the host to the $server variable.
2. Run the Get-VBRCloudTenantNetworkAppliance cmdlet. Set the $server variable as the Server parameter value.

---

### Parameters
#### **Name**
Specifies the array of names of the appliance.  The cmdlet will return appliances with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies an array of hosts. The cmdlet will return appliances that uses these hosts. Accepts the CHost[] object.  To get this object, run the Get-VBRServer cmdlet.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[Object[]]`|false   |named   |False        |

#### **Tenant**
Specifies an array of tenants. The cmdlet will return appliances assigned to these tenants. Accepts the VBRCloudTenant[] object.  To get this object, run the Get-VBRCloudTenant cmdlet.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudTenant[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTenantNetworkAppliance [-Name <String[]>] [-Server <Object[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRCloudTenantNetworkAppliance [-Name <String[]>] [-Tenant <IVBRCloudTenant[]>] [<CommonParameters>]
```

Get-VBRCloudTenantRestorePoint
------------------------------

### Synopsis
Returns restore points of non-encrypted backups for AD tenants and tenants managed by the Service Provider.

---

### Description

This cmdlet returns restore points of non-encrypted backups for AD tenants and tenants managed by the Service Provider. You can get the following types of restore points:
- All restore points.
- Restore points by their ID.
- Restore points by a VM name.
- Restore points for specific backups.

---

### Examples
> Getting Restore Points of Non-Encrypted Backups for AD Tenants and Tenants Managed by Service Provider

```PowerShell
Get-VBRCloudTenantRestorePoint
This command returns all the restore points of non-encrypted backups for AD tenants and tenants managed by the Service Provider.
```

---

### Parameters
#### **Backup**
Specifies the array of non-encrypted tenant backups. The cmdlet will return restore points of these backups.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRCloudTenantBackup[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies an array of the backup IDs. The cmdlet will return backups with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of the VM names. The cmdlet will return restore points for these VMs.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

Veeam.Backup.PowerShell.Infos.VBRCloudTenantBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudTenantRestorePoint [-Backup <VBRCloudTenantBackup[]>] [-Id <Guid[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRCloudUnavailableBackupFile
---------------------------------

### Synopsis
Returns a list of backup files that are no longer available in the cloud repository.

---

### Description

This cmdlet returns a list of backup files that are no longer available in the cloud repository.

---

### Related Links
* [Get-VBRCloudTenant](Get-VBRCloudTenant.md)

---

### Examples
> Getting Unavailable Backup Files for Cloud Tenant Account

$tenant = Get-VBRCloudTenant -Name "ABC Company"
$backupfiles = Get-VBRCloudUnavailableBackupFile -CloudTenant $tenant
This example shows how to get a list of backup files that are no longer available in the cloud repository for the ABC Company cloud tenant account.
Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Get-VBRCloudUnavailableBackupFile cmdlet. Set the $tenant variable as the CloudTenant parameter value. Save the result to the $backupfiles variable.

---

### Parameters
#### **CloudTenant**
Specifies a cloud tenant account for which you want to get backup files that are no longer available in the cloud repository.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRCloudTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudUnavailableBackupFile -CloudTenant <IVBRCloudTenant> [<CommonParameters>]
```

Get-VBRCloudVLANConfiguration
-----------------------------

### Synopsis
Returns reserved VLAN ranges.

---

### Description

This cmdlet returns the array of VBRCloudVLANConfiguration objects. These objects contain VLAN ranges reserved for Veeam Backup & Replication.

---

### Examples
> Example - Getting All Configured VLANs

```PowerShell
Get-VBRCloudVLANConfiguration
This command returns all configured VLANs
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCloudVLANConfiguration [<CommonParameters>]
```

Get-VBRCommand
--------------

### Synopsis
Returns Veeam PowerShell module cmdlets.

---

### Description

This cmdlet returns the list of available Veeam PowerShell cmdlets.
If you run this cmdlet without parameters, it will return the list of all Veeam cmdlets in the current session.
NOTE: This cmdlet is available only for sessions started from Veeam Backup & Replication main menu.

---

### Examples
> Example 1. Getting list of Veeam cmdlets that perform remove operations.

```PowerShell
Get-VBRCommand Remove*
This command returns the list of Veeam cmdlets that perform remove operations.
```
> Example 2. Getting Veeam Cmdlets with Specific Names

```PowerShell
Get-VBRCommand -Name *Zip*
This command returns Veeam cmdlets with names containing "Zip".
```
> Example 3. Getting Veeam Cmdlets with cmdlets with Specific Verbs

```PowerShell
Get-VBRCommand -Verb Get, Set
```
> Example 4. Getting Veeam Cmdlets with Specific Names

```PowerShell
Get-VBRCommand -Noun *Job*, *Zip*
This command returns Veeam cmdlets with nouns containing "Job" and "Zip".
```

---

### Parameters
#### **Name**
Specifies the name of the command.
Lists the commands that match the specified name or regular name patterns.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |0       |True (ByPropertyName, ByValue)|

#### **Noun**
Specifies the noun.
Lists the commands using the specified noun name.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **V100**
Defines that the cmdlet will return cmdlets added in version 10 of Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **V110**
Defines that the cmdlet will return cmdlets added in version 11 of Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **V120**
Defines that the cmdlet will return cmdlets added in version 12 of Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **V80**
Defines that the cmdlet will return cmdlets added in version 8.0 of Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **V90**
Defines that the cmdlet will return cmdlets added in version 9.0 of Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **V95**
Defines that the cmdlet will return cmdlets added in version 9.5 of Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Verb**
Specifies the command verb.
Lists the commands using the specified verb name.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCommand [[-Name] <String[]>] [-V100] [-V110] [-V120] [-V80] [-V90] [-V95] [<CommonParameters>]
```
```PowerShell
Get-VBRCommand [-Noun <String[]>] [-V100] [-V110] [-V120] [-V80] [-V90] [-V95] [-Verb <String[]>] [<CommonParameters>]
```

Get-VBRComputerBackupCopyJob
----------------------------

### Synopsis
Returns Veeam Agent backup copy jobs.

---

### Description

This cmdlet returns Veeam Agent backup copy jobs.

---

### Examples
> Example 1. Getting all Veeam Agent Backup Copy Jobs

```PowerShell
Get-VBRComputerBackupCopyJob
This command returns all Veeam Agent backup copy jobs.
```
> Example 2. Getting Veeam Agent Backup Copy Job by Name

```PowerShell
Get-VBRComputerBackupCopyJob -Name "Windows Copy Job05"
This command returns the Windows Copy Job05 Veeam Agent backup copy job.
```
> Example 3. Getting Veeam Agent Backup Copy Job by ID

```PowerShell
Get-VBRComputerBackupCopyJob -Id "c4bb4625-7158-43d7-ab63-beaee75d2cff"
This command returns the c4bb4625-7158-43d7-ab63-beaee75d2cff Veeam Agent backup copy job.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for Veeam Agent backup copy jobs. The cmdlet will return jobs with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies an array of names for Veeam Agent backup copy jobs. The cmdlet will return jobs with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerBackupCopyJob [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRComputerBackupCopyJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRComputerBackupJob
------------------------

### Synopsis
Returns Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Description

This cmdlet returns an array of Veeam Agent backup jobs and Veeam Agent backup policies.

---

### Examples
> Example 1. Getting all Veeam Agent Backup Jobs

Get-VBRComputerBackupJob
This command returns an array of all Veeam Agent backup jobs and Veeam Agent backup policies that are added to Veeam Backup & Replication.
> Example 2. Getting Veeam Agent Backup Job by Name

```PowerShell
Get-VBRComputerBackupJob -Name "Agent Job 05"
This command returns the Agent Job 05 Veeam Agent backup job.
```
> Example 3. Getting Veeam Agent Backup Policy

```PowerShell
Get-VBRComputerBackupJob -Mode ManagedByAgent
This command returns the Veeam Agent backup policy.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for Veeam Agent backup jobs or a Veeam Agent backup policies.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

#### **Mode**
Specifies the Veeam Agent backup job mode. You can specify either of the following backup job modes:
* ManagedByAgent: use this option to get the backup policy.
* ManagedByBackupServer: use this option to get a Veeam Agent backup job.
Valid Values:

* ManagedByAgent
* ManagedByBackupServer

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRComputerBackupJobMode]`|false   |named   |False        |

#### **Name**
Specifies an array of names for Veeam Agent backup jobs or a Veeam Agent backup policies.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.String[]

System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerBackupJob [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRComputerBackupJob [-Mode {ManagedByAgent | ManagedByBackupServer}] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRComputerBackupJobSession
-------------------------------

### Synopsis
Returns jobs sessions.

---

### Description

This cmdlet returns job sessions. You can get sessions of Veeam Agent jobs that are managed by Veeam Backup & Replication and Veeam Agent backup policies.

---

### Examples
> Example 1. Getting Agent Jobs Sessions by Name

```PowerShell
Get-VBRComputerBackupJobSession -Name "Windows backup policy"
This command returns the Windows backup policy Agent job session.
```
> Example 2. Get Agent Jobs Sessions by ID

```PowerShell
Get-VBRComputerBackupJobSession -Id 1137c678-e79d-48c4-8d30-b921a612ba1e
This command returns the 1137c678-e79d-48c4-8d30-b921a612ba1e Agent job session.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for Veeam Agent job sessions. The cmdlet will return the sessions with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for Veeam Agent jobs. The cmdlet will return sessions with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerBackupJobSession [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRComputerBackupJobSession [-Name <String[]>] [<CommonParameters>]
```

Get-VBRComputerDisk
-------------------

### Synopsis
Returns disks of computers backed-up with Veeam Agent For Microsoft Windows.

---

### Description

This cmdlet returns disks of computers backed-up with Veeam Agent For Microsoft Windows.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

---

### Examples
> Getting Volumes of Computers Backed-Up with Veeam Agent For Microsoft Windows

$backup = Get-VBRBackup -Name "WinLaptop2017*"
$restorepoint = Get-VBRRestorePoint -Backup $backup
Get-VBRComputerDisk -RestorePoint $restorepoint[3]
This example shows how to get volumes of the WinLaptop2017 computer backed-up with Veeam Agent For Microsoft Windows.
Perform the following steps:
1. Get the restore point:
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
Note: To get a list of restore points for a Veeam Agent job, you must provide the asterisks sign for the Name parameter value: Name "AgentJob*". Otherwise, the Get-VBRRestorePoint cmdlet will not return any restore points for the Veeam Agent job.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $restorepoint variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the fourth restore point in the array).
2. Run the Get-VBRComputerDisk cmdlet. Set the $restorepoint[3] variable as the RestorePoint parameter value.

---

### Parameters
#### **RestorePoint**
Specifies a restore point of computers. The cmdlet will return details on backed-up disks of these computers.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[COib]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.COib

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerDisk -RestorePoint <COib> [<CommonParameters>]
```

Get-VBRComputerDiskPartition
----------------------------

### Synopsis
Returns volumes of computers backed-up with Veeam Agent For Microsoft Windows.
IMPORTANT!
This cmdlet is available starting from Veeam Backup & Replication 11a (build 11.0.1.1261).

---

### Description

This cmdlet returns volumes of computers backed-up with Veeam Agent for Microsoft Windows.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

* [Get-VBRComputerDisk](Get-VBRComputerDisk.md)

---

### Examples
> Example 1. Getting all Volumes of Computers Backed-Up with Veeam Agent For Microsoft Windows

$backup = Get-VBRBackup -Name "WinLaptop2017*"
$restorepoint = Get-VBRRestorePoint -Backup $backup
Get-VBRComputerDiskPartition -RestorePoint $restorepoint[3]
This example shows how get all volumes of the WinLaptop2017 computer backed-up with Veeam Agent For Microsoft Windows.
Perform the following steps:
1. Get the restore point:
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
Note: To get a list of restore points for a Veeam Agent job, you must provide the asterisks sign for the Name parameter value: Name "AgentJob*". Otherwise, the Get-VBRRestorePoint cmdlet will not return any restore points for the Veeam Agent job.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $restorepoint variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the fourth restore point in the array).
2. Run the Get-VBRComputerDiskPartition cmdlet. Set the $restorepoint[3] variable as the RestorePoint parameter value.
> Example 2. Getting Specific Volumes of Computers Backed-Up with Veeam Agent For Microsoft Windows

$backup = Get-VBRBackup -Name "WinLaptop2017*"
$restorepoint = Get-VBRRestorePoint -Backup $backup
$disk = Get-VBRComputerDisk -RestorePoint $restorepoint[3]
Get-VBRComputerDiskPartition -RestorePoint $restorepoint[3] -Disk $disk[2]
This example shows how to get specific volumes of the WinLaptop2017 computer backed-up with Veeam Agent For Microsoft Windows.
Perform the following steps:
1. Get the restore point:
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
Note: To get a list of restore points for a Veeam Agent job, you must provide the asterisks sign for the Name parameter value: Name "AgentJob*". Otherwise, the Get-VBRRestorePoint will not return any restore points for the Veeam Agent job.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $restorepoint variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the fourth restore point in the array).
2. Run the Get-VBRComputerDisk cmdlet. Set the $restorepoint[3] variable as the RestorePoint parameter value. Save the result to the $disk variable.
The Get-VBRComputerDisk cmdlet will return an array of volumes. Mind the ordinal number of the necessary volumes (in our example, it is the third volume in the array).
3. Run the Get-VBRComputerDiskPartition cmdlet. Set the $restorepoint[3] variable as the RestorePoint parameter value. Set the $disk[2] variable as the Disk parameter value.

---

### Parameters
#### **Disk**
Specifies computer disks. The cmdlet will return details on these disks.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[VBRComputerDisk[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RestorePoint**
Specifies a restore point of computers. The cmdlet will return details on backed-up volumes of these computers

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[COib]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.COib

Veeam.Backup.PowerShell.Infos.VBRComputerDisk[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerDiskPartition -Disk <VBRComputerDisk[]> -RestorePoint <COib> [<CommonParameters>]
```

Get-VBRComputerFileProxyServer
------------------------------

### Synopsis
Returns file proxy servers added to the Veeam Backup & Replication infrastructure.

---

### Description

This cmdlet returns an array of file proxy servers added to your Veeam Backup & Replication infrastructure.

---

### Examples
> Example 1. Getting All File Proxy Servers

Get-VBRComputerFileProxyServer
Id                            Description                   Server                                 ConcurrentTaskNumber
--                            -----------                   ------                                 --------------------
2df7b4a9-e230-4bc7-97a6-db... Created by Veeam Backup & ... Veeam.Backup.Core.Common.C...                             2
5a7c25b9-87cb-41e3-bb1b-81... Created by Powershell at 8... Veeam.Backup.Core.Common.C...                             7
This command gets all file proxy servers that are added to the Veeam Backup & Replication infrastructure.
The cmdlet output will contain the following details on file proxy servers: ID, Description, Server and ConcurrentTaskNumber.
> Example 2. Getting File Proxy Server by Name

Get-VBRComputerFileProxyServer -Name "File Proxy 01"
Id                            Description                   Server                                 ConcurrentTaskNumber
--                            -----------                   ------                                 --------------------
dbb139cf-4ac1-4a9e-95fa-e9... Created by Powershell at 8... Veeam.Backup.Core.Common.C...                             2
This command gets all file proxy servers that are added to the Veeam Backup & Replication infrastructure by the file proxy server name.
The cmdlet output will contain the following details on file proxy servers: ID, Description, Server and ConcurrentTaskNumber.
> Example 3. Getting File Proxy Server by ID

Get-VBRComputerFileProxyServer -Id "02da6898-308d-44ac-b007-94d81576c296"
Id                            Description                   Server                                 ConcurrentTaskNumber
--                            -----------                   ------                                 --------------------
02da6898-308d-44ac-b007-94... Created by Powershell at 8... Veeam.Backup.Core.Common.C...                             2
This command gets all file proxy servers that are added to the Veeam Backup & Replication infrastructure by the file proxy server ID.
The cmdlet output will contain the following details on file proxy servers: ID, Description, Server and ConcurrentTaskNumber.

---

### Parameters
#### **Id**
Specifies an array of IDs of file proxy server. The cmdlet will return an array of these servers with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names of a file proxy server. The cmdlet will return an array of these servers with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerFileProxyServer -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRComputerFileProxyServer -Name <String[]> [<CommonParameters>]
```

Get-VBRComputerNetworkInfo
--------------------------

### Synopsis
Returns networks connected to Veeam Agent computers.

---

### Description

This cmdlet returns the VBRComputerNetworkInfo[] object. This object contains an array of networks connected to Veeam Agent computers. You can use this object to perform instant recovery of Veeam Agent computers.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

---

### Examples
> Getting Networks Connected to Veeam Agent Computer

$winbackup = Get-VBRBackup -Name "WinBackup*"
$restorepoint = Get-VBRRestorePoint -Backup $winbackup
Get-VBRComputerNetworkInfo -RestorePoint $restorepoint[3]
Id                                                          Name
--                                                          ----
{460122C-6090-4774-B748-0FF45D6E34B7}                      Intel(R) 82454L Gigabit Network Connection
This example shows how to get details on the network to which a Veeam Agent computer is connected.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $winbackup variable.
Note: To get a list of restore points for a Veeam Agent job, you must provide the asterisks sign in the Name parameter value: Name "AgentJob*". Otherwise, the Get-VBRBackup cmdlet will not return any restore points for the Veeam Agent job.
2. Run the Get-VBRRestorePoint cmdlet. Set the $winbackup variable as the Backup parameter value. Save the result to the $restorepoint variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the fourth restore point in the array).
3. Run the Get-VBRComputerNetworkInfo cmdlet. Set the $restorepoint[3] variable as the RestorePoint parameter value.
The cmdlet output will contain the following details on networks: Id and Name.

---

### Parameters
#### **RestorePoint**
Specifies a restore point of Veeam Agent computers. The cmdlet will return an array of networks that are connected to these Veeam Agent computers.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[COib]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.COib

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRComputerNetworkInfo

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerNetworkInfo [-RestorePoint] <COib> [<CommonParameters>]
```

Get-VBRComputerRecoveryToken
----------------------------

### Synopsis
Returns tokens for bare-metal recovery.

---

### Description

This cmdlet returns tokens that you can use to perform bare-metal recovery.

---

### Examples
> Getting Token for Bare-Metal Recovery

```PowerShell
Get-VBRComputerRecoveryToken
This command returns all tokens added to the backup infrastructure.
```

---

### Parameters
#### **FriendlyName**
Specifies an array of token friendly names. The cmdlet will return tokens with these friendly names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Name**
Specifies an array of token names. The cmdlet will return tokens with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRComputerRecoveryToken [-FriendlyName <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRComputerRecoveryToken [-Name <String[]>] [<CommonParameters>]
```

Get-VBRConfigurationBackupJob
-----------------------------

### Synopsis
Returns the configuration backup job.

---

### Description

This cmdlet returns the configuration backup job.

---

### Examples
> Getting Configuration Backup Job

```PowerShell
Get-VBRConfigurationBackupJob
This command returns the configuration backup job.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRConfigurationBackupJob [<CommonParameters>]
```

Get-VBRCopyBackupSession
------------------------

### Synopsis
Returns copy sessions.

---

### Description

This cmdlet returns copy sessions.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Getting Copy Sessions for Specific Backup

$backup = Get-VBRBackup -Name "Exchange Backup_imported"
Get-VBRCopyBackupSession -Backup $backup
This command returns copy sessions for the Exchange Backup_imported backup.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRCopyBackupSession cmdlet. Set the $backup variable as the Backup parameter value.

---

### Parameters
#### **Backup**
Specifies the backup for which you want to get copy sessions.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[VBRBackup]`|true    |named   |False        |

#### **Id**
Specifies the ID of the session. The cmdlet will return the session with this ID.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **MachineName**
Specifies the name of the machine for which you want to return the copy sessions.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCopyBackupSession -Backup <VBRBackup> [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Get-VBRCopyBackupSession -Id <Guid> [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Get-VBRCopyBackupSession -MachineName <String> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Get-VBRCredentials
------------------

### Synopsis
Returns credentials records.

---

### Description

This cmdlet returns the list of credentials records managed by Veeam Backup & Replication.
You can get the list of all credentials records or look for instances directly by name.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Getting Credentials Records by Name

```PowerShell
Get-VBRCredentials -Name *Administrator*
This command gets credentials records with the Administrator user name.
```
> Example 2. Getting Credentials Records by Host

$host = Get-VBRServer
Get-VBRCredentials -Entity $host[1]
This command gets credentials records of a specific host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Save the result to the $host variable.
2. Run the Get-VBRCredentials cmdlet. Set the $host variable as the Entity parameter value. Specify the necessary host of the $host variable.

---

### Parameters
#### **Entity**
Specifies an array of hosts. The cmdlet will return credentials of these hosts.

|Type        |Required|Position|PipelineInput |
|------------|--------|--------|--------------|
|`[Object[]]`|false   |named   |True (ByValue)|

#### **Name**
Specifies an array of user names. The cmdlet will return credentials with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
System.Object[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRCredentials [-Entity <Object[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRDefaultGatewayConfiguration
----------------------------------

### Synopsis
Returns configuration of default gateways.

---

### Description

This cmdlet returns configuration information on service provider default gateways. You can get information about all gateways of all service providers, or look for a selected service provider.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

---

### Examples
> Example 1. Getting Configuration of Default Gateways of All Cloud Providers

```PowerShell
Get-VBRDefaultGatewayConfiguration
This command looks for configuration of default gateways of all cloud providers.
```
> Example 2. Getting Configuration of Default Gateway of Selected Cloud Provider

$cloudprovider = Get-VBRCloudprovider -Name "Cloud provider01" 
Get-VBRDefaultGatewayConfiguration -CloudProvider $cloudprovider
This example shows how to look for configuration of default gateway of the cloud provider named Cloud provider01.

Perform the following steps:
1. Run the Get-VBRCloudProvider cmdlet. Specify the Name parameter value. Save the result to the $cloudprovider variable.
2. Run the Get-VBRDefaultGatewayConfiguration cmdlet. Set the $cloudprovider variable as the CloudProvider parameter value.

---

### Parameters
#### **CloudProvider**
Specifies the array of cloud providers. The cmdlet will return the default gateways of these cloud providers. Accepts the VBRCloudProvider[] object.  To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCloudProvider[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudProvider[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRDefaultGatewayConfiguration [-CloudProvider <VBRCloudProvider[]>] [<CommonParameters>]
```

Get-VBRDeletedArchivedBackupFile
--------------------------------

### Synopsis
Returns an array of backup files deleted from the archive tier and preserved by insider protection.

---

### Description

This cmdlet returns an array of backup files deleted from the archive tier and preserved by insider protection.

---

### Examples
> Getting Deleted Backup Files by Name

```PowerShell
Get-VBRDeletedArchivedBackupFile -Name "Backup"
This command returns deleted backup files containing Backup in name.
```

---

### Parameters
#### **Name**
Specifies backup files names. The cmdlet will return backup files with these names.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRDeletedArchivedBackupFile [-Name <String>] [<CommonParameters>]
```

Get-VBRDeletedDehydratedBackupFile
----------------------------------

### Synopsis
Returns a list of backup files deleted from the capacity tier and preserved by insider protection.

---

### Description

This cmdlet returns a list of backup files deleted from the capacity tier and preserved by insider protection.

---

### Examples
> Getting Deleted Backup Files by Name

```PowerShell
Get-VBRDeletedDehydratedBackupFile -Name "MonthlyReport"
This command returns backup files with MonthlyReport in name.
```

---

### Parameters
#### **Name**
Specifies backup files names. The cmdlet will return backup files with these names.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRDeletedDehydratedBackupFile [-Name <String>] [<CommonParameters>]
```

Get-VBRDiscoveredApplication
----------------------------

### Synopsis
Returns discovered applications from the computer.

---

### Description

This cmdlet returns discovered Veeam Plug-in for Oracle RMAN, Veeam Plug-in for SAP HANA, or Veeam Plug-in for SAP on Oracle. Use an appropriate parameter set for each Veeam Plug-in.

Veeam Backup & Replication regularly performs discovery operations for Veeam Plug-in on computers in a protection group. During a discovery operation, Veeam Backup & Replication connects to computers and gathers information about them. After the discovery operation is complete, Veeam Backup & Replication recognizes processed Veeam Plug-ins as discovered.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Rescan-VBREntity](Rescan-VBREntity.md)

---

### Examples
> Example 1. Getting all Discovered Applications

```PowerShell
Get-VBRDiscoveredApplication
This command returns all discovered applications.
```
> Example 2. Getting Discovered Applications for Veeam Plug-in for SAP HANA

```PowerShell
Get-VBRDiscoveredApplication -SAPHANA
This command returns applications for Veeam Plug-in for SAP HANA.
```

---

### Parameters
#### **MongoDB**
Note: This parameter works for MongoDB. Specifies the discovered application.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MongoDBEntityType**
Note: This parameter works for MongoDB. Specifies the application type.
Valid Values:

* ReplicaSet
* ReplicaSetNode

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRDiscoveredMongoDBEntityType]`|false   |named   |False        |

#### **Name**
Specifies a name of a computer.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **OracleRMAN**
Note: This parameter works for Veeam Plug-in for Oracle RMAN. Specifies the discovered application.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **OracleRMANEntityType**
Note: This parameter works for Veeam Plug-in for Oracle RMAN. Specifies the application type:
* RAC: Oracle Real Application Clusters.
* Server: servers.
* OracleHOME: Oracle database systems.
* Database: databases.
The cmdlet will return discovered application of these types.
Valid Values:

* RAC
* Server
* OracleHome
* Database

|Type                                 |Required|Position|PipelineInput|
|-------------------------------------|--------|--------|-------------|
|`[VBRDiscoveredOracleRMANEntityType]`|false   |named   |False        |

#### **SAPHANA**
Note: This parameter works for Veeam Plug-in for SAP HANA. Specifies the discovered application.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SAPHANAEntityType**
Note: This parameter works for Veeam Plug-in for SAP HANA. Specifies the application type:
* ScaleOutSystem: clusters.
* Server: servers.
* SAPSystem: SAP systems.
* Database: databases.
The cmdlet will return discovered application of these types.
Valid Values:

* ScaleOutSystem
* Server
* SAPSystem
* Database

|Type                              |Required|Position|PipelineInput        |
|----------------------------------|--------|--------|---------------------|
|`[VBRDiscoveredSAPHANAEntityType]`|false   |named   |True (ByPropertyName)|

#### **SAPOnOracle**
Note: This parameter works for Veeam Plug-in for SAP on Oracle. Specifies the discovered application.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SAPOnOracleEntityType**
Note: This parameter works for Veeam Plug-in for SAP on Oracle. Specifies the application type:
* Server: servers.
* Database: databases.
The cmdlet will return discovered application of these types.
Valid Values:

* Server
* Database

|Type                                  |Required|Position|PipelineInput|
|--------------------------------------|--------|--------|-------------|
|`[VBRDiscoveredSAPOnOracleEntityType]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRDiscoveredSAPHANAEntityType

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRDiscoveredApplication [-MongoDB] [-MongoDBEntityType {ReplicaSet | ReplicaSetNode}] [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRDiscoveredApplication [-Name <String[]>] [-OracleRMAN] [-OracleRMANEntityType {RAC | Server | OracleHome | Database}] [<CommonParameters>]
```
```PowerShell
Get-VBRDiscoveredApplication [-Name <String[]>] [-SAPHANA] [-SAPHANAEntityType {ScaleOutSystem | Server | SAPSystem | Database}] [<CommonParameters>]
```
```PowerShell
Get-VBRDiscoveredApplication [-Name <String[]>] [-SAPOnOracle] [-SAPOnOracleEntityType {Server | Database}] [<CommonParameters>]
```

Get-VBRDiscoveredComputer
-------------------------

### Synopsis
Returns discovered computers.

---

### Description

This cmdlet returns discovered computers from all protection groups or from selected protection groups. Use an appropriate parameter set for each case.
Veeam Backup & Replication regularly performs discovery operations for computers in a protection group. During a discovery operation, Veeam Backup & Replication connects to computers and gathers information about them. After the discovery operation is complete, Veeam Backup & Replication recognizes processed computers as discovered.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Rescan-VBREntity](Rescan-VBREntity.md)

---

### Examples
> Example 1. Getting Discovered Computers of All Protection Groups

```PowerShell
Get-VBRDiscoveredComputer
This command returns discovered computers of all protection groups.
```
> Example 2. Getting Discovered Computers of Selected Protection Group

$group = Get-VBRProtectionGroup -Name "Support_East"
Get-VBRDiscoveredComputer -ProtectionGroup $group
This example shows how to get discovered computers of a selected protection group.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRDiscoveredComputer cmdlet. Set the $group variable as the ProtectionGroup parameter value.
> Example 3. Getting Active Directory Discovered Computers of Several Protection Groups

$groups = Get-VBRProtectionGroup -Name "Support_East", "Support_North"
Get-VBRDiscoveredComputer -Type ActiveDirectory -ProtectionGroup $groups
This example shows how to get Active Directory discovered computers of several protection groups.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $groups variable.
2. Run the Get-VBRDiscoveredComputer cmdlet. Set the ActiveDirectory option for the Type parameter. Set the $groups variable as the ProtectionGroup parameter value.

---

### Parameters
#### **ProtectionGroup**
Specifies the array of protection groups. The cmdlet will look for discovered computers in these groups.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRProtectionGroup[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Type**
Specifies the array types:
* Computer: standalone computers
* Cluster: computers that are part of a cluster
* ActiveDirectory: Active Directory computers
The cmdlet will return discovered computers of these types.
Valid Values:

* Computer
* Cluster
* ActiveDirectory

|Type                         |Required|Position|PipelineInput        |
|-----------------------------|--------|--------|---------------------|
|`[VBRDiscoveredEntityType[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRProtectionGroup[]

Veeam.Backup.PowerShell.Infos.VBRDiscoveredEntityType[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRDiscoveredComputer [-ProtectionGroup <VBRProtectionGroup[]>] [-Type {Computer | Cluster | ActiveDirectory}] [<CommonParameters>]
```

Get-VBRDiscoveredComputerConfigurationPolicy
--------------------------------------------

### Synopsis
Returns configuration options applied to protected computers.

---

### Description

This cmdlet returns the list of configuration options applied to individual computers or computers in a protection group using the Add-VBRDiscoveredComputerConfigurationPolicy cmdlet. Note: If you run the cmdlet with the DiscoveredComputer or ProtectionGroup parameter, the cmdlet returns only those configuration options that were applied with the specified parameter. For example, if you applied different configuration options to a computer with the DiscoveredComputer and ProtectionGroup parameters and you run the cmdlet with the DiscoveredComputer parameter, the cmdlet will return only configuration options applied with the DiscoveredComputer parameter.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

---

### Examples
> Viewing Veeam Agent Settings for Protection Group

$group = Get-VBRProtectionGroup -Name "BackupServers"
Get-VBRDiscoveredComputerConfigurationPolicy -ProtectionGroup $group
This example shows how to return settings applied to computers that are members of the BackupServers protection group.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRDiscoveredComputerConfigurationPolicy cmdlet. Set the $group variable as the ProtectionGroup parameter value.

---

### Parameters
#### **DiscoveredComputer**
Specifies an array of discovered computers. The cmdlet will return configuration options that were applied to the computers using this parameter.

|Type                     |Required|Position|PipelineInput        |
|-------------------------|--------|--------|---------------------|
|`[VBRDiscoveredComputer]`|true    |named   |True (ByPropertyName)|

#### **Id**
Specifies the ID of the configuration policy.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[Guid]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ProtectionGroup**
Specifies an array of protection groups. This cmdlet will return configuration options that were applied to computers in a protection group using this parameter.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRProtectionGroup]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid

Veeam.Backup.PowerShell.Infos.VBRProtectionGroup

Veeam.Backup.PowerShell.Infos.VBRDiscoveredComputer

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRDiscoveredComputerConfigurationPolicy -DiscoveredComputer <VBRDiscoveredComputer> [<CommonParameters>]
```
```PowerShell
Get-VBRDiscoveredComputerConfigurationPolicy -Id <Guid> [<CommonParameters>]
```
```PowerShell
Get-VBRDiscoveredComputerConfigurationPolicy -ProtectionGroup <VBRProtectionGroup> [<CommonParameters>]
```

Get-VBRDiscoveredComputerUpdate
-------------------------------

### Synopsis
Returns available Veeam Agent private fixes.

---

### Description

This cmdlet returns the list of available Veeam Agent private fixes.
You can get all available private fixes or search for instances directly by the issue number or version.

---

### Examples
> Example 1. Returning All Available Private Fixes

```PowerShell
Get-VBRDiscoveredComputerUpdate
This command returns all available private fixes.
```
> Example 2. Returning Private Fixes by Issue Number

```PowerShell
Get-VBRProtectionGroup -Id 188235
This command returns private fixes by the issue number.
```
> Example 3. Returning Private Fixes by Version Number

```PowerShell
Get-VBRProtectionGroup -AgentVersion 2.1
This command returns private fixes by the major and minor version numbers.
```
> Example 4. Returning Private Fixes by Version, Build and Revision Numbers

```PowerShell
Get-VBRProtectionGroup -AgentVersion 2.1.10.304
This command returns private fixes by the major and minor version numbers, the build number and the revision number.
```

---

### Parameters
#### **AgentVersion**
Specifies the version of the private fix.
The cmdlet will return private fixes of this version.

|Type       |Required|Position|PipelineInput        |
|-----------|--------|--------|---------------------|
|`[Version]`|false   |named   |True (ByPropertyName)|

#### **Id**
Specifies the issue number of the private fix. The cmdlet will return private fixes with this number.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[UInt64]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.UInt64

System.Version

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRDiscoveredComputerUpdate [-AgentVersion <Version>] [-Id <UInt64>] [<CommonParameters>]
```

Get-VBREC2Backup
----------------

### Synopsis
Returns EC2 instance backups.

---

### Description

This cmdlet returns an array of EC2 instance backups.

---

### Examples
> Getting EC2 Instance Backups

```PowerShell
Get-VBREC2Backup
This command returns all EC2 instance backups.
```

---

### Parameters
#### **Name**
Specifies an array of names for EC2 instance backups. The cmdlet will return backups with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBREC2Backup [-Name <String[]>] [<CommonParameters>]
```

Get-VBREncryptedTapeMediumHint
------------------------------

### Synopsis
Returns password hints for encrypted backups stored on tapes.

---

### Description

This cmdlet returns password hints for encrypted backups stored on tapes.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

---

### Examples
> Example - Getting Password Hints for Encrypted Backups on Selected Tape

$tape = Get-VBRTapeMedium -Name "00110001"
Get-VBREncryptedTapeMediumHint -Medium $tape
This example shows how to get the password hints for encrypted backups on the 00110001 tape.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $tape variable.
2. Run the Get-VBREncryptedTapeMediumHint cmdlet. Set the $tape variable as the Medium parameter value.

---

### Parameters
#### **Medium**
Specifies the tape. The cmdlet will return the password hints for the media pool that contains this tape. Accepts the VBRTapeMedium[] object. To get this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeMedium[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeMedium[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBREncryptedTapeMediumHint -Medium <VBRTapeMedium[]> [<CommonParameters>]
```

Get-VBREncryptionKey
--------------------

### Synopsis
Returns encryption keys.

---

### Description

This cmdlet returns encryption keys managed by Veeam Backup & Replication.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

* [Get-VBRImportedEncryptedBackup](Get-VBRImportedEncryptedBackup.md)

---

### Examples
> Example 1. Getting All Encryption Keys

```PowerShell
Get-VBREncryptionKey
This command looks for all encryption keys.
```
> Example 2. Getting Specific Encryption Key

```PowerShell
Get-VBREncryptionKey -Description "Veeam Administrator"
This command looks for an encryption key with description Veeam Administrator.
```

---

### Parameters
#### **Backup**
Specifies the imported backup for which you want to get the encryption key.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRImportedEncryptedBackup]`|true    |1       |True (ByPropertyName, ByValue)|

#### **Description**
Specifies the description of the encryption key you want to get.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|false   |0       |True (ByPropertyName, ByValue)|

#### **Medium**
Specifies the tape for which you want to get the encryption key.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[VBRTapeMedium]`|true    |2       |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

Veeam.Backup.PowerShell.Infos.VBRImportedEncryptedBackup

Veeam.Backup.PowerShell.Infos.VBRTapeMedium

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBREncryptionKey [-Backup] <VBRImportedEncryptedBackup> [<CommonParameters>]
```
```PowerShell
Get-VBREncryptionKey [[-Description] <String>] [<CommonParameters>]
```
```PowerShell
Get-VBREncryptionKey [-Medium] <VBRTapeMedium> [<CommonParameters>]
```

Get-VBREPJob
------------

### Synopsis
Returns backup jobs run by Veeam Agent operating in a standalone mode.

---

### Description

This cmdlet returns backup jobs run by Veeam Agent operating in a standalone mode.

---

### Examples
> Example 1. Getting All Backup Jobs by Veeam Agent in Standalone Mode

```PowerShell
Get-VBREPJob
This command returns all backup jobs run by Veeam Agent operating in a standalone mode.
```
> Example 2. Getting Specific Backup Job by Veeam Agent in Standalone Mode

```PowerShell
Get-VBREPJob -Name "Backup Job Mediaserver"
This command gets a backup job run by Veeam Agent operating in a standalone mode by the job name.
```

---

### Parameters
#### **Id**
Specifies the array of job IDs. The cmdlet will return the backup jobs with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the array of  backup job names. The cmdlet will return jobs with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBREPJob [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBREPJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBREPPermission
-------------------

### Synopsis
Returns user access permissions for backup repositories for Veeam Agent or Veeam Plug-in operating in the standalone mode.

---

### Description

This cmdlet returns user access permissions for a backup repository that is used as a target by Veeam Agent or Veeam Plug-in operating in the standalone mode.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1. Getting Repository Permissions [Using Variable]

$repository = Get-VBRBackupRepository -Name "WinLocal"
Get-VBREPPermission -Repository $repository
This example shows how to get the repository permissions using a variable.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save it to the $repository variable.
2. Run the Get-VBREPPermission cmdlet. Set the $repository variable as the Repository parameter value.
> Example 2. Getting Repository Permissions [Using Pipeline]

Get-VBRBackupRepository -Name "WinLocal" | Get-VBREPPermission
This example shows how to get the repository permissions using a pipeline.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBREPPermission cmdlet.

---

### Parameters
#### **Repository**
Specifies the backup repository. The cmdlet will return the permissions for these repositories.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[CBackupRepository]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBREPPermission -Repository <CBackupRepository> [<CommonParameters>]
```

Get-VBREPSession
----------------

### Synopsis
Returns sessions of backup jobs run by Veeam Agent operating in a standalone mode.

---

### Description

This cmdlet returns sessions of backup jobs run by Veeam Agent operating in a standalone mode.
You can get all jobs sessions or search for instances directly by name. Use an appropriate parameter set for each case.

---

### Examples
> Example 1. Getting All Sessions of Backup Jobs Run by Veeam Agent in Standalone Mode

```PowerShell
Get-VBREPSession
This command returns all sessions of backup jobs run by Veeam Agent operating in a standalone mode.
```
> Example 2. Getting Specific Session of Backup Job Run by Veeam Agent in Standalone Mode

```PowerShell
Get-VBREPSession -Name "Backup Job Mediaserver"
This command gets a specific session of a backup job run by Veeam Agent operating in a standalone mode.
```

---

### Parameters
#### **Name**
Specifies the array of job names. The cmdlet will return jobs with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBREPSession [-Name <String[]>] [<CommonParameters>]
```

Get-VBRExportLogSession
-----------------------

### Synopsis
Returns details on sessions that were started to collect system logs.

---

### Description

This cmdlet returns details on sessions that were started to collect system logs. Run the Export-VBRLogs cmdlet to collect system logs.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Getting Details on all Sessions Started to Collect System Logs

PS C:\Users\Administrator> Get-VBRExportLogSession

Log          : {1, 2, 3, 4...}
CreationTime : 1/10/2020 3:19:16 AM
EndTime      : 1/10/2020 3:20:27 AM
JobId        : cfe697c9-fd5f-4b19-a7b5-f7330a3d828b
Result       : Success
State        : Stopped
Id           : cfe697c9-fd5f-4b19-a7b5-f7330a3d828b

Log          : {1, 2, 3, 4...}
CreationTime : 1/10/2020 3:07:51 AM
EndTime      : 1/10/2020 3:09:08 AM
JobId        : 914d37df-febc-45cd-8eec-a294b30366d0
Result       : Success
State        : Stopped
Id           : 914d37df-febc-45cd-8eec-a294b30366d0
This command returns details on all sessions that were started to collect system logs. The cmdlet output will contain the following details on these sessions: Log, CreationTime, EndTime, JobId, Result, State and Id.
> Example 2. Getting Details on Specific Session Started to Collect System Logs

$job = Get-VBRJob -Name R01
Export-VBRLogs -Job $job -FolderPath "C:\logs"
Log          : {1, 2, 3, 4...}
CreationTime : 1/10/2020 3:19:16 AM
EndTime      : 1/10/2020 3:20:27 AM
JobId        : cfe697c9-fd5f-4b19-a7b5-f7330a3d828b
Result       : Success
State        : Stopped
Id           : cfe697c9-fd5f-4b19-a7b5-f7330a3d828b
This example shows how to get details on the session that was started to collect system logs for the R01 replica job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job parameter value.
2. Run the Export-VBRLogs cmdlet. Set the $job variable as the Job parameter value. Specify the FolderPath parameter value.
The cmdlet output will contain the following details on these sessions: Log, CreationTime, EndTime, JobId, Result, State and Id.

---

### Parameters
#### **Session**
Specifies a session that was started to collect system logs. The cmdlet will return details on this session.

|Type                   |Required|Position|PipelineInput                 |
|-----------------------|--------|--------|------------------------------|
|`[VBRExportLogSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRExportLogSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRExportLogSession [-Session <VBRExportLogSession>] [<CommonParameters>]
```

Get-VBRExternalRepository
-------------------------

### Synopsis
Returns an array of external repositories from the backup infrastructure.

---

### Description

This cmdlet returns an array of external repositories added to the backup infrastructure. You can get the following types of external repositories:
- Amazon S3 object storage.
- Microsoft Azure object storage.

---

### Examples
> Example 1. Getting External Repository by Name

Get-VBRExternalRepository  -Name "External Repository
This command allows you to get an external repository named External Repository.
> Example 2. Getting External Repository by ID

```PowerShell
Get-VBRExternalRepository -Id "0x0x0xxx-000x-0x0x-000-000x00000x0x"
This command allows you to get an external repository by the external repository ID.
```

---

### Parameters
#### **Id**
Specifies the ID of an external repository that you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies the name of an external repository that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRExternalRepository -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRExternalRepository [-Name <String[]>] [<CommonParameters>]
```

Get-VBRFailbackSwitchingSchedule
--------------------------------

### Synopsis
Returns the failback switching schedule.

---

### Description

This cmdlet returns the failback switching schedule.

---

### Related Links
* [Get-VBRCDPReplica](Get-VBRCDPReplica.md)

---

### Examples
> Getting Failback Schedule

$replica = Get-VBRCDPReplica -Name "Win05"
Get-VBRFailbackSwitchingSchedule -Replica $replica
This example shows how to get a failback replica schedule of the CDP replica of the Win05 VM.

Perform the following steps:
1. Run the Get-VBRCDPReplica cmdlet. Specify the Name parameter value. Save the result to the $replica variable.
2. Run the Get-VBRFailbackSwitchingSchedule cmdlet. Set the $replica variable as the Replica parameter.

---

### Parameters
#### **Replica**
Specifies a CDP replica for which you want to get a failback schedule.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBRReplica]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRReplica

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRFailbackSwitchingSchedule -Replica <VBRReplica> [<CommonParameters>]
```

Get-VBRFailoverPlan
-------------------

### Synopsis
Returns existing failover plans or cloud failover plans.

---

### Description

This cmdlet returns existing failover plans or cloud failover plans.

---

### Examples
> Example 1

```PowerShell
Get-VBRFailoverPlan
This command looks for the list of all existing failover plans.
```
> Example 2

```PowerShell
Get-VBRFailoverPlan -Name "MS Exchange Group Failover"
This command looks for failover plan named 'MailServers Failover'.
```
> Example 3

Get-VBRFailoverPlan -Type Cloud
[Cloud] This command gets all cloud failover plans.
> Example 4

$tenant = Get-VBRCloudTenant -Name "ABC Company"
Get-VBRFailoverPlan -Tenant $tenant -Name "MS Exchange Group Failover"
[Cloud provider] This command gets MS Exchange Group Failover failover plan created by the ABC Company tenant.

Perform the following steps:
1. Run the Get-VBRCloudTenant cmdlet. Specify the Name parameter value. Save the result to the $tenant variable.
2. Run the Get-VBRFailoverPlan cmdlet. Set the $tenant variable as the Tenant parameter value. Specify the Name parameter value.

---

### Parameters
#### **Id**
Specifies the array of IDs of the VBRFailoverPlan object you want to add to the failover plan.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

#### **Name**
Specifies the array of names of the failover plans you want to get or search conditions.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Tenant**
Specifies the cloud tenant.
The cmdlet will return failover plans created by this tenant.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[IVBRCloudTenant]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Type**
Specifies the type of the failover plan:
* Local: non-cloud failover plans.
* Cloud: [for cloud user] cloud failover plans.
* Tenant: [for cloud provider] cloud failover plans created by cloud user.
The cmdlet will return the failover plans of the selected type.
Valid Values:

* Local
* Tenant
* Cloud

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRFailoverPlanType]`|true    |named   |False        |

---

### Inputs
System.String[]

System.Guid[]

Veeam.Backup.PowerShell.Infos.IVBRCloudTenant

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRFailoverPlan [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRFailoverPlan [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRFailoverPlan [-Name <String[]>] -Type {Local | Tenant | Cloud} [<CommonParameters>]
```
```PowerShell
Get-VBRFailoverPlan [-Name <String[]>] -Tenant <IVBRCloudTenant> [<CommonParameters>]
```

Get-VBRFCDInstantRecoveryInfo
-----------------------------

### Synopsis
Returns details on the mounting of virtual disks that are recovered within an FCD instant recovery session.

---

### Description

This cmdlet returns details on the mounting of virtual disks that are recovered within an FCD instant recovery session.

---

### Related Links
* [Get-VBRFCDInstantRecoverySession](Get-VBRFCDInstantRecoverySession.md)

---

### Examples
> Getting Details on the Mounting of Virtual Disks Recovered Within FCD Instant Recovery Session

$session = Get-VBRFCDInstantRecoverySession -Id "49664A5F-9C55-4A1F-8E6A-1CD5705A684B"
Get-VBRFCDInstantRecoveryInfo -Session $session
This example shows how to get details on the mounting of the virtual disks that that are recovered within the 49664A5F-9C55-4A1F-8E6A-1CD5705A684B FCD instant recovery session.

Perform the following steps:

1. Run the Get-VBRFCDInstantRecoverySession cmdlet. Specify the Id parameter value. Save the result to the $session variable.
2. Run the Get-VBRFCDInstantRecoveryInfo cmdlet. Set the $session varialbe as the Session parameter value.

---

### Parameters
#### **Session**
Specifies a session that is running to perform an FCD recovery.
The cmdlet will return details on mounting of the virtual disks that are recovered within this session.
Accepts the VBRFCDInstantRecoverySession object.
To create this object, run the Get-VBRFCDInstantRecoverySession cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRFCDInstantRecoverySession]`|true    |0       |False        |

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRFCDInstantRecoveryInfo

---

### Notes

---

### Syntax
```PowerShell
Get-VBRFCDInstantRecoveryInfo [-Session] <VBRFCDInstantRecoverySession> [<CommonParameters>]
```

Get-VBRFCDInstantRecoverySession
--------------------------------

### Synopsis
Returns an array of FCD recovery sessions.

---

### Description

This cmdlets returns an array of sessions that are running to perform FCD recovery.

---

### Examples
> Example 1. Getting all Sessions Running to Perform FCD Recovery

```PowerShell
Get-VBRFCDInstantRecoverySession
This command returns all sessions that are running to perform FCD recovery.
```
> Example 2. Getting Specific Sessions Running to Perform FCD Recovery

```PowerShell
Get-VBRFCDInstantRecoverySession -Id "49664A5F-9C55-4A1F-8E6A-1CD5705A684B", "42696B53-6FEC-4148-9354-AA9E4B52DED9"
This command returns the sessions that are running to perform FCD recovery with the following IDs: 49664A5F-9C55-4A1F-8E6A-1CD5705A684B and 42696B53-6FEC-4148-9354-AA9E4B52DED9.
```

---

### Parameters
#### **Id**
Specifies an array of IDs  that are running to perform FCD recovery.
The cmdlet will return recovery sessions with these IDs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRFCDInstantRecoverySession[]

---

### Notes

---

### Syntax
```PowerShell
Get-VBRFCDInstantRecoverySession [-Id <Guid[]>] [<CommonParameters>]
```

Get-VBRFiler
------------

### Synopsis
Returns enterprise NAS systems added as file shares to the inventory.

---

### Description

This cmdlet returns an array of enterprise NAS systems added to the inventory.

---

### Examples
> Example 1. Getting All Enterprise NAS Systems Added to Veeam Backup & Replication Infrastructure

```PowerShell
Get-VBRFiler

Server               : Veeam.Backup.Core.Common.CHost
AccessCredentials    :
Name                 : pdc-ontap97-1
EnableSnapDiff       : False
Id                   : 7f149320-59c5-49f3-9133-0c5ac04c245d
CacheRepository      : Veeam.Backup.Core.CBackupRepository
BackupIOControlLevel : Medium

Server               : Veeam.Backup.Core.Common.CHost
AccessCredentials    : administrator
Name                 : at-7mode-02
EnableSnapDiff       : False
Id                   : f804cc0c-e959-46c4-8515-47925ab5b77d
CacheRepository      : Veeam.Backup.Core.CBackupRepository
BackupIOControlLevel : Medium
This example shows how to get all enterprise NAS systems added to the backup infrastructure. The cmdlet output will contain the following details on enterprise NAS systems: Server, AccessCredentials, Name, EnableSnapDiff, Id, CacheRepository, BackupIOControlLevel.
```
> Example 2. Getting Enterprise NAS System by Name

```PowerShell
Get-VBRFiler -Name "ontap-2"

Server               : Veeam.Backup.Core.Common.CHost
AccessCredentials    :
Name                 : ontap-2
EnableSnapDiff       : False
Id                   : 7f149320-59c5-49f3-9133-0c5ac04c245d
CacheRepository      : Veeam.Backup.Core.CBackupRepository
BackupIOControlLevel : Medium
This example shows how to get enterprise NAS systems added to the backup infrastructure by specifying their names. The cmdlet output will contain the following details on the enterprise NAS systems: Server, AccessCredentials, Name, EnableSnapDiff, Id, CacheRepository, BackupIOControlLevel.
```
> Example 3. Getting Enterprise NAS System by ID

```PowerShell
Get-VBRFiler -Id "f804cc0c-e959-46c4-8515-47925ab5b77d"

Server               : Veeam.Backup.Core.Common.CHost
AccessCredentials    : administrator
Name                 : at-7mode-02
EnableSnapDiff       : False
Id                   : f804cc0c-e959-46c4-8515-47925ab5b77d
CacheRepository      : Veeam.Backup.Core.CBackupRepository
BackupIOControlLevel : Medium
This example shows how to get enterprise NAS systems added to the backup infrastructure by specifying their IDs. The cmdlet output will contain the following details on the enterprise NAS systems: Server, AccessCredentials, Name, EnableSnapDiff, Id, CacheRepository, BackupIOControlLevel.
```

---

### Parameters
#### **Id**
Specifies an array of IDs of enterprise NAS systems. The cmdlet will return an array of the NAS filers with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names of enterprise NAS systems. The cmdlet will return an array of the enterprise NAS systems with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRFiler -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRFiler -Name <String[]> [<CommonParameters>]
```

Get-VBRFilesInRestorePoint
--------------------------

### Synopsis
Returns backup files in a selected restore point.

---

### Description

This cmdlet returns backup files in a selected restore point.
With this cmdlet, you can get files in restore points created by the following types of jobs:
- Backup jobs
- Backup copy jobs
- vCloud Director backup jobs
- Veeam Agent for Microsoft Windows backup jobs (only volume level backups)
You can get the list of all files in a selected restore point or look for instances directly by name.

---

### Related Links
* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

* [Select-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Select-Object)

---

### Examples
> Example 1. Getting List of Backup Files from Latest Restore Point [Using Pipeline]

$restorepoint = Get-VBRRestorePoint -Name "Webservices01" | Select-Object -Last 1
Get-VBRFilesInRestorePoint -RestorePoint $restorepoint
This example shows how to get the list of files in the last restore point of the Webservices01 backup.
Perform the following steps:
1. Run the Get-VBRRestorePoint cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Select-Object cmdlet. Specify the Last parameter value. Save the result to the $restorepoint variable.
3. Run the Get-VBRFilesInRestorePoint cmdlet. Set the $restorepoint variable as the RestorePoint parameter value.
> Example 2. Getting List of all Backup Files from Restore Point

$restorepoint = Get-VBRRestorePoint -Name "Webservices01"
Get-VBRFilesInRestorePoint -RestorePoint $restorepoint
This example shows how to get a list of files that are added to the Webservices01 restore point.
Perform the following steps:
1. Run the Get-VBRRestorePoint cmdlet. Specify the Name parameter value. Save the result to the $restorepoint variable.
2. Run the Get-VBRFilesInRestorePoint cmdlet. Set the $restorepoint variable as the RestorePoint parameter value.

---

### Parameters
#### **Name**
Specifies the array of names of backup files you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **RestorePoint**
Specifies the restore points for which you want to get the list of backup files.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[COib]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.COib

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRFilesInRestorePoint [-RestorePoint] <COib> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRFreeAgentInstanceConsumptionStatus
-----------------------------------------

### Synopsis
Returns a state of the instance consumption by non-licensed Veeam Agents.

---

### Description

This cmdlet returns a state of the instance consumption by non-licensed Veeam Agents.
- False - indicates that the instance consumption by non-licensed Veeam Agents option is disabled.
- True - indicates that the instance consumption by non-licensed Veeam Agents option is enabled.

---

### Examples
> Getting State of Instance Consumption

```PowerShell
Get-VBRFreeAgentInstanceConsumptionStatus
False
This command returns a state of the instance consumption by non-licensed Veeam Agents.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRFreeAgentInstanceConsumptionStatus [<CommonParameters>]
```

Get-VBRGlobalNotificationOptions
--------------------------------

### Synopsis
Returns global notification settings.

---

### Description

This cmdlet returns the global notification settings on the following events:
- Low disk space
- Support contract expiration
- New product versions, available updates and patches

---

### Examples
> Getting Global Notification Settings

```PowerShell
Get-VBRGlobalNotificationOptions
StorageSpaceThresholdEnabled   : True
StorageSpaceThreshold          : 10
DatastoreSpaceThresholdEnabled : True
DatastoreSpaceThreshold        : 10
SkipVMSpaceThresholdEnabled    : True
SkipVMSpaceThreshold           : 5
NotifyOnSupportExpiration      : True
NotifyOnUpdates                : True
This command returns global notification settings. The cmdlet output will contain information on these settings.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGlobalNotificationOptions [<CommonParameters>]
```

Get-VBRGoogleCloudAccount
-------------------------

### Synopsis
Returns Google Cloud credentials records.

---

### Description

This cmdlet returns an array of existing Google Cloud credentials records managed by Veeam Backup & Replication.

---

### Examples
> Example 1. Getting Google Cloud Account by Access Key

```PowerShell
Get-VBRGoogleCloudAccount -AccessKey "XXXXXXXXXXXXXXXXXXXXXXX"
This command gets a Google Cloud credentials record by the access key.
```
> Example 2. Getting Google Cloud Account by ID

```PowerShell
Get-VBRGoogleCloudAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c", "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
This command gets a Google Cloud credentials record by the ID.
```

---

### Parameters
#### **AccessKey**
Specifies an array of access keys for Google Cloud credentials records. The cmdlet will return Google Cloud credentials records with these access keys.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies an array of IDs for Google Cloud credentials records. The cmdlet will return Google Cloud credentials records with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudAccount [-AccessKey <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRGoogleCloudAccount -Id <Guid[]> [<CommonParameters>]
```

Get-VBRGoogleCloudBackup
------------------------

### Synopsis
Returns backups of Google Cloud VM instances.

---

### Description

This cmdlet returns backups of Google Cloud VM instances. You can use these backups to restore Google Cloud VM instances or to create a backup copy job.

---

### Examples
> Getting All Backups of Google Cloud VM Instances

Get-VBRGoogleCloudBackup
This command returns all backups of Google Cloud VM instances that were created by Veeam Backup & Replication.

---

### Parameters
#### **Name**
Specifies an array of backup names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudBackup [-Name <String[]>] [<CommonParameters>]
```

Get-VBRGoogleCloudBucket
------------------------

### Synopsis
Returns Google Cloud buckets.

---

### Description

This cmdlet returns an array of Google Cloud buckets.
IMPORTANT!
To be able to get a list of all buckets, you must configure the storage.buckets.list permission.

---

### Related Links
* [Get-VBRGoogleCloudAccount](Get-VBRGoogleCloudAccount.md)

* [Connect-VBRGoogleCloudService](Connect-VBRGoogleCloudService.md)

* [Get-VBRGoogleCloudRegion](Get-VBRGoogleCloudRegion.md)

---

### Examples
> Getting Array of Google Cloud Buckets within Region

$account = Get-VBRGoogleCloudAccount -Id "936edf7c-7cf3-4ddc-9895-c7485ef4bb2c"
$connection = Connect-VBRGoogleCloudService -Account $account -ServiceType CapacityTier
$region = Get-VBRGoogleCloudRegion -Connection $connection
Get-VBRGoogleCloudBucket -Connection $connection -Region $region
This example shows how to get an array of all Google Cloud buckets from a particular Google Cloud region.
Perform the following steps:
1. Run the Get-VBRGoogleCloudAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRGoogleCloudService cmdlet. Specify the Account, RegionType, and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRGoogleCloudRegion cmdlet. Specify the Connection parameter value. Save the result to the $region variable.
4. Run the Get-VBRGoogleCloudBucket cmdlet. Specify the following settings:
- Set the $connection variable as the Connection parameter value.
- Set the $region variable as the Region parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with Google Cloud object storage.
The cmdlet will return an array of Google Cloud buckets for this Google Cloud object storage.

|Type                         |Required|Position|PipelineInput                 |
|-----------------------------|--------|--------|------------------------------|
|`[IVBRGoogleCloudConnection]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies a name of the Google Cloud bucket. The cmdlet will return the bucket with this name.
Note: If you do not have permissions to get all buckets, the cmdlet will not return the necessary bucket.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Region**
Specifies an array of Google Cloud regions where Google Cloud buckets are located.
The cmdlet will return an array of Google Cloud buckets from these Google Cloud regions.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRGoogleCloudRegion[]]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRGoogleCloudConnection

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudBucket -Connection <IVBRGoogleCloudConnection> [-Name <String[]>] -Region <VBRGoogleCloudRegion[]> [<CommonParameters>]
```

Get-VBRGoogleCloudComputeAccount
--------------------------------

### Synopsis
Returns Google Cloud service account credentials record.

---

### Description

This cmdlet returns Google Cloud service account credential records.

---

### Examples
> Example 1. Getting Google Cloud Service Account by ID

```PowerShell
Get-VBRGoogleCloudComputeAccount -Id "860aa7c0-3f4d-44f8-9deb-f86196f37660"
This command gets a Google Cloud service account credentials record with the 860aa7c0-3f4d-44f8-9deb-f86196f37660 ID.
```
> Example 2. Getting Google Cloud Service Account by Name

```PowerShell
Get-VBRGoogleCloudComputeAccount -Name "GCP service acc 1"
This command gets a Google Cloud credentials record with the GCP service acc 1 name.
```

---

### Parameters
#### **Id**
Specifies an ID of the service account.
The cmdlet will return the service account with this ID.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|false   |named   |False        |

#### **Name**
Specifies a name of the service account.
The cmdlet will return the service account with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudComputeAccount [-Id <Guid>] [-Name <String>] [<CommonParameters>]
```

Get-VBRGoogleCloudComputeInstanceType
-------------------------------------

### Synopsis
Returns Google Cloud VM instance types.

---

### Description

This cmdlet returns Google Cloud VM instance types and information about the memory and the CPU available for each VM instance type.

---

### Related Links
* [Get-VBRGoogleCloudComputeRegion](Get-VBRGoogleCloudComputeRegion.md)

* [Get-VBRGoogleCloudComputeZone](Get-VBRGoogleCloudComputeZone.md)

---

### Examples
> Getting VM Instance Types for Google Cloud Region

$computeregion = Get-VBRGoogleCloudComputeRegion -Name "Europe-west1"
$computezone = Get-VBRGoogleCloudComputeZone -Region $computeregion
Get-VBRGoogleCloudComputeInstanceType -Zone $computezone
This example shows how to get an array of VM instance types for the Europe-west1 Google Cloud region.

Perform the following steps:

1. Run the Get-VBRGoogleCloudComputeRegion cmdlet. Specify the Name parameter value. Save the result to the $computeregion variable.
2. Run the Get-VBRGoogleCloudComputeZone cmdlet. Set the $computeregion variable as the Region parameter. Save the result to the $computezone parameter value.
3. Run the Get-VBRGoogleCloudComputeInstanceType cmdlet. Set the $computezone variable as the Zone parameter.

---

### Parameters
#### **Name**
Specifies the name of the Google Cloud VM instance type.
The cmdlet will return the VM instance type with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Zone**
Specifies a Google Cloud availability zone.
The cmdlet will return an array of Google Cloud VM instance types that are available for the specified availability zone.
Accepts the VBRGoogleCloudComputeZone object.
To get this object, run the Get-VBRGoogleCloudComputeZone cmdlet.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeZone]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudComputeInstanceType [-Name <String>] -Zone <VBRGoogleCloudComputeZone> [<CommonParameters>]
```

Get-VBRGoogleCloudComputeRegion
-------------------------------

### Synopsis
Returns Google Cloud regions.

---

### Description

This cmdlet returns Google Cloud regions.

---

### Related Links
* [Get-VBRGoogleCloudComputeAccount](Get-VBRGoogleCloudComputeAccount.md)

---

### Examples
> Getting Regions for Google Cloud Service Account

$account = Get-VBRGoogleCloudComputeAccount -Name "GCP service acc 1"
Get-VBRGoogleCloudComputeRegion -Account $account
This example shows how to return regions for the GCP service acc 1 Google Cloud service account.

Perform the following steps:

Perform the following steps:
1. Run the Get-VBRGoogleCloudComputeAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Get-VBRGoogleCloudComputeRegion cmdlet. Set the $account variable as the Account parameter.

---

### Parameters
#### **Account**
Specifies a Google Cloud service account.
The cmdlet will return regions for the specified Google Cloud service account.
Accepts the VBRGoogleCloudComputeAccount object.
To create this object, run the Add-VBRGoogleCloudComputeAccount cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeAccount]`|true    |named   |False        |

#### **Name**
Specifies a name of the Google Cloud region.
The cmdlet will return the region with the specified name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudComputeRegion -Account <VBRGoogleCloudComputeAccount> [-Name <String>] [<CommonParameters>]
```

Get-VBRGoogleCloudComputeSharedSubnet
-------------------------------------

### Synopsis
Returns subnets of Google Cloud shared VPC network.

---

### Description

This cmdlet returns subnets of Google Cloud shared VPC network.

---

### Related Links
* [Get-VBRGoogleCloudComputeAccount](Get-VBRGoogleCloudComputeAccount.md)

---

### Examples
> Getting Subnets of Shared VPC Network for Google Cloud Service Account

$account = Get-VBRGoogleCloudComputeAccount -Name "GCP service acc 1"
Get-VBRGoogleCloudComputeSharedSubnet -Account $account
This example shows how to get subnets of the shared VPC network for the GCP service acc 1 Google Cloud service account.

Perform the following steps:

1. Run the Get-VBRGoogleCloudComputeAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Get-VBRGoogleCloudComputeSharedSubnet cmdlet. Set the $account variable as the Account parameter.

---

### Parameters
#### **Account**
Specifies a Google Cloud service account.
The cmdlet will return subnets of the shared VPC network for the specified Google Cloud service account.
Accepts the VBRGoogleCloudComputeAccount object.
To create this object, run the Add-VBRGoogleCloudComputeAccount cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeAccount]`|true    |named   |False        |

#### **Name**
Specifies a name of the subnet.
The cmdlet will return the subnet with the specified name

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Region**
Specifies a Google Cloud region.
The cmdlet will return subnets of the shared VPC for the specified Google Cloud region.
Accepts the VBRGoogleCloudComputeRegion object.
To get this object, run the Get-VBRGoogleCloudComputeRegion cmdlet.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudComputeSharedSubnet -Account <VBRGoogleCloudComputeAccount> [-Name <String>] [-Region <String>] [<CommonParameters>]
```

Get-VBRGoogleCloudComputeSubnet
-------------------------------

### Synopsis
Returns subnets for Google Cloud region.

---

### Description

This cmdlet returns subnets for Google Cloud region.

---

### Related Links
* [Get-VBRGoogleCloudComputeRegion](Get-VBRGoogleCloudComputeRegion.md)

* [Get-VBRGoogleCloudComputeAccount](Get-VBRGoogleCloudComputeAccount.md)

* [Get-VBRGoogleCloudComputeVPC](Get-VBRGoogleCloudComputeVPC.md)

---

### Examples
> Getting Subnets for Google Cloud Region

$computeregion = Get-VBRGoogleCloudComputeRegion -Name "Europe-west1"
$account = Get-VBRGoogleCloudComputeAccount -Name "GCP service account 1"
$vpc = Get-VBRGoogleCloudComputeVPC -Account $account
Get-VBRGoogleCloudComputeSubnet -Region $computeregion -VPC $vpc
This example shows how to get subnets for the Europe-west1 Google Cloud region and VPC network of the GCP service account 1 Google Cloud service account.

Perform the following steps:

1. Run the Get-VBRGoogleCloudComputeRegion cmdlet. Specify the Name parameter value. Save the result to the $computeregion variable.
2. Run the Get-VBRGoogleCloudComputeAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
3. Run the Get-VBRGoogleCloudComputeVPC cmdlet. Set the $account variable as the Account parameter. Save the result to the $vpc variable.
4. Run the Get-VBRGoogleCloudComputeSubnet cmdlet. Set the $computeregion variable as the Region parameter. Set the $vpc variable as the VPC parameter.

---

### Parameters
#### **Name**
Specifies a name of the subnet.
The cmdlet will return the subnet with the specified name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Region**
Specifies a Google Cloud region.
The cmdlet will return subnets for the specified Google Cloud region.
Accepts the VBRGoogleCloudComputeRegion object.
To get this object, run the Get-VBRGoogleCloudComputeRegion cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeRegion]`|true    |named   |False        |

#### **VPC**
Specifies a Google Cloud VPC network.
The cmdlet will return subnets for the specified Google Cloud VPC network.
Accepts the VBRGoogleCloudComputeVPC object.
To get this object, run the Get-VBRGoogleCloudComputeVPC cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeVPC]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudComputeSubnet [-Name <String>] -Region <VBRGoogleCloudComputeRegion> [-VPC <VBRGoogleCloudComputeVPC>] [<CommonParameters>]
```

Get-VBRGoogleCloudComputeVPC
----------------------------

### Synopsis
Returns Virtual Private Cloud (VPC) networks.

---

### Description

This cmdlet returns VPC networks.

---

### Related Links
* [Get-VBRGoogleCloudComputeAccount](Get-VBRGoogleCloudComputeAccount.md)

---

### Examples
> Getting VPC Networks for Google Cloud Service Account

$account = Get-VBRGoogleCloudComputeAccount -Name "GCP service account 1"
Get-VBRGoogleCloudComputeVPC -Account $account
This example shows how to get VPC networks for the GCP service account 1 Google Cloud service account.

Perform the following steps:

1. Run the Get-VBRGoogleCloudComputeAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Get-VBRGoogleCloudComputeVPC cmdlet. Set the $account variable as the Account parameter.

---

### Parameters
#### **Account**
Specifies a Google Cloud service account.
The cmdlet will return VPC networks for the specified Google Cloud service account.
Accepts the VBRGoogleCloudComputeAccount object.
To create this object, run the Add-VBRGoogleCloudComputeAccount cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeAccount]`|true    |named   |False        |

#### **Name**
Specifies a name of the VPC network.
The cmdlet will return the VPC network with the specified name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudComputeVPC -Account <VBRGoogleCloudComputeAccount> [-Name <String>] [<CommonParameters>]
```

Get-VBRGoogleCloudComputeZone
-----------------------------

### Synopsis
Returns Google Cloud availability zones.

---

### Description

This cmdlet returns Google Cloud availability zones.

---

### Related Links
* [Get-VBRGoogleCloudComputeRegion](Get-VBRGoogleCloudComputeRegion.md)

---

### Examples
> Getting Availability Zones for Google Cloud Region

$computeregion = Get-VBRGoogleCloudComputeRegion -Name "Europe-west1"
Get-VBRGoogleCloudComputeZone -Region $computeregion
This example shows how to return availability zones for the Europe-west1 Google Cloud region.

Perform the following steps:

1. Run the Get-VBRGoogleCloudComputeRegion cmdlet. Specify the Name parameter value. Save the result to the $computeregion variable.
2. Run the Get-VBRGoogleCloudComputeZone cmdlet. Set the $computeregion variable as the Region parameter.

---

### Parameters
#### **Name**
Specifies a name of the availability zone.
The cmdlet will return the availability zone with the specified name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Region**
Specifies a Google Cloud region.
The cmdlet will return availability zones for the specified Google Cloud region.
Accepts the VBRGoogleCloudComputeRegion object.
To get this object, run the Get-VBRGoogleCloudComputeRegion cmdlet.

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudComputeRegion]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudComputeZone [-Name <String>] -Region <VBRGoogleCloudComputeRegion> [<CommonParameters>]
```

Get-VBRGoogleCloudFolder
------------------------

### Synopsis
Returns Google Cloud folders.

---

### Description

This cmdlet returns an array of Google Cloud folders.

---

### Related Links
* [Get-VBRGoogleCloudAccount](Get-VBRGoogleCloudAccount.md)

* [Connect-VBRGoogleCloudService](Connect-VBRGoogleCloudService.md)

* [Get-VBRGoogleCloudBucket](Get-VBRGoogleCloudBucket.md)

---

### Examples
> Getting Google Cloud Folders

$account = Get-VBRGoogleCloudAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$connection = Connect-VBRGoogleCloudService -Account $account -ServiceType CapacityTier
$bucket = Get-VBRGoogleCloudBucket -Connection $connection -Region $region
Get-VBRGoogleCloudFolder -Connection $connection -Bucket $bucket
This example shows how to get folders added to Google Cloud object storage.
Perform the following steps:
1. Run the Get-VBRGoogleCloudAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRGoogleCloudService cmdlet. Specify the Account and the ServiceType parameters values. Save the result to the $connection variable.
3. Run the Get-VBRGoogleCloudBucket cmdlet. Specify the Connection and Region parameter values. Save the result to the $bucket variable.
4. Run the Get-VBRGoogleCloudFolder cmdlet. Set the $connection variable as the Connection parameter value. Set the $bucket variable as the Bucket parameter value.

---

### Parameters
#### **Bucket**
Specifies an array of Google Cloud buckets. The cmdlet will return an array of the folders added to these buckets.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRGoogleCloudBucket[]]`|true    |named   |False        |

#### **Connection**
Specifies an active session with Google Cloud object storage. The cmdlet will return an array of the folders added to this object storage.

|Type                         |Required|Position|PipelineInput                 |
|-----------------------------|--------|--------|------------------------------|
|`[IVBRGoogleCloudConnection]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for the Google Cloud folders. Veeam Backup & Replication will return the folders with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRGoogleCloudConnection

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudFolder -Bucket <VBRGoogleCloudBucket[]> -Connection <IVBRGoogleCloudConnection> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRGoogleCloudRegion
------------------------

### Synopsis
Returns Google Cloud regions.

---

### Description

This cmdlet returns an array of Google Cloud regions.

---

### Related Links
* [Get-VBRGoogleCloudAccount](Get-VBRGoogleCloudAccount.md)

* [Connect-VBRGoogleCloudService](Connect-VBRGoogleCloudService.md)

---

### Examples
> Getting Google Cloud Regions

$account = Get-VBRGoogleCloudAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$connection = Connect-VBRGoogleCloudService -Account $account -ServiceType CapacityTier
Get-VBRGoogleCloudRegion -Connection $connection
This example shows how to get Google Cloud regions.
Perform the following steps:
1. Run the Get-VBRGoogleCloudAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRGoogleCloudService cmdlet. Specify the Account and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRGoogleCloudRegion cmdlet. Set the $connection variable as the Connection parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with Google Cloud. The cmdlet will return an array of all Google Cloud regions from this session.

|Type                         |Required|Position|PipelineInput                 |
|-----------------------------|--------|--------|------------------------------|
|`[IVBRGoogleCloudConnection]`|false   |named   |True (ByPropertyName, ByValue)|

#### **RegionId**
Specifies an ID of Google Cloud region. The cmdlet will return the Google Cloud region with this IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.IVBRGoogleCloudConnection

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudRegion [-Connection <IVBRGoogleCloudConnection>] [-RegionId <String>] [<CommonParameters>]
```

Get-VBRGoogleCloudRestoreSession
--------------------------------

### Synopsis
Returns restore to Google Cloud sessions.

---

### Description

This cmdlet returns restore to Google Cloud sessions.

---

### Examples
> Getting Session of Machine Restore to Google Compute Engine

```PowerShell
Get-VBRGoogleCloudRestoreSession -Session "New session"
This command gets the New session restore session.
```

---

### Parameters
#### **Id**
Specifies restore session ID.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|false   |named   |False        |

#### **Session**
Specifies restore session name.
Accepts the VBRGoogleCloudRestoreSession object.
To create this object, run the Start-VBRVMRestoreToGoogleCloud cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRGoogleCloudRestoreSession]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGoogleCloudRestoreSession [-Id <Guid>] [-Session <VBRGoogleCloudRestoreSession>] [<CommonParameters>]
```

Get-VBRGuestScriptStateInfo
---------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ConnectionId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **Id**

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[Guid]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRGuestScriptStateInfo -ConnectionId <Guid> -Id <Guid> [<CommonParameters>]
```

Get-VBRHistoryOptions
---------------------

### Synopsis
Returns job sessions history settings.

---

### Description

This cmdlet returns sessions history settings for jobs that are available on a backup server.

---

### Examples
> Getting Job Sessions History Settings

Get-VBRHistoryOptions
KeepAllSessions RetentionLimitWeeks
--------------- -------------------
          False                  13
This command returns history settings for jobs that are available on a backup server.
The cmdlet output will contain the following details on the sessions history settings: KeepAllSessions and RetentionLimitWeeks.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHistoryOptions [<CommonParameters>]
```

Get-VBRHvProxy
--------------

### Synopsis
Returns a list of the Hyper-V backup proxies.

---

### Description

This cmdlet returns a list of the Hyper-V backup proxies added to the backup infrastructure.

---

### Examples
> Example 1. Getting List of Hyper-V Backup Proxies

```PowerShell
Get-VBRHvProxy
This commands gets the list of all the Hyper-V proxies added to the backup infrastructure.
```
> Example 2. Getting Hyper-V Backup Proxy by Name

```PowerShell
Get-VBRHvProxy -Name "LocalProxy"
This command gets the Hyper-V backup proxy with the name LocalProxy.
```

---

### Parameters
#### **Name**
Specifies an array of names of the Hyper-V proxies. The cmdlet will return proxies with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHvProxy [-Name <String[]>] [<CommonParameters>]
```

Get-VBRHvReplicaReIpRule
------------------------

### Synopsis
Returns Hyper-V job re-IP rules.

---

### Description

This cmdlet returns the list of re-IP rules configured for a selected Hyper-V replication job.

---

### Examples
> Example 1

$job = Get-VBRJob -Name "Backup Copy Job 1"
Get-VBRHvReplicaReIpRule -Job $job
This command looks for the re-IP rules set for a replication job.

Perform the following steps:
1. Run the Get-VBRJob cmdlet. Save the result to the $job variable.
2. Run the Get-VBRHvReplicaReIpRule cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the replication job for which you want to get the list of the re-IP rules.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CBackupJob]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHvReplicaReIpRule -Job <CBackupJob> [<CommonParameters>]
```

Get-VBRHvServerConfiguration
----------------------------

### Synopsis
Returns settings of Microsoft Hyper-V hosts added to the backup infrastructure.

---

### Description

This cmdlet returns the following settings of Microsoft Hyper-V hosts that are added to the backup infrastructure:
1. EnableCBT: Specifies changed block tracking settings.
- If set to True, the changed block tracking option is enabled.
- If set to False, the changed block tracking option is disabled.
2. EnableFailover: Specifies the failover option settings.
- If set to True, the failover option is enabled.
- If set to False, the failover option is disabled.
- Default: True.
3. ServerId: Specifies the Microsoft Hyper-V hosts ID.

For more information on settings of Microsoft Hyper-V hosts that are added to the backup infrastructure, see the Specify Settings for Connected Volumes section in the User Guide for Microsoft Hyper-V.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Getting Settings of Microsoft Hyper-V Host

$server = Get-VBRServer -Name hyperv09.tech.local
Get-VBRHvServerConfiguration -Server $server
EnableCBT                          EnableFailover ServerId
---------                          -------------- --------
     True                                    True 01e9fb70-42d8-4de3-b7ef-fcf7aa10cfaa
This example shows how to get settings of the hyperv09.tech.local Microsoft Hyper-V host that is added to the backup infrastructure.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvServerConfiguration cmdlet. Set the $server variable as the Server parameter value.
The cmdlet output will contain the following settings: EnableCBT, EnableFailover and ServerId.

---

### Parameters
#### **Server**
Specifies a Microsoft Hyper-V host added to the backup infrastructure. The cmdlet will return details about this Hyper-V host.s

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHvServerConfiguration -Server <CHost> [<CommonParameters>]
```

Get-VBRHvServerNetworkInfo
--------------------------

### Synopsis
Returns virtual networks for a Hyper-V host.

---

### Description

This cmdlet returns the list of all virtual networks to which a selected Hyper-V host is connected.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Where-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Core/Where-Object)

---

### Examples
> Example 1. Getting all Networks Connected to Specific Hyper-V Host

```PowerShell
Get-VBRHvServerNetworkInfo -Server "srv01.tech.local"
This command shows how to get all networks to which the srv01.tech.local host is connected.
```
> Example 2. Getting Networks Connected to Specific Hyper-V Host Using Host Name

$server = Get-VBRServer -Type HvServer -Name "srv01.tech.local"
Get-VBRHvServerNetworkInfo -Server $server
This command shows how to look for the networks to which the srv01.tech.local host is connected.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Get-VBRHvServerNetworkInfo cmdlet. Set the $server variable as the Server parameter value.
> Example 3. Getting Specific Network Connected to Specific Hyper-V Host

$networks = Get-VBRHvServerNetworkInfo -Server "srv01.tech.local"
$targetnetwork = $networks[5]
This example shows how get one network from the list of networks that are connected to the srv01.tech.local host.
Perform the following steps:
1. Run the Get-VBRHvServerNetworkInfo cmdlet. Specify the Server parameter value. Save the result to the $networks variable.
2. The Get-VBRHvServerNetworkInfo cmdlet will return an array of networks. Specify the necessary network of the $networks variable using the square brackets. Save the result to the $targetnetwork variable.

---

### Parameters
#### **Server**
Specifies the Hyper-V host. The cmdlet will return virtual networks connected to this host.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHvServerNetworkInfo -Server <CHost> [<CommonParameters>]
```

Get-VBRHvServerVolume
---------------------

### Synopsis
Returns volume-specific settings for Microsoft Hyper-V hosts.

---

### Description

This cmdlet returns volume-specific settings for Microsoft Hyper-V hosts.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Getting Volume Settings for Microsoft HyperV Hosts

$server = Get-VBRServer -Name hyperv09.tech.local
Get-VBRHvServerVolume -Server $server
Id           : 5f11f8e1-f10e-43a0-b1ea-b7307c97331a
ServerId     : 0216cada-ed31-4c33-bdfe-b3b24beda391
MountPoint   : C:\
Type         : Local
VssProvider  : Veeam.Backup.PowerShell.Infos.VSSProviderObject
MaxSnapshots : 5

Id           : 3e1c1860-9632-4b9a-adb1-b70297c9669e
ServerId     : 617fb448-6aac-47cb-a94c-893eef8dc224
MountPoint   : D:\
Type         : Local
VssProvider  : Veeam.Backup.PowerShell.Infos.VSSProviderObject
MaxSnapshots : 4
This example shows how to get volume settings for Microsoft Hyper-V hosts.
The cmdlet output will contain the following settings Id, ServerId, MountPoint, Type, VssProvider and MaxSnapshots.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvServerVolume cmdlet. Set the $server variable as the Server parameter value.

---

### Parameters
#### **MountPoint**
Specifies a mount point of a Microsoft Hyper-V host. The cmdlet will return a Microsoft Hyper-V host with the specified mount point.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Server**
Specifies a Microsoft Hyper-V host added to the backup infrastructure. The cmdlet will return the volume-specific settings of this Microsoft Hyper-V host.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Type**
Specifies a type of volume that is added to a Microsoft Hyper-V host.
The cmdlet will return Microsoft Hyper-V hosts with the specified types of volumes of the specified types:
* Csv
* Cluster
* Local
* ScaleOut
* LocalShare
Valid Values:

* Csv
* Cluster
* Local
* ScaleOut
* LocalShare

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[EVBRHvVolumeType[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **VolumeId**
Specifies an ID of the volume that is added to a Microsoft Hyper-V host.
The cmdlet will return Microsoft Hyper-V host with the specified volume ID.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[Guid]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

Veeam.Backup.PowerShell.Infos.EVBRHvVolumeType[]

System.String

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHvServerVolume [-MountPoint <String>] -Server <CHost> [-Type {Csv | Cluster | Local | ScaleOut | LocalShare}] [-VolumeId <Guid>] [<CommonParameters>]
```

Get-VBRHvVirtualLabConfiguration
--------------------------------

### Synopsis
Returns virtual labs and their settings.

---

### Description

This cmdlet returns the VBRHvVirtualLabConfiguration object that contains an array of virtual labs and all their settings. You can use this object to modify settings of virtual labs.
Run the Set-VBRHvVirtualLab cmdlet to modify settings of virtual labs.

---

### Parameters
#### **Id**
Specifies an array of IDs for a virtual lab. The cmdlet will return an array of virtual labs with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies an array of names for a virtual lab. The cmdlet will return an array of virtual labs with the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHvVirtualLabConfiguration [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRHvVirtualLabConfiguration [-Name <String[]>] [<CommonParameters>]
```

Get-VBRHvVssProvider
--------------------

### Synopsis
Returns VSS providers.

---

### Description

This cmdlet returns an array of VSS providers that are available on Microsoft Hyper-V hosts.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Getting all VSS Providers

$server = Get-VBRServer -Name hyperv09.tech.local
Get-VBRHvVssProvider -Server $server
This example shows how to get all VSS providers that are available on the hyperv09.tech.local Microsoft Hyper-V host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvVssProvider cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Getting VSS Provider by Name

$server = Get-VBRServer -Name hyperv09.tech.local
Get-VBRHvVssProvider -Server $server -Name "Microsoft CSV Shadow Copy Helper Provider"
This example shows how to get the Microsoft CSV Shadow Copy Helper Provider VSS provider that is available on the hyperv09.tech.local Microsoft Hyper-V host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvVssProvider cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value.
> Example 3. Getting VSS Provider by ID

$server = Get-VBRServer -Name hyperv09.tech.local
Get-VBRHvVssProvider -Server $server -Id "6ca4d514-5f94-4913-800c-48fc0d87c75c"
This example shows how to get the 6ca4d514-5f94-4913-800c-48fc0d87c75c VSS provider that is available on the hyperv09.tech.local Microsoft Hyper-V host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRHvVssProvider cmdlet. Set the $server variable as the Server parameter value. Specify the Id parameter value.

---

### Parameters
#### **Id**
Specifies an ID of a VSS provider. The cmdlet will return the VSS provider with this ID.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[Guid]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies a name of a VSS provider. The cmdlet will return the VSS provider with this name.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Server**
Specifies a Microsoft Hyper-V host added to the backup infrastructure. The cmdlet will return VSS providers that are available on this Microsoft Hyper-V host.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

System.String

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRHvVssProvider [-Id <Guid>] -Server <CHost> [<CommonParameters>]
```
```PowerShell
Get-VBRHvVssProvider [-Name <String>] -Server <CHost> [<CommonParameters>]
```

Get-VBRImportedEncryptedBackup
------------------------------

### Synopsis
Returns imported encrypted backups.

---

### Description

This cmdlet returns imported encrypted backup.  You can get the list of all imported encrypted backups, or narrow down the output by the backups names.

---

### Examples
> Example 1. Returning all Imported Encrypted Backups

```PowerShell
Get-VBRImportedEncryptedBackup
The command returns all imported encrypted backups.
```
> Example 2. Returning Specific Imported Encrypted Backup

```PowerShell
Get-VBRImportedEncryptedBackup -Name "Atlanta SQL Server Backup"
The command returns an imported encrypted backup named "Atlanta SQL Server Backup".
```

---

### Parameters
#### **Name**
Specifies the array of names of the imported encrypted backups. The cmdlet will return backups with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRImportedEncryptedBackup [-Name <String[]>] [<CommonParameters>]
```

Get-VBRImportedEncryptedBackupHint
----------------------------------

### Synopsis
Returns password hints for imported encrypted backups.

---

### Description

This cmdlet returns password hints for a selected imported encrypted backup.

---

### Related Links
* [Get-VBRImportedEncryptedBackup](Get-VBRImportedEncryptedBackup.md)

---

### Examples
> Getting Password Hints for Imported Encrypted Backup

$encryptedbackup = Get-VBRImportedEncryptedBackup -Name "Atlanta SQL Server Backup"
Get-VBRImportedEncryptedBackupHint -Backup $encryptedbackup
The example shows how to get the password hints for an imported encrypted backup.
Perform the following steps:
1. Run the Get-VBRImportedEncryptedBackup cmdlet. Specify the Name parameter value. Save the result to the $encryptedbackup variable.
2. Run the Get-VBRImportedEncryptedBackupHint cmdlet. Set the $encryptedbackup variable as the Backup parameter value.

---

### Parameters
#### **Backup**
Specifies the imported encrypted backup. The cmdlet will return hints for this backup.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRImportedEncryptedBackup]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRImportedEncryptedBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRImportedEncryptedBackupHint -Backup <VBRImportedEncryptedBackup> [<CommonParameters>]
```

Get-VBRInstalledLicense
-----------------------

### Synopsis
Returns details about licenses installed on a backup server.

---

### Description

This cmdlet returns details about licenses installed on a backup server.
For more information on the license report, see the Viewing License Information section of User Guide for VMware vSphere.

---

### Examples
> Example 1. Getting Details About License

```PowerShell
Get-VBRInstalledLicense
This command returns details about a license installed on a backup server.
```
> Example 2. Getting Details About Licensed CPU Sockets

$license = Get-VBRInstalledLicense
$license.SocketLicenseSummary
LicensedSocketsNumber UsedSocketsNumber RemainingSocketsNumber     Type
--------------------- ----------------- ----------------------     ----
                    3                 2                     15   HyperV
                    2                 1                     20  vSphere
This example shows how to get details about a number of licensed CPU sockets on protected Microsoft Hyper-V hosts and VMware ESXi hosts.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Get the SocketLicenseSummary property of the $license variable.
> Example 3. Getting Details About Available Licenses

$license =  Get-VBRInstalledLicense
$license.InstanceLicenseSummary
LicensedInstancesNumber : 1000
UsedInstancesNumber     : 2
NewInstancesNumber      : 0
RentalInstancesNumber   : 0
Object                  : {Veeam.Backup.PowerShell.Infos.VBRInstanceLicenseSummaryObject}
Workload                : {srv009, SQLsrv}
This example shows how to get details about a number of available instances.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Get the InstanceLicenseSummary property of the $license variable.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRInstalledLicense [<CommonParameters>]
```

Get-VBRInstanceLicenseSummary
-----------------------------

### Synopsis
Returns details on the per-instance license usage.

---

### Description

This cmdlet returns the VBRInstanceLicenseSummary object that contains details on the per-instance license usage.

---

### Related Links
* [Get-VBRInstalledLicense](Get-VBRInstalledLicense.md)

---

### Examples
> Getting Details on PerInstance License

$license = Get-VBRInstalledLicense
Get-VBRInstanceLicenseSummary -License $license
LicensedInstancesNumber : 1000
UsedInstancesNumber     : 2
NewInstancesNumber      : 0
RentalInstancesNumber   : 0
Object                  : {Veeam.Backup.PowerShell.Infos.VBRInstanceLicenseSummaryObject}
Workload                : {BackupServer01, SQLServer05}
This example shows how to get details on the per-socket license usage.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Run the Get-VBRInstanceLicenseSummary cmdlet. Set the $license variable as the License parameter value.
The cmdlet output will contain the following details on the per-instance license usage: LicensedInstancesNumber, UsedInstancesNumber, NewInstancesNumber, RentalInstancesNumber, Object and Workload.

---

### Parameters
#### **License**
Specifies a license. The cmdlet will return details on the per-instance license usage for this license.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRInstalledLicense]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRInstanceLicenseSummary -License <VBRInstalledLicense> [<CommonParameters>]
```

Get-VBRInstantRecovery
----------------------

### Synopsis
Returns running Instant Recovery sessions.

---

### Description

This cmdlet returns Instant Recovery (including Instant Recovery for first class disks, file shares and so on) sessions running at the moment. If you do not specify cmdlet parameters, the cmdlet will return all running Instant Recovery sessions.
You can get the information about the Instant Recovery sessions in short or detailed view.

---

### Examples
> Example 1

```PowerShell
Get-VBRInstantRecovery -Full
This command gets the list of the instant recovery sessions in detailed view.
```

---

### Parameters
#### **Full**
Specifies the information on sessions and history returned in detailed view.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Id**
Specifies IDs of Instant Recovery sessions that you want to return.
Tip: You can find the session ID in an object returned by the cmdlet that launched the Instant Recovery session.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.IPSInstantRecovery[]

---

### Notes

---

### Syntax
```PowerShell
Get-VBRInstantRecovery [-Full] [-Id <Guid[]>] [<CommonParameters>]
```

Get-VBRInstantRecoveryMigration
-------------------------------

### Synopsis
Returns running migration sessions launched during Instant Recovery.

---

### Description

This cmdlet returns migration sessions launched during Instant Recovery (including Instant Recovery for first class disks, file shares and so on) and running at the moment.
If you do not specify cmdlet parameters, the cmdlet will return all running migration sessions launched during Instant Recovery.

---

### Examples
> Example 1

$nasInstantRecovery = Get-VBRNASInstantRecovery -Id "49664A5F-9C55-4A1F-8E6A-1CD5705A684B"
$session = Start-VBRNASInstantRecoveryMigration -InstantRecovery $nasInstantRecovery
$migrationsession = Get-VBRInstantRecoveryMigration -Id $session.Id
This example shows how to get the migration session.

Perform the following steps:
1. Run the Get-VBRNASInstantRecovery cmdlet. Specify the Id parameter value. Save the result to the $nasInstantRecovery variable.
2. Run the Start-VBRNASInstantRecoveryMigration cmdlet. Set the $nasInstantRecovery variable as the InstantRecovery parameter value. Save the result to the $session variable.
3. Run the Get-VBRInstantRecoveryMigration cmdlet. Set the Id property of the $session variable as the Id parameter value. Save the result to the $migrationsession variable.

---

### Parameters
#### **Id**
Specifies IDs of migration sessions that you want to return.
Tip: You can find the session ID in an object returned by the cmdlet that launched the migration session.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.InstantRecoveryMigration[]

---

### Notes

---

### Syntax
```PowerShell
Get-VBRInstantRecoveryMigration [-Id <Guid[]>] [<CommonParameters>]
```

Get-VBRIsilonHost
-----------------

### Synopsis
Returns Dell PowerScale (formerly Isilon) storage systems.

---

### Description

You can get the list of all Dell PowerScale storage systems added to your virtual infrastructure or narrow down the output by storage name.

---

### Examples
> Example 1. Returning All Dell PowerScale Storage Systems

```PowerShell
Get-VBRIsilonHost
This command returns all Dell PowerScale storage systems.
```
> Example 2. Returning Dell PowerScale Storage Systems by Name

```PowerShell
Get-VBRIsilonHost -Name "Isilon Storage"
This command returns a Dell PowerScale storage by name.
```

---

### Parameters
#### **Name**
Specifies an array of storage names.
The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRIsilonHost [-Name <String[]>] [<CommonParameters>]
```

Get-VBRIsilonInfrastructureVolume
---------------------------------

### Synopsis
Returns volumes of Dell PowerScale (formerly Isilon) storage systems.

---

### Description

This cmdlet returns an array of volumes of Dell PowerScale storage systems.
The cmdlet will return storage volumes even if they are not added to your backup infrastructure.

TIP: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Examples
> Example 1. Getting All Dell EPowerScale Volumes

```PowerShell
Get-VBRIsilonInfrastructureVolume
This command returns all volumes added to Dell PowerScale storage systems.
```
> Example 2. Getting Dell PowerScale Volumes by Name

```PowerShell
Get-VBRIsilonInfrastructureVolume -Name "Volume4", "Volume5"
This command returns Dell PowerScale storage volumes by the volume name.
```

---

### Parameters
#### **Host**
Specifies a storage.
The cmdlet will return an array of volumes added to that storage system.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[CIsilonHost]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names that you want to get.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Isilon.CIsilonHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRIsilonInfrastructureVolume [-Host <CIsilonHost>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRIsilonVolume
-------------------

### Synopsis
Returns Dell PowerScale (formerly Isilon) volumes added to the backup infrastructure.

---

### Description

This cmdlet returns Dell PowerScale volumes added to the backup infrastructure.

---

### Related Links
* [Get-VBRIsilonHost](Get-VBRIsilonHost.md)

---

### Examples
> Getting Dell PowerScale Volume Added to Backup Infrastructure

$storage = Get-VBRIsilonHost -Name "Isilon Storage"
Get-VNXVolume -Name "VOLUME1" -Host $storage
This example shows how to get a Dell PowerScale volume added to the backup infrastructure.

Perform the following steps:

1. Run the Get-VBRIsilonHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.   2. Run the Get-VBRIsilonVolume cmdlet. Specify the Name parameter value. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies a storage. The cmdlet will return an array of volumes added to that storage system. Accepts the CIsilonHost object. To create this object, run the Get-VBRIsilonHost cmdlet.

|Type             |Required|Position|PipelineInput                 |
|-----------------|--------|--------|------------------------------|
|`[CIsilonHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names that you want to get. The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Isilon.CIsilonHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRIsilonVolume [-Host <CIsilonHost[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRItemSession
------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Session**

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBRSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRItemSession -Session <VBRSession> [<CommonParameters>]
```

Get-VBRJob
----------

### Synopsis
Returns existing jobs.

---

### Description

This cmdlet returns jobs stored in Veeam Backup & Replication database.
With this cmdlet, you can get the following jobs:
- Backup jobs
- Replication jobs
- Backup copy jobs
- File copy jobs
- VM Copy jobs
- Object storage backup jobs
You can get the list of all jobs or look for instances directly by name.
Run the Get-VBRBackupSession or Get-VBRTaskSession cmdlets to get the information on job session or session tasks.
Run the Get-VBRTapeJob cmdlet to get tape jobs.
Run the Get-VBRSureBackupJob cmdlet to get SureBackup jobs.
Run the Get-VBREPJob cmdlet to get Veeam Agent for Microsoft Windows backup jobs.
Important:
The Get-VBRJob cmdlet is deprecated for Veeam Agent jobs and policies. Run the Get-VBRComputerBackupJob cmdlet instead.

---

### Examples
> Example 1. Getting List of Backup Copy Jobs

```PowerShell
Get-VBRJob -Name "Backup Copy Job"
This command gets the list of backup copy jobs.
```

---

### Parameters
#### **Name**
Specifies the array of job names. The cmdlet will return jobs with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRJobObject
----------------

### Synopsis
Returns VMs or VM containers of specific jobs.

---

### Description

This cmdlet returns the following VMs or VM containers of specific jobs:
- VMs
- VM containers
- Datastores
- Resource pools
You can run this cmdlet for backup, replication, backup copy, VM copy or file copy jobs.
Note: The cmdlet returns only the objects added to a job. For example, if you have added datastores, the cmdlet will return these datastores. The cmdlet will not return VMs from these datastores.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Looking for VM in Specific Job [Using Pipeline]

Get-VBRJob -Name "VM Copy Job 01" | Get-VBRJobObject -Name *SharePoint*
This example shows how to look for the SharePoint VM in the VM Copy Job 01 job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRJobObject cmdlet. Specify the Name parameter.
> Example 2. Looking for VM in Specific Job [Using Variable]

$job = Get-VBRJob
Get-VBRJobObject -Job $job -Name "SharePoint"
This example shows how to look for the SharePoint VM in the job represented by the $job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Save the result to the $job variable.
2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Specify the Name parameter.

---

### Parameters
#### **Job**
Specifies the job. The cmdlet will return objects of this job.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CBackupJob]`|true    |0       |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of job object names (for example, VMs). The cmdlet will filter the objects of the job by these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackupJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRJobObject [-Job] <CBackupJob> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRJobObjectVssOptions
--------------------------

### Synopsis
Returns VSS settings of a specific VM in job.

---

### Description

This cmdlet returns VSS settings set for a specific VM in job.
Run the Get-VBRJobVssOptions cmdlet to get the list of VSS options of a specific job.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRJobObject](Get-VBRJobObject.md)

---

### Examples
> Example 1. Looking for VSS Settings of VM Included in Specific Job [Using Pipeline]

Get-VBRJob -Name "Exchange Backup Copy" | Get-VBRJobObject | Select -First 1 | Get-VBRJobObjectVssOptions
This example shows how to look for the VSS settings of the first VM included in the Exchange Backup Copy job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRJobObject cmdlet.
3. Pipe the cmdlet output to the Select. Set the 1 number as the First parameter value.
4. Pipe the cmdlet output to the Get-VBRJobObjectVssOptions cmdlet.
> Example 2. Looking for VSS Settings of VM [Using Variable]

$job = Get-VBRJob -Name "Exchange Backup Copy"
$vm = Get-VBRJobObject -Job $job
Get-VBRJobObjectVssOptions -ObjectInJob $vm
This example shows how to look for the VSS settings of the VM represented by the $vm variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRJobObject cmdlet. Set the $job variable as the Job parameter value. Save the result to the $vm variable.
3. Run the Get-VBRJobObjectVssOptions cmdlet. Set the $vm variable as the ObjectInJob parameter value.

---

### Parameters
#### **ObjectInJob**
Specifies the VMs or VM containers for which you want to get VSS options.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CObjectInJob]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CObjectInJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRJobObjectVssOptions [-ObjectInJob] <CObjectInJob> [<CommonParameters>]
```

Get-VBRJobOptions
-----------------

### Synopsis
Returns job settings.

---

### Description

This cmdlet returns job settings for a selected job.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRJobObject](Get-VBRJobObject.md)

---

### Examples
> Example 1. Looking for List of Options of the Specific Job [Using Pipeline]

Get-VBRJob -Name "Fileserver Replica" | Get-VBRJobOptions
This example shows how to look for the list of options of the Fileserver Replica job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRJobOptions cmdlet.
> Example 2. Looking for List of Options of Job [Using Variable]

$fileserver_replica_job = Get-VBRJobObject -Name "Fileserver Replica"
Get-VBRJobOptions -Job $fileserver_replica_job
This example shows how to look for the list of options of the Fileserver Replica job.
Perform the following steps:
1. Run the Get-VBRJobObject cmdlet. Specify the Name parameter value. Save the result to the $fileserver_replica_job variable.
2. Run the Get-VBRJobOptions cmdlet. Set the $fileserver_replica_job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the job. The cmdlet will return settings of this job.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRJobOptions [-Job] <CBackupJob[]> [<CommonParameters>]
```

Get-VBRJobProxy
---------------

### Synopsis
Returns a list of proxy servers assigned to a specific job.

---

### Description

This cmdlet returns proxy servers assigned to a specific job. If the automatic proxy selection is enabled, the cmdlet will return a warning.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Example 1. Getting List of Target Proxies [Using Pipeline]

Get-VBRJob -Name "Backup Copy" | Get-VBRJobProxy -Target
This example shows how to get a list of target proxies assigned to the Backup Copy job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRJobProxy cmdlet. Provide the Target parameter.
> Example 2. Getting List of Target Proxies [Using Variable]

$job = Get-VBRJob -Name "Backup Copy"
Get-VBRJobProxy -Job $job -Target
This example shows how to get a list of proxies assigned to the Backup Copy job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRJobProxy cmdlet. Set the $job variable as the Job parameter value. Provide the Target parameter.

---

### Parameters
#### **Job**
Specifies an array of jobs. The cmdlet will return proxies assigned to these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Target**
Defines that the cmdlet will return only target proxies.
Default: False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRJobProxy -Job <CBackupJob[]> [-Target] [<CommonParameters>]
```

Get-VBRJobScheduleOptions
-------------------------

### Synopsis
Returns job scheduling settings.

---

### Description

This cmdlet returns job scheduling options for a selected job.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRJobObject](Get-VBRJobObject.md)

---

### Examples
> Example 1. Looking for List of Scheduling Options of Specific Job [Using Pipeline]

Get-VBRJob -Name "ActiveDirectory Copy Job" | Get-VBRJobScheduleOptions
This example shows how to look for the list of scheduling options of the ActiveDirectory Copy Job job.

Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRJobScheduleOptions cmdlet.
> Example 2. Looking for List of Options of Job Represented by Variable

$activedirectory_copy_job = Get-VBRJob -Name "ActiveDirectory Copy Job"
Get-VBRJobScheduleOptions -Job $activedirectory_copy_job
This example shows how to look for the list of options of the job represented by the $activedirectory_copy_job variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $activedirectory_copy_job variable.
2. Run the Get-VBRJobScheduleOptions cmdlet. Set the $activedirectory_copy_job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the array of jobs.  The cmdlet will return scheduling options of these jobs.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRJobScheduleOptions [-Job] <CBackupJob[]> [<CommonParameters>]
```

Get-VBRJobVSSOptions
--------------------

### Synopsis
Returns VSS settings for a selected job.

---

### Description

This cmdlet returns VSS settings for a selected job.
Run the Get-VBRJobObjectVssOptions cmdlet to get the list of VSS options set for specific objects in a job.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRJobObject](Get-VBRJobObject.md)

---

### Examples
> Example 1. Looking for List of VSS Options of Specific Job [Using Pipeline]

Get-VBRJob -Name "ActiveDirectory Backup" | Get-VBRJobVSSOptions
This example shows how to look for the list of VSS options of the ActiveDirectory Backup job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRJobVSSOptions cmdlet.
> Example 2. Looking for List of Options of Job [Using Variable]

$ad_backup = Get-VBRJob -Name "ActiveDirectory Backup"
Get-VBRJobVSSOptions -Job $ad_backup
This example shows how to look for the list of options of the job represented by the $ad_backup variable.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $ad_backup variable.
2. Run the Get-VBRJobVSSOptions cmdlet. Set the $ad_backup variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the job you want to get the VSS options of.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CBackupJob[]]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRJobVSSOptions [-Job] <CBackupJob[]> [<CommonParameters>]
```

Get-VBRKMSServer
----------------

### Synopsis
Returns KMS servers added to the Veeam Backup & Replication console.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns a Key Management System server (KMS server) added to the Veeam Backup & Replication console.

---

### Examples
> Example 1. Getting KMS Server by ID

```PowerShell
Get-VBRKMSServer -Id "8f723f68-82c6-430d-8915-58a0582440a4" , "8f723f68-82c6-430d-8915-58a0582440a4"
This command returns the 8f723f68-82c6-430d-8915-58a0582440a4 and 8f723f68-82c6-430d-8915-58a0582440a4 KMS servers.
```
> Example 2. Getting KMS Server by Name

```PowerShell
Get-VBRKMSServer -Name "thales.tech.local"
This command returns the thales.tech.local KMS server.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for KMS servers. The cmdlet will return KMS servers with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for KMS servers. The cmdlet will return KMS servers with these names

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRKMSServer -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRKMSServer [-Name <String[]>] [<CommonParameters>]
```

Get-VBRLegacyBackupCopySourceJob
--------------------------------

### Synopsis
Returns legacy periodic backup copy job source objects.

---

### Description

This cmdlet returns legacy periodic backup copy job source objects.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Getting Source Objects of Legacy Periodic Backup Copy Job

$copyjob = Get-VBRJob -Name "LegacyPeriodicJob"
Get-VBRLegacyBackupCopySourceJob -Job $copyjob
This example shows how to get source objects of legacy periodic backup copy job named LegacyPeriodicJob.
Perform the following steps: 1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $copyjob variable.
2. Run the Get-VBRLegacyBackupCopySourceJob cmdlet. Set the $copyjob variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies an array of jobs. The cmdlet will return source objects of these jobs.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CBackupJob]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLegacyBackupCopySourceJob [-Job] <CBackupJob> [<CommonParameters>]
```

Get-VBRLicenseAutoUpdateStatus
------------------------------

### Synopsis
Returns a state of the automatic license update option.

---

### Description

This cmdlet returns a state of the automatic license update option.
- False - indicates that the automatic license update option is disabled.
- True - indicates that the automatic license update option is enabled.

---

### Examples
> Getting State of Automatic License Update Option

```PowerShell
Get-VBRLicenseAutoUpdateStatus 
True
This command returns a state of the automatic license update option.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLicenseAutoUpdateStatus [<CommonParameters>]
```

Get-VBRLicensedCapacityWorkload
-------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **License**

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRInstalledLicense]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLicensedCapacityWorkload -License <VBRInstalledLicense> [<CommonParameters>]
```

Get-VBRLicensedInstanceWorkload
-------------------------------

### Synopsis
Returns details on protected workloads for the per-instance license.

---

### Description

This cmdlet returns the VBRLicensedInstanceWorkload object that contains details on protected workloads for the per-instance license that Veeam Backup & Replication applies to back up these workloads.
Note: The cmdlet returns information on a number of processed workloads that consume instances from the license scope. Instances are not consumed if a provider obtains a rental license and workloads have been processed for the first time during the current month. These workloads are counted separately and the cmdlet will display them under the following tenant settings:
- NewVMBackupCount
- NewWorkstationBackupCount
- NewServerBackupCount
- NewReplicaCount
Workloads that start to consume instances on the first day of the following month are displayed under the following tenant settings:
- VMBackupCount
- WorkstationBackupCount
- ServerBackupCount
- ReplicaCount
If a tenant obtains a rental license, these workloads do not consume instances from the provider license scope and are displayed under the following tenant settings:
- RentalVMBackupCount
- RentalWorkstationBackupCount
- RentalServerBackupCount
- RentalReplicaCount

---

### Related Links
* [Get-VBRInstalledLicense](Get-VBRInstalledLicense.md)

---

### Examples
> Getting Details on Protected Workloads

$license = Get-VBRInstalledLicense
Get-VBRLicensedSocketWorkload -License $license
This example shows how to get details on protected workloads for the per-instance license that Veeam Backup & Replication applies to back up these workloads.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Run the Get-VBRLicensedInstanceWorkload cmdlet. Set the $license variable as the License parameter value.

---

### Parameters
#### **License**
Specifies a license. The cmdlet will return details on protected workloads that Veeam Backup & Replication backs up using this license.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRInstalledLicense]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLicensedInstanceWorkload -License <VBRInstalledLicense> [<CommonParameters>]
```

Get-VBRLicensedSocketWorkload
-----------------------------

### Synopsis
Returns details on licensed hosts.

---

### Description

This cmdlet returns the VBRLicensedSocketWorkload object that contains details on licensed hosts for the per-socket license that Veeam Backup & Replication applies to back up these hosts.

---

### Related Links
* [Get-VBRInstalledLicense](Get-VBRInstalledLicense.md)

---

### Examples
> Getting Details on Licensed Hosts

$license = Get-VBRInstalledLicense
Get-VBRLicensedSocketWorkload -License $license
This example shows how to get details on licensed hosts for the per-socket license that Veeam Backup & Replication applies to back up these hosts.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Run the Get-VBRLicensedSocketWorkload cmdlet. Set the $license variable as the License parameter value.

---

### Parameters
#### **License**
Specifies a license. The cmdlet will return details on licensed hosts that Veeam Backup & Replication backs up using this license.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRInstalledLicense]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLicensedSocketWorkload -License <VBRInstalledLicense> [<CommonParameters>]
```

Get-VBRLinuxGuestItem
---------------------

### Synopsis
Returns Linux-based or Unix-based guest OS files.

---

### Description

This cmdlet returns Linux-based or Unix-based OS files.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

* [Get-VBRServer](Get-VBRServer.md)

* [Start-VBRLinuxFileRestore](Start-VBRLinuxFileRestore.md)

---

### Examples
> Example 1. Getting all Root Items Added to LinuxBased Machine

$backup = Get-VBRBackup -Name "UbuntuSrv"
$restorepoint = Get-VBRRestorePoint -Backup $backup
$server = Get-VBRServer -Name "LinSrv05"
$session = Start-VBRLinuxFileRestore -RestorePoint $restorepoint -MountServer $server
Get-VBRLinuxGuestItem -LinuxFlrObject $session
This example shows how to get all root items from disks that are added to the UbuntuSrv Linux-based machine.

Perform the following steps:

Start the restore session:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
- Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $restorepoint variable.
- Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
- Run the Start-VBRLinuxFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Set the $server variable as the MountServer parameter value. Save the result to the $session variable.
2. Run the Get-VBRLinuxGuestItem cmdlet. Set the $session variable as the LinuxFlrObject parameter value.
> Example 2.  Getting LinuxBased Guest OS Files Using Path to Folder

$backup = Get-VBRBackup -Name "UbuntuSrv"
$restorepoint = Get-VBRRestorePoint -Backup $backup
$server = Get-VBRServer -Name "LinSrv05"
$session = Start-VBRLinuxFileRestore -RestorePoint $restorepoint -MountServer $server
Get-VBRLinuxGuestItem -LinuxFlrObject $session -Path "/home/administrator/mydir"
This example shows how to get Linux-based guest OS files added to the UbuntuSrv Linux-based machine. The cmdlet will get all child items added to the /home/administrator/mydir folder.

Perform the following steps:

Start the restore session:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
- Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $restorepoint variable.
- Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
- Run the Start-VBRLinuxFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Set the $server variable as the MountServer parameter value. Save the result to the $session variable.
2. Run the Get-VBRLinuxGuestItem cmdlet. Set the $session variable as the LinuxFlrObject parameter value. Specify the Path parameter value.
> Example 3. Getting Child Items Added to UnixBased Machine

$backup = Get-VBRBackup -Name "Srv2067"
$restorepoint = Get-VBRRestorePoint -Backup $backup
$server = Get-VBRServer -Name "Mount2067"
$session = Start-VBRLinuxFileRestore -RestorePoint $restorepoint -MountServer $server
$root = Get-VBRLinuxGuestItem -LinuxFlrObject $session
Get-VBRLinuxGuestItem -LinuxFlrObject $session -ParentItem $root
This example shows how to get all child items from disks that are added to the Srv2067 Unix-based machine.

Perform the following steps: 1. Start the restore session:
- Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
- Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Save the result to the $restorepoint variable.
- Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
- Run the Start-VBRLinuxFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Set the $server variable as the MountServer parameter value. Save the result to the $session variable.
2. Run the Get-VBRLinuxGuestItem cmdlet. Set the $session variable as the LinuxFlrObject parameter value. Save the result to the $root variable.
Run the Get-VBRLinuxGuestItem cmdlet. Set the $session variable as the LinuxFlrObject parameter value. Set the $root variable as the ParentItem parameter value.

---

### Parameters
#### **LinuxFlrObject**
For getting root guest OS files.
Specifies a running restore session of Linux-based or Unix-based guest OS files. The cmdlet will return files and folders that are available for restore on disks when you run this session.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[VBRLinuxFlrObject]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for items that are available on disks.
The cmdlet will return items with these names.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **ParentItem**
For getting child guest OS files.
Returns child folders and files that are available from backups of Linux-based or Unix-based machines.

|Type          |Required|Position|PipelineInput        |
|--------------|--------|--------|---------------------|
|`[VBRFLRItem]`|false   |named   |True (ByPropertyName)|

#### **Path**
Specifies a path to the folder where guest OS files that you want to restore are located.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **RecursiveSearch**
Defines that the cmdlet will look for items that are added to the specified folders and to all child folders.
If you provide this parameter, the cmdlet will return an array of all items that are added to Linux-based or Unix-based machines. Otherwise, the cmdlet will return an array of items that are added to the parent folder on Linux-based or Unix-based machines.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRLinuxFlrObject

System.String[]

Veeam.Backup.PowerShell.Infos.VBRFLRItem

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRFLRItem

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLinuxGuestItem -LinuxFlrObject <VBRLinuxFlrObject> [-Name <String[]>] [-ParentItem <VBRFLRItem>] [-RecursiveSearch] [<CommonParameters>]
```
```PowerShell
Get-VBRLinuxGuestItem -LinuxFlrObject <VBRLinuxFlrObject> [-Path <String[]>] [<CommonParameters>]
```

Get-VBRLinuxTrustedHostPolicy
-----------------------------

### Synopsis
Returns the trust policy for Linux hosts.

---

### Description

This cmdlet returns the trust policy that is set for Linux hosts.
The trust policy determines which protected computers running Linux OS are allowed to connect to the backup server:
- All: with this policy, the connection is allowed for all newly discovered Linux hosts.
- KnownHosts: with this policy, the connection is allowed only for trusted Linux hosts.

---

### Examples
> Getting Trust Policy for Linux Hosts

Get-VBRLinuxTrustedHostPolicy

                                                                                                 Type
                                                                                                 ----
                                                                                           KnownHosts
This command returns the trust policy that is set for Linux hosts.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLinuxTrustedHostPolicy [<CommonParameters>]
```

Get-VBRLocalhost
----------------

### Synopsis
Returns the local server on which the backup infrastructure is installed.

---

### Description

This cmdlet returns the local server on which the backup infrastructure is installed.

---

### Examples
> Looking for Local Backup Infrastructure Server

```PowerShell
Get-VBRLocalhost
This command looks for the local backup infrastructure server.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLocalhost [<CommonParameters>]
```

Get-VBRLocation
---------------

### Synopsis
Returns geographic locations created in Veeam Backup & Replication.

---

### Description

This cmdlet returns geographic locations created in Veeam Backup & Replication.
You can get the list of all locations or search for instances directly by name, ID or associated infrastructure components.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Find-VBRHvEntity](Find-VBRHvEntity.md)

---

### Examples
> Example 1. Getting Locations by Name

```PowerShell
Get-VBRLocation -Name "Location North", SuperLocation
This command returns locations by names.
```
> Example 2. Getting Locations by ID

```PowerShell
Get-VBRLocation -Id 97e9f314-690c-410f-a1c2-acc101faa2ce, a1218a40-e863-4d38-813f-e68974c3896
This command returns locations by ID.
```
> Example 3. Getting Location Assigned to ESXi Host

$esxi = Find-VBRViEntity -Name team.support.north
Get-VBRLocation -Object $esxi
This example shows how to get the location assigned to the ESXi host.
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $esxi variable.
2. Run the Get-VBRLocation cmdlet. Set the $esxi variable as the Object parameter value.

---

### Parameters
#### **Id**
Specifies the array of location IDs.
The cmdlet will return locations with these IDs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

#### **Name**
Specifies the array of location names.
The cmdlet will return locations with these names.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **Object**
Specifies the Veeam Backup & Replication infrastructure component.
The cmdlet will return a location assigned to this component.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Object]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

System.String[]

System.Object

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLocation [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRLocation [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRLocation [-Object <Object>] [<CommonParameters>]
```

Get-VBRLogItem
--------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ItemSession**

|Type              |Required|Position|PipelineInput        |
|------------------|--------|--------|---------------------|
|`[VBRItemSession]`|true    |named   |True (ByPropertyName)|

#### **Session**

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBRSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSession

Veeam.Backup.PowerShell.Infos.VBRItemSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRLogItem -ItemSession <VBRItemSession> [<CommonParameters>]
```
```PowerShell
Get-VBRLogItem -Session <VBRSession> [<CommonParameters>]
```

Get-VBRMailNotificationConfiguration
------------------------------------

### Synopsis
Returns global email notification settings.

---

### Description

This cmdlet returns global email notification settings.

---

### Examples
> Getting Global Email Notification Settings

```PowerShell
Get-VBRMailNotificationConfiguration
Enabled               : False
SmtpServer            :
Sender                :
Recipient             :
Subject               : [%JobResult%] %JobName% (%ObjectCount% objects) %Issues%
DailyReportsTime      : 3/8/2021 10:00:00 PM
Port                  : 25
Timeout               : 100000
SSLEnabled            : False
AuthEnabled           : False
Credentials           :
NotifyOnSuccess       : True
NotifyOnWarning       : True
NotifyOnFailure       : True
NotifyOnLastRetryOnly : True
This command returns global email notification settings. The cmdlet output will contain details on notification settings.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMailNotificationConfiguration [<CommonParameters>]
```

Get-VBRMalwareDetectionEvent
----------------------------

### Synopsis
Returns malware detection events for machines.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns malware detection events for machines.

---

### Examples
> Getting all Malware Detection Events for all Machines

```PowerShell
Get-VBRMalwareDetectionEvent
This command returns all malware events for all machines.
```

---

### Parameters
#### **ObjectId**
Specifies an array of IDs for machines. The cmdlet will return malware detection events machines with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ObjectName**
Specifies an array of names for machines. The cmdlet will return malware detection events for machines with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMalwareDetectionEvent -ObjectId <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRMalwareDetectionEvent -ObjectName <String[]> [<CommonParameters>]
```

Get-VBRMalwareDetectionExclusion
--------------------------------

### Synopsis
Returns a list of machines added to malware exclusions.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns a list of machines added to malware exclusions.

---

### Examples
> Getting Machines Added to Malware Exclusions

```PowerShell
Get-VBRMalwareDetectionExclusion
This command returns a list of machines added to malware exclusions.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMalwareDetectionExclusion [<CommonParameters>]
```

Get-VBRMalwareDetectionObject
-----------------------------

### Synopsis
Returns machines affected by malware.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns machines affected by malware.

---

### Examples
> Example 1. Getting Malware Affected Machines by IDs

```PowerShell
Get-VBRMalwareDetectionObject -ObjectId "f2957c9c-2201-4473-9247-0590de4cc412", "935d3e38-d444-4ef4-abae-d43f2f8b4ba1"
This command returns the f2957c9c-2201-4473-9247-0590de4cc412 and 935d3e38-d444-4ef4-abae-d43f2f8b4ba1 machines affected by malware.
```
> Example 2. Getting Malware Affected Machines by Names

```PowerShell
Get-VBRMalwareDetectionObject -ObjectName "WinHost2045", "LinHost2049"
This command returns the WinHost2045 and LinHost2049 machines affected by malware.
```

---

### Parameters
#### **ObjectId**
Specifies an array of IDs of hosts and machines affected by malware. The cmdlet will return hosts and machines by these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ObjectName**
Specifies an array of names of hosts and machines affected by malware. The cmdlet will return hosts and machines with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMalwareDetectionObject -ObjectId <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRMalwareDetectionObject -ObjectName <String[]> [<CommonParameters>]
```

Get-VBRMalwareDetectionOptions
------------------------------

### Synopsis
Returns malware detection settings.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns the malware detection settings.

---

### Examples
> Getting Malware Detection Settings

```PowerShell
Get-VBRMalwareDetectionOptions
This command returns malware detection settings.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMalwareDetectionOptions [<CommonParameters>]
```

Get-VBRMalwareDetectionTaskSession
----------------------------------

### Synopsis
Returns malware detection session.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns malware detection session.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRSession](Get-VBRSession.md)

---

### Examples
> Getting Malware Detection Sessions

$job = Get-VBRJob -Name "Monthly backup"
$session = Get-VBRSession -Job $job
$ts = Get-VBRMalwareDetectionTaskSession -Session $session[0]
This example shows how to get malware detection session for the Monthly backup job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRSession cmdlet. Set the $job variable as the Job parameter value. Save the result to the $session variable.
3. Run the Get-VBRMalwareDetectionTaskSession cmdlet. Set the $session[0] variable as the Session parameter value. Save the result to the $ts variable.

---

### Parameters
#### **Name**
Specifies an array of machines. The cmdlet will return a malware detection session for these machines.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Session**
Specifies a job session. The cmdlet will return a malware detection session related to this job session.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBRSession]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMalwareDetectionTaskSession [-Session] <VBRSession> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRMongoDBComputer
----------------------

### Synopsis
Returns a list of all computers within specified replica sets.

---

### Description

This cmdlet returns a list of individual computers included in MongoDB replica sets.

---

### Related Links
* [New-VBRMongoDBDeployment](New-VBRMongoDBDeployment.md)

---

### Examples
> Example - Loading a List of All Computers Within Multiple Replica Sets

$rs1Computers = Get-VBRMongoDBComputer -Deployment $replicaSet1
$rs2Computers = Get-VBRMongoDBComputer -Deployment $replicaSet2
This example shows how to load a list of all computers in two separate replica sets $replicaSet1 and $replicaSet2.
Perform the following steps:
1. Run the Get-VBRMongoDBComputer cmdlet. Specify the Deployment parameter value with the name of a specific replica set $replicaSet1. Save the result to the $rs1Computers variable.
2. Run the Get-VBRMongoDBComputer cmdlet. Specify the Deployment parameter value with the name of a specific replica set $replicaSet2. Save the result to the $rs2Computers variable.

---

### Parameters
#### **Deployment**
Specifies the replica set. Accepts the VBRMongoDBDeployment object. To get this object, run the New-VBRMongoDBDeployment cmdlet.

|Type                    |Required|Position|PipelineInput        |
|------------------------|--------|--------|---------------------|
|`[VBRMongoDBDeployment]`|true    |named   |True (ByPropertyName)|

#### **Name**
Specifies the name of the computer included in a specific replica set.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.String[]

Veeam.Backup.PowerShell.Infos.VBRMongoDBDeployment

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMongoDBComputer -Deployment <VBRMongoDBDeployment> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRMoveBackupSession
------------------------

### Synopsis
Returns move sessions.

---

### Description

This cmdlet returns move sessions.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Getting Move Sessions for Specific Backup

$backup = Get-VBRBackup -Name "vCloud Webservices Backup"
Get-VBRMoveBackupSession -Backup $backup
This example shows how to look for move sessions for the vCloud Webservices Backup backup job.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Provide the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRMoveBackupSession cmdlet. Set the $backup variable as the Backup parameter value.

---

### Parameters
#### **Backup**
Specifies the backup for which you want to get move sessions.

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[VBRBackup]`|true    |named   |False        |

#### **Id**
Specifies the ID of the session. The cmdlet will return the session with this ID.

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **MachineName**
Specifies the name of the machine for which you want to return the move sessions.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRMoveBackupSession -Backup <VBRBackup> [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Get-VBRMoveBackupSession -Id <Guid> [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Get-VBRMoveBackupSession -MachineName <String> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Get-VBRNASBackup
----------------

### Synopsis
Returns backup files created by the file backup job.

---

### Description

This cmdlet returns backup files created by the file backup job.

---

### Examples
> Example 1. Getting All Backup Files

```PowerShell
Get-VBRNASBackup
Id                           : 86f24760-ea7e-475a-88ab-1b328e3694f4
Name                         : Reports backup
JobId                        : d9fa21cf-4917-48b8-ad81-53a997923c5f
CreationTime                 : 8/26/2019 8:11:50 AM
LastRestorePointCreationTime : 8/26/2019 8:26:19 AM
IsEncrypted                  : False

Id                           : e5559d89-ca63-48dc-a53b-d9c54b7f2482
Name                         : Transaction backups
JobId                        : d4d289aa-eff8-4983-a5e3-5fd2c7ff7500
CreationTime                 : 8/26/2019 8:29:05 AM
LastRestorePointCreationTime : 8/26/2019 8:29:12 AM
IsEncrypted                  : False
This command gets all backup files that are created by the file backup jobs. The cmdlet output will contain details of these backup files.
```
> Example 2. Getting Backup Files by Name

```PowerShell
Get-VBRNASBackup -Name "Reports backup"
Id                           : 86f24760-ea7e-475a-88ab-1b328e3694f4
Name                         : Reports backup
JobId                        : d9fa21cf-4917-48b8-ad81-53a997923c5f
CreationTime                 : 8/26/2019 8:11:50 AM
LastRestorePointCreationTime : 8/26/2019 8:26:19 AM
IsEncrypted                  : False
This command gets backup files that are created by the Reports backup file backup job. The cmdlet output will contain settings of the backup file created by the Reports backup file backup job.
```
> Example 3. Getting Backup Files by ID

```PowerShell
Get-VBRNASBackup -ID e5559d89-ca63-48dc-a53b-d9c54b7f2482
Id                           : e5559d89-ca63-48dc-a53b-d9c54b7f2482
Name                         : Transaction backups
JobId                        : d4d289aa-eff8-4983-a5e3-5fd2c7ff7500
CreationTime                 : 8/26/2019 8:29:05 AM
LastRestorePointCreationTime : 8/26/2019 8:29:12 AM
IsEncrypted                  : False
This command gets backup files that are created by the e5559d89-ca63-48dc-a53b-d9c54b7f2482 file backup job. The cmdlet output will contain contain settings of the backup file crated by the e5559d89-ca63-48dc-a53b-d9c54b7f2482 file backup job.
```

---

### Parameters
#### **Id**
Specifies an array of the file backup IDs.  The cmdlet will return an array of backup files that are created by this file backup.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies a name of the file backup job.  The cmdlet will return an array of backup files that are created by this file backup job.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackup -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackup -Name <String[]> [<CommonParameters>]
```

Get-VBRNASBackupCopyJob
-----------------------

### Synopsis
Returns file backup copy jobs.

---

### Description

This cmdlet returns file backup copy jobs.

---

### Related Links
* [Get-VBRNASBackupJob](Get-VBRNASBackupJob.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1. Getting All File Backup Copy Jobs

```PowerShell
Get-VBRNASBackupCopyJob
This command returns all file backup copy jobs that are available on the secondary backup repositories for file backup jobs.
```
> Example 2. Getting File Backup Copy Job by Primary Job

$filebackupjob = Get-VBRNASBackupJob -Name "SMB Backup"
$repository Get-VBRBackupRepository -Name "Repository07
Get-VBRNASBackupCopyJob -ParentJob $filebackupjob -BackupRepository $repository
This example shows how to create a file backup copy job that was created to process backup files of the "SMB Backup" file backup job. The file backup copy jobs are stored on the "Repository07" secondary repository.

Perform the following steps:
1. Run the Get-VBRNASBackupJob cmdlet. Specify the Name parameter value. Save the result to the $filebackupjob variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3.  Run the Get-VBRNASBackupJob cmdlet. Set the $filebackupjob variable as the ParentJob parameter value. Set the $repository variable as the BackupRepository parameter value.
> Example 3. Getting File Backup Copy Jobs by Name

```PowerShell
Get-VBRNASBackupCopyJob -Name [C-T]*
This command returns all file backup copy jobs with the names that begin with the letters C through T.
```
> Example 4. Getting File Backup Copy Jobs by ID

```PowerShell
Get-VBRNASBackupCopyJob -Id fdae7148-81e6-4cb0-8ea8-34512001fd4c
This command returns the fdae7148-81e6-4cb0-8ea8-34512001fd4c file backup copy job.
```

---

### Parameters
#### **BackupRepository**
Specifies an array of secondary repositories.  The cmdlet will get file backup copy jobs that keep their backup files on these repositories. Accepts the CBackupRepository[] object.  To create this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **Id**
Specifies an ID of a file backup copy job.  The cmdlet will return an array of jobs with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies a name of a file backup copy job.  The cmdlet will return an array of jobs with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **ParentJob**
Specifies a primary file backup job.  The cmdlet will get a file backup copy job that was created to process backup files of this backup job. Accepts the VBRNASBackupJob object.  To create this object, run the Get-VBRNASBackupJob cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNASBackupJob]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupCopyJob [-BackupRepository <CBackupRepository[]>] -ParentJob <VBRNASBackupJob> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupCopyJob -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupCopyJob -Name <String[]> [<CommonParameters>]
```

Get-VBRNASBackupFLRItem
-----------------------

### Synopsis
Returns objects backed up by file backup jobs.

---

### Description

This cmdlet returns an array of objects that contain settings of guest OS files and folders backed up by file backup jobs.

---

### Related Links
* [Get-VBRNASBackupRestorePoint](Get-VBRNASBackupRestorePoint.md)

* [Start-VBRNASBackupFLRSession](Start-VBRNASBackupFLRSession.md)

---

### Examples
> Example 1. Getting Objects Within Restore Session

$restorepoint = Get-VBRNASBackupRestorePoint
$session = Start-VBRNASBackupFLRSession -RestorePoint $restorepoint[3]
Get-VBRNASBackupFLRItem -Session $session
This example shows how to get objects within the specified restore session.

Perform the following steps:
1. Run the Get-VBRNASBackupRestorePoint cmdlet. Save the result to the $restorepoint variable. The Get-VBRNASBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (An array starts with 0. In our example, it is the forth restore point in the array).
2. Run the Start-VBRNASBackupFLRSession cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRNASBackupFLRItem cmdlet. Set the $session variable as the Session parameter value.
> Example 2. Getting Objects by Name

$restorepoint = Get-VBRNASBackupRestorePoint
$session = Start-VBRNASBackupFLRSession -RestorePoint $restorepoint[4]
Get-VBRNASBackupFLRItem -Session $session -Name "Report001.txt"
This example shows how to get the Report001.txt file within the specified restore session.

Perform the following steps:
1. Run the Get-VBRNASBackupRestorePoint cmdlet. Save the result to the $restorepoint variable.
The Get-VBRNASBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the fifth restore point in the array).
2. Run the Start-VBRNASBackupFLRSession cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRNASBackupFLRItem cmdlet. Specify the Name parameter value. Set the $session variable as the Session parameter value.
> Example 3. Getting Objects from Specific Folder

$restorepoint = Get-VBRNASBackupRestorePoint
$session = Start-VBRNASBackupFLRSession -RestorePoint $restorepoint[2]
$folder = Get-VBRNASBackupFLRItem -Session $session -Name "October Reports"
Get-VBRNASBackupFLRItem -Session $session -Folder $folder
This example shows how to get all objects that are located in the the October Reports folder.

Perform the following steps:
1. Run the Get-VBRNASBackupRestorePoint cmdlet. Save the result to the $restorepoint variable.
The Get-VBRNASBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the third restore point in the array).
2. Run the Start-VBRNASBackupFLRSession cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRNASBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Specify the Name parameter value.
4. Run the Get-VBRNASBackupFLRItem cmdlet. Set the $folder variable as the Folder parameter value. Set the $session variable as the Session parameter value.
> Example 4. Getting All Objects Added to Backed up Folders

$restorepoint = Get-VBRNASBackupRestorePoint
$session = Start-VBRNASBackupFLRSession -RestorePoint $restorepoint[5]
Get-VBRNASBackupFLRItem -Session $session -Recurse
This example shows how to get all objects that are added to the backed-up folders.

Perform the following steps:
1. Run the Get-VBRNASBackupRestorePoint cmdlet. Save the result to the $restorepoint variable.
The Get-VBRNASBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the sixth restore point in the array). Note that to count objects of the array you must start with 0.
2. Run the Start-VBRNASBackupFLRSession cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRNASBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Provide the Recurse parameter.

---

### Parameters
#### **ChangedOnly**
Defines that the cmdlet will return files and folders with changed attributes only.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Folder**
Specifies a backed-up folder.  The cmdlet will return the specified folder and an array of objects that are added to this folder. Accepts the VBRNASBackupFLRFolder object.  To get this object, run the Get-VBRNASBackupFLRItem cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRNASBackupFLRFolder]`|false   |named   |False        |

#### **Name**
Specifies a name of the backed-up object. The cmdlet will return folders and files with the specified name. Note: By default, the cmdlet returns up to 10,000 records (folders and files). You can change the default value with a registry key. For more information, contact Veeam Customer Support.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Recurse**
Defines that the cmdlet will look for objects that are added to backed-up child folders. If you provide this parameter, the cmdlet will return an array of all objects that are added to backed-up child folders. Otherwise, the cmdlet will return an array of objects that are added to the parent folder on the backed-up file share.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Session**
Specifies a restore session. The cmdlet will return  backed-up object within this restore session. Accepts the VBRNASBackupFLRSession object.  To get this object, run the Get-VBRNASBackupFLRSession cmdlet.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRNASBackupFLRSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRNASBackupFLRSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupFLRItem [-ChangedOnly] [-Folder <VBRNASBackupFLRFolder>] [-Name <String>] [-Recurse] -Session <VBRNASBackupFLRSession> [<CommonParameters>]
```

Get-VBRNASBackupFLRItemVersion
------------------------------

### Synopsis
Returns versions of objects backed-up by file backup jobs.

---

### Description

This cmdlet returns versions of objects backed-up by file backup jobs. IMPORTANT! This cmdlet runs only with file-level restore sessions that are created to restore all versions of backups on file shares.

---

### Related Links
* [Get-VBRNASBackupFLRSession](Get-VBRNASBackupFLRSession.md)

* [Get-VBRNASBackupFLRItem](Get-VBRNASBackupFLRItem.md)

---

### Examples
> Example 1. Getting all Versions of Object

$session = Get-VBRNASBackupFLRSession
$object = Get-VBRNASBackupFLRItem -Session $session
Get-VBRNASBackupFLRItemVersion -Item $object
This example shows how to get all versions of an object backed-up by a file backup job.

Perform the following steps:
1. Run the Get-VBRNASBackupFLRSession cmdlet. Save the result to the $session variable.
2. Run the Get-VBRNASBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Save the result to the $object variable.
3. Run the Get-VBRNASBackupFLRItemVersion cmdlet. Set the $object variable as the Item parameter value.
> Example 2. Getting Versions of Objects by Modification Date

$session = Get-VBRNASBackupFLRSession
$object = Get-VBRNASBackupFLRItem -Session $session
Get-VBRNASBackupFLRItemVersion -Item $object -ModificationDate "9/9/2022"
This example shows how to get versions of an object by the object modification date. Veeam Backup & Replication will return objects that have been modified on 9/9/2022.

Perform the following steps:
1. Run the Get-VBRNASBackupFLRSession cmdlet. Save the result to the $session variable.
2. Run the Get-VBRNASBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Save the result to the $object variable.
3. Run the Get-VBRNASBackupFLRItemVersion cmdlet. Set the $object variable as the Item parameter value. Specify the ModificationDate parameter value.
> Example 3. Getting Versions of Objects by Version ID

$session = Get-VBRNASBackupFLRSession
$object = Get-VBRNASBackupFLRItem -Session $session
Get-VBRNASBackupFLRItemVersion -Item $object -VersionId 9
This example shows how to get a version of an object by the object version ID. Veeam Backup & Replication will return an object with the 9 version ID.

Perform the following steps:
1. Run the Get-VBRNASBackupFLRSession cmdlet. Save the result to the $session variable.
2. Run the Get-VBRNASBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Save the result to the $object variable.
3. Run the Get-VBRNASBackupFLRItemVersion cmdlet. Set the $object variable as the Item parameter value. Specify the VersionId parameter value.

---

### Parameters
#### **Item**
Specifies an object. The cmdlet will return versions of this object. Accepts the VBRNASBackupFLRItem object.  To get this object, run the Get-VBRNASBackupFLRItem cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASBackupFLRItem]`|true    |named   |False        |

#### **LatestArchivedVersion**
Defines that the cmdlet will return the latest version of the object located in the archive repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ModificationDate**
Specifies the date when the object was modified.  The cmdlet will return versions of objects that were modified on the specified date.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|false   |named   |False        |

#### **VersionId**
Specifies a version ID of the object.  The cmdlet will return objects with the specified version ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[UInt64]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupFLRItemVersion -Item <VBRNASBackupFLRItem> [-LatestArchivedVersion] [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupFLRItemVersion -Item <VBRNASBackupFLRItem> [-ModificationDate <DateTime>] [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupFLRItemVersion -Item <VBRNASBackupFLRItem> [-VersionId <UInt64>] [<CommonParameters>]
```

Get-VBRNASBackupFLRSession
--------------------------

### Synopsis
Returns restore sessions started to recover backups created by file backup jobs.

---

### Description

This cmdlet returns restore sessions started to recover backups created by file backup jobs.

---

### Examples
> Getting Restore Sessions

```PowerShell
Get-VBRNASBackupFLRSession
This command gets all restore sessions that are started to recover backups created by file backup jobs.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupFLRSession [<CommonParameters>]
```

Get-VBRNASBackupJob
-------------------

### Synopsis
Returns file backup jobs.

---

### Description

This cmdlet returns file backup jobs.

---

### Examples
> Example 1. Getting all File Backup Jobs

Get-VBRNASBackupJob
This command returns all file backup jobs that are added to the Veeam Backup & Replication infrastructure.
> Example 2. Getting File Backup Job by Name

```PowerShell
Get-VBRNASBackupJob -Name "SMB Backup"
This command returns the "SMB Backup" file backup job.
```
> Example 3. Getting File Backup Job by ID

```PowerShell
Get-VBRNASBackupJob -ID "0789b522-c02c-4d05-a619-dee26520495d"
This command returns the 0789b522-c02c-4d05-a619-dee26520495d file backup job.
```

---

### Parameters
#### **Id**
Specifies an ID of a file backup job. The cmdlet will return an array of jobs with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies a name of a file backup job. The cmdlet will return an array of jobs with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupJob -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupJob -Name <String[]> [<CommonParameters>]
```

Get-VBRNASBackupRestorePoint
----------------------------

### Synopsis
Returns restore points of backups created by file backup jobs.

---

### Description

This cmdlet returns restore points created by file backup jobs.

---

### Related Links
* [Get-VBRNASBackup](Get-VBRNASBackup.md)

* [Get-VBRNASServer](Get-VBRNASServer.md)

* [Select-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Select-Object)

---

### Examples
> Example 1. Getting All Restore Points

```PowerShell
Get-VBRNASBackupRestorePoint
This command returns all restore points that are created by file backup jobs.
```
> Example 2. Getting Restore Point by ID

```PowerShell
Get-VBRNASBackupRestorePoint -ID "51e4eced-3fce-465b-b516-f24cb5a068a4"
This command returns the 51e4eced-3fce-465b-b516-f24cb5a068a4 restore point.
```
> Example 3. Getting Restore Point From Specific File Share

$backupfile = Get-VBRNASBackup -Name "NFS Backup"
$server = Get-VBRNASServer -Name "\\WinSRV2049\Documents"
Get-VBRNASBackupRestorePoint -NASServer $server -NASBackup $backupfile
This example shows how to get restore points of the "NFS Backup" backup file. The restore points are located on the \\WinSRV2049\Documents file share.

Perform the following steps:
1. Run the Get-VBRNASBackup cmdlet. Specify the Name parameter value. Save the result to the $backupfile variable.
2. Run the Get-VBRNASServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
3. Run the Get-VBRNASBackupRestorePoint cmdlet. Set the $server variable as the NASServer parameter value. Set the $backupfile variable as the NASBackup parameter value.
> Example 4. Getting Latest Restore Point

$restorepoint = Get-VBRNASBackupRestorePoint | Select-Object -Last 1
This command gets the latest restore point from an array of restore points.

Perform the following steps:
1. Run the Get-VBRNASBackupRestorePoint cmdlet. Save the result to the $restorepoint variable.
2. Run the Select-Object cmdlet. Set the 1 value for the Last parameter.

---

### Parameters
#### **Id**
Specifies an array of IDs of backed-up file shares.  The cmdlet will return restore points of these file shares.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **NASBackup**
Specifies an array of backup files created by the file backup job.  The cmdlet will return restore points that are available for these backup files. Accepts the VBRNASBackup[] object.  To get this object, run the Get-VBRNASBackup cmdlet.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRNASBackup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **NASServer**
Specifies an array of file shares.  The cmdlet will return backup files that are located on these file shares. Accepts the VBRNASServer[] object.  To get this object, run the Get-VBRNASServer cmdlet.

|Type              |Required|Position|PipelineInput        |
|------------------|--------|--------|---------------------|
|`[VBRNASServer[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRNASBackup[]

Veeam.Backup.PowerShell.Infos.VBRNASServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupRestorePoint -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupRestorePoint -NASBackup <VBRNASBackup[]> [-NASServer <VBRNASServer[]>] [<CommonParameters>]
```

Get-VBRNASBackupSession
-----------------------

### Synopsis
Returns file backup job sessions.

---

### Description

This cmdlet returns file backup job sessions.

---

### Examples
> Getting All Backup Sessions for File Backup Job

```PowerShell
Get-VBRNASBackupSession -Name "New backup session*"
This command returns all backup sessions for NAS backup job with name New backup session.
```

---

### Parameters
#### **Id**
Specifies an array of file share backup session IDs.  The cmdlet will return file share backup sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of file backup jobs. The cmdlet will return backup sessions of the file backup jobs with these names. Note: Veeam Backup & Replication adds (Full) at the end of the job name for full backup sessions. Depending on the type of the backup session you may specify the job name in one of the following ways:
* To get incremental backup sessions, specify the job name as it was specified when creating the job.
* To get full backup sessions, add (Full) at the end of the Name parameter.
* To get both full and incremental backup sessions for the job, add * at the end of the Name parameter.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupSession -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupSession -Name <String[]> [<CommonParameters>]
```

Get-VBRNASBackupTaskSession
---------------------------

### Synopsis
Returns tasks for file share backup sessions.

---

### Description

This cmdlet returns tasks for file backup sessions. Veeam Backup & Replication creates a separate task for each file share within the session.

---

### Related Links
* [Get-VBRNASBackupSession](Get-VBRNASBackupSession.md)

---

### Examples
> Example 1. Getting Backup Session Tasks for File Share by Its Name

```PowerShell
Get-VBRNASBackupSession -Name "\\fileserv05\Documents"
This command returns all tasks run for the \\fileserv05\Documents file share.
```
> Example 2. Getting Backup Session Tasks by Task IDs

Get-VBRNASBackupSession -Id ("49664A5F-9C55-4A1F-8E6A-1CD5705A684B", "42696B53-6FEC-4148-9354-AA9E4B52DED9")
This command returns the "49664A5F-9C55-4A1F-8E6A-1CD5705A684B", "42696B53-6FEC-4148-9354-AA9E4B52DED9 backup session tasks.
> Example 3. Getting Backup Session Tasks for File Backup Session

$session = Get-VBRNASBackupSession -Id "42636B53-6FEC-4148-9354-BB9E4B52DED9"
Get-VBRNASBackupTaskSession -Session $session
This example shows how to get backup session tasks for file backup session.

Perform the following steps:
1. Run the Get-VBRNASBackupSession cmdlet. Specify the Id parameter. Save the result to the $session variable.
2. Run the Get-VBRNASBackupTaskSession cmdlet. Set the $session variable as the Session parameter value.

---

### Parameters
#### **Id**
Specifies an array of IDs for file share backup session tasks.  The cmdlet will return tasks with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of file share names.  The cmdlet will return tasks that run for file shares with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **Session**
Specifies the file share backup session.  The cmdlet will return tasks that run within the file share backup session with this ID. Accepts the VBRNASBackupSession object.  To get this object, run the Get-VBRNASBackupSession cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRNASBackupSession]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASBackupTaskSession -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupTaskSession -Name <String[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASBackupTaskSession -Session <VBRNASBackupSession> [<CommonParameters>]
```

Get-VBRNASInstantRecovery
-------------------------

### Synopsis
Returns active instant restore sessions started to recover backups created by file backup jobs.

---

### Description

This cmdlet returns active instant restore sessions started to recover backups created by file backup jobs.

---

### Examples
> Example 1. Getting All Instant Restore Sessions for File Backups

```PowerShell
Get-VBRNASInstantRecovery
This command returns all instant restore sessions for file backups.
```
> Example 2. Getting Instant Restore Sessions for File Backups by Session IDs

```PowerShell
Get-VBRNASInstantRecovery -Id ("49664A5F-9C55-4A1F-8E6A-1CD5705A684B", "42696B53-6FEC-4148-9354-AA9E4B52DED9")
This command returns instant restore sessions for file backups by restore session IDs.
```
> Example 3. Getting Instant Restore Sessions for File Backups by Parameters

```PowerShell
Get-VBRNASInstantRecovery -NASBackupName "Daily SMB1 Backup" -NASServerName "ontap-2"
This command returns instant restore sessions for file backups with certain parameters.
```
> Example 4. Getting Instant Restore Sessions for File Backups by Session Names

```PowerShell
Get-VBRNASInstantRecovery -SessionName ("\\Server\Share", "\\OtherServer\OtherShare")
This command returns instant restore sessions for file backups with certain parameters.
```

---

### Parameters
#### **All**
Defines that the cmdlet will return all active instant restore sessions started to recover backups created by file backup jobs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Id**
Specifies the array of instant restore session IDs. The cmdlet will return the instant restore sessions with these IDs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName)|

#### **NASBackupName**
Specifies a name of the file share backup for which the instant restore session was started. The cmdlet will return the instant restore session started to recover backups created by the file backup job with this name.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|true    |named   |True (ByPropertyName)|

#### **NASServerName**
Specifies a name of the host with the repository and mount service where the SMB share is published. The cmdlet will return the instant restore session using this host.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|true    |named   |True (ByPropertyName)|

#### **SessionName**
Specifies the array of instant restore session names.  The cmdlet will return active instant restore sessions with these names.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|true    |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

System.String

System.String[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRNASInstantRecovery[]

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASInstantRecovery [-All] [<CommonParameters>]
```
```PowerShell
Get-VBRNASInstantRecovery -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASInstantRecovery -NASBackupName <String> -NASServerName <String> [<CommonParameters>]
```
```PowerShell
Get-VBRNASInstantRecovery -SessionName <String[]> [<CommonParameters>]
```

Get-VBRNASInstantRecoveryMigration
----------------------------------

### Synopsis
Returns active sessions of migration to production during the instant file share recovery.

---

### Description

This cmdlet returns active sessions of migration to production during the instant file share recovery.

---

### Related Links
* [Get-VBRNASInstantRecovery](Get-VBRNASInstantRecovery.md)

---

### Examples
> Example 1. Getting All Active Migration Sessions for Instant Restore for File Backup

$migrations = Get-VBRNASInstantRecoveryMigration
Write-Output "Get migration sessions of instant restore for file backups."
Write-Output $migrations
This example shows how to get all active migration sessions for instant restore for file backup sessions.

Perform the following steps:
1. Run the Get-VBRNASInstantRecoveryMigration cmdlet. Save the result to the $migrations variable.
2. Run the Write-Output cmdlet. Specify the output wording.
3. Run the Write-Output cmdlet. Provide the $migrations variable.
> Example 2. Getting Migration Sessios for Instant Restore for File Backup by IDs

$migrations = Get-VBRNASInstantRecoveryMigration -Id ("49664A5F-9C55-4A1F-8E6A-1CD5705A684B", "42696B53-6FEC-4148-9354-AA9E4B52DED9")
Write-Output "Get migration sessions of instant restore for file backups."
Write-Output $migrations
This example shows how to get migration to production sessions with certain IDs.

Perform the following steps:
1. Run the Get-VBRNASInstantRecoveryMigration cmdlet. Save the result to the $migrations variable.
2. Run the Write-Output cmdlet. Specify the output wording.
3. Run the Write-Output cmdlet. Provide the $migrations variable.
> Example 3. Getting Migration Sessions for Specified Instant Restore for File Backups Sessions

$nasInstantRecoveries = Get-VBRNASInstantRecovery
$migrations = Get-VBRNASInstantRecoveryMigration -InstantRecovery $nasInstantRecoveries
Write-Output "Get migration sessions of instant restore for file backups."
Write-Output $migrations
This example shows how to get migration to production sessions for certain instant restore sessions.

Perform the following steps:
1. Run the Get-VBRNASInstantRecoveryMigration cmdlet. Save the result to the $migrations variable.
2. Run the Get-VBRNASInstantRecoveryMigration cmdlet. Set the $nasInstantRecoveries variable as the InstantRecovery parameter value.
3. Run the Write-Output cmdlet. Specify the output wording.
4. Run the Write-Output cmdlet. Provide the $migrations variable.

---

### Parameters
#### **All**
Defines that the cmdlet will return all active sessions of migration to production for NAS instant recovery.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Id**
Specifies an array of IDs for migration sessions. The cmdlet will return sessions with these IDs. If the session with the specified ID is not found, the cmdlet will return an error.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

#### **InstantRecovery**
Specifies an array of instant recovery sessions with the started sessions of migration to production. Accepts the VBRNASInstantRecovery[] object. To get this object, run the Get-VBRNASInstantRecovery cmdlet.

|Type                       |Required|Position|PipelineInput        |
|---------------------------|--------|--------|---------------------|
|`[VBRNASInstantRecovery[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

Veeam.Backup.PowerShell.Infos.VBRNASInstantRecovery[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRNASInstantRecoveryMigration

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASInstantRecoveryMigration [-All] [<CommonParameters>]
```
```PowerShell
Get-VBRNASInstantRecoveryMigration [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRNASInstantRecoveryMigration [-InstantRecovery <VBRNASInstantRecovery[]>] [<CommonParameters>]
```

Get-VBRNASObjectStorageTransformThreshold
-----------------------------------------

### Synopsis
Returns the blob transformation threshold defined for an object storage repository that stores file backups.

---

### Description

This cmdlet returns the value of the blob transformation threshold for an object storage repository that stores file backups. As soon as the amount of the outdated data in a separate blob reaches the threshold specified for this object storage repository, such a blob undergoes the transformation operation. The threshold is specified as the percentage of the blob size.

---

### Related Links
* [Get-VBRObjectStorageRepository](Get-VBRObjectStorageRepository.md)

* [Set-VBRNASObjectStorageTransformThreshold](Set-VBRNASObjectStorageTransformThreshold.md)

---

### Examples
> Example - Getting Blob Transformation Threshold for Object Storage Repository with File Backups

$objectstorage = Get-VBRObjectStorageRepository -Name "S3 Storage 1"
Get-VBRNASObjectStorageTransformThreshold -Repository $objectstorage
This example shows how to get the blob transformation threshold defined for the S3 Storage 1 object storage repository.

Perform the following steps:
1. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $objectstorage variable.
2. Run the Get-VBRNASObjectStorageTransformThreshold cmdlet. Set the $objectstorage variable as the Repository parameter value.

---

### Parameters
#### **Repository**
Specifies an object storage. Veeam Backup & Replication will return the blob transformation threshold specified for this object storage repository. Accepts the VBRObjectStorageRepository object. To get this object, run the Get-VBRObjectStorageRepository cmdlet.

|Type                          |Required|Position|PipelineInput |
|------------------------------|--------|--------|--------------|
|`[VBRObjectStorageRepository]`|true    |named   |True (ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRObjectStorageRepository

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRNASObjectStorageTransformThreshold

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASObjectStorageTransformThreshold -Repository <VBRObjectStorageRepository> [<CommonParameters>]
```

Get-VBRNASProxyServer
---------------------

### Synopsis
Returns file backup proxy servers added to the Veeam Backup & Replication infrastructure.

---

### Description

This cmdlet returns an array of file backup proxy servers added to the Veeam Backup & Replication infrastructure.

---

### Examples
> Example 1. Getting All File Backup Proxy Servers

Get-VBRNASProxyServer
Id                            Description                   Server                                 ConcurrentTaskNumber
--                            -----------                   ------                                 --------------------
2df7b4a9-e230-4bc7-97a6-db... Created by Veeam Backup & ... Veeam.Backup.Core.Common.C...                             2
5a7c25b9-87cb-41e3-bb1b-81... Created by Powershell at 8... Veeam.Backup.Core.Common.C...                             7
This command gets all file backup proxy servers that are added to the Veeam Backup & Replication infrastructure. The cmdlet output will contain the following details on file backup proxy servers: ID, Description, Server and ConcurrentTaskNumber.
> Example 2. Getting File Backup Proxy Server by Name

Get-VBRNASProxyServer -Name "File Backup Proxy 09"
Id                            Description                   Server                                 ConcurrentTaskNumber
--                            -----------                   ------                                 --------------------
dbb139cf-4ac1-4a9e-95fa-e9... Created by Powershell at 8... Veeam.Backup.Core.Common.C...                             2
This command gets all file backup proxy servers that are added to the Veeam Backup & Replication infrastructure by the backup proxy server name. The cmdlet output will contain the following details on file backup proxy servers: ID, Description, Server and ConcurrentTaskNumber.
> Example 3. Getting File Backup Proxy Server by ID

Get-VBRNASProxyServer -Id "02da6898-308d-44ac-b007-94d81576c296"
Id                            Description                   Server                                 ConcurrentTaskNumber
--                            -----------                   ------                                 --------------------
02da6898-308d-44ac-b007-94... Created by Powershell at 8... Veeam.Backup.Core.Common.C...                             2
This command gets all file backup proxy servers that are added to the Veeam Backup & Replication infrastructure by the backup proxy server ID. The cmdlet output will contain the following details on file backup proxy servers: ID, Description, Server and ConcurrentTaskNumber.

---

### Parameters
#### **Id**
Specifies an array of IDs of file backup proxy server. The cmdlet will return an array of these servers with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names of a file backup proxy server. The cmdlet will return an array of these servers with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASProxyServer -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASProxyServer -Name <String[]> [<CommonParameters>]
```

Get-VBRNASServer
----------------

### Synopsis
Returns file shares that are added to the Veeam Backup & Replication infrastructure.

---

### Description

This cmdlet return backup files created by the file backup job.

---

### Related Links
* [Get-VBRNASBackup](Get-VBRNASBackup.md)

---

### Examples
> Example 1. Getting All File Shares

Get-VBRNASServer
Type                : SMB
Path                : \\WinSRV2049\Documents
AccessCredentials   :
ProcessingMode      : Direct
StorageSnapshotPath :
ProxyMode           : Automatic
SelectedProxyServer : {}
Id                  : 4916c13e-08bf-488f-ab1b-1624d02189c5
CacheRepository     : Veeam.Backup.Core.CBackupRepository

Type                : NFS
Path                : \\LinuxSRV2049\Reports
AccessCredentials   :
ProcessingMode      : Direct
StorageSnapshotPath :
ProxyMode           : Automatic
SelectedProxyServer : {}
Id                  : 678eafe4-ad76-4878-8230-561b4226333c
CacheRepository     : Veeam.Backup.Core.CBackupRepository
This command gets all file shares added to the Veeam Backup & Replication infrastructure. The cmdlet output will contain settings of these file shares.
> Example 2. Getting File Shares by Name

```PowerShell
Get-VBRNASServer -Name "\\WinSRV2049\Documents"
Type                : SMB
Path                : \\WinSRV2049\Documents
AccessCredentials   :
ProcessingMode      : Direct
StorageSnapshotPath :
ProxyMode           : Automatic
SelectedProxyServer : {}
Id                  : 4916c13e-08bf-488f-ab1b-1624d02189c5
CacheRepository     : Veeam.Backup.Core.CBackupRepository
This command gets the WinSRV2049\Documents file share. The cmdlet output will contain settings of these file shares.
```
> Example 3. Getting File Share by ID

```PowerShell
Get-VBRNASServer -Id "678eafe4-ad76-4878-8230-561b4226333c"
Type                : NFS
Path                : \\LinuxSRV2049\Reports
AccessCredentials   :
ProcessingMode      : Direct
StorageSnapshotPath :
ProxyMode           : Automatic
SelectedProxyServer : {}
Id                  : 678eafe4-ad76-4878-8230-561b4226333c
CacheRepository     : Veeam.Backup.Core.CBackupRepository
This command gets file share by the file share ID. The cmdlet output will contain settings of these file shares.
```
> Example 4. Getting File Share by Backup

```PowerShell
$nasbackup = Get-VBRNASBackup -Name "Fileserv05 (SMB) DB"
Get-VBRNASServer -Backup $nasbackup
Type                        : SMB
Path                        : \\fileserv05\Documents
AccessCredentials           : fileserv05\Administrator
ProcessingMode              : Direct
StorageSnapshotPath         :
ProxyMode                   : Automatic
SelectedProxyServer         : {}
DirectBackupFailoverEnabled : True
Id                          : a830d2ab-a879-44ed-8107-7e76b8d4b817
CacheRepository             : Veeam.Backup.Core.CBackupRepository
BackupIOControlLevel        : Medium
This example shows how to get the Fileserv05 (SMB) DB file shares by the backup that protects them. The cmdlet output will contain settings of these file shares.
```

---

### Parameters
#### **Backup**
Specifies a backup. The cmdlet will return an array of file shares protected with this backup. Accepts the VBRNASBackup object. To create this object, run the Get-VBRNASBackup cmdlet.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRNASBackup]`|false   |named   |False        |

#### **Id**
Specifies an ID of a file share. The cmdlet will return an array of file shares with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies a name of a file share. The cmdlet will return an array of file shares with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **SANEntity**
Specifies a name of an enterprise NAS system. The cmdlet will return an array of file shares residing on this NAS system. Accepts the VBRSANEntity[] object. To create this object, run the Get-NetAppHost cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRSANEntity[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASServer [-Backup <VBRNASBackup>] [<CommonParameters>]
```
```PowerShell
Get-VBRNASServer -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASServer -Name <String[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNASServer -SANEntity <VBRSANEntity[]> [<CommonParameters>]
```

Get-VBRNASServerPath
--------------------

### Synopsis
Returns files paths to NFS network shared folders.

---

### Description

This cmdlet returns files paths to NFS network shared folders.

---

### Related Links
* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

---

### Examples
> Getting Files Paths to NFS Network Shared Folders

$server = Get-VBRUnstructuredServer -Name "\\LinuxSRV2049\November"
Get-VBRNASServerPath -Server $server
This example shows how to get file path to the \LinuxSRV2049\November share folder.

Perform the following steps:
1. Run the Sync-VBRUnstructuredBackupState cmdelt. Specify the Name parameter value. Save the result to the $server parameter.
2. Run the Get-VBRNASServerPath cmdlet. Set the $server variable as the Server parameter value.

---

### Parameters
#### **Server**
Specifies NFS network shared folders. The cmdlet will return file paths to these shared folders. Accepts the VBRUnstructuredServer object. To create this object, run the Get-VBRUnstructuredServer cmdlet.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[VBRUnstructuredServer]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRUnstructuredServer

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNASServerPath -Server <VBRUnstructuredServer> [<CommonParameters>]
```

Get-VBRNDMPServer
-----------------

### Synopsis
Returns NDMP servers.

---

### Description

This cmdlet returns an array of NDMP servers managed by Veeam Backup & Replication.

---

### Examples
> Example 1. Getting NDMP Server by DNS Name

```PowerShell
Get-VBRNDMPServer -Name "NetApp.tech.local"
This command gets the NetApp.tech.local NDMP server.
```
> Example 2. Getting NDMP Server by Server ID

```PowerShell
Get-VBRNDMPServer -ID "0fccf7c9-1f90-49de-8bec-53a0697e04ab"
This command gets the 0fccf7c9-1f90-49de-8bec-53a0697e04ab NDMP server.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for NDMP servers. The cmdlet will return NDMP servers with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of DNS names or IP addresses of NDMP servers. The cmdlet will return NDMP servers with these DNS names or IP addresses.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNDMPServer -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNDMPServer [-Name <String[]>] [<CommonParameters>]
```

Get-VBRNDMPVolume
-----------------

### Synopsis
Returns NDMP server volumes.

---

### Description

This cmdlet returns an array of NDMP server volumes.

---

### Related Links
* [Get-VBRNDMPServer](Get-VBRNDMPServer.md)

---

### Examples
> Example 1. Getting Volumes of All NDMP Servers

Get-VBRNDMPVolume
This command gets volumes of all NDMP servers added to Veeam Backup & Replication.
> Example 2. Getting NDMP Server Volume by Volume ID

```PowerShell
Get-VBRNDMPVolume -ID "0fccf7c9-1f90-49de-8bec-53a0697e04ab"
This command gets an NDMP server volume by the volume ID.
```
> Example 3. Getting NDMP Server Volume by Volume ID

```PowerShell
Get-VBRNDMPVolume -Name "/svm-cifs/Exhcange_vol"
This command gets an NDMP server volume by the volume name.
```
> Example 4. Getting All Volumes on Selected NDMP Server [Using Variable]

$server = Get-VBRNDMPServer -Name "NetApp.local"
Get-VBRNDMPVolume -Server $server
This example shows how to get all volumes on a specific NDMP server.

Perform the following steps:
1. Run the Get-VBRNDMPServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Set-VBRNDMPServer cmdlet. Set the $server variable as Server parameter value.

---

### Parameters
#### **Id**
Specifies an array of volume IDs. The cmdlet will return volumes with these IDs. NOTE: You an array of volume IDs only after you create the file to tape job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names for volumes. The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies an array of NDMP servers. The cmdlet will return volumes located on these NDMP servers. Accepts the VBRNDMPServer[] object.  To get this object, run the Get-VBRNDMPServer cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRNDMPServer[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNDMPVolume -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNDMPVolume [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRNDMPVolume -Server <VBRNDMPServer[]> [<CommonParameters>]
```

Get-VBRNDMPVolumeRestorePoint
-----------------------------

### Synopsis
Returns restore points of NDMP server volumes.

---

### Description

This cmdlet returns restore points available for NDMP server volumes.

---

### Related Links
* [Get-VBRNDMPVolume](Get-VBRNDMPVolume.md)

---

### Examples
> Example 1. Getting Restore Points for NDMP Server Volume [Using Variable]

$volume = Get-VBRNDMPVolume -Name "/svm-cifs/Exhcange_vol"
Get-VBRNDMPVolumeRestorePoint -Volume $volume
This example shows how to get the restore points available for the /svm-cifs/Exhcange_vol volume.

Perform the following steps:
1. Run the Get-VBRNDMPVolume cmdlet to get the volume. Specify the Name parameter value. Save the result to the $volume variable.
2. Run the Get-VBRNDMPVolumeRestorePoint cmdlet. Set the $volume variable as the Volume parameter value.
> Example 2. Getting Restore Points for NDMP Server Volume by Backup ID [Using Variable]

$volume = Get-VBRNDMPVolume -Name "/svm-cifs/Exhcange_vol"
Get-VBRNDMPVolumeRestorePoint -Volume $volume -ID "3efbf118-978f-4858-805d-d8560208dc6f"
This example shows how to get the restore points available on the /svm-cifs/Exhcange_vol volume by the 3efbf118-978f-4858-805d-d8560208dc6f backup ID.

Perform the following steps:
1. Run the Get-VBRNDMPVolume cmdlet to get the volume. Specify the Name parameter value. Save the result to the $volume variable.
2. Run the Get-VBRNDMPVolumeRestorePoint cmdlet. Set the $volume variable as the Volume parameter value. Specify the ID parameter value.

---

### Parameters
#### **Id**
Specifies an array of IDs for backups that are stored on the NDMP server. The cmdlet will return an array of selected backups.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Volume**
Specifies NDMP server volumes. The cmdlet will return an array of restore points available for selected volumes. Accepts the VBRNDMPVolume object. To get this object, run the Get-VBRNDMPVolume cmdlet.

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRNDMPVolume]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNDMPVolumeRestorePoint -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRNDMPVolumeRestorePoint -Volume <VBRNDMPVolume> [<CommonParameters>]
```

Get-VBRNetworkTrafficRule
-------------------------

### Synopsis
Returns network traffic rules.

---

### Description

This cmdlet returns an array of network traffic rules.

---

### Examples
> Getting Network Traffic Rule by Name

```PowerShell
Get-VBRNetworkTrafficRule -Name "New rule"
This command gets a network traffic rule by the network traffic rule name.
```

---

### Parameters
#### **Id**
Specifies an array of IDs. The cmdlet will return network traffic rules with the specified IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies an array of names. The cmdlet will return network traffic rules with the specified names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRNetworkTrafficRule[]

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNetworkTrafficRule [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRNetworkTrafficRule [-Name <String[]>] [<CommonParameters>]
```

Get-VBRNetworkTrafficRuleOptions
--------------------------------

### Synopsis
Returns settings of global network traffic rules.

---

### Description

This cmdlet returns the following settings of global network traffic rules:
- MultipleUploadStreamsEnabled - Defines that multithreaded data transfer is enabled or disabled.
- StreamsPerJobCount - Specifies a number of TCP/IP transfer connection for every job session.
- IPv6Enabled -  Defines that the IPv4/IPv6 dual stack mode is enabled or disabled.

---

### Examples
> Getting Settings of Global Network Traffic Rules

```PowerShell
Get-VBRNetworkTrafficRuleOptions
This command returns the following settings of global network traffic rules: MultipleUploadStreamsEnabled, StreamsPerJobCount and IPv6Enabled.
```

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRNetworkTrafficRuleOptions

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNetworkTrafficRuleOptions [<CommonParameters>]
```

Get-VBRNutanixHost
------------------

### Synopsis
Returns Nutanix Files storage systems.

---

### Description

This cmdlet returns Nutanix Files storage systems.
You can get the list of all Nutanix Files storage systems added to your virtual infrastructure or narrow down the output by a storage system name.

---

### Examples
> Example 1

```PowerShell
Get-VBRNutanixHost -Name "Nutanix Files_host"
This command gets Nutanix Files storage systems.
```

---

### Parameters
#### **Name**
Specifies an array of storage system names. The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNutanixHost [-Name <String[]>] [<CommonParameters>]
```

Get-VBRNutanixInfrastructureVolume
----------------------------------

### Synopsis
Returns Nutanix Files volumes added to the backup infrastructure.

---

### Description

This cmdlet returns an array of volumes of Nutanix Files storage systems. The cmdlet will return storage volumes even if they are not added to your backup infrastructure.

Tip: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-VBRNutanixHost](Get-VBRNutanixHost.md)

---

### Examples
> Example 1

$host = Get-VBRNutanixHost -Name "Nutanix Files_host"
Get-VBRNutanixInfrastructureVolume -Host $host
This example shows how to get an array of volumes of Nutanix Files storage systems.

Perform the following steps:
1. Run the Get-VBRNutanixHost cmdlet. Specify the Name parameter value. Save the result to the $host variable.
2. Run the Get-VBRNutanixInfrastructureVolume cmdlet. Set the $host variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies a storage system. The cmdlet will return an array of volumes added to that storage system.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CNutanixHost]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names that you want to get. The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Nutanix.CNutanixHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNutanixInfrastructureVolume [-Host <CNutanixHost>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRNutanixVolume
--------------------

### Synopsis
Returns all volumes of the specified Nutanix Files storage systems.

---

### Description

This cmdlet returns Nutanix Files volumes added to the backup infrastructure.

Tip: Run the Get-VBRIsilonInfrastructureVolume cmdlet to get an array of all volumes of Nutanix Files storage systems. The cmdlet will also return volumes not added to the backup infrastructure.

---

### Examples
> Example 1

```PowerShell
Get-VBRNutanixVolume -Name "VOL01"
This command gets Nutanix Files volumes.
```

---

### Parameters
#### **Host**
Specifies a storage system. The cmdlet will return an array of volumes added to that storage system.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[CNutanixHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names that you want to get. The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Nutanix.CNutanixHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRNutanixVolume [-Host <CNutanixHost[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRObjectRestorePoint
-------------------------

### Synopsis
Returns restore points created by jobs.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns restore points created by jobs.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRReplica](Get-VBRReplica.md)

* [Sort-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Sort-Object)

* [Select-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Select-Object)

---

### Examples
> Example 1. Getting all Restore Points

```PowerShell
Get-VBRObjectRestorePoint
This command looks for all restore points of all machines registered in the database.
```
> Example 2. Getting Restore Points by ID

```PowerShell
Get-VBRObjectRestorePoint -Id "2ee79fec-9aa8-4058-a147-ff6b76ef2924"
This command looks for the 2ee79fec-9aa8-4058-a147-ff6b76ef2924 restore point.
```
> Example 3. Getting Restore Points Created by Backup Job

$backup = Get-VBRBackup -Name "MSExchange"
Get-VBRObjectRestorePoint -Name *MSExchange02* -Backup $backup
This example shows how to get all restore points of the MSExchange02 machine that is backed up by the MSExchange backup job.

Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRObjectRestorePoint cmdlet. Specify the Name parameter value. Set the $backup variable as the Backup parameter value.
> Example 4. Getting Restore Points Created by Replication Job

$replica = Get-VBRReplica -Name "DC Replica"
Get-VBRObjectRestorePoint -Backup $replica
This example shows how to get all restore points of machines that are replicated by the DC Replica replication job.
Perform the following steps:
1. Run the Get-VBRReplica cmdlet. Specify the Name parameter value. Save the result to the $replica variable.
2. Run the Get-VBRObjectRestorePoint cmdlet. Set the $replica variable as the Backup parameter value.
> Example 5. Getting Restore Points Created by Veeam Agent

$winbackup = Get-VBRBackup -Name "WinBackup*"
Get-VBRObjectRestorePoint -Backup $winbackup
This example shows how to get all restore points of Windows-based machines backed up by the WinBackup Veeam Agent job.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $winbackup variable.
Note: To get a list of restore points for a Veeam Agent job, you must provide the asterisks sign for the Name parameter value: Name "AgentJob*". Otherwise, the Get-VBRObjectRestorePoint cmdlet will not return any restore points for the Veeam Agent job.
2. Run the Get-VBRObjectRestorePoint cmdlet. Set the $winbackup variable as the Backup parameter value.
> Example 6. Getting Latest Restore Point Created by Backup Job [Using Pipeline]

Get-VBRBackup -Name MSExchange Backup | Get-VBRObjectRestorePoint -Name MSExchange02 | Sort-Object -Property CreationTime -Descending | Select-Object -First 1
This example shows how to look for the latest restore point of machines that are backed up by the MSExchange Backup backup job.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRObjectRestorePoint cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Sort-Object cmdlet. Set the CreationTime value for the Property parameter. Provide the Descending parameter.
4. Pipe the cmdlet output to the Select-Object cmdlet. Set the 1 number as the First parameter value.

---

### Parameters
#### **Backup**
Specifies an array of backup or replica objects. The cmdlet will return restore points of these backups or replicas.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies an array of IDs, The cmdlet will return restore points of these backups or replicas.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for backed-up machines or replicated VMs. The cmdlet will return restore points of these machines.
Note: For vCD and CDP replica you must specify a vApp.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ObjectId**
Specifies an array of IDs of backed-up hosts and machines. The cmdlet will return restore points of these hosts and machines.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackup[]

System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRObjectRestorePoint -Backup <CBackup[]> [<CommonParameters>]
```
```PowerShell
Get-VBRObjectRestorePoint -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRObjectRestorePoint -Name <String[]> [<CommonParameters>]
```
```PowerShell
Get-VBRObjectRestorePoint -ObjectId <Guid[]> [<CommonParameters>]
```

Get-VBRObjectStorageRepository
------------------------------

### Synopsis
Returns object storage added as backup repositories to Veeam Backup & Replication.

---

### Description

This cmdlet returns an array of object storage added as backup repositories to Veeam Backup & Replication. You can get the following types of these backup repositories:
- Amazon S3
- S3 compatible
- Azure Blob
- Azure Data Box
- Google Cloud object storage

---

### Examples
> Example 1. Getting All Microsoft Azure Blob Object Storage Added as Backup Repositories

```PowerShell
Get-VBRObjectStorageRepository -Type AzureBlob
This command gets all Azure Blob storage added as backup repositories.
```
> Example 2. Getting All Amazon S3 Object Storage Added as Backup Repositories

```PowerShell
Get-VBRObjectStorageRepository -Type Amazon S3
This command gets all Amazon S3 object storage added as backup repositories.
```
> Example 3. Getting All S3 Compatible Object Storage Added as Backup Repositories

```PowerShell
Get-VBRObjectStorageRepository -Type AmazonS3CompatibleService
This command gets all S3 compatible object storage added as backup repositories.
```

---

### Parameters
#### **Id**
Specifies an ID of a backup repository that you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies the name of a backup repository that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Type**
Specifies the type of a backup repository that you want to get. You can select the following type of backup repositories:
* AmazonS3
* AmazonS3Compatible
* AzureBlob
* AzureDataBox
* GoogleCloudStorage
Valid Values:

* AmazonS3
* AmazonS3Compatible
* AzureBlob
* AzureDataBox
* GoogleCloudStorage
* Wasabi
* DataCloudVault

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRObjectStorageRepositoryType]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRObjectStorageRepository -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRObjectStorageRepository [-Name <String[]>] [-Type {AmazonS3 | AmazonS3Compatible | AzureBlob | AzureDataBox | GoogleCloudStorage | Wasabi | DataCloudVault}] 
```
```PowerShell
[<CommonParameters>]
```

Get-VBRObjectStorageRepositorySyncInterval
------------------------------------------

### Synopsis
Returns a time period available for synchronization for checkpoints located in object storage repositories.

---

### Description

This cmdlet returns a time period available for synchronization of checkpoints located in object storage repositories. You can get details on the time period when checkpoints in object storage are available for synchronization.
You may want to run this cmdlet before you roll back checkpoints in object storage repositories to the previous state.
Run the Sync-VBRObjectStorageRepositoryEntityState to synchronize the state of the backup chains.
Consider the following:
- Use this cmdlet only with object storage that support the immutability option.
- Do not use this cmdlet with object storage repositories added as a performance tier of a scale-out backup repository.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

* [Get-VBRObjectStorageRepository](Get-VBRObjectStorageRepository.md)

* [Get-VBRBackup](Get-VBRBackup.md)

---

### Examples
> Example 1. Getting Time Period for all Checkpoints Available in Object Storage Repositories

$repository = Get-VBRObjectStorageRepository -Name "Amazon S3"
Get-VBRObjectStorageRepositorySyncInterval -Repository $repository

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period for all checkpoints located in the Amazon S3 object storage repository.
Perform the following steps:
1. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Get-VBRObjectStorageRepositorySyncInterval cmdlet. Set the $repository variable as the Repository parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.
> Example 2. Getting Time Period of Checkpoints for Specific Job

$repository = Get-VBRObjectStorageRepository -Name "Amazon S3"
$job = Get-VBRJob -Name "Backup05"
Get-VBRObjectStorageRepositorySyncInterval -Repository $repository -Job $job

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period that contains checkpoints located in the Amazon S3 created by the Backup05 job.
Perform the following steps:
1. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
3. Run the Get-VBRObjectStorageRepositorySyncInterval cmdlet. Set the $repository variable as the Repository parameter value. Set the $job variable as the Job parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.
> Example 3. Getting Time Period of Checkpoints for Specific Backup

$repository = Get-VBRObjectStorageRepository -Name "Amazon S3"
$backup = Get-VBRBackup -Name "Report05"
Get-VBRObjectStorageRepositorySyncInterval -Repository $repository -Backup $backup

StartDateUtc                                                EndDateUtc
------------                                                ----------
2/20/2020 1:54:26 PM                                        2/20/2020 1:54:26 PM
This example shows how to get a time period that contains details on checkpoints located in the Amazon S3 object storage repository available in the Report05 backup.
Perform the following steps:
1. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
3. Run the Get-VBRObjectStorageRepositorySyncInterval cmdlet. Set the $repository variable as the Repository parameter value. Set the $backup variable as the Backup parameter value.
The cmdlet output will contain the following details on the time period for the checkpoints: StartDateUtc and EndDateUtc.

---

### Parameters
#### **Backup**
Specifies a backup. The cmdlet will return a time period for checkpoints added to this backup.

|Type       |Required|Position|PipelineInput        |
|-----------|--------|--------|---------------------|
|`[CBackup]`|true    |named   |True (ByPropertyName)|

#### **Job**
Specifies a job. The cmdlet will return a time period for checkpoints created by this job.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[VBRJob]`|true    |named   |True (ByPropertyName)|

#### **Repository**
Specifies an object storage repository. The cmdlet will return time periods for checkpoints located in this repository.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRObjectStorageRepository]`|true    |named   |True (ByPropertyName, ByValue)|

#### **TenantBackupId**
Specifies an ID of the cloud tenant backup. The cmdlet will return a time period for checkpoints added to this backup.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **TenantId**
Specifies an ID of the cloud tenant. The cmdlet will return a time period for checkpoints created by this tenant.
Note: This parameter is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRObjectStorageRepository

Veeam.Backup.PowerShell.Infos.VBRJob

Veeam.Backup.Core.CBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRObjectStorageRepositorySyncInterval -Backup <CBackup> -Repository <VBRObjectStorageRepository> [<CommonParameters>]
```
```PowerShell
Get-VBRObjectStorageRepositorySyncInterval -Job <VBRJob> -Repository <VBRObjectStorageRepository> [<CommonParameters>]
```
```PowerShell
Get-VBRObjectStorageRepositorySyncInterval -Repository <VBRObjectStorageRepository> -TenantBackupId <Guid> [<CommonParameters>]
```
```PowerShell
Get-VBRObjectStorageRepositorySyncInterval -Repository <VBRObjectStorageRepository> -TenantId <Guid> [<CommonParameters>]
```

Get-VBROrchestratedTask
-----------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Session**

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBROrchestratedTaskSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBROrchestratedTaskSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBROrchestratedTask [-Session <VBROrchestratedTaskSession>] [<CommonParameters>]
```

Get-VBRPhysicalHost
-------------------

### Synopsis
Returns managed servers added to the backup infrastructure.

---

### Description

This cmdlet returns managed servers that are added to the backup infrastructure. The cmdlet will return the following types of managed servers:
- VMware vSphere servers
- Microsoft Hyper-V servers
- Microsoft SMB3 servers
- Microsoft Windows servers
- Azure proxy

---

### Examples
> Example 1. Getting all Managed Servers

```PowerShell
Get-VBRPhysicalHost
This command returns all managed servers added to the backup infrastructure.
```
> Example 2. Getting Managed Servers that Require Upgrade

```PowerShell
Get-VBRPhysicalHost -UpdateRequired
This command returns all managed servers that require an upgrade of the components.
```

---

### Parameters
#### **UpdateRequired**
Defines that the cmdlet will return only the managed servers, which require an upgrade of the components.
If you do not provide this parameter, the cmdlet will return all managed servers added to the backup infrastructure.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRPhysicalHost

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPhysicalHost [-UpdateRequired] [<CommonParameters>]
```

Get-VBRPluginBackupSession
--------------------------

### Synopsis
Returns application backup policy sessions.

---

### Description

This cmdlet returns application backup policy sessions.

---

### Examples
> Example 1. Getting all Application Backup Policy Sessions

```PowerShell
Get-VBRPluginBackupSession
This command returns all application backup policy sessions.
```
> Example 2. Getting Application Backup Policy Sessions by Name

```PowerShell
Get-VBRPluginBackupSession -Name "Oracle RMAN backup"
This command returns the Oracle RMAN backup application backup policy session.
```
> Example 3. Getting Application Backup Policy Sessions by Id

```PowerShell
Get-VBRPluginBackupSession -Id "483699a2-3fa2-45ed-86cb-230b9009b29d"
This command returns the 483699a2-3fa2-45ed-86cb-230b9009b29d application backup policy session.
```

---

### Parameters
#### **Id**
Specifies the array of application backup policy IDs. The cmdlet will return the sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **MaxResults**
Specifies a number of returned sessions. Default: 500 sessions. Note: If the MaxResults parameter value is 0, the cmdlet will return all sessions.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Name**
Specifies the array of application backup policy names. The cmdlet will return the sessions with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPluginBackupSession [-Id <Guid[]>] [-MaxResults <Int32>] [<CommonParameters>]
```
```PowerShell
Get-VBRPluginBackupSession [-MaxResults <Int32>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRPluginJob
----------------

### Synopsis
Returns plug-in jobs.

---

### Description

This cmdlet returns the VBRPluginBackupJob and VBRPluginBackupCopyJob objects that contains settings of the following types of jobs:
- A plug-in backup job that was created to back up Oracle RMAN, SAP HANA or SAP on Oracle.
- A plug-in backup copy job.

---

### Examples
> Example 1. Getting All Plug-In Jobs

Get-VBRPluginJob
This command returns all plug-in backup and plug-in backup copy jobs that are created in the Veeam Backup & Replication infrastructure.
> Example 2. Getting Plug-In Backup Copy Job by Name

```PowerShell
Get-VBRPluginJob -Name "Plug-in backup 17"
This command returns the plug-in backup 17 plug-in backup copy job.
```
> Example 3. Getting Plug-in Backup Copy Job by ID

```PowerShell
Get-VBRPluginJob -Id "35d7b6cc-5726-4ec9-a954-f58109f3ff28"
This command returns the 35d7b6cc-5726-4ec9-a954-f58109f3ff28 plug-in backup copy job.
```

---

### Parameters
#### **Id**
Specifies an ID of a job. The cmdlet will return the job with this ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies a name of a job. The cmdlet will return the job with this name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPluginJob [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRPluginJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRPluginRestoreSession
---------------------------

### Synopsis
Returns active restore sessions of application policies.

---

### Description

This cmdlet returns active restore sessions of application policies.

---

### Examples
> Example 1. Getting all Active Restore Sessions of Application Policies

```PowerShell
Get-VBRPluginRestoreSession
This command returns all active restore sessions of application policies.
```
> Example 2. Getting Active Restore Sessions of Application Policies

```PowerShell
Get-VBRPluginRestoreSession -Id "ebea2113-dacb-4f5f-ac2a-18794fb6d4aa"
This command returns the ebea2113-dacb-4f5f-ac2a-18794fb6d4aa application policy restore session.
```

---

### Parameters
#### **Id**
Specifies the array of restore sessions for application policies IDs. The cmdlet will return the sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPluginRestoreSession [-Id <Guid[]>] [<CommonParameters>]
```

Get-VBRPreferredNetwork
-----------------------

### Synopsis
Returns preferred networks.

---

### Description

This cmdlet returns an array of preferred networks created for the backup infrastructure.

---

### Examples
> Getting Preferred Networks

Get-VBRPreferredNetwork
  IpAddress                               SubnetMask                              CIDRNotation
  192.168.0.1                             255.255.255.255                         192.168.0.1/32
  123.0.0.0                               255.0.0.0                               123.0.0.0/8
This command returns preferred networks created for the backup infrastructure.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPreferredNetwork [<CommonParameters>]
```

Get-VBRPrivateFixes
-------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Credential**

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[PSCredential]`|true    |named   |False        |

#### **Password**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Port**

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **Server**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Timeout**

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **User**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPrivateFixes -Credential <PSCredential> [-Port <Int32>] [-Server <String>] [-Timeout <Int32>] [<CommonParameters>]
```
```PowerShell
Get-VBRPrivateFixes -Password <String> [-Port <Int32>] [-Server <String>] [-Timeout <Int32>] -User <String> [<CommonParameters>]
```

Get-VBRProtectionGroup
----------------------

### Synopsis
Returns protection groups.

---

### Description

This cmdlet returns protection groups.
You can get all protection groups or search for instances directly by name, ID, type or protection scope. Use an appropriate parameter set for each case.

---

### Examples
> Example 1. Getting All Protection Groups

Get-VBRProtectionGroup
This command returns all protection groups added to Veeam Backup & Replication.
> Example 2. Getting Protection Groups by ID

```PowerShell
Get-VBRProtectionGroup -Id 4022509c-3308-4883-b166-118bdf7480ea, 730dc485-84c2-4a9d-86e7-2e35d1d5a0be
This command returns protection groups by ID.
```
> Example 3. Getting Protection Groups by Scope of Active Directory Objects

```PowerShell
Get-VBRProtectionGroup -ContainerType ActiveDirectory
This command returns protection groups created for the scope of Active Directory objects.
```

---

### Parameters
#### **ContainerType**
Specifies the array of protection scope types:
* ActiveDirectory: a scope of Active Directory objects
* IndividualComputers: a scope of individual computers
* CSV: a scope of computers listed in a CSV file
* ManuallyDeployed: a scope of computers that were added manually to a Veeam Agent backup job.
* MongoDBComputers: a scope of MongoDB Replica sets. The cmdlet will return protection groups created for these protection scope types.
Valid Values:

* IndividualComputers
* ActiveDirectory
* CSV
* ManuallyDeployed
* CloudMachines
* MongoDBComputers

|Type                                 |Required|Position|PipelineInput        |
|-------------------------------------|--------|--------|---------------------|
|`[VBRProtectionGroupContainerType[]]`|false   |named   |True (ByPropertyName)|

#### **Id**
Specifies the array of protection group IDs. The cmdlet will return protection groups with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of protection group names. The cmdlet will return protection groups with these names.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **Type**
Specifies protection group types:
* Custom: protection groups created for individual computers, Active Directory objects, cloud machines, computers listed in a CSV file or MongoDB Replica sets.
* ManuallyAdded: protection groups created for computers that were added manually to a Veeam Agent backup job.
The cmdlet will return protection groups of these types.
Valid Values:

* Custom
* ManuallyAdded

|Type                        |Required|Position|PipelineInput        |
|----------------------------|--------|--------|---------------------|
|`[VBRProtectionGroupType[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

System.String[]

Veeam.Backup.PowerShell.Infos.VBRProtectionGroupType[]

Veeam.Backup.PowerShell.Infos.VBRProtectionGroupContainerType[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRProtectionGroup [-ContainerType {IndividualComputers | ActiveDirectory | CSV | ManuallyDeployed | CloudMachines | MongoDBComputers}] [<CommonParameters>]
```
```PowerShell
Get-VBRProtectionGroup [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRProtectionGroup [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRProtectionGroup [-Type {Custom | ManuallyAdded}] [<CommonParameters>]
```

Get-VBRProtectionGroupLinuxPackage
----------------------------------

### Synopsis
Returns Veeam Agents for Linux and Unix packages.

---

### Description

This cmdlet returns Veeam Agents for Linux and Unix packages.

---

### Examples
> Example 1. Getting all Veeam Agents for Linux Packages

```PowerShell
Get-VBRProtectionGroupLinuxPackage
This command returns an array of all Veeam Agent for Linux packages.
```
> Example 2. Getting Veeam Agent for Linux Packages

```PowerShell
Get-VBRProtectionGroupLinuxPackage -LinuxDistributionName "debian", "ubuntu" -LinuxPackageBitness X64
This command returns an array of Debian and Ubuntu packages with the X64 operating system version.
```

---

### Parameters
#### **LinuxDistributionName**
Specifies an array of Veeam Agents for Linux packages that you specify for this parameter. The cmdlet will return Linux packages with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **LinuxPackageBitness**
Specifies an operating system version of Veeam Agent for Linux packages. You can specify one of the following types of operating systems:
* X86
* X64
* Unknown
Valid Values:

* X86
* X64
* PPC64le
* Unknown

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[EOSPlatform]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies a name of the Veeam Agent for a Linux package. The cmdlet will return Linux packages with this name.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Type**
Specifies one of the following Linux packages type:
* Standard
* Nosnap
Valid Values:

* Standard
* Nosnap

|Type                        |Required|Position|PipelineInput                 |
|----------------------------|--------|--------|------------------------------|
|`[VBRLinuxAgentPackageType]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

System.String[]

Veeam.Backup.Common.EOSPlatform

Veeam.Backup.PowerShell.Infos.VBRLinuxAgentPackageType

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRProtectionGroupLinuxPackage [-LinuxDistributionName <String[]>] [-LinuxPackageBitness {X86 | X64 | PPC64le | Unknown}] [-Name <String>] [-Type {Standard | Nosnap}] 
```
```PowerShell
[<CommonParameters>]
```

Get-VBRProtectionGroupUnixPackage
---------------------------------

### Synopsis
Returns Veeam Agents for Unix packages.

---

### Description

This cmdlet returns Veeam Agents for Unix packages.

---

### Examples
> Getting all Veeam Agents for Unix Packages

```PowerShell
Get-VBRProtectionGroupLinuxPackage
This command returns an array of all Veeam Agents for Unix packages.
```

---

### Parameters
#### **Name**
Specifies a name of the Veeam Agents for Unix package. The cmdlet will return Unix packages with this name.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRProtectionGroupUnixPackage [-Name <String>] [<CommonParameters>]
```

Get-VBRPublicCloudRestorePoint
------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Backup**

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRPublicCloudBackup[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **BackupType**

Valid Values:

* AzureIaas
* AWSEC2
* GCE

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRPublicCloudBackupType]`|true    |named   |False        |

#### **Id**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRPublicCloudBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPublicCloudRestorePoint [-Backup <VBRPublicCloudBackup[]>] [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRPublicCloudRestorePoint -BackupType {AzureIaas | AWSEC2 | GCE} [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRPublicCloudRestorePoint -Id <Guid[]> [<CommonParameters>]
```

Get-VBRPublishedBackupContentInfo
---------------------------------

### Synopsis
Returns details on the published disks.

---

### Description

This cmdlet returns details on the published disks.

---

### Related Links
* [Get-VBRPublishedBackupContentSession](Get-VBRPublishedBackupContentSession.md)

---

### Examples
> Getting Details about Content of Backup Files

```PowerShell
$session = Get-VBRPublishedBackupContentSession
Get-VBRPublishedBackupContentInfo -Session $session
This example shows how to get details on the published disks.

Perform the following steps: 1. Run the Get-VBRPublishedBackupContentSession cmdlet. Save the result to the $session variable. 2. Run the Get-VBRPublishedBackupContentInfo cmdlet. Set the $session variable as the Session parameter value.   The cmdlet output will contain the following details on the mounted content of backup files: Mode, ServerIps, ServerPort and the Disks.
```

---

### Parameters
#### **Session**
Specifies a session that is running to publish disks.
The cmdlet will return details on the disks published during this session.

|Type                                  |Required|Position|PipelineInput|
|--------------------------------------|--------|--------|-------------|
|`[VBRBackupContentPublicationSession]`|true    |0       |False        |

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRBackupContentPublicationInfo

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPublishedBackupContentInfo [-Session] <VBRBackupContentPublicationSession> [<CommonParameters>]
```

Get-VBRPublishedBackupContentSession
------------------------------------

### Synopsis
Returns sessions that are running to publish disks from a backup or replica.

---

### Description

This cmdlet returns an array of sessions that are running to publish disks.

---

### Examples
> Getting Sessions That are Running to Mount Content of Backup Files

```PowerShell
Get-VBRPublishedBackupContentSession
This command returns an array of sessions that are running to publish disks.
```

---

### Parameters
#### **Id**
Specifies an array of session IDs. The cmdlet will return sessions that have the specified IDs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRBackupContentPublicationSession[]

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPublishedBackupContentSession [-Id <Guid[]>] [<CommonParameters>]
```

Get-VBRPublishedBackupDiskInfo
------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Session**

|Type                               |Required|Position|PipelineInput|
|-----------------------------------|--------|--------|-------------|
|`[VBRBackupDiskPublicationSession]`|true    |0       |False        |

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRBackupDiskPublicationInfo

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPublishedBackupDiskInfo [-Session] <VBRBackupDiskPublicationSession> [<CommonParameters>]
```

Get-VBRPublishedBackupDiskSession
---------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Id**

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRBackupDiskPublicationSession[]

---

### Notes

---

### Syntax
```PowerShell
Get-VBRPublishedBackupDiskSession [-Id <Guid[]>] [<CommonParameters>]
```

Get-VBRRecoveryMediaTarget
--------------------------

### Synopsis
Returns available bootable media for creating Veeam Recovery Media.

---

### Description

This cmdlet returns available bootable media for creating Veeam Recovery Media. You can get the list of all media or search for instances directly by name or type.

---

### Examples
> Example 1. Getting All Available Bootable Media

```PowerShell
Get-VBRRecoveryMediaTarget
This command returns all available bootable media.
```
> Example 2. Getting All Removable Bootable Media

```PowerShell
Get-VBRRecoveryMediaTarget -Type RemovableDevice
This command returns all attached removable storage devices that can be used for creating Veeam Recovery Media.
```

---

### Parameters
#### **Name**
Specifies the array of bootable media names. The cmdlet will return available bootable media with these names.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **Type**
Specifies the array of bootable media types:
* RemovableDevice: removable storage devices
* OpticalDrive: CD, DVD and BD drives
The cmdlet will return available bootable media of these types.
Valid Values:

* ISO
* RemovableDevice
* OpticalDrive

|Type                      |Required|Position|PipelineInput        |
|--------------------------|--------|--------|---------------------|
|`[VBRRecoveryMediaType[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.String[]

Veeam.Backup.PowerShell.Infos.VBRRecoveryMediaType[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRRecoveryMediaTarget [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRRecoveryMediaTarget [-Type {ISO | RemovableDevice | OpticalDrive}] [<CommonParameters>]
```

Get-VBRRecoveryPointObjective
-----------------------------

### Synopsis
Returns a schedule for a backup copy jobs that process backups stored on external repositories.

---

### Description

Returns the VBRRecoveryPointObjective object.
This object contains schedule settings backup copy jobs that process backups stored on external repositories.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Getting Schedule Settings for Backup Copy Job

$job = Get-VBRJob -Name "EC2 BCJ 01"
Get-VBRRecoveryPointObjective -Job $job
This example shows how to get schedule settings for a backup copy job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRRecoveryPointObjective cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the backup copy job. The cmdlet will return schedule settings for the specified job.

|Type          |Required|Position|PipelineInput |
|--------------|--------|--------|--------------|
|`[CBackupJob]`|true    |named   |True (ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRRecoveryPointObjective -Job <CBackupJob> [<CommonParameters>]
```

Get-VBRReplica
--------------

### Synopsis
Returns replica objects of VMs or cloud VMs.

---

### Description

This cmdlet returns replica objects of VMs or cloud VMs created by Veeam Backup & Replication.
You can look for all replica objects or for replica objects created by a particular replication job.
With this cmdlet, you can get the replica objects that are managed by your backup console. In case you have removed some replica objects from the Veeam Backup & Replication console, but they remain on disk, you will not be able to get them.

---

### Examples
> Example 1

Get-VBRReplica
This command looks for all replica objects created by Veeam Backup & Replication.
> Example 2

```PowerShell
Get-VBRReplica -Name "DC Replica"
This command looks for the replica objects created by the replication job.
```

---

### Parameters
#### **Name**
Specifies an array of the replication job names. The cmdlet will return replica objects produced by these jobs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Type**
Specifies the type of the replica objects you want to get:
* Local: non-cloud replica objects.
* Cloud: [for cloud user] cloud replica objects.
* Tenant: [for cloud provider] cloud replica objects created by cloud user.
The cmdlet will return replicated VMs of the selected type.
Valid Values:

* Local
* Cloud
* Tenant
* CloudvCD

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRReplicaType]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRReplica [-Name <String[]>] [-Type {Local | Cloud | Tenant | CloudvCD}] [<CommonParameters>]
```

Get-VBRReplicaStatus
--------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Replica**

|Type          |Required|Position|PipelineInput        |
|--------------|--------|--------|---------------------|
|`[CReplica[]]`|true    |named   |True (ByPropertyName)|

#### **RestorePoint**

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[COib[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.COib[]

Veeam.Backup.Core.CReplica[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRReplicaStatus -Replica <CReplica[]> [<CommonParameters>]
```
```PowerShell
Get-VBRReplicaStatus -RestorePoint <COib[]> [<CommonParameters>]
```

Get-VBRRepositoryExtent
-----------------------

### Synopsis
Returns scale-out performance extents.

---

### Description

This cmdlet returns performance extents of scale-out backup repositories.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1. Getting Performance Extents of Scale-Out Backup Repository

```PowerShell
Get-VBRRepositoryExtent -Repository "Veeam Performance Scale-Out Repository"
This command returns performance extents of the Veeam Performance Scale-Out Repository. The scale-out repository is specified by name.
```
> Example 2. Getting Performance Extents of Scale-Out Backup Repository [Using Pipeline]

Get-VBRBackupRepository -Name "Veeam Performance Scale-Out Repository" -ScaleOut | Get-VBRRepositoryExtent
This example shows how to return performance extents of the Veeam Performance Scale-Out Repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value and provide the ScaleOut parameter.
2. Pipe the cmdlet output to the Get-VBRRepositoryExtent cmdlet.
> Example 3. Getting Performance Extents of Scale-Out Backup Repository [Using Variable]

$scaleoutrepository = Get-VBRBackupRepository -Name "Veeam Performance Scale-Out Repository" -ScaleOut
Get-VBRRepositoryExtent -Repository $scaleoutrepository
This command returns performance extents of the Veeam Performance Scale-Out Repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value and provide the ScaleOut parameter. Save the result to the $scaleoutrepository variable.
2. Run the Get-VBRRepositoryExtent cmdlet. Set the $scaleoutrepository variable as the Repository parameter value.

---

### Parameters
#### **Repository**
Specifies the scale-out backup repository. The cmdlet will return performance extents added to this repository.

|Type                             |Required|Position|PipelineInput                 |
|---------------------------------|--------|--------|------------------------------|
|`[VBRScaleOutBackupRepository[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRScaleOutBackupRepository[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRRepositoryExtent -Repository <VBRScaleOutBackupRepository[]> [<CommonParameters>]
```

Get-VBRRestorePoint
-------------------

### Synopsis
Returns restore points.

---

### Description

This cmdlet returns restore points created by Veeam Backup & Replication.
Restore points created by replication jobs are represented as snapshots.
Restore points created by backup jobs are represented as full and increment backup files.
IMPORTANT! To get a list of restore points for a Veeam Agent job, you must provide the asterisks sign for the Name parameter value: Name "AgentJob*". Otherwise, the Get-VBRRestorePoint cmdlet will not return any restore points for the Veeam Agent job.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Sort-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Sort-Object)

* [Select-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Select-Object)

* [Get-VBRReplica](Get-VBRReplica.md)

---

### Examples
> Example 1. Getting all Restore Points

```PowerShell
Get-VBRRestorePoint
This command looks for all restore points of all VMs registered in the database.
```
> Example 2. Getting Restore Points by ID

```PowerShell
Get-VBRRestorePoint -Id 2ee79fec-9aa8-4058-a147-ff6b76ef2924
This command looks for the 2ee79fec-9aa8-4058-a147-ff6b76ef2924 restore point.
```
> Example 3. Getting Restore Points Created by Backup Job

$backup = Get-VBRBackup -Name "MSExchange"
Get-VBRRestorePoint -Name *MSExchange02* -Backup $backup
This example shows how to get all restore points of the MSExchange02 VM that is backed up by the MSExchange backup job.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRRestorePoint cmdlet. Specify the Name parameter value. Set the $backup variable as the Backup parameter value.
> Example 4. Getting Restore Points Created by Replication Job

$replica = Get-VBRReplica -Name "DC Replica"
Get-VBRRestorePoint -Backup $replica
This example shows how to get all restore points of VMs that are replicated by the DC Replica replication job.
Perform the following steps:
1. Run the Get-VBRReplica cmdlet. Specify the Name parameter value. Save the result to the $replica variable.
2. Run the Get-VBRRestorePoint cmdlet. Set the $replica variable as the Backup parameter value.
> Example 5. Getting Restore Points Created by Veeam Agent

$winbackup = Get-VBRBackup -Name "WinBackup*"
Get-VBRRestorePoint -Backup $winbackup
This example shows how to get all restore points of Windows-based machines backed up by the WinBackup Veeam Agent job.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $winbackup variable.
Note: To get a list of restore points for a Veeam Agent job, you must provide the asterisks sign for the Name parameter value: Name "AgentJob*". Otherwise, the Get-VBRRestorePoint cmdlet will not return any restore points for the Veeam Agent job.
2. Run the Get-VBRRestorePoint cmdlet. Set the $winbackup variable as the Backup parameter value.
> Example 6. Getting Latest Restore Point Created by Backup Job [Using Pipeline]

Get-VBRBackup -Name MSExchange Backup | Get-VBRRestorePoint -Name MSExchange02 | Sort-Object -Property CreationTime -Descending | Select-Object -First 1
This example shows how to look for the latest restore point of VMs that are backed up by the MSExchange Backup backup job.
Perform the following steps:
1. Run the Get-VBRBackup cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRRestorePoint cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Sort-Object cmdlet. Set the CreationTime value for the Property parameter. Provide the Descending parameter.
4. Pipe the cmdlet output to the Select-Object cmdlet. Specify the First parameter value.
> Example 7. Getting Latest Restore Point Created by Replication Job [Using Pipeline]

Get-VBRReplica -Name Replica_Exchange | Get-VBRRestorePoint -Name MSExchange02 | Sort-Object -Property CreationTime -Descending | Select -First 1
This example shows how to return the latest restore point of the MSExchange02 VM that is replicated by the Replica_Exchange replication job.
Perform the following steps:
1. Run the Get-VBRReplica cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRRestorePoint cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Sort-Object cmdlet. Set the CreationTime value as the Property parameter value. Provide the Descending parameter.
4. Pipe the cmdlet output to the Select cmdlet. Specify the First parameter value.

---

### Parameters
#### **Backup**
Specifies the array of backups. The cmdlet will return restore points of these backups.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[CBackup[]]`|false   |0       |True (ByPropertyName, ByValue)|

#### **Id**
Specifies an array of IDs of backed-up VMs. The cmdlet will return restore points of these VMs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName)|

#### **Name**
Specifies an array of VM names. The cmdlet will return restore points of these VMs.
Note: For vCD and CDP replica you must specify a vApp.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **ObjectId**
Specifies an array of IDs of backed-up hosts and VMs. The cmdlet will return restore points of these hosts and VMs.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

Veeam.Backup.Core.CBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRRestorePoint [[-Backup] <CBackup[]>] [-Name <String[]>] [-ObjectId <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRRestorePoint -Id <Guid[]> [<CommonParameters>]
```

Get-VBRRestoreSession
---------------------

### Synopsis
Returns restore sessions.

---

### Description

This cmdlet returns restore sessions stored in Veeam Backup & Replication database.
You can get the list of all restore sessions or get the restore sessions of a specific VM or VMs.

---

### Examples
> Example 1. Getting All Restore Sessions in Database

```PowerShell
Get-VBRRestoreSession
This command looks for all restore sessions stored in the database.
```
> Example 2. Getting Restore Sessions of Specific VMs

```PowerShell
Get-VBRRestoreSession -Name "Hv_DNS", "Hv_DC"
This command looks for the restore sessions of the Hv_DNS and Hv_DC VMs.
```

---

### Parameters
#### **Id**
Specifies the array of the restore sessions IDs. The cmdlet will return the restore sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the array of VM names. The cmdlet will return the restore sessions of these VMs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRRestoreSession [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRRestoreSession [-Name <String[]>] [<CommonParameters>]
```

Get-VBRRetentionPolicy
----------------------

### Synopsis
Returns a retention policy for backup copy jobs.

---

### Description

This cmdlet returns a retention policy for backup copy jobs of the following types:
- Backup copy jobs that process backups stored on external repositories.
- Veeam Agent backup copy jobs.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Getting Retention Policy for Backup Copy Job

$job = Get-VBRJob -Name "EC2 BCJ 01"
Get-VBRRetentionPolicy -Job $job
This example shows how to get a retention policy for a backup copy job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRRetentionPolicy cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies a backup copy job. The cmdlet will return a retention policy for the specified job.

|Type          |Required|Position|PipelineInput |
|--------------|--------|--------|--------------|
|`[CBackupJob]`|true    |named   |True (ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRRetentionPolicy -Job <CBackupJob> [<CommonParameters>]
```

Get-VBRS3CompatibleRepositorySecurityOptions
--------------------------------------------

### Synopsis
Returns settings that Veeam Agent uses to access S3 compatible repositories.

---

### Description

This cmdlet returns settings that Veeam Agent uses to access S3 compatible repositories. These settings contain the following information:
- The repository ID.
- The access control policy that specifies the Veeam Agent job mode:
o AllowAll - defines that Veeam Agent has a direct access to the S3 compatible repository. To authenticate against the repository, Veeam Agent uses credentials for the S3 compatible bucket.
o S3CompatibleManaged - defines that Veeam Agent has a direct access to the S3 compatible repository. To authenticate against the repository, Veeam Agent uses secure credentials with a service token.
o VBRManaged - defines that Veeam Agent accesses S3 compatible repositories through gateway servers.
- An endpoint that Veeam Agent uses to accesses S3 compatible repositories directly using secure credentials.
- A security token that Veeam Agent uses to accesses S3 compatible repositories directly using secure credentials.

---

### Related Links
* [Get-VBRObjectStorageRepository](Get-VBRObjectStorageRepository.md)

---

### Examples
> Getting Access Settings for S3 Compatible Repositories

$s3repository = Get-VBRObjectStorageRepository -Name "Repository 05"
Get-VBRS3CompatibleRepositorySecurityOptions -Repository $s3repository
This example shows how to get settings that Veeam Agent uses to access the Repository 05 S3 compatible repository.
Perform the following steps:
1. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $s3repository variable.
2. Run the Get-VBRS3CompatibleRepositorySecurityOptions cmdlet. Set the $s3repository variable as the Repository parameter value.

---

### Parameters
#### **Repository**
Specifies an S3 compatible repository. The cmdlet will return settings that Veeam Agent uses to access S3 compatible repositories directly.

|Type                               |Required|Position|PipelineInput                 |
|-----------------------------------|--------|--------|------------------------------|
|`[VBRAmazonS3CompatibleRepository]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3CompatibleRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRS3CompatibleRepositorySecurityOptions -Repository <VBRAmazonS3CompatibleRepository> [<CommonParameters>]
```

Get-VBRScanTaskSession
----------------------

### Synopsis
Returns scan task sessions performed during the specified SureBackup session.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns scan task sessions performed during the specified SureBackup session.

---

### Related Links
* [Get-VBRSureBackupSession](Get-VBRSureBackupSession.md)

* [Get-VBRSureBackupTaskSession](Get-VBRSureBackupTaskSession.md)

---

### Examples
> Getting List of SureBackup Scan Task Sessions

$sbs = Get-VBRSureBackupSession -ID 8e3cf452-23cb-490a-a86a-f802940e26df
$ts = Get-VBRSureBackupTaskSession -Session $sbs
Get-VBRScanTaskSession -InitiatorSessionId $ts.id
This example shows how to get the list of scan task sessions performed during the SureBackup job session with 8e3cf452-23cb-490a-a86a-f802940e26df ID.
Perform the following steps:
1. Run the Get-VBRSureBackupSession cmdlet. Specify the ID parameter. Save the result to the $sbs variable.
2. Run the Get-VBRSureBackupTaskSession cmdlet. Set the $sbs variable as the Session parameter value. Save the result to the $ts variable.
3. Run the Get-VBRScanTaskSession cmdlet. Set the $ts.id variable as the InitiatorSessionId parameter value.

---

### Parameters
#### **InitiatorSessionId**
Specifies the array of SureBackup task sessions IDs. The cmdlet will return task IDs performed during these sessions.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRScanTaskSession -InitiatorSessionId <Guid[]> [<CommonParameters>]
```

Get-VBRScanTaskSessionLog
-------------------------

### Synopsis
Returns the results of scan task sessions performed during the specified SureBackup job session.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

Returns the results of scan task sessions performed during the specified SureBackup job session. The results are written in .txt log files.

---

### Related Links
* [Get-VBRSureBackupSession](Get-VBRSureBackupSession.md)

* [Get-VBRSureBackupTaskSession](Get-VBRSureBackupTaskSession.md)

* [Get-VBRScanTaskSession](Get-VBRScanTaskSession.md)

---

### Examples
> Getting List of SureBackup Scan Task Sessions Results

$sbs = Get-VBRSureBackupSession -ID 8e3cf452-23cb-490a-a86a-f802940e26df
$ts = Get-VBRSureBackupTaskSession -Session $sbs
$sts = Get-VBRScanTaskSession -InitiatorSessionId $ts.id
Get-VBRScanTaskSessionLog -ScanTaskSession $sts
This example shows how to get the list of scan task sessions results performed during the SureBackup job session with 8e3cf452-23cb-490a-a86a-f802940e26df ID.
Perform the following steps:
1. Run the Get-VBRSureBackupSession cmdlet. Specify the ID parameter. Save the result to the $sbs variable.
2. Run the Get-VBRSureBackupTaskSession cmdlet. Set the $sbs variable as the Session parameter value. Save the result to the $ts variable.
3. Run the Get-VBRScanTaskSession cmdlet. Set the $ts.id variable as the InitiatorSessionId parameter value. Save the result to the $sts variable.
4. Run the Get-VBRScanTaskSessionLog cmdlet. Set the $sts variable as the ScanTaskSession parameter value.

---

### Parameters
#### **ScanTaskSession**
Specifies the array of scan task sessions performed during the specified SureBackup session. The cmdlet will return scan task sessions performed during this SureBackup session.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRScanTaskSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRScanTaskSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRScanTaskSessionLog -ScanTaskSession <VBRScanTaskSession> [<CommonParameters>]
```

Get-VBRScriptTestSession
------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Id**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

#### **Session**

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRScriptTestSession]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRScriptTestSession -Id <Guid> [<CommonParameters>]
```
```PowerShell
Get-VBRScriptTestSession -Session <VBRScriptTestSession> [<CommonParameters>]
```

Get-VBRSecurityOptions
----------------------

### Synopsis
Returns Veeam Backup & Replication security settings.

---

### Description

This cmdlet returns information on the following Veeam Backup & Replication security settings:
- Backup Server Certificate
- Linux Host Authentication
- Audit Logs Location

---

### Examples
> Getting Veeam Backup & Replication Security Settings

Get-VBRSecurityOptions
Certificate              : Veeam.Backup.PowerShell.Infos.VBRBackupServerCertificate
TrustedHosts             : 0
HostPolicy               : Veeam.Backup.PowerShell.Infos.VBRLinuxTrustedHostPolicy
AuditLogsPath            : C:\ProgramData\Veeam\Backup\Audit
CompressOldAuditLogs     : True
FipsCompliantModeEnabled : False
This example returns Veeam Backup & Replication security settings.
The cmdlet output will contain the following details on the security settings: Certificate, TrustedHosts, HostPolicy, AuditLogsPath,CompressOldAuditLogs and the FipsCompliantModeEnabled.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSecurityOptions [<CommonParameters>]
```

Get-VBRServer
-------------

### Synopsis
Returns hosts connected to the backup infrastructure.

---

### Description

This cmdlet returns hosts connected to the backup infrastructure. You can get the following servers:
- BackupServer
- VC
- ESXi
- VcdSystem
- Scvmm
- HvServer
- HvCluster
- SmbCluster
- SmbServer
- Windows
- Linux
- Cloud
- Local
- SanHost
- Object storage repositories
- Object storage servers
You can get the list of all hosts or narrow down the output to servers of specific type, or search for instances directly by name.
To get VMware objects run the Find-VBRViEntity cmdlet.
To get Hyper-V objects run the Find-VBRHvEntity cmdlet.

---

### Examples
> Example 1. Looking for Server by Name

```PowerShell
Get-VBRServer -Name "Active_Directory"
This command looks for the server named Active_Directory.
```
> Example 2. Looking for VM Registered on Hyper-V Server

```PowerShell
Get-VBRServer -Type "HvServer" -Name "Hv_DNS"
This command looks for the VM named Hv_DNS registered on a Hyper-V server.
```

---

### Parameters
#### **Name**
Specifies the array of host names. The cmdlet will return hosts with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Type**
Specifies the host type. The cmdlet will return hosts of this type:
* ESX
* VC
* Linux
* Local
* Windows
* ESXi
* HvServer
* HvCluster
* Scvmm
* BackupServer
* SanHost
* SmbServer
* SmbCluster
* VcdSystem
* Cloud
* AzureWinServer
* VmSnapshotStorageHost
* ConfigurationService
* ExternalInfrastructureProxy
* NdmpServer
* ExternalInfrastructureServer
* CifsShare
* NfsShare
* SanCifsServer
* SanNfsServer
* CifsServer
* NfsServer
* CifsServerShare
* NfsServerShare
* S3CompatibleServer
* S3CompatibleBucket
* AmazonS3Server
* AmazonS3Bucket
* AzureBlobServer
* AzureBlobContainer
* GoogleStorageServer
* GoogleStorageBucket
* Unknown
Valid Values:

* ESX
* VC
* Linux
* Local
* Windows
* ESXi
* HvServer
* HvCluster
* Scvmm
* BackupServer
* SanHost
* SmbServer
* SmbCluster
* VcdSystem
* Cloud
* AzureWinServer
* VmSnapshotStorageHost
* ConfigurationService
* ExternalInfrastructureProxy
* NdmpServer
* ExternalInfrastructureServer
* CifsShare
* NfsShare
* SanCifsServer
* SanNfsServer
* CifsServer
* NfsServer
* CifsServerShare
* NfsServerShare
* S3CompatibleServer
* S3CompatibleBucket
* AmazonS3Server
* AmazonS3Bucket
* AzureBlobServer
* AzureBlobContainer
* GoogleStorageServer
* GoogleStorageBucket
* AzureDataLakeServer
* AzureDataLakeContainer
* Unknown

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[EType]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRServer [-Name <String[]>] [-Type {ESX | VC | Linux | Local | Windows | ESXi | HvServer | HvCluster | Scvmm | BackupServer | SanHost | SmbServer | SmbCluster | 
```
```PowerShell
VcdSystem | Cloud | AzureWinServer | VmSnapshotStorageHost | ConfigurationService | ExternalInfrastructureProxy | NdmpServer | ExternalInfrastructureServer | CifsShare | 
```
```PowerShell
NfsShare | SanCifsServer | SanNfsServer | CifsServer | NfsServer | CifsServerShare | NfsServerShare | S3CompatibleServer | S3CompatibleBucket | AmazonS3Server | 
```
```PowerShell
AmazonS3Bucket | AzureBlobServer | AzureBlobContainer | GoogleStorageServer | GoogleStorageBucket | AzureDataLakeServer | AzureDataLakeContainer | Unknown}] 
```
```PowerShell
[<CommonParameters>]
```

Get-VBRServerSession
--------------------

### Synopsis
Returns current session with a Veeam backup server.

---

### Description

Returns current session with Veeam backup server.

---

### Examples
> Example 1

```PowerShell
Get-VBRServerSession
This command returns the current session with a Veeam backup server.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRServerSession [<CommonParameters>]
```

Get-VBRSession
--------------

### Synopsis
Returns jobs sessions.

---

### Description

This cmdlet returns sessions for a selected job.
Important! To get tape backup job sessions, tun the Get-VBRTapeBackupSession cmdlet.

---

### Related Links
* [Get-VBRJob](Get-VBRJob.md)

---

### Examples
> Getting Sessions for Specific Job

$job = Get-VBRJob -Name "Backup Copy Job"
$session = Get-VBRSession -Job $job
This example shows how to get the session for the specified job.
Perform the following steps:
1. Run the Get-VBRJob cmdlet to get the backup job. Save the result to the $job variable.
2. Run the Get-VBRSession cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Id**
Specifies the ID of the session. The cmdlet will return the session with this ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Job**
Specifies the job for which you want to get sessions that have been run.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[VBRJob]`|true    |named   |True (ByPropertyName)|

#### **Last**
Defines that the command returns the last session of the specified job.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Result**
Specifies the session result. The cmdlet will return sessions with the specified result:
* None
* Success
* Warning
* Failed
Valid Values:

* None
* Success
* Warning
* Failed

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRSessionResult]`|false   |named   |False        |

#### **Session**
Specifies the job session for which you want to get an updated state.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBRSession]`|true    |named   |True (ByPropertyName, ByValue)|

#### **State**
Specifies the session state. The cmdlet will return sessions with the specified state.
Valid Values:

* Stopped
* Starting
* Stopping
* Working
* Pausing
* Resuming
* WaitingTape
* Idle
* Postprocessing
* WaitingRepository
* Pending
* WaitingSlot
* ActionRequired

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRSessionState]`|false   |named   |False        |

#### **Type**
Specifies the type of the session. The cmdlet will return the session of this ID.
Valid Values:

* Backup
* Replica
* Copy
* DRV
* RestoreVm
* RestoreVmFiles
* RestoreFiles
* Failover
* QuickMigration
* UndoFailover
* FileLevelRestore
* LinuxFileLevelRestore
* InstantRecovery
* RestoreHdd
* Failback
* PermanentFailover
* UndoFailback
* CommitFailback
* ShellRun
* VolumesDiscover
* HvCtpRescan
* CatCleanup
* SanRescan
* CreateSanSnapshot
* FileTapeBackup
* FileTapeRestore
* TapeValidate
* TapeInventory
* VmTapeBackup
* VmTapeRestore
* SanMonitor
* DeleteSanSnapshot
* TapeErase
* TapeEject
* TapeExport
* TapeImport
* TapeCatalog
* TapeLibrariesDiscover
* PowerShellScript
* VmReconfig
* VmStart
* VcdVAppRestore
* VcdVmRestore
* HierarchyScan
* ViVmConsolidation
* ApplicationLevelRestore
* RemoteReplica
* BackupSync
* SqlLogBackup
* LicenseAutoUpdate
* OracleLogBackup
* TapeMarkAsFree
* TapeDeleteFromLibrary
* TapeMoveToMediaPool
* TapeCatalogue
* StorageCopyPolicy
* StorageCopyWorker
* StorageCopyParentWorker
* SimpleBackupCopyWorker
* QuickMigrationCheck
* SimpleBackupCopyPolicy
* SimpleSqlBackupCopyWorker
* SimpleOracleBackupCopyWorker
* SimpleBackupCopyParentWorker
* SimplePostgresBackupCopyWorker
* RepoCopyPolicy
* PostgreSqlLogBackup
* UnarchiveSanSnapshot
* HealthCheck
* StorageCopyLogWorker
* ConfBackup
* ConfRestore
* ConfResynchronize
* WaGlobalDedupFill
* DatabaseMaintenance
* RepositoryMaintenance
* InfrastructureRescan
* DiskInstantRecovery
* DiskInstantPublishingViaNfs
* DiskInstantPublishingViaMount
* MountServiceMount
* InstantFileShareRestore
* CheckRootSecurityInfoForNasBackup
* FileShareMigration
* FirstClassDiskInstantRestore
* FirstClassDiskQuickMigration
* HvLabDeploy
* HvLabDelete
* FailoverPlan
* UndoFailoverPlan
* FailoverPlanTask
* UndoFailoverPlanTask
* PlannedFailover
* ViLabDeploy
* ViLabDelete
* ViLabStart
* Cloud
* CloudApplDeploy
* HardwareQuotasProcessing
* ReconnectVpn
* DisconnectVpn
* OrchestratedTask
* ViReplicaRescan
* ExternalRepositoryMaintenance
* DeleteBackup
* CloudProviderRescan
* CdpReplica
* AzureApplDeploy
* TapeTenantRestore
* TapeCopy
* TapeDeletedObjectsCleanUp
* Unknown
* EndpointBackup
* EndpointRestore
* BackupCacheSync
* EndpointSqlLogBackup
* EndpointOracleLogBackup
* EndpointPostgreSqlLogBackup
* OracleRMANBackup
* SapHanaBackintBackup
* OracleRMANRestore
* SapHanaBackintRestore
* OracleRMANBackupCopyWorker
* SapHanaBackintBackupCopyWorker
* PluginBackupCopyPolicy
* SapOracleBackintBackup
* SapOracleBackintRestore
* SapOracleBackintBackupCopyWorker
* MSSQLPluginBackup
* MSSQLPluginRestore
* MSSQLPluginBackupCopyWorker
* DB2PluginBackup
* DB2PluginRestore
* DB2PluginBackupCopyWorker
* DbPluginMetaUpgradeJob
* CloudBackup
* RestoreVirtualDisks
* RestoreAgentVolumes
* InfraItemSave
* InfraItemUpgrade
* InfraItemDelete
* AzureWinProxySave
* FileServerSave
* CdpClustersDeploy
* CdpVcdDeploy
* VmsLinuxTransportMgmt
* FileLevelRestoreByEnterprise
* RepositoryEvacuate
* LogsExport
* InfraStatistic
* BackgroundOperation
* AzureVmRestore
* AzureInstantRestore
* AzureInstantRestoreMigration
* AzureInstantRestoreSwitchover
* EpAgentManagement
* EpAgentDiscoveryObsolete
* EpAgentPolicy
* EpAgentBackup
* EpAgentTestCreds
* EpAgentDiscovery
* Retention
* EpAgentOperationBackupNow
* EpAgentOperationActiveFull
* EpAgentOperationStopBackup
* EpAgentOperationPurgeCache
* EpPluginPolicy
* EpPluginPolicyLog
* EpMongoDbParentBackup
* EpMongoDbBackup
* EpMongoDbBackupLog
* NasBackup
* NasBackupBrowse
* NasRestore
* NasBackupCopy
* NasDownloadMeta
* NasSyncState
* NasRelocateBackup
* NasHealthCheckBackup
* NasBackupDump
* VmbApiPolicyTempJob
* PlatformSnapshotJob
* PlatformBackupJob
* PlatformSnapshotCopyJob
* PlatformServiceJob
* PlatformBackupArchieveJob
* PlatformIndexing
* PlatformExternalRescanBackupAppliance
* PlatformExternalAddBackupAppliance
* PlatformExternalUpdateBackupApplianceSettings
* PlatformExternalUpdateBackupAppliance
* PlatformExternalUpgradeBackupAppliance
* PlatformExternalRestoreConfigurationOnBackupAppliance
* PlatformExternalRemoveBackupAppliance
* PlatformExternalRegisterVirtualizationManager
* PlatformExternalUpdateVirtualizationManagerSettings
* PlatformExternalRemoveVirtualizationManager
* PlatformExternalRescanVirtualizationManager
* PlatformExternalTestingWorker
* PlatformExternalUpdatingWorkerSettings
* PlatformExternalHealthcheck
* AmazonRestore
* StagedRestore
* ArchiveBackup
* ArchiveRehydration
* ArchiveSync
* ArchiveCopy
* ArchiveFreezing
* PublishBackup
* CloudBinArchiveTierDownload
* DirectBackupSync
* HvStagedRestore
* VbkExport
* GuestScriptingConnect
* ForeignTransform
* AuditZip
* CustomPlatformRestoreVm
* CustomPlatformDiskRestore
* CustomPlatformFileLevelRestore
* CustomPlatformBackupDataRetrieval
* CustomPlatformConfigurationRestore
* SwitchReplicaToProduction
* RestAutomation
* GoogleRestore
* PerVmParentBackup
* PerVmBackupUpgradeJob
* PerVmMoveBackup
* PerVmCopyBackup
* RepairDbPluginBackup
* SimpleCopyExternalBackupWatcher
* BestPracticeAnalyzer
* MalwareDetection
* SureBackupLite
* SureBackupLiteAdHoc
* KmsKeyRotation
* CheckpointRemoval
* ShadowAncillarySession

|Type          |Required|Position|PipelineInput        |
|--------------|--------|--------|---------------------|
|`[EDbJobType]`|true    |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSession

Veeam.Backup.PowerShell.Infos.VBRJob

Veeam.Backup.Model.EDbJobType

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSession -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRSession -Job <VBRJob> [-Last] [<CommonParameters>]
```
```PowerShell
Get-VBRSession -Job <VBRJob> [-Result {None | Success | Warning | Failed}] [<CommonParameters>]
```
```PowerShell
Get-VBRSession -Job <VBRJob> [-State {Stopped | Starting | Stopping | Working | Pausing | Resuming | WaitingTape | Idle | Postprocessing | WaitingRepository | Pending | 
```
```PowerShell
WaitingSlot | ActionRequired}] [<CommonParameters>]
```
```PowerShell
Get-VBRSession -Session <VBRSession> [<CommonParameters>]
```
```PowerShell
Get-VBRSession -Type {Backup | Replica | Copy | DRV | RestoreVm | RestoreVmFiles | RestoreFiles | Failover | QuickMigration | UndoFailover | FileLevelRestore | 
```
```PowerShell
LinuxFileLevelRestore | InstantRecovery | RestoreHdd | Failback | PermanentFailover | UndoFailback | CommitFailback | ShellRun | VolumesDiscover | HvCtpRescan | CatCleanup | 
```
```PowerShell
SanRescan | CreateSanSnapshot | FileTapeBackup | FileTapeRestore | TapeValidate | TapeInventory | VmTapeBackup | VmTapeRestore | SanMonitor | DeleteSanSnapshot | TapeErase | 
```
```PowerShell
TapeEject | TapeExport | TapeImport | TapeCatalog | TapeLibrariesDiscover | PowerShellScript | VmReconfig | VmStart | VcdVAppRestore | VcdVmRestore | HierarchyScan | 
```
```PowerShell
ViVmConsolidation | ApplicationLevelRestore | RemoteReplica | BackupSync | SqlLogBackup | LicenseAutoUpdate | OracleLogBackup | TapeMarkAsFree | TapeDeleteFromLibrary | 
```
```PowerShell
TapeMoveToMediaPool | TapeCatalogue | StorageCopyPolicy | StorageCopyWorker | StorageCopyParentWorker | SimpleBackupCopyWorker | QuickMigrationCheck | SimpleBackupCopyPolicy 
```
```PowerShell
| SimpleSqlBackupCopyWorker | SimpleOracleBackupCopyWorker | SimpleBackupCopyParentWorker | SimplePostgresBackupCopyWorker | RepoCopyPolicy | PostgreSqlLogBackup | 
```
```PowerShell
UnarchiveSanSnapshot | HealthCheck | StorageCopyLogWorker | ConfBackup | ConfRestore | ConfResynchronize | WaGlobalDedupFill | DatabaseMaintenance | RepositoryMaintenance | 
```
```PowerShell
InfrastructureRescan | DiskInstantRecovery | DiskInstantPublishingViaNfs | DiskInstantPublishingViaMount | MountServiceMount | InstantFileShareRestore | 
```
```PowerShell
CheckRootSecurityInfoForNasBackup | FileShareMigration | FirstClassDiskInstantRestore | FirstClassDiskQuickMigration | HvLabDeploy | HvLabDelete | FailoverPlan | 
```
```PowerShell
UndoFailoverPlan | FailoverPlanTask | UndoFailoverPlanTask | PlannedFailover | ViLabDeploy | ViLabDelete | ViLabStart | Cloud | CloudApplDeploy | HardwareQuotasProcessing | 
```
```PowerShell
ReconnectVpn | DisconnectVpn | OrchestratedTask | ViReplicaRescan | ExternalRepositoryMaintenance | DeleteBackup | CloudProviderRescan | CdpReplica | AzureApplDeploy | 
```
```PowerShell
TapeTenantRestore | TapeCopy | TapeDeletedObjectsCleanUp | Unknown | EndpointBackup | EndpointRestore | BackupCacheSync | EndpointSqlLogBackup | EndpointOracleLogBackup | 
```
```PowerShell
EndpointPostgreSqlLogBackup | OracleRMANBackup | SapHanaBackintBackup | OracleRMANRestore | SapHanaBackintRestore | OracleRMANBackupCopyWorker | 
```
```PowerShell
SapHanaBackintBackupCopyWorker | PluginBackupCopyPolicy | SapOracleBackintBackup | SapOracleBackintRestore | SapOracleBackintBackupCopyWorker | MSSQLPluginBackup | 
```
```PowerShell
MSSQLPluginRestore | MSSQLPluginBackupCopyWorker | DB2PluginBackup | DB2PluginRestore | DB2PluginBackupCopyWorker | DbPluginMetaUpgradeJob | CloudBackup | 
```
```PowerShell
RestoreVirtualDisks | RestoreAgentVolumes | InfraItemSave | InfraItemUpgrade | InfraItemDelete | AzureWinProxySave | FileServerSave | CdpClustersDeploy | CdpVcdDeploy | 
```
```PowerShell
VmsLinuxTransportMgmt | FileLevelRestoreByEnterprise | RepositoryEvacuate | LogsExport | InfraStatistic | BackgroundOperation | AzureVmRestore | AzureInstantRestore | 
```
```PowerShell
AzureInstantRestoreMigration | AzureInstantRestoreSwitchover | EpAgentManagement | EpAgentDiscoveryObsolete | EpAgentPolicy | EpAgentBackup | EpAgentTestCreds | 
```
```PowerShell
EpAgentDiscovery | Retention | EpAgentOperationBackupNow | EpAgentOperationActiveFull | EpAgentOperationStopBackup | EpAgentOperationPurgeCache | EpPluginPolicy | 
```
```PowerShell
EpPluginPolicyLog | EpMongoDbParentBackup | EpMongoDbBackup | EpMongoDbBackupLog | NasBackup | NasBackupBrowse | NasRestore | NasBackupCopy | NasDownloadMeta | NasSyncState 
```
```PowerShell
| NasRelocateBackup | NasHealthCheckBackup | NasBackupDump | VmbApiPolicyTempJob | PlatformSnapshotJob | PlatformBackupJob | PlatformSnapshotCopyJob | PlatformServiceJob | 
```
```PowerShell
PlatformBackupArchieveJob | PlatformIndexing | PlatformExternalRescanBackupAppliance | PlatformExternalAddBackupAppliance | PlatformExternalUpdateBackupApplianceSettings | 
```
```PowerShell
PlatformExternalUpdateBackupAppliance | PlatformExternalUpgradeBackupAppliance | PlatformExternalRestoreConfigurationOnBackupAppliance | 
```
```PowerShell
PlatformExternalRemoveBackupAppliance | PlatformExternalRegisterVirtualizationManager | PlatformExternalUpdateVirtualizationManagerSettings | 
```
```PowerShell
PlatformExternalRemoveVirtualizationManager | PlatformExternalRescanVirtualizationManager | PlatformExternalTestingWorker | PlatformExternalUpdatingWorkerSettings | 
```
```PowerShell
PlatformExternalHealthcheck | AmazonRestore | StagedRestore | ArchiveBackup | ArchiveRehydration | ArchiveSync | ArchiveCopy | ArchiveFreezing | PublishBackup | 
```
```PowerShell
CloudBinArchiveTierDownload | DirectBackupSync | HvStagedRestore | VbkExport | GuestScriptingConnect | ForeignTransform | AuditZip | CustomPlatformRestoreVm | 
```
```PowerShell
CustomPlatformDiskRestore | CustomPlatformFileLevelRestore | CustomPlatformBackupDataRetrieval | CustomPlatformConfigurationRestore | SwitchReplicaToProduction | 
```
```PowerShell
RestAutomation | GoogleRestore | PerVmParentBackup | PerVmBackupUpgradeJob | PerVmMoveBackup | PerVmCopyBackup | RepairDbPluginBackup | SimpleCopyExternalBackupWatcher | 
```
```PowerShell
BestPracticeAnalyzer | MalwareDetection | SureBackupLite | SureBackupLiteAdHoc | KmsKeyRotation | CheckpointRemoval | ShadowAncillarySession} [<CommonParameters>]
```

Get-VBRSiteCollection
---------------------

### Synopsis
Returns an array of site collections for Microsoft SharePoint.

---

### Description

This cmdlet returns an array of site collections for Microsoft SharePoint.

---

### Related Links
* [Get-VBRApplicationRestorePoint](Get-VBRApplicationRestorePoint.md)

---

### Examples
> Example 1

```PowerShell
$spoint = Get-VBRApplicationRestorePoint -SharePoint -Name "Sharepoint server"
Get-VBRSiteCollection -RestorePoint $spoint
This example shows how to get an array of Microsoft SharePoint site collections.   1. Run Get-VBRApplicationRestorePoint to get the restore point. Save the result to the $spoint variable.   2. Run Get-VBRSiteCollection with the $session variable.
```

---

### Parameters
#### **RestorePoint**
Specifies a restore session. The cmdlet will return the information about the Microsoft SharePoint site collections, added to the specifies restore session. Accepts the VBRApplicationRestorePoint type.

|Type                            |Required|Position|PipelineInput                 |
|--------------------------------|--------|--------|------------------------------|
|`[VBRApplicationRestorePoint[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRApplicationRestorePoint[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSiteCollection -RestorePoint <VBRApplicationRestorePoint[]> [<CommonParameters>]
```

Get-VBRSiteCollectionRestorePoint
---------------------------------

### Synopsis
Returns restore points of backed-up VMs with Microsoft SQL databases for the specified Microsoft SharePoint site collection.

---

### Description

This cmdlet returns restore points of backed-up VMs with Microsoft SQL databases for the specified Microsoft SharePoint site collection.

---

### Related Links
* [Get-VBRApplicationRestorePoint](Get-VBRApplicationRestorePoint.md)

* [Get-VBRSiteCollection](Get-VBRSiteCollection.md)

---

### Examples
> Getting all Restore Points of VMs with Microsoft SQL Ddatabases for Microsoft SharePoint Site Collections

$restorepoint = Get-VBRApplicationRestorePoint -SharePoint -Name "Sharepoint server"
$site = Get-VBRSiteCollection -RestorePoint $restorepoint
Get-VBRSiteCollectionRestorePoint -SiteCollection $site
This example shows how to get all restore points of backed-up VMs with Microsoft SQL databases for the Sharepoint server SharePoint site collection

Perform the following steps:

1. Run the Get-VBRApplicationRestorePoint cmdlet. Provide the SharePoint and specify the Name parameter values. Save the result to the $restorepoint variable.   2. Run the Get-VBRSiteCollection cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $site variable.   3. Run the Get-VBRSiteCollectionRestorePoint cmdlet. Set the $site variable as the SiteCollection parameter value.

---

### Parameters
#### **SiteCollection**
Specifies a site collection for Microsoft SharePoint. The cmdlet will return restore points of backed-up VMs with Microsoft SQL databases for these site collections.
Accepts the SiteCollection object. To get this object, run the Get-VBRSiteCollection cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRSiteCollection]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSiteCollectionRestorePoint -SiteCollection <VBRSiteCollection> [<CommonParameters>]
```

Get-VBRSNMPOptions
------------------

### Synopsis
Returns global SNMP settings.

---

### Description

This cmdlet returns global SNMP settings.

---

### Examples
> Getting Global SNMP Settings

$options = Get-VBRSNMPOptions
$options.Receiver
ReceiverIP   ReceiverPort CommunityString
----------   ------------ ---------------
172.17.53.28           22 public
172.17.53.28           22 public
172.17.53.28           22 public
This example shows how to get global SNMP settings that are set up in your backup infrastructure.
Perform the following steps:
1. Run the Get-VBRSNMPOptions cmdlet. Save the result to the $options variable.
2. Provide the Receiver property of the $options variable.
The cmdlet output will contain the following details on the global SNMP settings: ReceiverIP, ReceiverPort and CommunityString.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSNMPOptions [<CommonParameters>]
```

Get-VBRSOBRObjectStorageBackup
------------------------------

### Synopsis
Returns backups available in archive extents and capacity extents of scale-out backup repositories.

---

### Description

This cmdlet returns backups stored in archive extents and capacity extents of scale-out backup repositories.
You can use the backups you get with this cmdlet only in the removal operations. Run the Remove-VBRBackup cmdlet and provide the FromDisk parameter to delete backups from archive extents and capacity extents of scale-out backup repositories.

---

### Examples
> Example 1. Getting all Backups from Archive and Capacity Extents

```PowerShell
Get-VBRSOBRObjectStorageBackup
This command returns all backups stored on archive and capacity extents of scale-out backup repositories.
```
> Example 2. Getting all Backups from Capacity Extents

```PowerShell
Get-VBRSOBRObjectStorageBackup -CapacityTier
This command returns all backups stored on capacity extents of scale-out backup repositories.
```
> Example 3. Getting all Backups from Archive Extents

```PowerShell
Get-VBRSOBRObjectStorageBackup -ArchiveTier
This command returns all backups stored on archive extents of scale-out backup repositories.
```

---

### Parameters
#### **ArchiveTier**
Defines that the cmdlet will return backups stored in archive extents of the scale-out backup repository.
Note: You do not need to provide this parameter if you specify the IDs of backed-up machines.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **CapacityTier**
Defines that the cmdlet will return backups stored on capacity extents of the scale-out backup repository.
Note: You do not need to provide this parameter if you specify the IDs of backed-up machines.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Id**
Specifies an array of backup IDs. The cmdlet will return backups with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of the job names. The cmdlet will return backups produced with these jobs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSOBRObjectStorageBackup [-ArchiveTier] [-CapacityTier] [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRSOBRObjectStorageBackup -Id <Guid[]> [<CommonParameters>]
```

Get-VBRSOBRObjectStorageRestorePoint
------------------------------------

### Synopsis
Returns restore points stored in archive extents and capacity extents of a scale-out backup repository.

---

### Description

This cmdlet returns restore points of machines stored in archive extents and capacity extents of a scale-out backup repository.
You can use the restore points you get with this cmdlet only in the removal operations. Run the Remove-VBRRestorePoint cmdlet to delete restore points from archive extents and capacity extents of scale-out backup repositories.

---

### Related Links
* [Get-VBRSOBRObjectStorageBackup](Get-VBRSOBRObjectStorageBackup.md)

---

### Examples
> Example 1. Getting all Restore Points from Archive and Capacity Extents

```PowerShell
Get-VBRSOBRObjectStorageRestorePoint
This command returns all restore points stored on archive and capacity extents of a scale-out backup repository.
```
> Example 2. Getting Restore Points of Certain Machines from Archive Extent

$backup = Get-VBRSOBRObjectStorageBackup -Name "DailyBackup".
Get-VBRSOBRObjectStorageRestorePoint -Backup $backup -Name "LinServ2049", "WinServ2049" -ArchiveTier
This example shows how to get restore points of the LinServ2049 and WinServ2049 machines with the following settings:
- Restore points are created by the DailyBackup job.
- Restore points are stored in archive extents of a scale-out backup repository.
Perform the following steps:
1. Run the Get-VBRSOBRObjectStorageBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
2. Run the Get-VBRSOBRObjectStorageRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Specify the Name parameter value.
> Example 3. Getting Restore Points with Certain IDs

```PowerShell
Get-VBRSOBRObjectStorageRestorePoint -Id "c2befce4-c7f4-4a53-a08b-e37580a682e7", "9577ab06-8ca5-4a5a-bd5c-d6124b0a4058"
This command returns the c2befce4-c7f4-4a53-a08b-e37580a682e7 and 9577ab06-8ca5-4a5a-bd5c-d6124b0a4058 restore points. The cmdlet will get these restore points from capacity tier extents of a scale-out backup repository.
```

---

### Parameters
#### **ArchiveTier**
Defines that the cmdlet will return restore points of machines stored in archive extents.
Note: You do not need to provide this parameter if you specify the IDs of backed-up machines.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Backup**
Specifies an array of backups stored in archive extents or capacity extents. The cmdlet will return restore points of these backups.

|Type                          |Required|Position|PipelineInput |
|------------------------------|--------|--------|--------------|
|`[VBRSOBRObjectStorageBackup]`|true    |named   |True (ByValue)|

#### **CapacityTier**
Defines that the cmdlet will return restore points of machines stored on capacity extents.
Note: You do not need to provide this parameter if you specify the IDs of backed-up machines.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Id**
Specifies an array of IDs of backed-up machines. The cmdlet will return restore points of these machines.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names for machines. The cmdlet will return restore points of these machines.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSOBRObjectStorageBackup

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSOBRObjectStorageRestorePoint [-ArchiveTier] [-CapacityTier] [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRSOBRObjectStorageRestorePoint -Backup <VBRSOBRObjectStorageBackup> [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRSOBRObjectStorageRestorePoint -Id <Guid[]> [<CommonParameters>]
```

Get-VBRSocketLicenseSummary
---------------------------

### Synopsis
Returns details on the per-socket license usage.

---

### Description

This cmdlet returns the VBRSocketLicenseSummary object that contains details on the per-socket license usage.

---

### Related Links
* [Get-VBRInstalledLicense](Get-VBRInstalledLicense.md)

---

### Examples
> Getting Details on PerSocket License

$license = Get-VBRInstalledLicense
Get-VBRSocketLicenseSummary -License $license
        LicensedSocketsNumber             UsedSocketsNumber        RemainingSocketsNumber Workload
        ---------------------             -----------------        ---------------------- --------
                           50                             2                            48 {Microsoft Hyper-V}
                           75                            10                            65 {VMware vSphere}
                           30                            25                             5 {Nutanix AHV}
This example shows how to get details on the per-socket license usage.
Perform the following steps:
1. Run the Get-VBRInstalledLicense cmdlet. Save the result to the $license variable.
2. Run the Get-VBRSocketLicenseSummary cmdlet. Set the $license variable as the License parameter value.
The cmdlet output will contain the following details on the per-socket license usage:LicensedSocketsNumber, UsedSocketsNumber, RemainingSocketsNumber and Workload.

---

### Parameters
#### **License**
Specifies a license. The cmdlet will return details on the per-socket license usage for this license.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRInstalledLicense]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSocketLicenseSummary -License <VBRInstalledLicense> [<CommonParameters>]
```

Get-VBRStorageLatencyControlOptions
-----------------------------------

### Synopsis
Returns storage latency control settings on the production datastores.

---

### Description

This cmdlet returns settings of the storage latency control on the production datastores.

---

### Examples
> Getting Settings of Storage Latency Control on Production Datastore

Get-VBRStorageLatencyControlOptions
Enabled LatencyLimitMs ThrottlingIOLimitMs AdvancedOptions
------- -------------- ------------------- ---------------
  False             20                  30 {}
This command returns settings of the storage latency control on the production datastore.
The cmdlet output will contain the following details on the storage latency control: Enable, LatencyLimitMs, ThrottlingIOLimitMs and AdvancedOptions.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRStorageLatencyControlOptions [<CommonParameters>]
```

Get-VBRStoragePlugin
--------------------

### Synopsis
Returns plug-ins for adding Universal Storage API integrated systems.

---

### Description

This cmdlet returns the list of installed Plug-ins for adding Universal Storage API integrated systems to Veeam Backup & Replication.
For more information on Universal Storage API integrated systems, see the Universal Storage Integration API section of the User Guide for VMware vSphere.

---

### Related Links
* [Get-VBRViProxy](Get-VBRViProxy.md)

* [Get-VBRCredentials](Get-VBRCredentials.md)

---

### Examples
> Example 1

```PowerShell
Get-VBRStoragePlugin
This command returns the list of all installed storage plug-ins.
```
> Example 2

Get-VBRStoragePlugin
$credentials = Get-VBRCredentials -Name "IBM Administrator"
$proxy = Get-VBRViProxy -Name 172.17.41.34
Add-StoragePluginHost -PluginType Ibm -Name 172.17.41.3 -Credentials $credentials -Description "IBM iSCSI" -Proxy $proxy -iSCSI
This example shows how to add an IBM Spectrum Virtualize storage to Veeam Backup & Replication.

Perform the following steps:
1. Run the Get-VBRStoragePlugin cmdlet. To add the IBM Spectrum Virtualize storage system to Veeam Backup & Replication, you will need the IBM Plug-in.
2. Run the Get-VBRCredentials cmdlet. Specify the Name parameter value. Save the result to the $credentials variable.
3. Run the Get-VBRViProxy cmdlet. Specify the Name parameter value. Save the result to the $proxy variable.
4. Run the Add-StoragePluginHost cmdlet. Specify the following settings:
- Set the Ibm option for the PluginType parameter value.
- Specify the Name parameter value.
- Set the $credentials variable as the Credentials parameter value.
- Specify the Description parameter value.
- Set the $proxy variable as the Proxy parameter value.

---

### Parameters
#### **Name**
Specifies the array of plug-in names.
The cmdlet will return plug-ins with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRStoragePlugin [-Name <String[]>] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Get-VBRSureBackupJob
--------------------

### Synopsis
Returns SureBackup jobs.

---

### Description

This cmdlet returns SureBackup jobs.

---

### Examples
> Example 1. Getting All SureBackup Jobs from Veeam Backup & Replication Infrastructure

Get-VBRSureBackupJob
VirtualLab                  : Virtual Lab 2
ApplicationGroup            : Application Group 2
KeepApplicationGroupRunning : True
LinkedJob                   : {Veeam.Backup.PowerShell.Infos.VBRSureBackupLinkedJob}
LinkToJobs                  : True
MaxConcurrentVMs            : 3
VerificationOptions         : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobVerificationOptions
ScheduleOptions             : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobScheduleOptions
LastRun                     : 2/28/2020 6:31:24 AM
LastResult                  : None
NextRun                     : 1/1/0001 12:00:00 AM
LastState                   : Starting
IsEnabled                   : True
ScheduleEnabled             : True
Id                          : 1982ee0c-acd2-4c7c-a97f-e8d8cafabf31
Name                        : Job02
Description                 : Created by WinSRV2049\Administrator at 2/20/2020 6:23 AM.

VirtualLab                  : Virtual Lab 1
ApplicationGroup            : Application Group 1
KeepApplicationGroupRunning : True
LinkedJob                   : {}
LinkToJobs                  : False
MaxConcurrentVMs            : 3
VerificationOptions         : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobVerificationOptions
ScheduleOptions             : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobScheduleOptions
LastRun                     : 2/25/2020 6:22:39 AM
LastResult                  : None
NextRun                     : 1/1/0001 12:00:00 AM
LastState                   : Working
IsEnabled                   : True
ScheduleEnabled             : True
Id                          : 6298815d-2c1c-46a0-86a9-299a8bf1ab72
Name                        : Job01
Description                 : Created by WinSRV2049\Administrator at 2/20/2020 6:21 AM.
This command returns all SureBackup jobs that are added to the Veeam Backup & Replication Infrastructure.
The cmdlet output will contain details on SureBackup jobs.
> Example 2. Getting SureBackup Job by Name

```PowerShell
Get-VBRSureBackupJob -Name "SureJob2"
VirtualLab                  : Virtual Lab 2
ApplicationGroup            : Application Group 2
KeepApplicationGroupRunning : True
LinkedJob                   : {Veeam.Backup.PowerShell.Infos.VBRSureBackupLinkedJob}
LinkToJobs                  : True
MaxConcurrentVMs            : 3
VerificationOptions         : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobVerificationOptions
ScheduleOptions             : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobScheduleOptions
LastRun                     : 9/24/2019 6:31:24 AM
LastResult                  : None
NextRun                     : 1/1/0001 12:00:00 AM
LastState                   : Starting
IsEnabled                   : True
ScheduleEnabled             : True
Id                          : 1982ee0c-acd2-4c7c-a97f-e8d8cafabf31
Name                        : Job02
Description                 : Created by WinSRV2049\Administrator at 2/20/2020 6:23 AM.
This command returns the SureJob2 SureBackup job.
The cmdlet output will contain details on the SureBackup job.
```
> Example 3. Getting SureBackup Job by ID

```PowerShell
Get-VBRSureBackupJob -Id 6298815d-2c1c-46a0-86a9-299a8bf1ab72
VirtualLab                  : Virtual Lab 1
ApplicationGroup            : Application Group 1
KeepApplicationGroupRunning : True
LinkedJob                   : {}
LinkToJobs                  : False
MaxConcurrentVMs            : 3
VerificationOptions         : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobVerificationOptions
ScheduleOptions             : Veeam.Backup.PowerShell.Infos.VBRSureBackupJobScheduleOptions
LastRun                     : 9/24/2019 6:22:39 AM
LastResult                  : None
NextRun                     : 1/1/0001 12:00:00 AM
LastState                   : Working
IsEnabled                   : True
ScheduleEnabled             : True
Id                          : 6298815d-2c1c-46a0-86a9-299a8bf1ab72
Name                        : Job01
Description                 : Created by WinSRV2049\Administrator at 2/20/2020 6:21 AM.
This command returns the 6298815d-2c1c-46a0-86a9-299a8bf1ab72 SureBackup job.
The cmdlet output will contain details on the SureBackup job.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for SureBackup jobs. The cmdlet will return SureBackup jobs with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for SureBackup jobs. The cmdlet will return SureBackup jobs with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSureBackupJob [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRSureBackupJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRSureBackupSession
------------------------

### Synopsis
Returns SureBackup sessions that have been run.

---

### Description

This cmdlet returns the list of all SureBackup sessions that have been run.
Run the Get-VBRSureBackupTaskSession cmdlet to get the list of all tasks performed during the specific SureBackup session.
Run the Get-VBRBackupSession cmdlet to get list of backup sessions that have been run.

---

### Examples
> Example 1. Getting List of All SureBackup Sessions

```PowerShell
Get-VBRSureBackupSession
This command returns the list of all SureBackup sessions.
```
> Example 2. Getting SureBackup Session by Name

```PowerShell
Get-VBRSureBackupSession -Name "Winserver SureBackupJob"
This command returns the SureBackup sessions named Winserver SureBackupJob.
```

---

### Parameters
#### **Id**
Specifies the array of SureBackup sessions IDs. The cmdlet will return sessions with these IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of SureBackup session names. The cmdlet will return sessions with these names.
The name of a SureBackup session is the name of the SureBackup job.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

System.Guid[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSureBackupSession [-Id <Guid[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRSureBackupTaskSession
----------------------------

### Synopsis
Returns tasks performed during the specified SureBackup session.

---

### Description

This cmdlet returns the list of tasks performed during the specified SureBackup session.
Run the Get-VBRTaskSession cmdlet to get the tasks for backup, replication and backup copy sessions.

---

### Related Links
* [Get-VBRSureBackupSession](Get-VBRSureBackupSession.md)

---

### Examples
> Getting List of SureBackup Sessions by Name

$job = Get-VBRSureBackupSession -Name "Winserver SureBackupJob"
Get-VBRSureBackupTaskSession -Session $job -Name "srv1"
This example shows how to get the list of tasks performed for the VM named srv1 in the SureBackup job session named Winserver SureBackupJob.
Perform the following steps:
1. Run the Get-VBRSureBackupSession cmdlet. Specify the Name parameter value. Save the result to the $job variable.
2. Run the Get-VBRSureBackupTaskSession cmdlet. Set the $job variable as the Session parameter value. Specify the Name parameter value.

---

### Parameters
#### **Id**
Specifies the array of SureBackup sessions ID. The cmdlet will return sessions with this ID.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of SureBackup job names. The cmdlet will return tasks performed for VMs in these jobs during the selected job session.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Session**
Specifies the array of SureBackup sessions. The cmdlet will return tasks performed during these sessions.

|Type                     |Required|Position|PipelineInput                 |
|-------------------------|--------|--------|------------------------------|
|`[IVBRSureBackupSession]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

System.Guid[]

Veeam.Backup.PowerShell.Infos.IVBRSureBackupSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSureBackupTaskSession [-Session] <IVBRSureBackupSession> [-Id <Guid[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRSyslogServer
-------------------

### Synopsis
Returns the syslog server added to Veeam Backup & Replication.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns the syslog server added to Veeam Backup & Replication.

---

### Examples
> Getting Syslog Server

```PowerShell
Get-VBRSyslogServer
This command returns the existing syslog server.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRSyslogServer [<CommonParameters>]
```

Get-VBRTapeBackup
-----------------

### Synopsis
Returns the list of backups recorded to tape.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeBackup [-Name <String[]>] [<CommonParameters>]
```

Get-VBRTapeBackupSession
------------------------

### Synopsis
Returns tape backup job sessions.

---

### Description

This cmdlet returns tape backup job sessions.

---

### Related Links
* [Get-VBRTapeJob](Get-VBRTapeJob.md)

---

### Examples
> Example 1. Getting Tape Backup Sessions with Certain IDs

```PowerShell
Get-VBRTapeBackupSession -Id ("49664A5F-9C55-4A1F-8E6A-1CD5705A684B", "42696B53-6FEC-4148-9354-AA9E4B52DED9")
This example shows how to get tape backup sessions with certain IDs.
```
> Example 2. Getting Tape Backup Sessions for Certain Tape Backup Job

$tapejob = Get-VBRTapeJob "Payroll Reports to Tape (Q1-Q2)"
Get-VBRTapeBackupSession -Job $tapejob
This example shows how to get tape backup sessions run for a certain tape backup job.

Perform the following steps:
1. Run the Get-VBRTapeJob cmdlet. Specify the Name parameter value. Save the result to the $tapejob variable.
2. Run the Get-VBRTapeBackupSession cmdlet. Set the $tapejob variable as the Job parameter value.

---

### Parameters
#### **Id**
Specifies an array of tape backup session IDs. The cmdlet will return tape backup sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Job**
Specifies a tape backup job. The cmdlet will return tape backup sessions run for this tape backup job. Accepts the VBRTapeJob object. To create this object, run the Get-VBRTapeJob cmdlet.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[VBRTapeJob]`|false   |named   |False        |

#### **Name**
Specifies an array of tape backup job names. The cmdlet will return tape backup sessions run for this tape backup job.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeBackupSession [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeBackupSession [-Job <VBRTapeJob>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeBackupSession [-Name <String[]>] [<CommonParameters>]
```

Get-VBRTapeCatalogueDirectory
-----------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **CatalogueHost**

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRTapeCatalogueHost]`|true    |named   |False        |

#### **Path**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeCatalogueDirectory -CatalogueHost <VBRTapeCatalogueHost> -Path <String> [<CommonParameters>]
```

Get-VBRTapeCatalogueFile
------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Directory**

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRTapeCatalogItem]`|true    |named   |False        |

#### **Name**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeCatalogueFile -Directory <VBRTapeCatalogItem> [-Name <String>] [<CommonParameters>]
```

Get-VBRTapeCopyDependentMedium
------------------------------

### Synopsis
Returns dependent tapes.

---

### Description

This cmdlet returns dependent tapes that store other parts of the backup. When a backup file does not fit on one tape, it is divided into parts and written to several tapes. These tapes are considered dependent. You may want to run this cmdlet before you start the Start-VBRTapeCopy cmdlet, to get information on the dependent tapes.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

---

### Examples
> Getting Dependent Tapes for Specified Tape

$tape = Get-VBRTapeMedium -Name "0021000C"
Get-VBRTapeCopyDependentMedium -Medium $tape
This example shows how to get tapes that are dependent on the 0021000C tape.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $tape variable.
2. Run the Get-VBRTapeCopyDependentMedium cmdlet. Set the $tape variable as the Medium parameter value.

---

### Parameters
#### **Medium**
Specifies an array of tapes. The cmdlet will return dependent tapes for the tapes from this array.  Accepts the VBRTapeMedium[] object. To create this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRTapeMedium[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeCopyDependentMedium -Medium <VBRTapeMedium[]> [<CommonParameters>]
```

Get-VBRTapeDrive
----------------

### Synopsis
Returns tape drives.

---

### Description

This cmdlet returns tape recording drives. You can also view the model name, the state of the drive and whether it is enabled or disabled.

---

### Related Links
* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

---

### Examples
> Example 1 Getting Drives of Selected Library [Using Pipeline]

Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00" | Get-VBRTapeDrive
This example shows how to get drives of the HP MSL G3 Series 3.00 library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTapeDrive cmdlet.
> Example 2 Getting Drive by Name

```PowerShell
Get-VBRTapeDrive -Name "Drive1"
This command looks for a tape drive named "Drive1".
```

---

### Parameters
#### **Address**
Specifies the array of drive addresses (slot numbers). The cmdlet will return drives in these slots.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[Int32[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the array of drive IDs. The cmdlet will return drives with these IDs. Accepts GUID or string.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Library**
Specifies the tape library. The cmdlet will return drives that belong to this library.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of tape drive names. The cmdlet will return drives with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeLibrary

System.String[]

System.Guid[]

System.Int32[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeDrive -Address <Int32[]> [<CommonParameters>]
```
```PowerShell
Get-VBRTapeDrive [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeDrive [-Library <VBRTapeLibrary>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeDrive [-Name <String[]>] [<CommonParameters>]
```

Get-VBRTapeJob
--------------

### Synopsis
Returns tape jobs.

---

### Description

This cmdlet returns tape jobs created on this Veeam backup server.

You can get backup to tape jobs, file to tape and object to tape jobs.

---

### Examples
> Example - Getting Tape Job by Name

```PowerShell
Get-VBRTapeJob -Name "Daily WebApp Backup"
This command returns the tape job named "Daily WebApp Backup".
```

---

### Parameters
#### **Name**
Specifies the array of tape job names. The cmdlet will return tape jobs with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRTapeLibrary
------------------

### Synopsis
Returns tape libraries.

---

### Description

This cmdlet returns tape libraries connected to Veeam Backup & Replication.

You can get the list of all tape libraries, narrow down your search to particular tape servers or search for instances directly by name or ID.

Note that tape libraries are added to Veeam Backup & Replication automatically when you add a tape server with connected library. Run the Add-VBRTapeServer cmdlet to add tape server.

---

### Related Links
* [Get-VBRTapeServer](Get-VBRTapeServer.md)

---

### Examples
> Example 1 Getting All Tape Libraries

Get-VBRTapeLibrary
This command gets a list of all tape libraries connected to Veeam Backup & Replication.
> Example 2 Getting All Tape Libraries Connected to Tape Server [Using Pipeline]

Get-VBRTapeServer -Name "Sydney_Tape_Server" | Get-VBRTapeLibrary
This command looks for all tape libraries connected to the tape server named 'Sydney_Tape_Server'.

Perform the following steps:
1. Run the Get-VBRTapeServer cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTapeLibrary cmdlet.

---

### Parameters
#### **Id**
Specifies the array of tape library IDs. The cmdlet will return tape libraries with these IDs. Accepts GUID or string.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the array of tape library names. The cmdlet will return tape libraries with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **TapeServer**
Specifies the array of tape servers. The cmdlet will return tape libraries connected to these tape servers. Accepts the VBRTapeServer object, GUID or string.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeServer[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeServer[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeLibrary [-Id <Guid[]>] [-TapeServer <VBRTapeServer[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeLibrary [-Name <String[]>] [-TapeServer <VBRTapeServer[]>] [<CommonParameters>]
```

Get-VBRTapeMediaPool
--------------------

### Synopsis
Returns media pools.

---

### Description

This cmdlet returns the list of media pools managed by Veeam Backup & Replication.

The cmdlet returns simple, GFS and service media pools.  You can get the list of media pools within specified library, or search for instances directly by name or ID.

---

### Related Links
* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

---

### Examples
> Example 1 Getting List of All Media Pools

Get-VBRTapeMediaPool
This command looks for the list of all media pools in Veeam Backup & Replication.
> Example 2 Getting Media Pools by Name

```PowerShell
Get-VBRTapeMediaPool -Name "File Backup Media Pool", "AppData GFS Media Pool"
This command looks for the media pools named File Backup Media Pool and AppData GFS Media Pool.
```
> Example 3 Getting Media Pools in Library [Using Pipeline]

Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00" | Get-VBRTapeMediaPool
This example shows how to look for all media pools in the HP MSL G3 Series 3.00 library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTapeMediaPool cmdlet.
> Example 4 Getting Media Pools in Library by Name [Using Pipeline]

VBRTapeLibrary -Name "HP MSL G3 Series 3.00" | Get-VBRTapeMediaPool -Name "AD Full Backup", "SharePoint Full Backups"
This example shows how to look for the media pools named "AD Full Backup" and "SharePoint Full Backups" in the HP MSL G3 Series 3.00 library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTapeMediaPool cmdlet. Specify the Name parameter value.

---

### Parameters
#### **Id**
Specifies the array of media pool IDs. The cmdlet will return media pools with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Library**
Specifies the array of tape libraries. The cmdlet will return media pools that belong to these tape libraries.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of media pool names. The cmdlet will return media pools with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeLibrary

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeMediaPool [-Id <Guid[]>] [-Library <VBRTapeLibrary>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeMediaPool [-Library <VBRTapeLibrary>] [-Name <String[]>] [<CommonParameters>]
```

Get-VBRTapeMediaPoolOptions
---------------------------

### Synopsis
IMPORTANT! This cmdlet is obsolete and is no longer supported.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **MediaPool**

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[CTapeMediaPool]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Tape.Core.CTapeMediaPool

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeMediaPoolOptions [-MediaPool] <CTapeMediaPool> [<CommonParameters>]
```

Get-VBRTapeMedium
-----------------

### Synopsis
Returns tapes.

---

### Description

This cmdlet returns tapes managed by Veeam Backup & Replication.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRTapeMediaPool](Get-VBRTapeMediaPool.md)

* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

---

### Examples
> Example 1. Getting Tape by Name

```PowerShell
Get-VBRTapeMedium -Name "00110001"
This command gets a tape named "00110001".
```
> Example 2. Getting Tape by Barcode

Get-VBRTapeMedium | Where-Object {$_.barcode -eq "00233400"}
This example shows how to get a tape with the 00233400 barcode.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet to get all tapes.
2. Pipe the cmdlet output to the Where-Object cmdlet. Specify the Barcode value to equal 00233400.
> Example 3. Getting Tapes in Media Pool

$IncrementalBackups = Get-VBRTapeMediaPool -Name "Incremental Backups"
Get-VBRTapeMedium -MediaPool $IncrementalBackups
This example shows how to get the list of tapes in the Incremental Backups media pool.

Perform the following steps:
1. Run the Get-VBRTapeMediaPool cmdlet. Specify the Name parameter value. Save the result to the $IncrementalBackups variable.
2. Run the Get-VBRTapeMedium cmdlet. Set the $IncrementalBackups variable as the MediaPool parameter value.
> Example 4. Getting Expired Tapes in Vault

$Sydney = Get-VBRTapeVault -Name "Sydney"
Get-VBRTapeMedium -Vault $Sydney | ?{$_.IsExpired}
This example shows how to look for the expired tapes within the Sydney vault.

Perform the following steps:
1. Run the Get-VBRTapeVault cmdlet. Specify the Name parameter value. Save the result to the $Sydney variable.
2. Run the Get-VBRTapeMedium cmdlet. Set the $Sydney variable as the Vault parameter value.
3. Pipe the cmdlet output to the query to find all expired tapes.

---

### Parameters
#### **Drive**
Specifies the array of drives.  The cmdlet will return tapes located in these drives. Accepts the VBRTapeDrive[] object, GUID or string. To get this object, run the Get-VBRTapeDrive cmdlet.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRTapeDrive[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the array of tape IDs. The cmdlet will return tapes with these IDs. Accepts GUID[] or string[].

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Library**
Specifies the array of tape libraries.  The cmdlet will return tapes in these libraries. Accepts the VBRTapeLibrary[] object, GUID or string. To get this object, run the Get-VBRTapeLibrary cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **MediaPool**
Specifies the array of media pools.  The cmdlet will return tapes in these media pools. Accepts the VBRTapeMediaPool[] object, GUID or string. To get this object, run the Get-VBRTapeMediaPool cmdlet.

|Type                      |Required|Position|PipelineInput                 |
|--------------------------|--------|--------|------------------------------|
|`[VBRTapeMediaPoolBase[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of tape names.  The cmdlet will return tapes with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Vault**
Specifies the array of vaults.  The cmdlet will return tapes in these vaults. Accepts the VBRTapeVault[] object, GUID or string. To get this object, run the Get-VBRTapeVault cmdlet.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRTapeVault[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeDrive[]

System.Guid[]

System.String[]

Veeam.Backup.PowerShell.Infos.VBRTapeLibrary[]

Veeam.Backup.PowerShell.Infos.VBRTapeMediaPoolBase[]

Veeam.Backup.PowerShell.Infos.VBRTapeVault[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeMedium -Drive <VBRTapeDrive[]> [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeMedium -Id <Guid[]> [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeMedium -Library <VBRTapeLibrary[]> [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeMedium -MediaPool <VBRTapeMediaPoolBase[]> [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeMedium [-Name <String[]>] -Vault <VBRTapeVault[]> [<CommonParameters>]
```

Get-VBRTapeMediumForSession
---------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **SessionId**

|Type    |Required|Position|PipelineInput|
|--------|--------|--------|-------------|
|`[Guid]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeMediumForSession -SessionId <Guid> [<CommonParameters>]
```

Get-VBRTapeRestoreAllContentDependentMedium
-------------------------------------------

### Synopsis
Returns dependent tapes.

---

### Description

This cmdlet returns dependent tapes that store other parts of the backup. You may want to run this cmdlet before you start the Start-VBRTapeCopy cmdlet, to get information on the dependent tapes. When a backup file does not fit on one tape, it is divided into parts and written to several tapes. These tapes are considered dependent.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

---

### Examples
> Getting Dependent Tapes for Specified Tape

$tape = Get-VBRTapeMedium -Name "0021000C"
Get-VBRTapeRestoreAllContentDependentMedium -Medium $tape
This example shows how to get tapes that are dependent on the 0021000C tape.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $tape variable.
2. Run the Get-VBRTapeRestoreAllContentDependentMedium cmdlet. Set the $tape variable as the Medium parameter value.

---

### Parameters
#### **Medium**
Specifies an array of tapes. The cmdlet will return dependent tapes for the tapes from this array.  Accepts the VBRTapeMedium[] object. To create this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRTapeMedium[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeRestoreAllContentDependentMedium -Medium <VBRTapeMedium[]> [<CommonParameters>]
```

Get-VBRTapeServer
-----------------

### Synopsis
Returns tape servers.

---

### Description

This cmdlet returns the list of tape servers connected to Veeam Backup & Replication.

You can get the list of all tape servers or narrow down the output to the servers of specific type, or search for instances directly by name.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1 Getting List of Tape Servers

Get-VBRTapeServer
This command looks for all tape servers connected to Veeam Backup & Replication.
> Example 2 Getting List of Tape Servers Connected to Host [Using Pipeline]

Get-VBRServer -Name "Host01" | Get-VBRTapeServer
This example shows how to get all tape servers connected to the host named Host01.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTapeServer cmdlet.
> Example 3 Getting Tape Server by Name [Using Variable]

Get-VBRTapeServer -Name "Sydney_Tape_Server" -Server $Host01
This example shows how to get the tape server named Sydney_Tape_Server on the Host01 host.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $host01 variable.
2. Run the Get-VBRTapeServer cmdlet. Specify the Name parameter value. Set the $host01 variable as the Server parameter value.

---

### Parameters
#### **Name**
Specifies the array of tape server names.  The cmdlet will return tape servers with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies the array of hosts.  The cmdlet will return tape servers created on these hosts.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeServer [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```

Get-VBRTapeVault
----------------

### Synopsis
Returns tape vaults.

---

### Description

This cmdlet returns existing tape vaults. You can get the list of all tape vaults or search for instances directly by name or ID.

---

### Examples
> Example 1 Getting All Tape Vaults

```PowerShell
Get-VBRTapeVault
This command looks for a list of all existing vaults.
```
> Example 2 Getting Tape Vault by Name

```PowerShell
Get-VBRTapeVault -Name "Sydney Remote Storage"
This command looks for a vault named 'Sydney Remote Storage'.
```

---

### Parameters
#### **Id**
Specifies the array of vault IDs. The cmdlet will return vaults with these IDs. Accepts Guid or string.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of vault names. The cmdlet will return vaults with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTapeVault [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRTapeVault [-Name <String[]>] [<CommonParameters>]
```

Get-VBRTaskSession
------------------

### Synopsis
Returns tasks performed during job sessions.

---

### Description

This cmdlet returns tasks performed during the specified session. The tasks are VMs processed during one job session.
Run the Get-VBRSureBackupTaskSession cmdlet to get the tasks for SureBackup jobs session.

---

### Related Links
* [Get-VBRBackupSession](Get-VBRBackupSession.md)

---

### Examples
> Example 1. Getting List of Tasks Performed for VMs [Using Pipeline]

Get-VBRBackupSession -Name "Exchange Backup (Incremental)" | Get-VBRTaskSession -Name "DC", "DNS"
This example shows how to get the list of tasks performed for the DC and DNS VMs in the backup job session with incremental backups named Exchange Backup.
Perform the following steps:
1. Run the Get-VBRBackupSession cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Get-VBRTaskSession cmdlet. Specify the Name parameter value.
> Example 2. Getting List of Tasks Performed for VMs [Using Variable]

$ExchangeSession = Get-VBRBackupSession -Name "Exchange Backup (Incremental)"
Get-VBRTaskSession -Session $ExchangeSession -Name "DC", "DNS"
This example shows how to get the list of tasks performed for the DC and DNS VMs in the backup job session with incremental backups named Exchange Backup.
Perform the following steps:
1. Run the Get-VBRBackupSession cmdlet. Specify the Name parameter value. Save the result to the $ExchangeSession variable.
2. Run the Get-VBRTaskSession cmdlet. Set the $ExchangeSession variable as the Session parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies the array of job object names (for example, VMs in job).
The cmdlet will return tasks performed for these objects during the selected session.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Session**
Specifies the session tasks which you want to get.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[VBRSession]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTaskSession [-Session] <VBRSession> [-Name <String[]>] [<CommonParameters>]
```

Get-VBRTestQuickMigrationSession
--------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Id**

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|false   |named   |True (ByPropertyName)|

#### **Session**

|Type                            |Required|Position|PipelineInput                 |
|--------------------------------|--------|--------|------------------------------|
|`[VBRTestQuickMigrationSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTestQuickMigrationSession

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRTestQuickMigrationSession [-Id <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRTestQuickMigrationSession [-Session <VBRTestQuickMigrationSession>] [<CommonParameters>]
```

Get-VBRToolkitDocumentation
---------------------------

### Synopsis
Opens Veeam PowerShell online help.

---

### Description

This cmdlet opens online Veeam PowerShell Reference on Veeam Help Center in your default browser.

---

### Examples
> Openinig Veeam PowerShell Online Help

```PowerShell
Get-VBRToolkitDocumentation
This command opens Veeam PowerShell online help.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRToolkitDocumentation [<CommonParameters>]
```

Get-VBRUnstructuredBackup
-------------------------

### Synopsis
Returns backup files created by file backup jobs and object storage backup jobs.

---

### Description

This cmdlet returns backup files created by file backup jobs and object storage backup jobs.

---

### Examples
> Example 1. Getting Backup Files Created by File Backup Job

```PowerShell
Get-VBRUnstructuredBackup -Name "Reports backup"
This command gets backup files that are created by the Reports backup file backup job. The cmdlet output will contain settings of the backup file created by the Reports backup file backup job.
```
> Example 2. Getting Backup Files by Object Storage Backup Job

```PowerShell
Get-VBRUnstructuredBackup -ID e5559d89-ca63-48dc-a53b-d9c54b7f2482
This command gets backup files that are created by the e5559d89-ca63-48dc-a53b-d9c54b7f2482 object storage backup job. The cmdlet output will contain settings of the backup file crated by the e5559d89-ca63-48dc-a53b-d9c54b7f2482 object storage backup job.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for file backup jobs and object storage backup jobs. The cmdlet will return an array of backup files that are created by these jobs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names for file backup jobs and object storage backup jobs. The cmdlet will return an array of backup files that are created by these jobs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackup -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackup -Name <String[]> [<CommonParameters>]
```

Get-VBRUnstructuredBackupCopyJob
--------------------------------

### Synopsis
Returns file backup copy jobs and object storage backup jobs.

---

### Description

This cmdlet returns file backup copy jobs and object storage backup jobs.

---

### Related Links
* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

* [Get-VBRUnstructuredBackupJob](Get-VBRUnstructuredBackupJob.md)

---

### Examples
> Example 1. Getting File Backup Copy Job by Primary Job

$filebackupjob = Get-VBRUnstructuredBackupJob -Name "SMB Backup"
$repository = Get-VBRBackupRepository -Name "Repository07"
Get-VBRUnstructuredBackupCopyJob -ParentJob $filebackupjob -BackupRepository $repository
This example shows how to get a file backup copy job that was created to process backup files of the SMB Backup file backup job. The file backup copy jobs are stored on the Repository07 secondary repository.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupJob cmdlet. Specify the Name parameter value. Save the result to the $filebackupjob variable.
2. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
3. Run the Get-VBRUnstructuredBackupCopyJob cmdlet. Set the $filebackupjob variable as the ParentJob parameter value. Set the $repository variable as the BackupRepository parameter value.
> Example 2. Getting Object Storage Backup Copy Jobs by Name

```PowerShell
Get-VBRUnstructuredBackupCopyJob -Name [C-T]*
This command returns all object storage backup copy jobs with the names that begin with the letters C through T.
```
> Example 3. Getting File Backup Copy Jobs by ID

```PowerShell
Get-VBRUnstructuredBackupCopyJob -Id fdae7148-81e6-4cb0-8ea8-34512001fd4c
This command returns the fdae7148-81e6-4cb0-8ea8-34512001fd4c file backup copy job.
```

---

### Parameters
#### **BackupRepository**
Specifies an array of secondary repositories. The cmdlet will get a file backup copy job or an object storage backup copy job that keep their backup files on these repositories.
Accepts the CBackupRepository[] object.  To create this object, run the Get-VBRBackupRepository cmdlet.

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[CBackupRepository[]]`|false   |named   |False        |

#### **Id**
Specifies an ID of a file backup copy job or an object storage backup copy job. The cmdlet will return an array of jobs with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies a name of a file backup copy job or an object storage backup copy job. The cmdlet will return an array of jobs with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **ParentJob**
Specifies a primary file backup job or an object storage backup job. The cmdlet will return a file backup copy job or an object storage backup copy job that processes backup files of this backup job.
Accepts the VBRUnstructuredBackupJob object.  To get this object, run the Get-VBRUnstructuredBackupJob cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupJob]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupCopyJob [-BackupRepository <CBackupRepository[]>] -ParentJob <VBRUnstructuredBackupJob> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupCopyJob -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupCopyJob -Name <String[]> [<CommonParameters>]
```

Get-VBRUnstructuredBackupFLRItem
--------------------------------

### Synopsis
Returns backed-up objects created by file backup jobs or object storage backup jobs.

---

### Description

This cmdlet returns an array of backed-up objects created by file backup jobs or object storage backup jobs. These objects contain settings of guest OS files and folders backed up by file backup jobs or object storage backup jobs.

---

### Related Links
* [Get-VBRUnstructuredBackupRestorePoint](Get-VBRUnstructuredBackupRestorePoint.md)

* [Start-VBRUnstructuredBackupFLRSession](Start-VBRUnstructuredBackupFLRSession.md)

---

### Examples
> Example 1. Getting Objects Within Restore Session

$restorepoint = Get-VBRUnstructuredBackupRestorePoint       
$session = Start-VBRUnstructuredBackupFLRSession -RestorePoint $restorepoint[3]     
Get-VBRUnstructuredBackupFLRItem -Session $session
This example shows how to get objects within the specified restore session.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Save the result to the $restorepoint variable.
The Get-VBRUnstructuredBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point, for arrays it starts with 0. In our example, it is the fourth restore point in the array.
2. Run the Start-VBRUnstructuredBackupFLRSession cmdlet. Set the $restorepoint as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Set the $session as the Session parameter value.
> Example 2. Getting Objects by Name

$restorepoint = Get-VBRUnstructuredBackupRestorePoint       
$session = Start-VBRUnstructuredBackupFLRSession -RestorePoint $restorepoint[4]     
Get-VBRUnstructuredBackupFLRItem -Session $session -Name "Report001.txt"
This example shows how to get the Report001.txt file within the specified restore session.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Save the result to the $restorepoint variable. The Get-VBRUnstructuredBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the fifth restore point in the array). Note that to count objects of the array you must start with 0.
2. Run the Start-VBRUnstructuredBackupFLRSession cmdlet. Set the $restorepoint as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Specify the Name parameter value. Set the $session as the Session parameter value.
> Example 3. Getting Objects from Specific Folder

$restorepoint = Get-VBRUnstructuredBackupRestorePoint       
$session = Start-VBRUnstructuredBackupFLRSession -RestorePoint $restorepoint[2]     
$folder =Get-VBRUnstructuredBackupFLRItem -Session $session -Name "October Reports"     
Get-VBRUnstructuredBackupFLRItem -Session $session -Folder $folder
This example shows how to get all objects that are located in the the October Reports folder.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Save the result to the $restorepoint variable. The Get-VBRUnstructuredBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the third restore point in the array). Note that to count objects of the array you must start with 0.
2. Run the Start-VBRUnstructuredBackupFLRSession cmdlet. Set the $restorepoint as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Set the $session as the Session parameter value. Specify the Name parameter value.
4. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Set the $folder as the Folder parameter value. Set the $session as the Session parameter value.
> Example 4. Getting All Objects Added to Backed-up Folders

$restorepoint = Get-VBRUnstructuredBackupRestorePoint       
$session = Start-VBRUnstructuredBackupFLRSession -RestorePoint $restorepoint[5]         
Get-VBRUnstructuredBackupFLRItem -Session $session -Recurse
This example shows how to get all objects that are added to the backed-up folders.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Save the result to the $restorepoint variable. The Get-VBRUnstructuredBackupRestorePoint cmdlet will return an array of restore points. Mind the ordinal number of the necessary restore point (in our example, it is the sixth restore point in the array). Note that to count objects of the array you must start with 0.
2. Run the Start-VBRUnstructuredBackupFLRSession cmdlet. Set the $restorepoint as the RestorePoint parameter value. Save the result to the $session variable.
3. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Set the $session as the Session parameter value. Specify the Recurse parameter.

---

### Parameters
#### **ChangedOnly**
Defines that the cmdlet will return backed-up objects with changed attributes only.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Folder**
Specifies a backed-up folder. The cmdlet will return the specified folder and an array of objects that are added to this folder. Accepts the VBRUnstructuredBackupFLRFolder object.  To get this object, run the Get-VBRUnstructuredBackupFLRItem cmdlet.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupFLRFolder]`|false   |named   |False        |

#### **Name**
Specifies a name of the backed-up object. The cmdlet will return folders and files with the specified name.
NOTE: By default, the cmdlet returns up to 10,000 records (folders and files). You can change the default value with a registry key. For more information, contact Veeam Customer Support.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **Recurse**
Defines that the cmdlet will look for objects that are added to backed-up child folders.
If you provide this parameter, the cmdlet will return an array of all objects that are added to backed-up child folders. Otherwise, the cmdlet will return an array of objects that are added to the parent folder on the backed-up file share or an object storage server.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Session**
Specifies a restore session. The cmdlet will return backed-up object within this restore session.
Accepts the VBRUnstructuredBackupFLRSession object.  To create this object, run the Start-VBRUnstructuredBackupFLRSession cmdlet.

|Type                               |Required|Position|PipelineInput                 |
|-----------------------------------|--------|--------|------------------------------|
|`[VBRUnstructuredBackupFLRSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRUnstructuredBackupFLRSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupFLRItem [-ChangedOnly] [-Folder <VBRUnstructuredBackupFLRFolder>] [-Name <String>] [-Recurse] -Session <VBRUnstructuredBackupFLRSession> 
```
```PowerShell
[<CommonParameters>]
```

Get-VBRUnstructuredBackupFLRItemVersion
---------------------------------------

### Synopsis
Returns versions of objects backed-up by file backup jobs or object storage backup jobs.

---

### Description

This cmdlet returns versions of objects backed-up by file backup jobs or object storage backup jobs.
IMPORTANT! This cmdlet runs only with file-level restore sessions that are created to restore all versions of backups on file shares or object storage.
Run the Start-VBRUnstructuredBackupFLRSession cmdlet to start file-level restore sessions.

---

### Related Links
* [Start-VBRUnstructuredBackupFLRSession](Start-VBRUnstructuredBackupFLRSession.md)

* [Get-VBRUnstructuredBackupFLRItem](Get-VBRUnstructuredBackupFLRItem.md)

* [Get-Date](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Get-Date)

---

### Examples
> Example 1. Getting all Versions of Object

$session = Start-VBRUnstructuredBackupFLRSession        
$object = Get-VBRUnstructuredBackupFLRItem -Session $session        
Get-VBRUnstructuredBackupFLRItemVersion -Item $object
This example shows how to get all versions of an object backed-up by a file backup job.

Perform the following steps:
1. Run the Start-VBRUnstructuredBackupFLRSession  cmdlet. Save the result to the $session variable.
2. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Save the result to the $object variable.
3. Run the Get-VBRUnstructuredBackupFLRItemVersion cmdlet. Set the $object variable as the Item parameter value.
> Example 2. Getting Versions of Objects by Modification Date

$session = Start-VBRUnstructuredBackupFLRSession        
$object = Get-VBRUnstructuredBackupFLRItem -Session $session        
Get-VBRUnstructuredBackupFLRItemVersion -Item $object -ModificationDate "9/9/2022"
This example shows how to get versions of an object by the object modification date. Veeam Backup & Replication will return objects that have been modified on 9/9/2022.

Perform the following steps:
1. Run the Start-VBRUnstructuredBackupFLRSession  cmdlet. Save the result to the $session variable.
2. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Save the result to the $object variable.
3. Run the Get-VBRUnstructuredBackupFLRItemVersion cmdlet. Set the $object variable as the Item parameter value. Specify the ModificationDate parameter value.
> Example 3. Getting Versions of Objects by Version ID

$session = Start-VBRUnstructuredBackupFLRSession        
$object = Get-VBRUnstructuredBackupFLRItem -Session $session        
Get-VBRUnstructuredBackupFLRItemVersion -Item $object -VersionId 9
This example shows how to get a version of an object by the object version ID. Veeam Backup & Replication will return an object with the 9 version ID.

Perform the following steps:
1. Run the Start-VBRUnstructuredBackupFLRSession  cmdlet. Save the result to the $session variable.
2. Run the Get-VBRUnstructuredBackupFLRItem cmdlet. Set the $session variable as the Session parameter value. Save the result to the $object variable.
3. Run the Get-VBRUnstructuredBackupFLRItemVersion cmdlet. Set the $object variable as the Item parameter value. Specify the VersionId parameter value.

---

### Parameters
#### **Item**
Specifies an object. The cmdlet will return versions of this object.
Accepts the VBRUnstructuredBackupFLRItem object.  To get this object, run the Get-VBRUnstructuredBackupFLRItem cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupFLRItem]`|true    |named   |False        |

#### **LatestArchivedVersion**
Defines that the cmdlet will return the latest version of the object located in the archive repository.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ModificationDate**
Specifies the date when the object was modified. The cmdlet will return versions of objects that were modified on the specified date.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[DateTime]`|false   |named   |False        |

#### **VersionId**
Specifies a version ID of the object. The cmdlet will return objects with the specified version ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[UInt64]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupFLRItemVersion -Item <VBRUnstructuredBackupFLRItem> [-LatestArchivedVersion] [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupFLRItemVersion -Item <VBRUnstructuredBackupFLRItem> [-ModificationDate <DateTime>] [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupFLRItemVersion -Item <VBRUnstructuredBackupFLRItem> [-VersionId <UInt64>] [<CommonParameters>]
```

Get-VBRUnstructuredBackupFLRSession
-----------------------------------

### Synopsis
Returns restore sessions started to recover backups created by file backup jobs and object storage backup jobs.

---

### Description

This cmdlet returns restore sessions started to recover backups created by file backup jobs and object storage backup jobs.

---

### Examples
> Getting Restore Sessions Running to Recover Backups of Unstructured Data Sources

```PowerShell
Get-VBRUnstructuredBackupFLRSession
This command gets all restore sessions that are started to recover backups created by file backup jobs and object storage backup jobs.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupFLRSession [<CommonParameters>]
```

Get-VBRUnstructuredBackupJob
----------------------------

### Synopsis
Returns file backup jobs and object storage backup jobs.

---

### Description

This cmdlet returns file backup jobs and object storage backup jobs.

---

### Examples
> Example 1. Getting File Backup Job by Name

```PowerShell
Get-VBRUnstructuredBackupJob -Name "SMB Backup"
This command returns the SMB Backup file backup job.
```
> Example 2. Getting Object Storage Backup Job by ID

```PowerShell
Get-VBRUnstructuredBackupJob -ID "0789b522-c02c-4d05-a619-dee26520495d"
This command returns the 0789b522-c02c-4d05-a619-dee26520495d object storage backup job.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for file backup jobs and object storage backup jobs. The cmdlet will return an array of jobs with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names for file backup jobs and object storage backup jobs. The cmdlet will return an array of jobs with the specified name.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupJob -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupJob -Name <String[]> [<CommonParameters>]
```

Get-VBRUnstructuredBackupRestorePoint
-------------------------------------

### Synopsis
Returns restore points created by file backup jobs and object storage backup jobs.

---

### Description

This cmdlet returns restore points created by file backup jobs file backup jobs and object storage backup jobs.

---

### Related Links
* [Get-VBRUnstructuredBackup](Get-VBRUnstructuredBackup.md)

* [Get-VBRUnstructuredServer](Get-VBRUnstructuredServer.md)

* [Select-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Utility/Select-Object)

---

### Examples
> Example 1. Getting Restore Point Created by Object Storage Job by ID

```PowerShell
Get-VBRUnstructuredBackupRestorePoint -ID "51e4eced-3fce-465b-b516-f24cb5a068a4"
This command returns the 51e4eced-3fce-465b-b516-f24cb5a068a4 restore point created by object storage job.
```
> Example 2. Getting Restore Point From Specific File Share

$backupfile = Get-VBRUnstructuredBackup -Name "NFS Backup"      
$server = Get-VBRUnstructuredBackup -Name "\\WinSRV2049\Documents"      
Get-VBRUnstructuredBackupRestorePoint -Server $server -Backup $backupfile
This example shows how to get restore points of the NFS Backup backup file. The restore points are located on the \WinSRV2049\Documents file share.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackup cmdlet. Specify the Name parameter value. Save the result to the $backupfile variable.
2. Run the Get-VBRUnstructuredServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
3. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Set the $server variable as the Server parameter value. Set the $backupfile variable as the Backup parameter value.
> Example 3. Getting Latest Restore Point Created by File Backup job

$restorepoint = Get-VBRUnstructuredBackupRestorePoint | Sort-Object -Property CreationTime | Select-Object -Last 1
This command gets the latest restore point from an array of restore points.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupRestorePoint cmdlet. Save the result to the $restorepoint variable.
2. Pipe the cmdlet output to the Sort-Object cmdlet. Set the CreationTime value as the Property parameter. Provide the Descending parameter.
3. Run the Select-Object cmdlet. Set the 1 value for the Last parameter.

---

### Parameters
#### **Backup**
Specifies an array of backup files created by file backup jobs and object storage backup jobs. The cmdlet will return restore points that are available for these backup files. Accepts the VBRUnstructuredBackup[] object.  To get this object, run the Get-VBRUnstructuredBackup cmdlet.

|Type                       |Required|Position|PipelineInput                 |
|---------------------------|--------|--------|------------------------------|
|`[VBRUnstructuredBackup[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies an array of IDs of restore points. The cmdlet will return restore points with this IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Server**
Specifies an array of file shares and object storage. The cmdlet will return backup files that are located on these file shares and object storage.
Accepts the VBRUnstructuredServer[] object.  To get this object, run the Get-VBRUnstructuredServer cmdlet.

|Type                       |Required|Position|PipelineInput        |
|---------------------------|--------|--------|---------------------|
|`[VBRUnstructuredServer[]]`|false   |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRUnstructuredServer[]

Veeam.Backup.PowerShell.Infos.VBRUnstructuredBackup[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupRestorePoint -Backup <VBRUnstructuredBackup[]> [-Server <VBRUnstructuredServer[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupRestorePoint -Id <Guid[]> [<CommonParameters>]
```

Get-VBRUnstructuredBackupSession
--------------------------------

### Synopsis
Returns backup sessions for file backup jobs and object storage backup jobs.

---

### Description

This cmdlet returns backup sessions for file backup jobs and object storage backup jobs.

---

### Examples
> Example - Getting All Backup Sessions for File Backup Job

```PowerShell
Get-VBRUnstructuredBackupSession -Name "New backup session*"
This command returns all backup sessions for the New backup session file backup job.
```

---

### Parameters
#### **Id**
Specifies an array of IDs of backup sessions for file backup jobs and object storage backup jobs. The cmdlet will return backup sessions with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of names of backup sessions for file backup jobs and object storage backup jobs. The cmdlet will return backup sessions with these names.
Note: Veeam Backup & Replication adds (Full) at the end of the job name for full backup sessions. Depending on the type of the backup session you may specify the job name in one of the following ways:
* To get incremental backup sessions, specify the job name as it was specified when creating the job.
* To get full backup sessions, add (Full) at the end of the Name parameter.
* To get both full and incremental backup sessions for the job, add * at the end of the Name parameter.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupSession -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupSession -Name <String[]> [<CommonParameters>]
```

Get-VBRUnstructuredBackupTaskSession
------------------------------------

### Synopsis
Returns tasks for file share and object storage backup sessions.

---

### Description

This cmdlet returns tasks for file share and object storage backup sessions. Veeam Backup & Replication creates a separate task for each file share within a backup session.

---

### Related Links
* [Get-VBRUnstructuredBackupSession](Get-VBRUnstructuredBackupSession.md)

---

### Examples
> Example 1. Getting Backup Session Tasks for File Share by Its Name

```PowerShell
Get-VBRUnstructuredBackupTaskSession -Name "\\fileserv05\Documents"
This command returns all tasks run for the \fileserv05\Documents file share.
```
> Example 2. Getting Backup Session Tasks by Task IDs

```PowerShell
Get-VBRUnstructuredBackupTaskSession -Id ("49664A5F-9C55-4A1F-8E6A-1CD5705A684B", "42696B53-6FEC-4148-9354-AA9E4B52DED9")
This command returns the 49664A5F-9C55-4A1F-8E6A-1CD5705A684B and 42696B53-6FEC-4148-9354-AA9E4B52DED9 backup session tasks.
```
> Example 3. Getting Backup Session Tasks for Backup Session

$session = Get-VBRUnstructuredBackupSession -Id "42636B53-6FEC-4148-9354-BB9E4B52DED9"          
Get-VBRUnstructuredBackupTaskSession -Session $session
This command returns tasks that run within the "42636B53-6FEC-4148-9354-BB9E4B52DED9" backup session.
Perform the following steps:
1. Run the Get-VBRUnstructuredBackupSession cmdlet. Specify the Id parameter value. Save the result to the $session variable.
2. Run the Get-VBRUnstructuredBackupTaskSession cmdlet. Set the $session variable as the Session parameter value.

---

### Parameters
#### **Id**
Specifies an array of IDs for file share and object storage backup session tasks. The cmdlet will return tasks with these IDs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies an array of file share and object storage names. The cmdlet will return tasks with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **Session**
Specifies the file share and object storage backup session. The cmdlet will return tasks that run within this session. Accepts the VBRUnstructuredBackupSession object.  To get this object, run the Get-VBRUnstructuredBackupSession cmdlet.

|Type                            |Required|Position|PipelineInput|
|--------------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackupSession]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredBackupTaskSession -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupTaskSession -Name <String[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredBackupTaskSession -Session <VBRUnstructuredBackupSession> [<CommonParameters>]
```

Get-VBRUnstructuredServer
-------------------------

### Synopsis
Returns unstructured data sources added to the inventory.

---

### Description

This cmdlet returns an array of unstructured data sources added to the inventory. You can get the following unstructured data sources:
- File shares
- Object storage

---

### Related Links
* [Get-VBRUnstructuredBackup](Get-VBRUnstructuredBackup.md)

* [Get-NetAppHost](Get-NetAppHost.md)

---

### Examples
> Example 1. Getting all Unstructured Data Sources Added to Inventory

```PowerShell
Get-VBRUnstructuredServer
This cmdlet returns all unstructured data sources added to the inventory.
```
> Example 2. Getting Unstructured Data Sources by Name

```PowerShell
Get-VBRUnstructuredServer -Name "S3compatible 01", "S3compatible02"
This cmdlet returns the S3compatible 01 and S3compatible02 unstructured data sources.
```
> Example 3. Getting Unstructured Data Sources by ID

```PowerShell
Get-VBRUnstructuredServer -Id fd7e4191-f6be-4d43-a3fc-fc6547a30d72
This cmdlet returns the fd7e4191-f6be-4d43-a3fc-fc6547a30d72 unstructured data source.
```
> Example 4. Getting Enterprise NAS Systems

$nas = Get-NetAppHost -Name "NetApp Store"
Get-VBRUnstructuredServer -SANEntity
This example shows how to get the NetApp Store Enterprise NAS System.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter values. Save the result to the $nas variable.
2. Run the Get-VBRUnstructuredServer cmdlet. Set the $nas variable as the SANEntity parameter value.
> Example 5. Getting Unstructured Data Protected With Backups

$backup = Get-VBRUnstructuredBackup -Name "Reports backup"
Get-VBRUnstructuredServer -Backup $backup
This example shows how to get unstructured data protected with backups.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackup cmdlet. Specify the Name parameter values. Save the result to the $backup variable.
2. Run the Get-VBRUnstructuredServer cmdlet. Set the $backup variable as the Backup parameter value.

---

### Parameters
#### **Backup**
Specifies a backup. The cmdlet will return an array of unstructured data sources protected with this backup. Accepts the VBRUnstructuredBackup object.  To create this object, run the Get-VBRUnstructuredBackup cmdlet.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRUnstructuredBackup]`|false   |named   |False        |

#### **Id**
Specifies an ID of a unstructured data sources. The cmdlet will return an array of unstructured data sources with the specified ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|true    |named   |False        |

#### **Name**
Specifies a name of unstructured data sources. The cmdlet will return an array of unstructured data sources with the specified name

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **SANEntity**
Specifies a name of an enterprise NAS system. The cmdlet will return an array of file shares residing on this NAS system. Accepts the VBRSANEntity[] object.  To get this object, run the Get-NetAppHost cmdlet.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRSANEntity[]]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUnstructuredServer [-Backup <VBRUnstructuredBackup>] [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredServer -Id <Guid[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredServer -Name <String[]> [<CommonParameters>]
```
```PowerShell
Get-VBRUnstructuredServer -SANEntity <VBRSANEntity[]> [<CommonParameters>]
```

Get-VBRUploadStreamsConfiguration
---------------------------------

### Synopsis
Returns details on data transfer settings for job sessions.

---

### Description

This cmdlet returns the VBRUploadStreamsConfiguration object. This object contains the following details on data transfer settings for job sessions:
- State: specifies the state of the multithreaded data transfer option. It can be either enabled (True) or disabled (False).
- StreamCount: specifies the number of TCP/IP connections per job session.

---

### Examples
> Getting Details on Data Transfer Settings

Get-VBRUploadStreamsConfiguration
             Enabled                  StreamCount
             -------                  -----------
                True                            5
This command returns the following details on data transfer settings for job sessions:
- The multithreaded data transfer option is enabled.
- The number of TCP/IP connections per job is set to five.

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUploadStreamsConfiguration [<CommonParameters>]
```

Get-VBRUserRoleAssignment
-------------------------

### Synopsis
Returns a role that is assigned to a user or a user group.

---

### Description

This cmdlet returns a role that is assigned to a user or a user group.

---

### Examples
> Example 1. Getting Role of Specific User

Get-VBRUserRoleAssignment -Name Tech\BackupAdmin
       Role  Type Name           Id
       ----  ---- ----           --
BackupAdmin Group Administrators c5d266c7-8e2b-43f9-92c6-fffc4297074d
This command returns a role that is assigned to the Tech\BackupAdmin user.
The cmdlet output will contain the following details Role, Type, Name and Id.
> Example 2. Getting All Users and User Groups with Specific Role

Get-VBRUserRoleAssignment -Role RestoreOperator
       Role  Type Name           Id
       ----  ---- ----           --
BackupAdmin Group Administrators c5d266c7-8e2b-43f9-92c6-fffc4297074d
This command returns all users and user groups that have the Veeam Restore Operator role.
The cmdlet output will contain the following details Role, Type, Name and Id.

---

### Parameters
#### **Name**
Specifies an array of names of users or user groups. The cmdlet will get roles that are assigned to these users or user groups.
Note: You must specify the name of a user or a user group in the DOMAIN\Username format.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Role**
Specifies a role that you want to get. You can assign one of the following roles:
* BackupOperator
* RestoreOperator
* BackupAdmin
* TapeOperator
* BackupViewer
Valid Values:

* BackupOperator
* RestoreOperator
* BackupAdmin
* TapeOperator
* BackupViewer
* IncidentApiOperator
* SecurityAdministrator

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[VBRRole[]]`|false   |named   |False        |

#### **Type**
Specifies a type of the user which role you want to get. You can specify one of the following type of a user:
* User
* Group
Valid Values:

* User
* Group

|Type             |Required|Position|PipelineInput|
|-----------------|--------|--------|-------------|
|`[VBRRoleType[]]`|false   |named   |False        |

---

### Inputs
System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRUserRoleAssignment [-Name <String[]>] [-Role {BackupOperator | RestoreOperator | BackupAdmin | TapeOperator | BackupViewer | IncidentApiOperator | 
```
```PowerShell
SecurityAdministrator}] [-Type {User | Group}] [<CommonParameters>]
```

Get-VBRvCDCDPFilter
-------------------

### Synopsis
Returns a list of Veeam I/O filters installed on an ESXi host.

---

### Description

This cmdlet returns a list of Veeam I/O filters installed on an ESXi host.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1

$server = Get-VBRServer
Get-VBRvCDCDPFilter -Server $server
This example shows how to get a list of Veeam I/O filters installed on an ESXi host.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Save the result to the $server variable.
2. Run the Get-VBRvCDCDPFilter cmdlet. Set the $server variable as the Server parameter value.

---

### Parameters
#### **OrganizationVdc**
Specifies an array of organization VDCs for which you want to get the list of installed I/O filters.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[CVcdOrganizationVdcItem[]]`|false   |named   |False        |

#### **Server**
Specifies the ESXi host for which you want to get the list of installed I/O filters.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCDPFilter [-OrganizationVdc <CVcdOrganizationVdcItem[]>] -Server <CHost> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Get-VBRvCDCDPLongTermRestorePoint
---------------------------------

### Synopsis
Returns long-term restore points of a Cloud Director CDP replica.

---

### Description

This cmdlet returns long-term restore points of a Cloud Director CDP replica.

---

### Examples
> Example 1

$replica = Get-VBRCDPReplica
Get-VBRvCDCDPLongTermRestorePoint -Replica $replica
This cmdlet returns long-term restore points of a Cloud Director CDP replica.

Perform the following steps:
1. Run the Get-VBRCDPReplica cmdlet. Save the result to the $monthly variable.
2. Run the New-VBRSureBackupJobScheduleOptions cmdlet. Set the $replica variable as the Replica parameter value.

---

### Parameters
#### **ApplicationConsistent**
Defines that the cmdlet will return only application-consistent restore points.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Last**
Defines that the cmdet will return only the latest long-term restore points.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Replica**
Specifies the replica whose long-term restore point you want to get.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRvCDCDPReplica]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDCDPReplica

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCDPLongTermRestorePoint [-ApplicationConsistent] [-Last] -Replica <VBRvCDCDPReplica> [<CommonParameters>]
```

Get-VBRvCDCDPShortTermRestoreInterval
-------------------------------------

### Synopsis
Returns short-term restore points of a Cloud Director CDP replica.

---

### Description

This cmdlet returns short-term restore points of a Cloud Director CDP replica.

---

### Related Links
* [Get-VBRCDPReplica](Get-VBRCDPReplica.md)

---

### Examples
> Example 1

$replica = Get-VBRCDPReplica
Get-VBRvCDCDPShortTermRestoreInterval -Replica $replica
This example shows how to get short-term restore points of a Cloud Director CDP replica.

Perform the following steps:
1. Run the Get-VBRCDPReplica cmdlet. Save the result to the $replica variable.
2. Run the Get-VBRvCDCDPShortTermRestoreInterval cmdlet. Set the $replica variable as the Replica parameter value.

---

### Parameters
#### **Replica**
Specifies the replica whose short-term restore point you want to get.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRvCDCDPReplica]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDCDPReplica

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCDPShortTermRestoreInterval -Replica <VBRvCDCDPReplica> [<CommonParameters>]
```

Get-VBRvCDCloudNetworkInfo
--------------------------

### Synopsis
Returns target vCD networks for replica mapping.

---

### Description

This cmdlet returns target vCD networks for replica mapping.

---

### Related Links
* [Get-VBRvCDCloudOrganizationvDC](Get-VBRvCDCloudOrganizationvDC.md)

---

### Examples
> Example 1. Getting All VCD Target Networks

```PowerShell
Get-VBRvCDCloudNetworkInfo
This command gets all vCD target networks.
```
> Example 2. Getting VCD Target Network for Selected Organization VDC

$vdc = Get-VBRvCDCloudOrganizationvDC -Name "vCDorg"
Get-VBRvCDCloudNetworkInfo -OrganizationvDC $vdc
This example shows how to get a vCD target cloud network for the particular organization VDC.

Perform the following steps:
1. Run the Get-VBRvCDCloudOrganizationvDC cmdlet. Specify the Name parameter value. Save the result to the $vdc variable.
2. Run the Get-VBRvCDCloudNetworkInfo cmdlet. Set the $vdc variable as the OrganizationvDC parameter value.

---

### Parameters
#### **Id**
Specifies the IDs of Organizations VDCs that you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies a name of VDC network that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **OrganizationvDC**
Specifies an organization VDC.  The cmdlet will return target VDC networks for the specified organization VDC. Accepts the VBRvCDCloudOrganizationvDC object. To get this object, run the Get-VBRvCDCloudOrganizationvDC cmdlet.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRvCDCloudOrganizationvDC]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDCloudOrganizationvDC

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCloudNetworkInfo [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDCloudNetworkInfo [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDCloudNetworkInfo [-OrganizationvDC <VBRvCDCloudOrganizationvDC>] [<CommonParameters>]
```

Get-VBRvCDCloudOrganizationUser
-------------------------------

### Synopsis
Returns vCD cloud user accounts.

---

### Description

This cmdlet returns the VBRvCDCloudOrganizationUser object that contains the details about vCD user accounts added to your organization. You can use this object to create new subtenants. NOTE:
- You must add vCD users to the vCD Organization in VMware vCloud Director beforehand. The user must not have the administrator role.
- This cmdlet works for tenants only.
- Run the Find-VBRvCloudEntity cmdlet with the OrganizationUser parameter to get the array of the vCD users from the Cloud Provider side.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

---

### Examples
> Example 1. Getting All vCD User Accounts in vCD Organization

```PowerShell
Get-VBRvCDCloudOrganizationUser
This example shows how to get all vCD user accounts added to your vCD Organization.
```
> Example 2. Getting vCD User Account by Name

```PowerShell
Get-VBRvCDCloudOrganizationUser -Name "vCDUser1"
This example shows how to get a vCD user by name.
```
> Example 3. Getting vCD User Account by vCD Service Provider

$provider = Get-VBRCloudProvider -Name "vCDProvider"
Get-VBRvCDCloudOrganizationUser -vCDCloudProvider $provider -Name "vCDuser"
This example shows how to get a vCD user by vCD service provider.

Perform the following steps:
1. Run the Get-VBRCloudProvider cmdlet. Specify the Name parameter value. Save the result to the $provider variable.
2. Run the Get-VBRvCDCloudOrganizationUser cmdlet. Set the $provider variable as the vCDCloudProvider parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies an array of names for the vCD user account that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **vCDCloudProvider**
Specifies the service provider added to Veeam Backup & Replication. Accepts the VBRCloudProvider[] object.  To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCloudProvider[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudProvider[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCloudOrganizationUser [-Name <String[]>] [-vCDCloudProvider <VBRCloudProvider[]>] [<CommonParameters>]
```

Get-VBRvCDCloudOrganizationvDC
------------------------------

### Synopsis
Returns organization vDCs.

---

### Description

This cmdlet returns Organization vDCs. NOTE: This cmdlet is available for tenants only.

---

### Related Links
* [Get-VBRCloudProvider](Get-VBRCloudProvider.md)

---

### Examples
> Example 1. Getting All Organization VCDs

```PowerShell
Get-VBRvCDCloudOrganizationvDC
This command gets all organization vCDs.
```
> Example 2. Getting Organization VCD by Name

```PowerShell
Get-VBRvCDCloudOrganizationvDC -Name "Organization vDC"
This command gets an organization vCD by the organization vCD name.
```
> Example 3. Getting Organization VCD by Name and Cloud Service Provider

$provider = Get-VBRCloudProvider -Name "vCD CloudProvider"
Get-VBRvCDCloudOrganizationvDC -Name "vCD Organization" -CloudProvider $provider
This example shows how to get all vCD Cloud organization by specifying the name and the cloud provider details.

Perform the following steps:
1. Run the Get-VBRCloudProvider cmdlet. Specify the Name parameter value. Save the result to the $provider variable.
2. Run the Get-VBRvCDCloudOrganizationvDC cmdlet. Specify the Name parameter value. Set the $provider variable as the CloudProvider parameter value.

---

### Parameters
#### **CloudProvider**
Specifies a cloud service provider. Veeam Backup & Replication will return the vCD cloud Organizations, managed by the cloud service provider. Accepts the VBRCloudProvider[] object. To get this object, run the Get-VBRCloudProvider cmdlet.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRCloudProvider[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Id**
Specifies the ID of organization vCDs that you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the name of organization vCDs that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudProvider[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCloudOrganizationvDC [-CloudProvider <VBRCloudProvider[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDCloudOrganizationvDC [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDCloudOrganizationvDC [-Name <String[]>] [<CommonParameters>]
```

Get-VBRvCDCloudStoragePolicy
----------------------------

### Synopsis
Returns vCD storage policies.

---

### Description

This cmdlet returns vCD storage policies. The service provider must configure a storage policy in VMware vCloud Director beforehand.

---

### Related Links
* [Get-VBRvCDCloudOrganizationvDC](Get-VBRvCDCloudOrganizationvDC.md)

---

### Examples
> Example 1. Getting vCD Cloud Storage Policy

```PowerShell
Get-VBRvCDCloudStoragePolicy -Name "Silver policy"
This command gets a vCD cloud storage policy.
```
> Example 2. Getting vCD Cloud Storage Policy Assigned to Selected Organization VDC

$vdc = Get-VBRvCDCloudOrganizationvDC -Name "Organization VDC"
Get-VBRvCDCloudStoragePolicy -Name "Silver Policy" -OrganizationvDC $vdc
This example shows how to get the vCD cloud storage policy that is assigned to the specific organization VDC.

Perform the following steps:
1. Run the Get-VBRvCDCloudOrganizationvDC cmdlet. Specify the Name parameter value. Save the result to the $vdc variable.
2. Run the Get-VBRvCDCloudStoragePolicy cmdlet. Specify the Name parameter value. Set the $vdc variable as the OrganizationvDC parameter value.

---

### Parameters
#### **Id**
Specifies the ID of the vCD cloud Organization that you want to get.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies the name of the vCD cloud policy that you want to get.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **OrganizationvDC**
Specifies a cloud service provider. Veeam Backup & Replication will return the vCD cloud Organizations, managed by the cloud service provider. Accepts the VBRvCDCloudOrganizationvDC object.  To get this object, run the Get-VBRvCDCloudOrganizationvDC cmdlet.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRvCDCloudOrganizationvDC]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDCloudOrganizationvDC

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCloudStoragePolicy [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDCloudStoragePolicy [-Name <String[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDCloudStoragePolicy [-OrganizationvDC <VBRvCDCloudOrganizationvDC>] [<CommonParameters>]
```

Get-VBRvCDCloudvApp
-------------------

### Synopsis
Returns vCD vApps.

---

### Description

This cmdlet returns vApps that are added to Organization DCs. NOTE:  This cmdlet is available for tenants only.

---

### Related Links
* [Get-VBRvCDCloudOrganizationvDC](Get-VBRvCDCloudOrganizationvDC.md)

---

### Examples
> Example - Getting vApp Container

$vdc = Get-VBRvCDCloudOrganizationvDC -Name "Organization VDC"
$vApp = Get-VBRvCDCloudvApp -OrganizationvDC $vdc
This example shows how to get a vApp container.

Perform the following steps:
1. Run the Get-VBRvCDCloudOrganizationvDC cmdlet. Specify the Name parameter value. Save the result to the $vdc variable.
2. Run the Get-VBRvCDCloudvApp cmdlet. Set the $vdc variable as OrganizationvDC parameter value.

---

### Parameters
#### **Name**
Specifies the name of the vApp that you want to get.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **OrganizationvDC**
Specifies a cloud service provider. Veeam Backup & Replication will return the vCD cloud Organizations, managed by the cloud service provider. Accepts the VBRvCDCloudOrganizationvDC object. To get this object, run the Get-VBRvCDCloudOrganizationvDC cmdlet.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRvCDCloudOrganizationvDC]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String[]

Veeam.Backup.PowerShell.Infos.VBRvCDCloudOrganizationvDC

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCloudvApp [-Name <String[]>] -OrganizationvDC <VBRvCDCloudOrganizationvDC> [<CommonParameters>]
```

Get-VBRvCDCloudVM
-----------------

### Synopsis
Returns cloud VMs from organization VDCs.

---

### Description

This cmdlet returns cloud VMs from organization VDCs. The tenant will use this VM to set up mapping.

---

### Related Links
* [Get-VBRvCDCloudOrganizationvDC](Get-VBRvCDCloudOrganizationvDC.md)

---

### Examples
> Example - Getting All VMs from Selected Organization VDC

$vdc = Get-VBRvCDCloudOrganizationvDC -Name "Cloud Organization 01"
Get-VBRvCDCloudVM -OrganizationvDC $vdc
This example shows how to get all VMs from the specific organization VDC.

Perform the following steps:
1. Run the Get-VBRvCDCloudOrganizationvDC cmdlet. Specify the Name parameter value. Save the result to the $vdc variable.
2. Run the Get-VBRvCDCloudVM cmdlet. Set the $vdc parameter as the OrganizationvDC parameter value.

---

### Parameters
#### **Id**
Specifies an array of IDs. The cmdlet will return VMs with these IDs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Name**
Specifies an array of names. The cmdlet will return VMs with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **OrganizationvDC**
Specifies an organization VDC.  The cmdlet will return VMs from the specified organization VDC. Accepts the VBRvCDCloudOrganizationvDC object.  To get this object, run the Get-VBRvCDCloudOrganizationvDC cmdlet.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRvCDCloudOrganizationvDC]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRvCDCloudOrganizationvDC

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDCloudVM [-Id <String[]>] -OrganizationvDC <VBRvCDCloudOrganizationvDC> [<CommonParameters>]
```
```PowerShell
Get-VBRvCDCloudVM [-Name <String[]>] -OrganizationvDC <VBRvCDCloudOrganizationvDC> [<CommonParameters>]
```

Get-VBRVCDOrgVdcNetworkInfo
---------------------------

### Synopsis
Returns target networks for Cloud Director replica mapping.

---

### Description

This cmdlet returns target networks for Cloud Director replica mapping.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

---

### Examples
> Example 1. Getting all vCD Replica Mapping Networks

$server = Get-VBRServer -Name vCloud
Get-VBRVCDOrgVdcNetworkInfo -Server $server
This example shows how to get all mapping networks that are available on the vCloud vCD host.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRVCDOrgVdcNetworkInfo cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Getting vCD Replica Mapping Networks by Name

$server = Get-VBRServer -Name vCloud
Get-VBRVCDOrgVdcNetworkInfo -Server $server -Name "Net06", "Net10", "Net21"
This example shows how to get the Net06, Net10, Net21 mapping networks that are available on the vCloud vCD host.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Get-VBRVCDOrgVdcNetworkInfo cmdlet. Set the $server variable as the Server parameter value. Specify the Name parameter value.

---

### Parameters
#### **Name**
Specifies an array of names for Cloud Director networks.
The cmdlet will return these networks.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Server**
Specifies an array of Cloud Director hosts.
The cmdlet will return networks that are available on these Cloud Director hosts.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRVCDOrgVdcNetworkInfo [-Name <String[]>] [-Server <CHost[]>] [<CommonParameters>]
```

Get-VBRvCDReplica
-----------------

### Synopsis
Returns Cloud Director replicas.

---

### Description

This cmdlet returns Cloud Director replicas.

---

### Examples
> Example 1. Getting vCD Replicas by Name

```PowerShell
Get-VBRvCDReplicaJob -Name "vCD_05j"
This command returns the vCD_05j vCD replicas.
```
> Example 2. Getting vCD Replicas by ID

```PowerShell
Get-VBRvCDReplicaJob -Id "2a7c321c-c8cf-4aec-9332-93882e69c667"
This command returns the 2a7c321c-c8cf-4aec-9332-93882e69c667 vCD replicas.
```
> Example 3. Getting all vCD Replicas Jobs

```PowerShell
Get-VBRvCDReplicaJob
This command returns all vCD replicas that are added to the backup infrastructure.
```

---

### Parameters
#### **Id**
Specifies an array of Ids for Cloud Director replicas.
The cmdlet will return a list of Cloud Director replicas with the specified IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for Cloud Director replicas.
The cmdlet will return a list of Cloud Director replicas with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDReplica [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDReplica [-Name <String[]>] [<CommonParameters>]
```

Get-VBRvCDReplicaJob
--------------------

### Synopsis
Returns Cloud Director replication jobs.

---

### Description

This cmdlet returns vCD replication jobs.

---

### Examples
> Example 1. Getting vCD Replication Job by Name

```PowerShell
Get-VBRvCDReplicaJob -Name "vCD_05j"
This command returns the vCD_05j vDC replication job.
```
> Example 2. Getting vCD Replication Job by ID

```PowerShell
Get-VBRvCDReplicaJob -Id "2a7c321c-c8cf-4aec-9332-93882e69c667"
This command returns the 2a7c321c-c8cf-4aec-9332-93882e69c667 vDC replication job.
```
> Example 3. Getting all vCD Replication Jobs

```PowerShell
Get-VBRvCDReplicaJob
This command returns all vDC replication jobs that are added to the backup infrastructure.
```

---

### Parameters
#### **Id**
Specifies an array of Ids for Cloud Director replication jobs.
The cmdlet will return a list of jobs with the specified IDs.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for Cloud Director replication jobs.
The cmdlet will return a list of jobs with these names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRvCDReplicaJob [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRvCDReplicaJob [-Name <String[]>] [<CommonParameters>]
```

Get-VBRViCloudVM
----------------

### Synopsis
Returns VMs available in cloud hosts allocated by cloud resources.

---

### Description

Returns VMs available in cloud hosts that are allocated to you by your cloud resources.

---

### Related Links
* [Get-VBRCloudServer](Get-VBRCloudServer.md)

---

### Examples
> Example 1. Getting all VMs Available in Cloud Host

$cloudserver = Get-VBRCloudServer
Get-VBRViCloudVM -Server $cloudserver
This example shows how to get all VMs available in the cloud host.

Perform the following steps:
1.	Run the Get-VBRCloudServer cmdlet. Save the result to the $cloudserver variable.
2.	Run the Get-VBRViCloudVM cmdlet. Set the $cloudserver variable as the Server parameter value.
> Example 2. Getting VMs Available in Cloud Host by Names

$cloudserver = Get-VBRCloudServer
Get-VBRViCloudVM -Server $cloudserver -Name "srv50", "srv59", "srv45"
This example shows how to get the srv50, srv59, srv45 VMs available in cloud hosts.
Perform the following steps:
1.	Run the Get-VBRCloudServer cmdlet. Save the result to the $cloudserver variable.
2.	Run the Get-VBRViCloudVM cmdlet. Set the $cloudserver variable as the Server parameter value. Specify the Name parameter values.
> Example 3. Getting VMs Available in Cloud Host by ID

$cloudserver = Get-VBRCloudServer
Get-VBRViCloudVM -Server $cloudserver -Id "4ddb76ea-c11f-4c93-9147-06facf7c2186", "d3cff5ea-58f0-4fbd-8f58-87896e755dc5"
This example shows how to get the "4ddb76ea-c11f-4c93-9147-06facf7c2186","d3cff5ea-58f0-4fbd-8f58-87896e755dc5 VMs available in cloud hosts.

Perform the following steps:
1.	Run the Get-VBRCloudServer cmdlet. Save the result to the $cloudserver variable.
2.	Run the Get-VBRViCloudVM cmdlet. Set the $cloudserver variable as the Server parameter value.  Specify the Id parameter values.

---

### Parameters
#### **Id**
Specifies an array of IDs for VMs. The cmdlet will return VMs with these IDs.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **Name**
Specifies an array of VM names. The cmdlet will return VMs with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|true    |named   |False        |

#### **Server**
Specifies cloud hosts. The cmdlet will return VMs available in these hosts.
Accepts the VBRCloudServer object. To create this object, run the Get-VBRCloudServer cmdlet.

|Type              |Required|Position|PipelineInput                 |
|------------------|--------|--------|------------------------------|
|`[VBRCloudServer]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRCloudServer

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRViCloudVM -Id <String[]> -Server <VBRCloudServer> [<CommonParameters>]
```
```PowerShell
Get-VBRViCloudVM -Name <String[]> -Server <VBRCloudServer> [<CommonParameters>]
```

Get-VBRViProxy
--------------

### Synopsis
Returns a list of VMware backup proxies.

---

### Description

This cmdlet returns a list of VMware backup proxies managed by Veeam Backup & Replication.
Run the Get-VBRJobProxy cmdlet to get the list of proxies assigned to a specific job.

---

### Examples
> Example 1. Getting List of VMware Backup Proxies

Get-VBRViProxy
This command gets a list of all VMware proxies managed by Veeam Backup & Replication.
> Example 2. Getting VMware Backup Proxy by Name

```PowerShell
Get-VBRViProxy -Name "LocalProxy"
This command gets the VMware backup proxy with the name LocalProxy.
```

---

### Parameters
#### **Name**
Specifies an array of names of VMware proxies. The cmdlet will return proxies with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRViProxy [-Name <String[]>] [<CommonParameters>]
```

Get-VBRViReplicaReIpRule
------------------------

### Synopsis
Returns VMware job re-IP rules.

---

### Description

This cmdlet returns the list of re-IP rules configured for a selected VMware replication job.

---

### Examples
> Example 1

$job = Get-VBRJob -Name "Backup Copy Job"
Get-VBRViReplicaReIpRule -Job $job
This example gets  re-IP rules set for a replication job.

Perform the following steps:
1. Run the Get-VBRJob cmdlet. Save the result to the $job variable.
2. Run the Get-VBRViReplicaReIpRule cmdlet. Set the $job variable as the Job parameter value.

---

### Parameters
#### **Job**
Specifies the replication job for which you want to get the list of the re-IP rules.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CBackupJob]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CBackupJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRViReplicaReIpRule -Job <CBackupJob> [<CommonParameters>]
```

Get-VBRVirtualLab
-----------------

### Synopsis
Returns virtual labs with main settings.

---

### Description

This cmdlet returns the VBRVirtualLab>[] object that contains an array of virtual labs and their main settings. You can use this object with the following cmdlets:
- Remove-VBRVirtualLab - to remove virtual labs from Veeam Backup & Replication infrastructure.
- Add-VBRViSureBackupJob - to create a SureBackup job.
- Set-VBRViSureBackupJob - to modify settings of a SureBackup job.

---

### Examples
> Example 1. Getting All Virtual Labs

Get-VBRVirtualLab

IdOnHost    : 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec
Server      : Veeam.Backup.Core.Common.CHost
Platform    : VMWare
Id          : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name        : Exchange Virtual Lab
Description : Created by Powershell at 2/20/2020 5:56 AM.

IdOnHost    : d36893a1-1627-4c18-919f-a1bcadf38e0e
Server      : Veeam.Backup.Core.Common.CHost
Platform    : VMWare
Id          : 36b4435b-ea6b-4fa3-a2a2-9714e1cac5a6
Name        : SQL Virtual Lab
Description : Created by Powershell at 2/20/2020 5:56 AM.
This command returns all virtual labs that are added to the Veeam Backup & Replication infrastructure.
The cmdlet output will contain settings of virtual labs.
> Example 2. Getting Virtual Lab by ID

```PowerShell
Get-VBRVirtualLab -ID 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec

IdOnHost    : 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec
Server      : Veeam.Backup.Core.Common.CHost
Platform    : VMWare
Id          : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name        : Exchange Virtual Lab
Description : Created by Powershell at 2/20/2020 5:56 AM.
This command returns the 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec virtual lab.
The cmdlet output will contain settings of the virtual lab.
```
> Example 3. Getting Virtual Lab by Name

```PowerShell
Get-VBRVirtualLab -Name "SQL Virtual Lab"

IdOnHost    : 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec
Server      : Veeam.Backup.Core.Common.CHost
Platform    : VMWare
Id          : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name        : Exchange Virtual Lab
Description : Created by Powershell at 2/20/2020 5:56 AM.
This command returns the SQL Virtual Lab virtual lab.
The cmdlet output will contain settings of the virtual lab.
```
> Example 4. Getting Virtual Lab by Platform

```PowerShell
Get-VBRVirtualLab -Platform VMWare

IdOnHost    : 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec
Server      : Veeam.Backup.Core.Common.CHost
Platform    : VMWare
Id          : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name        : Exchange Virtual Lab
Description : Created by Powershell at 2/20/2020 5:56 AM.
This command returns virtual labs created on the VMware.
```

---

### Parameters
#### **Id**
Specifies an array of IDs for virtual labs. The cmdlet will return an array of virtual labs with the specified ID.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for virtual labs. The cmdlet will return an array of virtual labs with the specified names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Platform**
Specifies a type of server where the virtual lab is created.
The cmdlet will return virtual labs created on the specified platform. You can specify either of the following virtual labs:
* VMWare
* HyperV
* vCD
Valid Values:

* VMWare
* HyperV
* vCD

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRVirtualLabPlatform]`|false   |named   |False        |

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRVirtualLab [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRVirtualLab [-Name <String[]>] [-Platform {VMWare | HyperV | vCD}] [<CommonParameters>]
```

Get-VBRVirtualMachineStartSession
---------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Id**

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[Guid]`|false   |named   |True (ByPropertyName)|

#### **Session**

|Type                             |Required|Position|PipelineInput                 |
|---------------------------------|--------|--------|------------------------------|
|`[VBRVirtualMachineStartSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRVirtualMachineStartSession

System.Guid

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRVirtualMachineStartSession [-Id <Guid>] [<CommonParameters>]
```
```PowerShell
Get-VBRVirtualMachineStartSession [-Session <VBRVirtualMachineStartSession>] [<CommonParameters>]
```

Get-VBRViServerNetworkInfo
--------------------------

### Synopsis
Returns virtual networks for a VMware host.

---

### Description

This cmdlet returns the list of all virtual networks to which a selected VMware host is connected.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Where-Object](https://learn.microsoft.com/powershell/module/Microsoft.PowerShell.Core/Where-Object)

---

### Examples
> Example 1. Getting Networks Connected to Specific VMware Host

$server = Get-VBRServer -Type ESXi -Name "srv01.tech.local"
Get-VBRViServerNetworkInfo -Server $server
This example shows how to get the networks to which the srv01.tech.local host is connected.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and Name parameter values. Save the result to the $server variable.
2. Run the Get-VBRViServerNetworkInfo cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Getting Networks Connected to Specific VMware Host Using Host Name

```PowerShell
Get-VBRViServerNetworkInfo -Server "srv01.tech.local"
This command shows how to look get the networks to which the srv01.tech.local host is connected.
```
> Example 3. Getting Specific Network Connected to Specific VMware Host

$networks = Get-VBRViServerNetworkInfo -Server "srv01.tech.local"
$targetnetwork = $networks[5]
This example shows how to get one network from the list of networks that are connected to the srv01.tech.local host.
Perform the following steps:
1. Run the Get-VBRViServerNetworkInfo cmdlet. Specify the Server parameter value. Save the result to the $networks variable.
2. The Get-VBRViServerNetworkInfo cmdlet will return an array of networks. Specify the necessary network of the $networks variable using the square brackets. Save the result to the $targetnetwork variable.
> Example 4. Getting Specific Network Connected to Specific VMware Host [Using Pipeline]

Get-VBRViServerNetworkInfo -Server "srv01.tech.local" | Where-Object { $_.NetworkName -eq "NW01" }
This example shows how to get the NW01 network that is connected to the srv01.tech.local host.
Perform the following steps:
1. Run the Get-VBRViServerNetworkInfo cmdlet. Specify the Server parameter value.
2. Pipe the cmdlet output to the Where-Object cmdlet. Specify the following settings:
- Provide the $_. automatic variable.
- Provide the NetworkName property.
- Specify the eq comparison operator value.

---

### Parameters
#### **Server**
Specifies the VMware host. The cmdlet will return virtual networks connected to this host.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRViServerNetworkInfo -Server <CHost> [<CommonParameters>]
```

Get-VBRViVirtualDevice
----------------------

### Synopsis
Returns details on VMware VM virtual disks.

---

### Description

This cmdlet returns details on virtual disks of VMs from backups.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

---

### Examples
> Getting Details on Virtual Disks

$backup = Get-VBRBackup -Name "Winsrv4515"
$restorepoint = Get-VBRRestorePoint
Get-VBRViVirtualDevice -RestorePoint $restorepoint[3]
This example shows how to get details on virtual disks of the VM that is backed up by the Winsrv4515 backup job.

Perform the following steps:

1. Get the restore point:
a. Run the Get-VBRBackup cmdlet.
Specify the Name parameter value.
Save the result to the $backup variable.
b. Run the Get-VBRRestorePoint cmdlet.
Save the result to the $restorepoint variable.
The Get-VBRRestorePoint cmdlet will return an array of restore points.
Mind the ordinal number of the necessary restore point (in our example, it is the forth restore point in the array).
2. Run the Get-VBRViVirtualDevice cmdlet.
Set the $restorepoint variable as the RestorePoint parameter value.
The cmdlet output will contain the following details on VM virtual disks: ControllerNumber, Type, VirtualDeviceNode, VirtualDeviceCapacityGB and Name.

---

### Parameters
#### **RestorePoint**
Specifies a restore point of VMs.
The cmdlet will return details on backed-up virtual disks of these VMs.
Accepts the COib object. To get this object, run the Get-VBRRestorePoint cmdlet.

|Type    |Required|Position|PipelineInput                 |
|--------|--------|--------|------------------------------|
|`[COib]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.COib

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRViVirtualDevice

---

### Notes

---

### Syntax
```PowerShell
Get-VBRViVirtualDevice [-RestorePoint] <COib> [<CommonParameters>]
```

Get-VBRViVirtualLabConfiguration
--------------------------------

### Synopsis
Returns virtual labs and their settings.

---

### Description

This cmdlet returns the VBRViVirtualLabConfiguration object that contains an array of virtual labs and all their settings. You can use this object to modify settings of virtual labs.
Run the Set-VBRViVirtualLab cmdlet to modify settings of virtual labs.

---

### Examples
> Example 1. Getting all Virtual Labs

Get-VBRViVirtualLabConfiguration
DesignatedResourcePoolName : Exchange Virtual Lab
DesignatedVMFolderName     : Exchange Virtual Lab
CacheDatastore             : esx09-das05
ProxyAppliance             : Exchange Virtual Lab
ProxyApplianceEnabled      : True
NetworkMapping             : {Exchange Virtual Lab VM Network}
NetworkOptions             : {Veeam.Backup.PowerShell.Infos.VBRViVirtualLabNetworkOptions
RoutingBetweenvNicsEnabled : False
IsMultiHost                : False
DVS                        :
IpMappingRule              : {}
StaticIPMappingEnabled     : False
Type                       : Advanced
IdOnHost                   : 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec
Server                     : Veeam.Backup.Core.Common.CHost
Platform                   : VMWare
Id                         : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name                       : Exchange Virtual Lab
Description                : Created by Powershell at 2/20/2020 5:56 AM.

DesignatedResourcePoolName : SQL Virtual Lab
DesignatedVMFolderName     : SQL Virtual Lab
CacheDatastore             : esx09-das05
ProxyAppliance             : SQL Virtual Lab
ProxyApplianceEnabled      : True
NetworkMapping             : {SQL Virtual Lab VM Network}
NetworkOptions             : {Veeam.Backup.PowerShell.Infos.VBRViVirtualLabNetworkOptions
RoutingBetweenvNicsEnabled : False
IsMultiHost                : False
DVS                        :
IpMappingRule              : {}
StaticIPMappingEnabled     : False
Type                       : Advanced
IdOnHost                   : 43d2457a-ddee-424d-9fd3-42e021a77309
Server                     : Veeam.Backup.Core.Common.CHost
Platform                   : VMWare
Id                         : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name                       : SQL Virtual Lab
Description                : Created by Powershell at 2/20/2020 5:56 AM.
This command returns all virtual labs that are added to the Veeam Backup & Replication infrastructure.
The cmdlet output will contain settings of the virtual labs.
> Example 2. Getting Virtual Lab by ID

Get-VBRViVirtualLabConfiguration -Id "6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec"
DesignatedResourcePoolName : Exchange Virtual Lab
DesignatedVMFolderName     : Exchange Virtual Lab
CacheDatastore             : esx09-das05
ProxyAppliance             : Exchange Virtual Lab
ProxyApplianceEnabled      : True
NetworkMapping             : {Exchange Virtual Lab VM Network}
NetworkOptions             : {Veeam.Backup.PowerShell.Infos.VBRViVirtualLabNetworkOptions
RoutingBetweenvNicsEnabled : False
IsMultiHost                : False
DVS                        :
IpMappingRule              : {}
StaticIPMappingEnabled     : False
Type                       : Advanced
IdOnHost                   : 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec
Server                     : Veeam.Backup.Core.Common.CHost
Platform                   : VMWare
Id                         : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name                       : Exchange Virtual Lab
Description                : Created by Powershell at 2/20/2020 5:56 AM.
This command returns the 6b2686ae-9e1b-4c6e-b6fb-842d7155a9ec virtual lab.
The cmdlet output will contain settings of the virtual lab.
> Example 3. Getting Virtual Lab by Name

Get-VBRViVirtualLabConfiguration -Name "SQL Virtual Lab"
DesignatedResourcePoolName : SQL Virtual Lab
DesignatedVMFolderName     : SQL Virtual Lab
CacheDatastore             : esx09-das05
ProxyAppliance             : SQL Virtual Lab
ProxyApplianceEnabled      : True
NetworkMapping             : {SQL Virtual Lab VM Network}
NetworkOptions             : {Veeam.Backup.PowerShell.Infos.VBRViVirtualLabNetworkOptions
RoutingBetweenvNicsEnabled : False
IsMultiHost                : False
DVS                        :
IpMappingRule              : {}
StaticIPMappingEnabled     : False
Type                       : Advanced
IdOnHost                   : 43d2457a-ddee-424d-9fd3-42e021a77309
Server                     : Veeam.Backup.Core.Common.CHost
Platform                   : VMWare
Id                         : 8762b1ea-3422-4f84-8472-e596d7c8265e
Name                       : SQL Virtual Lab
Description                : Created by Powershell at 2/20/2020 5:56 AM.
This command returns the SQL Virtual Lab virtual lab.
The cmdlet output will contain settings of the virtual lab.

---

### Parameters
#### **Id**
Specifies an array of IDs for a virtual lab.
The cmdlet will return an array of virtual labs with the specifies ID.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Guid[]]`|false   |named   |False        |

#### **Name**
Specifies an array of names for a virtual lab.
The cmdlet will return an array of virtual labs with the specifies names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRViVirtualLabConfiguration [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRViVirtualLabConfiguration [-Name <String[]>] [<CommonParameters>]
```

Get-VBRViVirtualSwitch
----------------------

### Synopsis
Returns VMware virtual switches.

---

### Description

This cmdlet returns VMware virtual switches that are created on a ESXi host or cluster.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Example 1. Getting Switches Created on Selected Host

$server = Get-VBRServer -Type ESXi -Name "ESXiHost"
Get-VBRViVirtualSwitch -Server $server
This example shows how to get switches created on the host named ESXiHost.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Type and the Name parameter values. Save it to the $server variable.
2. Run the Get-VBRViVirtualSwitch cmdlet. Set the $server variable as the Server parameter value.
> Example 2. Getting Switches Created on Selected VMware Cluster

$cluster = Find-VBRViEntity -Server ESXiHost -HostsAndClusters -Name vSAN
Get-VBRViVirtualSwitch -Server $cluster
This example shows how to get switches created on the VMware cluster named vSAN.
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Server parameter value. Provide the HostsAndClusters parameter. Specify the Name parameter value. Save it to the $cluster variable.
2. Run the Get-VBRViVirtualSwitch cmdlet. Set the $cluster variable as the Server parameter value.

---

### Parameters
#### **Server**
Specifies the ESX or ESXi host or cluster. The cmdlet will return the virtual switches created on this host or cluster. Accepts the Object[] object.  Run the Get-VBRServer cmdlet to get this object.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[Object[]]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Object[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRViVirtualSwitch -Server <Object[]> [<CommonParameters>]
```

Get-VBRVMExclusion
------------------

### Synopsis
Returns a list of global VM exclusions.
Note: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns a list of global exclusions created for VMs.

---

### Examples
> Getting Exclusion by VM Name

```PowerShell
Get-VBRVMExclusion -Name "ubuntusrv20"
This command returns an exclusion created for the ubuntusrv20 VM.
```

---

### Parameters
#### **Id**
Specifies the ID of an exclusion.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |0       |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of excluded VM names.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |0       |True (ByPropertyName, ByValue)|

#### **Note**
Specifies the note added for an exclusion.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|false   |named   |True (ByPropertyName)|

---

### Inputs
System.Guid[]

System.String[]

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRVMExclusion [[-Id] <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VBRVMExclusion [[-Name] <String[]>] [-Note <String>] [<CommonParameters>]
```

Get-VBRWANAccelerator
---------------------

### Synopsis
Returns WAN accelerators.

---

### Description

This cmdlet gets WAN accelerators managed by Veeam Backup & Replication.
WAN accelerator is an architecture component that optimizes file transfer via WAN by means of data deduplication. The role of a WAN accelerator can be assigned to a dedicated Windows-based machine (physical or virtual). For best performance you should set a WAN accelerator on both source and target sides.
You can get the list of all WAN accelerators, or search for instances directly by name.

---

### Examples
> Example 1

```PowerShell
Get-VBRWANAccelerator
This command looks for the list of all WAN accelerators.
```
> Example 2

```PowerShell
Get-VBRWANAccelerator -Name WAN*
This command looks for WAN accelerators with the names starting with "WAN".
```

---

### Parameters
#### **Name**
Specifies the array of WAN accelerator names.
The cmdlet will return WAN accelerators with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes
WAN optimization is available only in Veeam Backup & Replication Enterprise Plus Edition.

---

### Syntax
```PowerShell
Get-VBRWANAccelerator [-Name <String[]>] [<CommonParameters>]
```

Get-VBRWindowsGuestItem
-----------------------

### Synopsis
Returns Microsoft Windows guest OS files.

---

### Description

This cmdlet returns guest OS files of the Microsoft Windows machines.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRRestorePoint](Get-VBRRestorePoint.md)

* [Start-VBRWindowsFileRestore](Start-VBRWindowsFileRestore.md)

---

### Examples
> Example 1. Getting all Disks of Microsoft Windows Machine

$backup = Get-VBRBackup -Name "WinSrv25"
$restorepoint = Get-VBRRestorePoint -Backup $backup -Name "Production VM"
$session = Start-VBRWindowsFileRestore -RestorePoint $restorepoint[1]
Get-VBRWindowsGuestItem -FileRestore $session
This example shows how to get all top-level disks of the WinSrv25 Microsoft Windows machine.

Perform the following steps:
1. Get the restore session:
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Specify the Name parameter values. Save the result to the $restorepoint variable.
c. Run the Start-VBRWindowsFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
2. Run the Get-VBRWindowsGuestItem cmdlet. Set the $session variable as the FileRestore parameter value.
> Example 2. Getting File Availabe in Microsoft Windows Machine by Providing File Path

$backup = Get-VBRBackup -Name "WinSrv25"
$restorepoint = Get-VBRRestorePoint -Backup $backup -Name "Production VM"
$session = Start-VBRWindowsFileRestore -RestorePoint $restorepoint[1]
Get-VBRWindowsGuestItem -FileRestore $session -Path "C:\Documents\Training\SummerTraining2020.pdf"
This example shows how to get the SummerTraining2020.pdf file by providing the C:\Documents\Training\SummerTraining.pdf file path.
The cmdlet will get this file from a backup of the WinSrv25 Microsoft Windows machine.

Perform the following steps:
1. Get the restore session:
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Specify the Name parameter values. Save the result to the $restorepoint variable.
c. Run the Start-VBRWindowsFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
2. Run the Get-VBRWindowsGuestItem cmdlet. Set the $session variable as the FileRestore parameter value. Specify the Path parameter value.
> Example 3. Getting Specific File Availabe in Folder of Microsoft Windows Machine

$backup = Get-VBRBackup -Name "WinSrv25"
$restorepoint = Get-VBRRestorePoint -Backup $backup -Name "Production VM"
$session = Start-VBRWindowsFileRestore -RestorePoint $restorepoint[1]
$items = Get-VBRWindowsGuestItem -FileRestore $session -Name "Vacation"
Get-VBRWindowsGuestItem -FileRestore $session -ParentItem $items[1] -Name "CyclingTripJuly"
This example shows how to get the CyclingTripJuly file from a backup of the WinSrv25 Microsoft Windows machine.
The cmdlet will look for this file in the Vacation folder.
Perform the following steps:
1. Get the restore session:
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Specify the Name parameter values. Save the result to the $restorepoint variable.
c. Run the Start-VBRWindowsFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
2. Run the Get-VBRWindowsGuestItem cmdlet. Set the $session variable as the FileRestore parameter value. Specify the Name parameter value. Save the result to the $items variable.
3. Run the Get-VBRWindowsGuestItem cmdlet. Specify the following settings:
- Set the $session variable as the FileRestore parameter value.
- Set the $items variable as the ParentItem parameter value.
- Specify the Name parameter value.
> Example 4. Getting Specific File Availabe in Folder and Its Subfolders in Microsoft Windows Machine

$backup = Get-VBRBackup -Name "WinSrv25"
$restorepoint = Get-VBRRestorePoint -Backup $backup -Name "Production VM"
$session = Start-VBRWindowsFileRestore -RestorePoint $restorepoint[1]
$items = Get-VBRWindowsGuestItem -FileRestore $session -Name "Reports"
Get-VBRWindowsGuestItem -FileRestore $session -ParentItem $items[1] -Name "AutumnReport" -RecursiveSearch
This example shows how to get the AutumnReport file from a backup of the WinSrv25 Microsoft Windows machine.
The cmdlet will look for this file in the Reports folder and its subfolders.
Perform the following steps:
1. Get the restore session:
a. Run the Get-VBRBackup cmdlet. Specify the Name parameter value. Save the result to the $backup variable.
b. Run the Get-VBRRestorePoint cmdlet. Set the $backup variable as the Backup parameter value. Specify the Name parameter values. Save the result to the $restorepoint variable.
c. Run the Start-VBRWindowsFileRestore cmdlet. Set the $restorepoint variable as the RestorePoint parameter value. Save the result to the $session variable.
2. Run the Get-VBRWindowsGuestItem cmdlet. Set the $session variable as the FileRestore parameter value. Specify the Name parameter values. Save the result to the $items variable.
3. Run the Get-VBRWindowsGuestItem cmdlet. Specify the following settings:
- Set the $session variable as the FileRestore parameter value.
- Set the $items variable as the ParentItem parameter value.
- Specify the Name parameter value.
- Provide the RecursiveSearch parameter.

---

### Parameters
#### **ChangedOnly**
For the CompareWithOriginal parameter.
Defines that the cmdlet will return files and folders with changed attributes only.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **CompareWithOriginal**
For the ChangedOnly parameter.
Note: Before comparing attributes, you must establish connection with the original machine using the Connect-VBRWindowsGuestProductionMachine cmdlet.
Defines that Veeam Backup & Replication compares attributes of files and folders from the current restore session with attributes of original files and folders.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **FileRestore**
Specifies a restore session of Microsoft Windows guest OS files. The cmdlet will use this session to restore guest OS files.
Note: The restore session must be started within the current PowerShell session.
This parameter is required if the Session parameter is not specified.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[FileRestore]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names for guest OS files of Microsoft Windows machines.
The cmdlet will return guest OS files with these names.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **ParentItem**
For getting child items from disks.
Returns child guest OS files of Microsoft Windows machines.

|Type          |Required|Position|PipelineInput        |
|--------------|--------|--------|---------------------|
|`[VBRFLRItem]`|false   |named   |True (ByPropertyName)|

#### **Path**
Specifies an array of file paths to the item that you want to restore.

|Type        |Required|Position|PipelineInput        |
|------------|--------|--------|---------------------|
|`[String[]]`|false   |named   |True (ByPropertyName)|

#### **RecursiveSearch**
Defines that the cmdlet will look for guest OS files that are added to the specified folders and to all child folders.
If you provide this parameter, the cmdlet will return an array of all guest OS files of Microsoft Windows machines.
Otherwise, the cmdlet will return an array of guest OS that are added to the parent folder in Microsoft Windows machines.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Session**
Specifies a running restore session of Microsoft Windows VMs guest OS files.
The cmdlet will return disks of Microsoft Windows machines for which you run a restore session.
This parameter is required if the FileRestore parameter is not specified.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[CRestoreSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CRestoreSession

Veeam.Backup.PowerShell.Infos.FileRestore

System.String[]

Veeam.Backup.PowerShell.Infos.VBRFLRItem

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRFLRItem

---

### Notes

---

### Syntax
```PowerShell
Get-VBRWindowsGuestItem [-ChangedOnly] [-CompareWithOriginal] [-FileRestore <FileRestore>] [-Name <String[]>] [-ParentItem <VBRFLRItem>] [-RecursiveSearch] [-RunAsync] 
```
```PowerShell
[-Session <CRestoreSession>] [<CommonParameters>]
```
```PowerShell
Get-VBRWindowsGuestItem [-ChangedOnly] [-CompareWithOriginal] [-FileRestore <FileRestore>] [-Path <String[]>] [-RunAsync] [-Session <CRestoreSession>] [<CommonParameters>]
```

Get-VBRYARARule
---------------

### Synopsis
Returns YARA rules.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

This cmdlet returns returns YARA rules located in the C:\Program Files\Veeam\Backup and Replication\Backup\YaraRules path.

---

### Examples
> Getting YARA Rules

```PowerShell
Get-VBRYARARule
This command returns YARA rules located in the C:\Program Files\Veeam\Backup and Replication\Backup\YaraRules folder.
```

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VBRYARARule [<CommonParameters>]
```

Get-VEHANABackup
----------------

### Synopsis
Returns SAP HANA backups stored in a backup repository.

---

### Description

This cmdlet returns an array of SAP HANA backups stored in a backup repository. After you get the backups, you can use the Start-VEHANARestoreSession cmdlet to start a restore session from the specified backup.

---

### Examples
> Example 1. Getting All SAP HANA Backups

```PowerShell
$backup = Get-VEHANABackup
This command returns an array with all SAP HANA backups stored in a backup repository. Save the result to the $backup variable to be able to use it with other cmdlets.
```
> Example 2. Getting Specific SAP HANA Backups

```PowerShell
$backup = Get-VEHANABackup -Name "Backup_01"
This command returns an array of SAP HANA backups with the specified names. Save the result to the $backup variable to be able to use it with other cmdlets.
```

---

### Parameters
#### **Name**
Specifies the names of the necessary SAP HANA backups.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VEHANABackup [-Name <String[]>] [<CommonParameters>]
```

Get-VEORRMANBackup
------------------

### Synopsis
Returns RMAN backups from the backup server.

---

### Description

This cmdlet returns the array of RMAN backups from the backup server.

---

### Examples
> Example 1

```PowerShell
Get-VEORRMANBackup
This example shows how to get an array of RMAN backups from the backup server.
```

---

### Parameters
#### **Name**
Specifies an array of backup jobs that contain RMAN backups.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VEORRMANBackup [-Name <String[]>] [<CommonParameters>]
```

Get-VNXHost
-----------

### Synopsis
Returns Dell VNX storage systems.

---

### Description

You can get the list of all Dell VNX storage systems added to your virtual infrastructure or narrow down the output by storage name.

---

### Examples
> Example 1

```PowerShell
Get-VNXHost
This command looks for the list of all storages.
```
> Example 2

```PowerShell
Get-VNXHost -Name "Veeam VNX Storage"
This command looks for storage named "Veeam VNX Storage".
```

---

### Parameters
#### **Name**
Specifies the array of storage names.
The cmdlet will return storage systems with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VNXHost [-Name <String[]>] [<CommonParameters>]
```

Get-VNXInfrastructureVolume
---------------------------

### Synopsis
Returns volumes of Dell VNX storage systems.

---

### Description

This cmdlet returns an array of volumes of Dell VNX storage systems. The cmdlet will return storage volumes, even if they are not added to your backup infrastructure.

Tip: You can use this cmdlet to specify storage volumes that you want to rescan or exclude from the storage rescan.

---

### Related Links
* [Get-VNXHost](Get-VNXHost.md)

---

### Examples
> Example 1

```PowerShell
Get-VNXInfrastructureVolume
This command returns all volumes added to Dell VNX storage systems.
```
> Example 2

```PowerShell
Get-VNXInfrastructureVolume -Name "Volume4", "Volume5", "Volume1"
This command returns Dell VNX storage volumes by the volume name.
```
> Example 3

$storage = Get-VNXHost -Name "VNX Storage"
Get-VNXInfrastructureVolume -Host $storage
This example shows how to all volumes added to the specific Dell VNX storage.

Perform the following steps:
1. Run the Get-NetAppHost cmdlet. Specify the Name parameter value. Save the result to the $storage variable.
2. Run the Get-VNXInfrastructureVolume cmdlet. Set the $storage variable as the Host parameter value.

---

### Parameters
#### **Host**
Specifies a storage.
The cmdlet will return an array of volumes added to that storage system.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[CVnxHost]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of volume names that you want to get.
The cmdlet will return volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Vnx.CVnxHost

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VNXInfrastructureVolume [-Host <CVnxHost>] [-Name <String[]>] [<CommonParameters>]
```

Get-VNXSnapshot
---------------

### Synopsis
Returns Dell VNX storage snapshots.

---

### Description

This cmdlet returns existing Dell VNX storage snapshots.
You can get the list of all storage snapshots, or look for a specific snapshot by name or associated volume.

---

### Examples
> Example 1

$storage = Get-VNXHost -Name "VNX Storage"
$volume = Get-VNXVolume -Name "VOLUME1" -Host $storage
Get-VNXSnapshot -Volume $volume
This example shows how to get the existing snapshots of the Dell VNX storage volume.

You will need to perform the following steps:
1. Run Get-VNXHost to get the storage. Save the result to the $storage variable.
2. Run Get-VNXVolume with the $storage variable to get the storage volume. Save the result to the $volume variable.
3. Run Get-VNXSnapshot with the $volume variable.

---

### Parameters
#### **Name**
Specifies the array of snapshot names.
The cmdlet will return snapshots with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Volume**
Specifies the array of storage volumes.
The cmdlet will return snapshots of these volumes.

|Type            |Required|Position|PipelineInput                 |
|----------------|--------|--------|------------------------------|
|`[CSanVolume[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.CSanVolume[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VNXSnapshot [-Name <String[]>] [-Volume <CSanVolume[]>] [<CommonParameters>]
```

Get-VNXVolume
-------------

### Synopsis
Returns Dell VNX volumes added to the backup infrastructure.

---

### Description

This cmdlet returns Dell VNX volumes added to the backup infrastructure.

Tip: Run the Get-VNXInfrastructureVolume cmdlet to get an array of volumes from Dell VNX storage systems.

---

### Examples
> Example 1

$storage = Get-VNXHost -Name "VNX Storage"
Get-VNXVolume -Name "VOLUME1" -Host $storage
This example shows how to get a Dell VNX volume added to the backup infrastructure.
Perform the following steps:
1. Run Get-VNXHost to get the storage system. Save the result to the $storage variable.
2. Run Get-VNXVolume with the $storage variable.

---

### Parameters
#### **Host**
Specifies the array of storages.
The cmdlet will return the volumes of these storages.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CVnxHost[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the array of volumes names.
The cmdlet will return the volumes with these names.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.SanPlugin.Vnx.CVnxHost[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VNXVolume [-Host <CVnxHost[]>] [-Name <String[]>] [<CommonParameters>]
```

Get-VSBApplicationGroup
-----------------------

### Synopsis
Returns application groups.

---

### Description

This cmdlet returns the list of existing application groups.

You can get the list of all application groups, or search for instances directly by name.

---

### Examples
> Example 1

```PowerShell
Get-VSBApplicationGroup
This command looks for the list of all application groups.
```
> Example 2

```PowerShell
Get-VSBApplicationGroup -Name "MailServer Appgroup"
This command looks for the application group named "MailServer Appgroup".
```

---

### Parameters
#### **Name**
Specifies the name of the application group you want to get, or search conditions. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBApplicationGroup [-Name <String[]>] [<CommonParameters>]
```

Get-VSBHvVirtualLab
-------------------

### Synopsis
Returns Hyper-V virtual labs.

---

### Description

This cmdlet returns Hyper-V virtual labs that are connected to the Veeam backup console.

Run Find-VSBHvVirtualLab to look for virtual labs that are not managed by Veeam Backup & Replication.

You can get the list of all virtual labs or search for instances directly by name or ID.

---

### Examples
> Example 1

Get-VSBHvVirtualLab
This command looks for the list of all virtual labs created or connected to Veeam Backup & Replication.
> Example 2

```PowerShell
Get-VSBHvVirtualLab -Name Exchange*
This command looks for the list of virtual labs with names starting with "Exchange".
```
> Example 3

```PowerShell
Get-VSBVirtualLab -Id 1022504c-9008-4883-b166-718bdf7280ea, 502dc485-84f5-4a9d-86e7-8b00d1d5a0be
This command returns virtual labs by Id.
```

---

### Parameters
#### **Id**
Specifies the array of Hyper-V virtual lab IDs. The cmdlet will return Hyper-V virtual labs with these IDs.
Accepts GUID or string type.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the name(s) of the virtual lab, or search conditions.  You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBHvVirtualLab [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VSBHvVirtualLab [-Name <String[]>] [<CommonParameters>]
```

Get-VSBJob
----------

### Synopsis
Returns SureBackup jobs.

---

### Description

This cmdlet returns the list of created SureBackup jobs.

You can get the list of all SureBackup jobs or look for specific jobs directly by name.

Run Get-VSBSession or Get-VSBTaskSession to get the information on SureBackup session or session tasks. Run Get-VBRJob to look for backup, replication or copy jobs.

---

### Examples
> Example 1

```PowerShell
Get-VSBJob
This command looks for the list of all created SureBackup jobs.
```
> Example 2

```PowerShell
Get-VSBJob -Name "SureJob 01", "SureJob 02"
This command looks for the SureBackup jobs named "SureJob 01" and "SureJob 02".
```

---

### Parameters
#### **Name**
Specifies the name of the SureBackup job you want to get, or search conditions. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBJob [-Name <String[]>] [<CommonParameters>]
```

Get-VSBJobOptions
-----------------

### Synopsis
Returns settings of a selected SureBackup job.

---

### Description

This cmdlet returns the list of job settings for the specified SureBackup job.

---

### Examples
> Example 1

```PowerShell
Get-VSBJob -Name "SureJob 02" | Get-VSBJobOptions
This command looks for the list of job settings for the SureBackup job named "SureJob 02". The SureBackup job is obtained with Get-VSBJob and piped down.
```
> Example 2

```PowerShell
Get-VSBJobOptions -Job $SureJob
This command looks for the list of job settings for the SureBackup job represented by the $SureJob variable. The SureBackup job is obtained with Get-VSBJob and assigned to the variable beforehand.
```

---

### Parameters
#### **Job**
Specifies the SureBackup job you want to get the settings of.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[CSbJob]`|false   |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CSbJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBJobOptions [[-Job] <CSbJob>] [<CommonParameters>]
```

Get-VSBJobScheduleOptions
-------------------------

### Synopsis
Returns scheduling settings of a selected SureBackup job.

---

### Description

This cmdlet returns the list of job scheduling options for the specified SureBackup job.

---

### Examples
> Example 1

```PowerShell
Get-VSBJob -Name "SureJob 02" | Get-VSBJobScheduleOptions
This command looks for the list of job settings for the SureBackup job named "SureJob 02". The SureBackup job is obtained with Get-VSBJob and piped down.
```
> Example 2

```PowerShell
Get-VSBJobScheduleOptions -Job $SureJob
This command looks for the list of job settings for the SureBackup job represented by the $SureJob variable. The SureBackup job is obtained with Get-VSBJob and assigned to the variable beforehand.
```

---

### Parameters
#### **Job**
Specifies the SureBackup job you want to get the scheduling settings of.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[CSbJob]`|false   |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CSbJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBJobScheduleOptions [[-Job] <CSbJob>] [<CommonParameters>]
```

Get-VSBSession
--------------

### Synopsis
Returns SureBackup sessions that have been run.

---

### Description

This cmdlet returns the list of all SureBackup sessions that have been run.

Run Get-VSBTaskSession to get the list of all tasks performed during the specific SureBackup session. Run Get-VBRBackupSession to get list of backup sessions that have been run.

---

### Examples
> Example 1

```PowerShell
Get-VSBSession
This command looks for the list of all backup sessions.
```
> Example 2

```PowerShell
Get-VSBSession -Name *Winserver SureJob*
This command looks for the SureBackup session named "Winserver SureJob".
```

---

### Parameters
#### **Name**
Specifies the name of the SureBackup session you want to get, or search conditions. The name of the SureBackup session is a name of the SureBackup job. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBSession [-Name <String[]>] [<CommonParameters>]
```

Get-VSBTaskSession
------------------

### Synopsis
Returns tasks performed during the specified SureBackup session.

---

### Description

This cmdlet returns the list of tasks performed during the specified SureBackup session.

Run Get-VBRTaskSession to get the tasks for backup, replication and backup copy sessions.

---

### Examples
> Example 1

```PowerShell
Get-VSBSession -Name "Exchange SureJob" | Get-VBRTaskSession -Name "DC", "DNS"
This command gets the list of tasks performed for the VMs named "DC" and "DNS" in the SureBackup job session named "Exchange SureJob". The SureBackup session is obtained with Get-VSBSession and piped down.
```
> Example 2

```PowerShell
Get-VSBTaskSession -Session $"Exchange SureJob" -Name "DC", "DNS"
This command gets the list of tasks performed for the VMs named "DC" and "DNS" in the SureBackup job session represented by the $"Exchange SureJob" variable. The SureBackup session is obtained with Get-VSBSession and assigned to the variable beforehand.
```

---

### Parameters
#### **Name**
Specifies the name of the SureBackup job within the session you indicated in the Session parameter the tasks for which you want to get. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput|
|------------|--------|--------|-------------|
|`[String[]]`|false   |named   |False        |

#### **Session**
Specifies the SureBackup session the tasks of which you want to get.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CSbSession]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.SureBackup.CSbSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBTaskSession [-Session] <CSbSession> [-Name <String[]>] [<CommonParameters>]
```

Get-VSBVirtualLab
-----------------

### Synopsis
Returns VMware virtual labs.

---

### Description

This cmdlet returns existing VMware virtual labs.

Run Find-VSBVirtualLab to look for virtual labs that are not managed by Veeam Backup & Replication.

You can get the list of all virtual labs or search for instances directly by name or ID.

---

### Examples
> Example 1

```PowerShell
Get-VSBVirtualLab
This command looks for the list of all virtual labs.
```
> Example 2

```PowerShell
Get-VSBVirtualLab -Name "MailServer VLab 01", "MailServer VLab 05"
This command looks for the virtual labs named "MailServer VLab 01" and "MailServer VLab 05".
```
> Example 3

```PowerShell
Get-VSBVirtualLab -Id 3fw1505l-8811-4283-b066-718bdf7280ea, 909fg28c-14f5-9a9d-6ve7-0b40d1k5a9jm
This command returns virtual labs by Id.
```

---

### Parameters
#### **Id**
Specifies the array of VMware virtual lab IDs. The cmdlet will return VMware virtual labs with these IDs.
Accepts GUID or string type.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Guid[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies the name of the VMware virtual lab you want to get, or search conditions. You can specify multiple names separated by commas.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.Guid[]

System.String[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBVirtualLab [-Id <Guid[]>] [<CommonParameters>]
```
```PowerShell
Get-VSBVirtualLab [-Name <String[]>] [<CommonParameters>]
```

Get-VSBVirtualLabSession
------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Session**

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRVirtualLabSession]`|false   |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRVirtualLabSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSBVirtualLabSession [-Session <VBRVirtualLabSession>] [<CommonParameters>]
```

Get-VSDKDisk
------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **Name**

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|false   |named   |True (ByPropertyName)|

#### **RestorePoint**

|Type    |Required|Position|PipelineInput        |
|--------|--------|--------|---------------------|
|`[COib]`|true    |named   |True (ByPropertyName)|

#### **Session**

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[VSDKSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VSDKSession

Veeam.Backup.Core.COib

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSDKDisk [-Name <String>] -RestorePoint <COib> -Session <VSDKSession> [<CommonParameters>]
```

Get-VSDKRestoreSessionStatistics
--------------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **RestoreSession**

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VSDKRestoreSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VSDKRestoreSession

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Get-VSDKRestoreSessionStatistics -RestoreSession <VSDKRestoreSession> [<CommonParameters>]
```

Hide-VBRCloudTenantBackup
-------------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Hide-VBRCloudTenantBackup [<CommonParameters>]
```

Import-VBRBackup
----------------

### Synopsis
Imports Veeam backups to Veeam Backup & Replication.

---

### Description

This cmdlet imports Veeam backups to Veeam Backup & Replication database. You can import Veeam backups that were, for example, created on other Veeam backup servers or stored on a repository that is newly added to the Veeam Backup & Replication console.
The imported backups are registered in Veeam Backup database. You can use them for any restore operation.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Example 1. Importing Backup from Server

$server = Get-VBRServer -Name "Fileserver"
Import-VBRBackup -Server $server -FileName "C:\Backups\SureBackups\SureBackups.vbm"
This example shows how to import a backup from the server.
Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Import-VBRBackup cmdlet. Set the $server variable as the Server parameter value. Specify the FileName parameter value.
> Example 2. Importing Backup from Repository

$repository = Get-VBRBackupRepository -Name "StoreOnce"
Import-VBRbackup -FileName "storeonce://10.0.0.1:Backup_Store@/Backup_Job/Backup_Job.vbk" -Repository $repository
This example shows how to import a backup from the repository.
Perform the following steps:
1. Run the Get-VBRBackupRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Import-VBRBackup cmdlet. Specify the Filename parameter value. Set the $repository variable as the Repository parameter value.

---

### Parameters
#### **FileName**
Specifies the path to the backup you want to import.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |1       |False        |

#### **Repository**
Specifies the repository where backups are located.
You can use the parameter for all types of repositories, including CIFS (SMB) Share and deduplicating storage appliance (Dell EMS Data Domain, ExaGrid, HPE StoreOnce).

|Type                 |Required|Position|PipelineInput        |
|---------------------|--------|--------|---------------------|
|`[CBackupRepository]`|true    |2       |True (ByPropertyName)|

#### **Server**
Specifies the target server where you want to store the imported backups.

|Type     |Required|Position|PipelineInput                 |
|---------|--------|--------|------------------------------|
|`[CHost]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.Core.Common.CHost

Veeam.Backup.Core.CBackupRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Import-VBRBackup [-FileName] <String> [-Repository] <CBackupRepository> [<CommonParameters>]
```
```PowerShell
Import-VBRBackup [-Server] <CHost> [-FileName] <String> [<CommonParameters>]
```

Import-VBRConfiguration
-----------------------

### Synopsis
IMPORTANT! This cmdlet is obsolete and not supported in Veeam Backup & Replication v.8.0.

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **DatabaseName**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **FileName**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Import-VBRConfiguration [-DatabaseName <String>] -FileName <String> [<CommonParameters>]
```

Import-VBRJobObjectMasks
------------------------

### Synopsis
Returns details on the masks for file backup jobs and object storage backup jobs.

---

### Description

This cmdlet returns details on inclusion and exclusion masks for file backup jobs and object storage backup jobs.

---

### Related Links
* [Get-VBRUnstructuredBackupJob](Get-VBRUnstructuredBackupJob.md)

---

### Examples
> Example 1. Getting Masks for Object Storage Backup Job

$OSjob = Get-VBRUnstructuredBackupJob -Name "Azure backup"
Import-VBRJobObjectMasks -Path "C:\excludes2.txt" -Job $OSjob
This example shows how to get details on inclusion and exclusion masks for the Azure backup object storage backup jobs.

Perform the following steps:
1. Run the Get-VBRUnstructuredBackupJob cmdlet. Specify the Name parameter value. Save the result to the $OSjob variable.
2. Run the Import-VBRJobObjectMasks cmdlet. Specify the Path parameter value. Set the $OSjob variable as the Job parameter value.
> Example 2. Setting Masks for Object Storage Backup Jobs

$Job = Get-VBRUnstructuredBackupJob -Name 'fjmasks' 
$BackupObjects = $Job.BackupObject 
$exclusionMask = (Import-VBRJobObjectMasks -Path "C:\export.xml").excludemasks 
$inclusionMask = (Import-VBRJobObjectMasks -Path "C:\export.xml").includemasks 
$FilteredObject = Set-VBRObjectStorageBackupJob -JobObject $BackupObjects[0] -ExclusionMask $exclusionMask -InclusionMask $inclusionMask 
Set-VBRObjectStorageBackupJob -Job $Job -BackupObject $FilteredObject
This example shows how to set the inclusion and exclusion masks for the Azure object storage backup jobs.
Perform the following steps:
1. Run the Get-VBRUnstructuredBackupJob cmdlet. Specify the Name parameter value. Save the result to the $Job variable.
2. Specify the BackupObject property of the $Job variable value. Save result to the $Job variable.
3. Get the exclude mask. Declare the $exclusionMask variable. Run the Import-VBRJobObjectMasks cmdlet. Provide the Path parameter. Get the excludemasks property of the VBRImportedUnstructuredBackupMasks object. Save result to the $exclusionMask variable.
4. Get the include mask. Declare the $inclusionMask variable. Run the Import-VBRJobObjectMasks cmdlet. Provide the Path parameter. Get the includemasks property of the VBRImportedUnstructuredBackupMasks object. Save result to the $inclusionMask variable.
5. Run the Set-VBRObjectStorageBackupJob cmdlet. Specify the JobObject, ExclusionMask, InclusionMask parameters values. Save the result to the $FilteredObject variable.
6. Run the Set-VBRObjectStorageBackupJob cmdlet. Set the $Job variable as the Job parameter value. Set the $FilteredObject variable as the BackupObject parameter value.

---

### Parameters
#### **Job**
Specifies an array of file backups job and object storage backup job. The cmdlet will return details on the a scope of objects for these jobs. Accepts the CBackupJob object.  To get this object, run the Get-VBRUnstructuredBackupJob cmdlet.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CBackupJob]`|true    |named   |False        |

#### **Path**
Specifies a path to a folder where the masks are located. The cmdlet will export masks to this folder.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Import-VBRJobObjectMasks -Job <CBackupJob> -Path <String> [<CommonParameters>]
```

Import-VBRLinuxKnownHost
------------------------

### Synopsis
Imports Linux TLS fingerprints from a file.

---

### Description

This cmdlet imports TLS fingerprints of Linux hosts from a file to Veeam Backup & Replication. Veeam Backup & Replication will consider the hosts as trusted.
To instruct Veeam Backup & Replication to establish connections only with trusted hosts, run the Set-VBRLinuxTrustedHostPolicy cmdlet.

---

### Examples
> Importing Linux TLS Fingerprints

```PowerShell
Import-VBRLinuxKnownHost -Path "C:\fingerprints.xml"
This command imports Linux TLS fingerprints from an XML file.
```

---

### Parameters
#### **Force**
Defines that the cmdlet will overwrite TLS fingerprints for existing hosts in the Veeam Backup & Replication database without asking a user.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **NetworkCredentials**
For importing from a folder on a file share.
Specifies the credentials you want to use for authenticating with the shared folder.

|Type            |Required|Position|PipelineInput        |
|----------------|--------|--------|---------------------|
|`[CCredentials]`|false   |named   |True (ByPropertyName)|

#### **Path**
Specifies the path to the file. The cmdlet will import TLS fingerprints from this file.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

Veeam.Backup.Common.CCredentials

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Import-VBRLinuxKnownHost [-Force] [-NetworkCredentials <CCredentials>] -Path <String> [<CommonParameters>]
```

Import-VBRLocation
------------------

### Synopsis
Imports geographic locations to Veeam Backup & Replication.

---

### Description

This cmdlet imports geographic locations to Veeam Backup & Replication from an XML file.

---

### Examples
> Importing Geographic Locations from XML File

Import-VBRLocation -Path "C:\Locations\BackupNorth.xml"
This command imports geographic locations to Veeam Backup & Replication from an XML file.

---

### Parameters
#### **Path**
Specifies the name of the XML file. The cmdlet will import locations to Veeam Backup & Replication from this file.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Import-VBRLocation -Path <String> [<CommonParameters>]
```

Import-VBRMalwareDetectionExtensionList
---------------------------------------

### Synopsis
Imports a list of suspicious files extensions from a certain file.
NOTE: This cmdlet is available starting from Veeam Backup & Replication 12.1 (build 12.1.0.2131).

---

### Description

Imports a list of suspicious files extensions from a certain file to the SuspiciousFiles.xml file.

---

### Examples
> Importing List of Suspicious Files Extensions

Import-VBRMalwareDetectionExtensionList -Path "C:\Users\Administrator\Documents\SuspiciousFiles.xml"
This command imports a list of suspicious files extensions from the SuspiciousFiles.xml file located in the C:\Users\Administrator\Documents\ folder to Veeam Backup & Replication

---

### Parameters
#### **Path**
Specifies a path to a file. The cmdlet will import a list of suspicious files extensions from this file.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[String]`|true    |0       |True (ByPropertyName, ByValue)|

---

### Inputs
System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Import-VBRMalwareDetectionExtensionList [-Path] <String> [<CommonParameters>]
```

Import-VBRTapeMedium
--------------------

### Synopsis
Imports tapes into library.

---

### Description

This cmdlet imports tapes newly loaded to a tape library.

You need to run importing procedure against all new tapes. Importing moves tapes from I/E slot to library standard slots.

NOTE: Import/export commands are available only for the devices that support corresponding operations and include I/E slot.

---

### Related Links
* [Get-VBRTapeLibrary](Get-VBRTapeLibrary.md)

---

### Examples
> Example 1. Importing Tapes into Tape Library

Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00" | Import-VBRTapeMedium
This example shows how to import tapes to the HP MSL G3 Series 3.00 tape library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value.
2. Pipe the cmdlet output to the Import-VBRTapeMedium cmdlet.
> Example 2. Importing Tapes into Tape Library [Using Variable]

$library = Get-VBRTapeLibrary -Name "HP MSL G3 Series 3.00"
Import-VBRTapeMedium -Library $library
This example shows how to import tapes to the HP MSL G3 Series 3.00 tape library.

Perform the following steps:
1. Run the Get-VBRTapeLibrary cmdlet. Specify the Name parameter value. Save the result to the $library variable.
2. Run the Get-VBRTapeLibrary cmdlet. Set the $library variable as the Library parameter value.

---

### Parameters
#### **Library**
Specifies the library from which you want to import tapes. Accepts the VBRTapeLibrary[] object, GUID or string. To get this object, run the Get-VBRTapeLibrary cmdlet.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRTapeLibrary[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Wait**
Defines that the command waits for the import sessions to complete before accepting more input.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeLibrary[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Import-VBRTapeMedium -Library <VBRTapeLibrary[]> [-Wait] [<CommonParameters>]
```

Install-VBRCDPFilter
--------------------

### Synopsis
Installs I/O filters on VMware clusters.

---

### Description

This cmdlet installs I/O filters on VMware clusters.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRViEntity](Find-VBRViEntity.md)

---

### Examples
> Installing I/O Filter to VMware Cluster

$server = Get-VBRServer -Name "vCenterServer"
$cluster = Find-VBRViEntity -Server $server -HostsAndClusters -Name "CDPCluster"
Install-VBRCDPFilter -CDPCluster $cluster
This example shows how to install a I/O filter on the CDPCluster VMware cluster. The cmdlet will install the same version of the I/O filter on the CDPHost VMware host.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRViEntity cmdlet. Specify the Server, HostsAndClusters and Name parameters. Save the result to the $cluster variable.
3. Run the Install-VBRCDPFilter cmdlet. Set the $cluster variable as the CDPCluster parameter value.

---

### Parameters
#### **CDPCluster**
Specifies an array of VMware clusters on which you want to install a I/O filter.
Accepts the  CViClusterItem[] object.
To get this object, run the Find-VBRViEntity cmdlet.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[CViClusterItem[]]`|true    |named   |False        |

#### **Force**
Defines that the cmdlet will install a I/O filter on a VMware cluster without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Install-VBRCDPFilter -CDPCluster <CViClusterItem[]> [-Force] [<CommonParameters>]
```

Install-VBRDiscoveredComputerAgent
----------------------------------

### Synopsis
Installs Veeam Agents on discovered computers.

---

### Description

This cmdlet installs Veeam Agents on discovered computers.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Get-VBRDiscoveredComputer](Get-VBRDiscoveredComputer.md)

* [New-VBRIndividualComputerCustomCredentials](New-VBRIndividualComputerCustomCredentials.md)

* [New-VBRIndividualComputerContainer](New-VBRIndividualComputerContainer.md)

* [Add-VBRProtectionGroup](Add-VBRProtectionGroup.md)

* [Rescan-VBREntity](Rescan-VBREntity.md)

---

### Examples
> Example 1. Installing Veeam Agents on Discovered Computers of Selected Protection Group

$group = Get-VBRProtectionGroup -Name "East Support"
$computers = Get-VBRDiscoveredComputer -ProtectionGroup $group
Install-VBRDiscoveredComputerAgent -DiscoveredComputer $computers
This example shows how to install Veeam Agents on discovered computers of a selected protection group.
Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRDiscoveredComputer cmdlet. Set the $group variable as the ProtectionGroup parameter value. Save the result to the $computers variable.
3. Run the Install-VBRDiscoveredComputerAgent cmdlet. Set the $computers variable as the DiscoveredComputer parameter value.
> Example 2. Creating Protection Group and Installing Veeam Agents on Discovered Computers of This Group

$computers = @("172.19.51.53", "sup-v8931") | ForEach { New-VBRIndividualComputerCustomCredentials -HostName $_ -Credentials "support\jsmith" }
$compscope = New-VBRIndividualComputerContainer -CustomCredentials $computers
$group = Add-VBRProtectionGroup -Name "Support_East" -Container $compscope
Rescan-VBREntity -Entity $group -Wait
$discovered = Get-VBRDiscoveredComputer -ProtectionGroup $group
Install-VBRDiscoveredComputerAgent -DiscoveredComputer $discovered
This example shows how to create a protection group, manually discover computers of this group and install Veeam Agents on discovered computers of this group.
Perform the following steps:
1. Create a scope of computers for a protection group:
- Run the New-VBRIndividualComputerCustomCredentials cmdlet. Use the ForEach statement to apply the same credentials to multiple computers. Save the result to the $computers variable.
- Run the New-VBRIndividualComputerContainer cmdlet. Set the $computers variable as the CustomCredentialsContainer parameter value. Save the result to the $compscope variable.
2. Run the Add-VBRProtectionGroup cmdlet. Specify the Name parameter value. Set the $compscope variable as the Container parameter value. Save the result to the $group variable.
3. Run the Rescan-VBREntity cmdlet. Set the $group variable as the Entity parameter value. Provide the Wait parameter.
4. Run the Get-VBRDiscoveredComputer cmdlet. Set the $group variable as the ProtectionGroup parameter value. Save the result to the $discovered variable.
5. Run the Install-VBRDiscoveredComputerAgent cmdlet. Set the $discovered variable as the DiscoveredComputer parameter value.

---

### Parameters
#### **DiscoveredComputer**
Specifies the array of discovered computers. The cmdlet will install Veeam Agents on these computers.

|Type                       |Required|Position|PipelineInput                 |
|---------------------------|--------|--------|------------------------------|
|`[VBRDiscoveredComputer[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRDiscoveredComputer[]

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Install-VBRDiscoveredComputerAgent -DiscoveredComputer <VBRDiscoveredComputer[]> [-RunAsync] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Install-VBRDiscoveredComputerPlugin
-----------------------------------

### Synopsis
Installs Veeam Plug-ins on discovered computers.

---

### Description

This cmdlet installs Veeam Plug-ins on discovered computers.

---

### Related Links
* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [Get-VBRDiscoveredComputer](Get-VBRDiscoveredComputer.md)

---

### Examples
> Installing Veeam Plug-in on Discovered Computers for Specified Protection Group

$group = Get-VBRProtectionGroup -Name "Database Servers"
$computers = Get-VBRDiscoveredComputer -ProtectionGroup $group
Install-VBRDiscoveredComputerPlugin -DiscoveredComputer $computers -Type OracleRMAN
This example shows how to install Veeam Plug-in for Oracle RMAN on discovered computers of a selected protection group.

Perform the following steps:
1. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
2. Run the Get-VBRDiscoveredComputer cmdlet. Set the $group variable as the ProtectionGroup parameter value. Save the result to the $computers variable.
3. Run the Install-VBRDiscoveredComputerPlugin cmdlet. Set the $computers variable as the DiscoveredComputer parameter value. Set the OracleRMAN option for the Type parameter.

---

### Parameters
#### **DiscoveredComputer**
Specifies the array of discovered computers. The cmdlet will install Veeam Agents on these computers. Accepts the VBRDiscoveredComputer[] object. To get this object, run the Get-VBRDiscoveredComputer cmdlet.

|Type                       |Required|Position|PipelineInput                 |
|---------------------------|--------|--------|------------------------------|
|`[VBRDiscoveredComputer[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **Type**
Specifies the type of Veeam Plug-in to be installed on the protected computers:
* OracleRMAN: for Veeam Plug-in for Oracle RMAN.
* SAPHANA: for Veeam Plug-in for SAP HANA.
* SAPOnOracle: for Veeam Plug-in for SAP on Oracle.
The cmdlet will return discovered computers with applications of these types.
Valid Values:

* OracleRMAN
* SAPHANA
* SAPOnOracle
* MongoDB

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRApplicationType]`|true    |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRDiscoveredComputer[]

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Install-VBRDiscoveredComputerPlugin -DiscoveredComputer <VBRDiscoveredComputer[]> [-RunAsync] -Type {OracleRMAN | SAPHANA | SAPOnOracle | MongoDB} [-Confirm] [-WhatIf] 
```
```PowerShell
[<CommonParameters>]
```

Install-VBRLicense
------------------

### Synopsis
Installs licenses on a backup server.

---

### Description

This cmdlet installs licenses on a backup server.

---

### Examples
> Installing Veeam Backup & Replication License

Install-VBRLicense -Path "C:\Users\Administrator\Downloads\veeam_license.lic"
This command installs a Veeam Backup & Replication license.

---

### Parameters
#### **Force**
Defines that the cmdlet will install Veeam Backup & Replication license without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Path**
Specifies a path to the license file. The cmdlet will install a license from this license file.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Install-VBRLicense [-Force] -Path <String> [<CommonParameters>]
```

Install-VBRLinuxTransportService
--------------------------------

### Synopsis
Installs Veeam Data Mover for guest processing on Linux VMs.

---

### Description

This cmdlet installs Veeam Data Mover for guest processing on Linux VMs.
After you install Veeam Data Mover, Veeam Backup & Replication will use it for guest processing tasks.

---

### Related Links
* [Find-VBRViEntity](Find-VBRViEntity.md)

* [Find-VBRHvEntity](Find-VBRHvEntity.md)

* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

---

### Examples
> Installing Veeam Data Mover to Linux VM

$linVm = Find-VBRViEntity -Name "Lin2049"
Install-VBRLinuxTransportService -Entity $linVm -SSHUser Administrator -SSHPassword XXXXXXXXXX -SSHElevateToRoot -SSHAddToSudoers -SSHFailoverToSu -SSHRootPassword XXXXXXXXXX
This example shows how to install Veeam Data Mover to the Lin2049 Linux VM.
Perform the following steps:
1. Run the Find-VBRViEntity cmdlet. Specify the Name parameter value. Save the result to the $linsrv variable.
2. Run the Install-VBRLinuxTransportService cmdlet. Specify the following settings:
- Set the $linVm variable as the Entity parameter value.
- Specify the SSHUser parameter value.
- Specify the SSHPassword parameter value.
- Provide the SSHElevateToRoot parameter.
- Provide the SSHAddToSudoers parameter.
- Provide the SSHFailoverToSu parameter.
- Specify the SSHRootPassword parameter value.

---

### Parameters
#### **Entity**
Specifies an array of Linux VMs to which you want to install Veeam Data Mover.

|Type         |Required|Position|PipelineInput                 |
|-------------|--------|--------|------------------------------|
|`[IVmItem[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **SSHAddToSudoers**
Defines that the user account is added to the sudoers file.
Default: (if the ElevateToRoot parameter is set to False) False.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SSHElevateToRoot**
Defines that non-root users are provided with the root account privileges.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SSHFailoverToSu**
Defines that Veeam Backup & Replication will use the su command if the sudo command fails.
If you do not provide this parameter and sudo fails, Veeam Backup & Replication will not be able to connect to a Linux VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **SSHPassword**
Specifies the password you want to use for authenticating with the Linux VMs.

|Type      |Required|Position|PipelineInput|Aliases     |
|----------|--------|--------|-------------|------------|
|`[String]`|true    |named   |False        |SSH-Password|

#### **SSHPort**
Specifies the Web service port for connection to the Linux server.
Default: 22.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SSHRootPassword**
Specifies the root password used for authentication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SSHUser**
Specifies the user name you want to use for authenticating with the Linux VMs.

|Type      |Required|Position|PipelineInput|Aliases |
|----------|--------|--------|-------------|--------|
|`[String]`|true    |named   |False        |SSH-User|

---

### Inputs
Veeam.Backup.Core.IVmItem[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Install-VBRLinuxTransportService -Entity <IVmItem[]> [-SSHAddToSudoers] [-SSHElevateToRoot] [-SSHFailoverToSu] -SSHPassword <String> [-SSHPort <Int32>] [-SSHRootPassword 
```
```PowerShell
<String>] -SSHUser <String> [<CommonParameters>]
```

Install-VBRvCDCDPFilter
-----------------------

### Synopsis
Installs Veeam I/O filter on organization VDCs.

---

### Description

This cmdlet installs I/O filter on organization VDCs.

---

### Related Links
* [Get-VBRServer](Get-VBRServer.md)

* [Find-VBRvCloudEntity](Find-VBRvCloudEntity.md)

---

### Examples
> Example 1

$server = Get-VBRServer -Name "Cloud Server"
$organization = Find-VBRvCloudEntity -Server $server -OrganizationVdc
Install-VBRvCDCDPFilter -OrganizationVdc $organization[2]
This example shows how to install I/O filter on organization VDCs.

Perform the following steps:
1. Run the Get-VBRServer cmdlet. Specify the Name parameter value. Save the result to the $server variable.
2. Run the Find-VBRvCloudEntity cmdlet. Specify the Server and OrganizationVdc parameters values. Save the result to the $organization variable.
3. Run the Install-VBRvCDCDPFilter cmdlet. Set the $organization[2] variable as the OrganizationVdc parameter value.

---

### Parameters
#### **Force**
Defines that the cmdlet will install I/O filter on VDC organizations without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **OrganizationVdc**
Specifies an array of cloud organization VDCs for which you want to install I/O filter.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[CVcdOrganizationVdcItem[]]`|true    |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Install-VBRvCDCDPFilter [-Force] -OrganizationVdc <CVcdOrganizationVdcItem[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```

Invoke-VSDKCommand
------------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **ScriptBlock**

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[String]`|true    |named   |True (ByPropertyName)|

#### **Session**

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[VSDKSession]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VSDKSession

System.String

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Invoke-VSDKCommand -ScriptBlock <String> -Session <VSDKSession> [<CommonParameters>]
```

Lock-VBREntity
--------------

### Synopsis
WARNING! This cmdlet is for internal use only!

---

### Description

---

### Examples
> Example 1

---

### Parameters
#### **EntityId**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **EntityType**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **LockType**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **ResolveLocks**

|Type       |Required|Position|PipelineInput|
|-----------|--------|--------|-------------|
|`[Boolean]`|false   |named   |False        |

#### **SessionType**

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Lock-VBREntity -EntityId <String> -EntityType <String> [-LockType <String>] [-ResolveLocks <Boolean>] -SessionType <String> [<CommonParameters>]
```

Mount-VBRObjectStorageRepository
--------------------------------

### Synopsis
Mounts object storage and archive repositories.

---

### Description

This cmdlet mounts object storage and archive repositories. You can use the mounted object storage to import backups from these object storage.

---

### Related Links
* [Get-VBRObjectStorageRepository](Get-VBRObjectStorageRepository.md)

* [Get-VBREncryptionKey](Get-VBREncryptionKey.md)

---

### Examples
> Example 1. Mounting Object Storage Repository

$repository = Get-VBRObjectStorageRepository -Name "Amazon OS"
Mount-VBRObjectStorageRepository -Repository $repository
This example shows how to mount the Amazon OS object storage repository.
Perform the following steps:
1. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Mount-VBRObjectStorageRepository cmdlet. Set the $repository variable as the Repository parameter value.
> Example 2. Mounting Object Storage Repository with Encryption Key

$repository = Get-VBRObjectStorageRepository -Name "Amazon OS"
$key = Get-VBREncryptionKey -Description "Object Storage Key"
Mount-VBRObjectStorageRepository -Repository $repository -EncryptionKey $key
This example shows how to mount the Amazon OS object storage repository. The cmdlet will use the Object Storage Key encryption key to decrypt the data stored on the object storage repository.
Perform the following steps:
1. Run the Get-VBRObjectStorageRepository cmdlet. Specify the Name parameter value. Save the result to the $repository variable.
2. Run the Get-VBREncryptionKey cmdlet. Specify the Description parameter. Save the result to the $key variable.
3. Run the Mount-VBRObjectStorageRepository cmdlet. Set the $repository variable as the Repository parameter value. Set the $key variable as the EncryptionKey parameter value.

---

### Parameters
#### **ArchiveRepository**
Specifies an archive repository. The cmdlet will mount this archive repository.

|Type                                 |Required|Position|PipelineInput                 |
|-------------------------------------|--------|--------|------------------------------|
|`[VBRArchiveObjectStorageRepository]`|true    |named   |True (ByPropertyName, ByValue)|

#### **EncryptionKey**
Specifies an encryption key. The cmdlet will use this key to decrypt data located on an object storage repository.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[PSCryptoKey]`|false   |named   |False        |

#### **Repository**
Specifies an object storage repository. The cmdlet will mount this object storage.

|Type                          |Required|Position|PipelineInput                 |
|------------------------------|--------|--------|------------------------------|
|`[VBRObjectStorageRepository]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRObjectStorageRepository

Veeam.Backup.PowerShell.Infos.VBRArchiveObjectStorageRepository

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Mount-VBRObjectStorageRepository -ArchiveRepository <VBRArchiveObjectStorageRepository> [-EncryptionKey <PSCryptoKey>] [<CommonParameters>]
```
```PowerShell
Mount-VBRObjectStorageRepository [-EncryptionKey <PSCryptoKey>] -Repository <VBRObjectStorageRepository> [<CommonParameters>]
```

Mount-VBRWindowsFileRestoreItems
--------------------------------

### Synopsis
Mounts disks of VMs for which restore is launched to the Veeam Backup & Replication console.

---

### Description

This cmdlet mounts disks of VMs for which restore is launched to the Veeam Backup & Replication console. After the disks are mounted, you can use Microsoft Windows File Explorer to work with restored files and folders. By default, the disks are mounted to the C:\VeeamFLR\ folder.
Note: It is recommended that you use Microsoft Windows File Explorer only to view file content, not to restore files. For guest OS file restore, use the Start-VBRWindowsGuestItemRestore cmdlet.

---

### Examples
> Example 1

$restore = Get-VBRRestoreSession -Name "Hv_DNS", "Hv_DC"
Mount-VBRWindowsFileRestoreItems -Session $restore
This example shows how to mount disks of the Hv_DNS and Hv_DC VMs for which restore is launched.
Perform the following steps:
1. Run the Get-VBRRestoreSession cmdlet. Specify the Name parameter value. Save the result to the $restore variable.
2. Run the Mount-VBRWindowsFileRestoreItems cmdlet. Set the $restore variable as the Session parameter value.

---

### Parameters
#### **FileRestore**
Specifies a session of Microsoft Windows guest OS file restore. The cmdlet will mount disks of the VMs for which the restore sessions was launched to the Veeam Backup & Replication console.
Note: The restore session must be started within the current PowerShell session.
This parameter is required if the Session parameter is not specified.

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[FileRestore]`|false   |named   |False        |

#### **Session**
Specifies a session of Microsoft Windows guest OS file restore. The cmdlet will mount disks of the VMs for which the restore sessions was launched to the Veeam Backup & Replication console.
Note: The restore session must be started within the current PowerShell session.
This parameter is required if the FileRestore parameter is not specified.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[CRestoreSession]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Mount-VBRWindowsFileRestoreItems [-FileRestore <FileRestore>] [-Session <CRestoreSession>] [<CommonParameters>]
```

Move-VBRBackup
--------------

### Synopsis
Moves all backups of a job to another repository or specific workloads and their backups to another job.

---

### Description

This cmdlet moves backups to another repository or to another job. For more information on the move operation and its considerations, see the Moving Backups section in the Veeam Backup and Replication User Guide.

When you move backups to another repository, the cmdlet reconfigures the job to target to the new location. When you move workload and their backups to another job, backups are moved to the repository which the specified job is targeted to.

---

### Related Links
* [Get-VBRBackup](Get-VBRBackup.md)

* [Get-VBRBackupRepository](Get-VBRBackupRepository.md)

---

### Examples
> Moving Backups

$backup = Get-VBRBackup
$repository =  Get-VBRBackupRepository
Move-VBRBackup -Backup $backup -Repository $repository
This example shows how to move all backups to another repository.
Perform the following steps:
1.	Run the Get-VBRBackup cmdlet. Save the result to the $backup variable.
2.  Run the Get-VBRBackupRepository cmdlet. Save the result to the $repository variable.
3.  Run the Move-VBRBackup cmdlet. Set the $backup variable as the Backup parameter value. Set the $repository variable as the Repository parameter value.

---

### Parameters
#### **Backup**
Specifies backups that will be moved.

|Type       |Required|Position|PipelineInput                 |
|-----------|--------|--------|------------------------------|
|`[CBackup]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Force**
Defines that the cmdlet will move backups without showing warnings in the PowerShell console.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Job**
Specifies the job to which you want to move workloads and their backups.
Note: This parameter applies only if backups are per-machine with metadata for each workload. This parameter is required if the Name parameter is set.

|Type          |Required|Position|PipelineInput                 |
|--------------|--------|--------|------------------------------|
|`[CBackupJob]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Name**
Specifies an array of names of the workloads that you want to move.
Note: This parameter applies only if backups are true per-machine (with metadata for each workload). This parameter is required if the Job parameter is set.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[String[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Repository**
Specifies the repository to which backups will be moved.

|Type                 |Required|Position|PipelineInput                 |
|---------------------|--------|--------|------------------------------|
|`[CBackupRepository]`|true    |named   |True (ByPropertyName, ByValue)|

#### **RunAsync**
Defines that the command returns immediately without waiting for the task to complete.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.Core.CBackup

System.String[]

Veeam.Backup.Core.CBackupRepository

Veeam.Backup.Core.CBackupJob

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Move-VBRBackup -Backup <CBackup> [-Force] -Job <CBackupJob> -Name <String[]> [-RunAsync] [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Move-VBRBackup -Backup <CBackup> [-Force] -Repository <CBackupRepository> [-RunAsync] [-Confirm] [-WhatIf] [<CommonParameters>]
```

Move-VBRTapeMedium
------------------

### Synopsis
Moves a tape to media pool or vault.

---

### Description

This cmdlet moves selected tapes to another media pool or media vault.

IMPORTANT! When you move a tape to any media pool, Veeam Backup & Replication marks this tape as free.

You can configure automatic moving offline tapes to a vault in the media pool settings. Run the Set-VBRTapeMediaPool cmdlet to edit media pool configuration.

---

### Related Links
* [Get-VBRTapeMedium](Get-VBRTapeMedium.md)

* [Get-VBRTapeMediaPool](Get-VBRTapeMediaPool.md)

* [Get-VBRTapeVault](Get-VBRTapeVault.md)

---

### Examples
> Example 1. Moving Tape to Media Pool [Using Pipeline]

$mediapool = Get-VBRTapeMediaPool -Name "File Backup Media Pool"
Get-VBRTapeMedium -Name 0014001H | Move-VBRTapeMedium -MediaPool $mediapool
This example shows how to move the 0014001H tape to the File Backup Media Pool media pool.

Perform the following steps:
1. Run the Get-VBRTapeMediaPool cmdlet. Specify the Name parameter value. Save the result to the $mediapool variable.
2. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value.
3. Pipe the cmdlet output to the Move-VBRTapeMedium cmdlet. Set the $mediapool variable as the MediaPool parameter value.
> Example 2. Moving Tape to Vault [Using Variable]

$medium = Get-VBRTapeMedium -Name 0014001H
$vault = Get-VBRTapeVault -Name "Sydney Remote Vault"
Move-VBRTapeMedium -Medium $medium -Vault $vault
This example shows how to move the 0014001H tape to the Sydney Remote Vault vault.

Perform the following steps:
1. Run the Get-VBRTapeMedium cmdlet. Specify the Name parameter value. Save the result to the $medium variable.
2. Run the Get-VBRTapeVault cmdlet. Specify the Name parameter value. Save the result to the $vault variable. 3. Run the Move-VBRTapeMedium cmdlet. Set the $medium variable as the Medium parameter value. Set the $vault variable as the Vault parameter value.

---

### Parameters
#### **MediaPool**
Specifies the media pool to which you want to move the tapes. Accepts the VBRTapeMediaPool object, GUID or string.

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRTapeMediaPoolBase]`|true    |named   |False        |

#### **Medium**
Specifies the array of tapes you want to move. Accepts the VBRTapeMedium[] objects, GUID or string. To get this object, run the Get-VBRTapeMedium cmdlet.

|Type               |Required|Position|PipelineInput                 |
|-------------------|--------|--------|------------------------------|
|`[VBRTapeMedium[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Vault**
Specifies the media vault to which you want to move the tapes. Accepts the VBRTapeVault object, GUID or string. To get this object, run the Get-VBRTapeVault cmdlet.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRTapeVault]`|true    |named   |False        |

#### **Confirm**
-Confirm is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-Confirm is used to -Confirm each operation.

If you pass ```-Confirm:$false``` you will not be prompted.

If the command sets a ```[ConfirmImpact("Medium")]``` which is lower than ```$confirmImpactPreference```, you will not be prompted unless -Confirm is passed.

#### **WhatIf**
-WhatIf is an automatic variable that is created when a command has ```[CmdletBinding(SupportsShouldProcess)]```.
-WhatIf is used to see what would happen, or return operations without executing them

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRTapeMedium[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
Move-VBRTapeMedium -MediaPool <VBRTapeMediaPoolBase> -Medium <VBRTapeMedium[]> [-Confirm] [-WhatIf] [<CommonParameters>]
```
```PowerShell
Move-VBRTapeMedium -Medium <VBRTapeMedium[]> -Vault <VBRTapeVault> [-Confirm] [-WhatIf] [<CommonParameters>]
```

New-VBRADContainer
------------------

### Synopsis
Creates a scope of Active Directory objects for a protection group.

---

### Description

This cmdlet creates the VBRADContainer object. This object contains a scope of Active Directory objects. Use this object to create a protection group with the Add-VBRProtectionGroup cmdlet.

---

### Related Links
* [Get-VBRADDomain](Get-VBRADDomain.md)

* [Find-VBRADEntity](Find-VBRADEntity.md)

* [New-VBRADCustomCredentials](New-VBRADCustomCredentials.md)

* [Add-VBRProtectionGroup](Add-VBRProtectionGroup.md)

---

### Examples
> Example 1. Creating Scope of Active Directory Objects

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
$root = Find-VBRADEntity -Domain $connection
$accounts = Find-VBRADEntity -Domain $connection -Root $root -Name "Accounts"
$servers = Find-VBRADEntity -Domain $connection -Root $root -Name "Servers"
$creds = Get-Credential
$custom = New-VBRADCustomCredentials -Entity $servers -Credentials $creds
New-VBRADContainer -Domain $connection -Entity $root -ExcludeComputers -ExcludedEntity $accounts -MasterCredentials support\jsmith -UseCustomCredentials -CustomCredentials $custom
This example shows how to create a scope of Active Directory objects.
The cmdlet will create a scope with the following settings:
- The scope will contain objects of the Active Directory domain container except for the Accounts container.
- All computers that have been offline for over 30 days and VMs will be excluded from the scope.
- Veeam Backup & Replication will use custom credentials for authenticating with objects from the Servers container.

Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName parameter value. Specify the Credentials parameter value. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Save the result to the $root variable.
3. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $root variable as the Root parameter value. Specify the Name parameter value. Save the result to the $accounts variable.
4. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $root variable as the Root parameter value. Specify the Name parameter value. Save the result to the $servers variable.
5. Run the Get-credential cmdlet. Type the credentials and save the result to the $creds variable.
6. Run the New-VBRADCustomCredentials cmdlet. Set the $servers variable as the Entity parameter value. Set the $creds variable as the Credentials parameter value. The cmdlet will apply custom credentials to the objects from the Servers container. Save the result to the $custom variable.
7. Run the New-VBRADContainer cmdlet. Specify the following settings:
- Set the $connection variable as the Domain parameter value.
- Set the $root variable as the Entity parameter value.
- Provide the ExcludeComputers parameter.
- Set the $accounts variable as the ExcludedEntity parameter value.
- Specify the MasterCredentials parameter value.
- Provide the UseCustomCredentials parameter.
- Set the $custom variable as the CustomCredentials parameter value.
> Example 2. Creating Protection Group with Scope of Active Directory Objects

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
$root = Find-VBRADEntity -Domain $connection
$accounts = Find-VBRADEntity -Domain $connection -Root $root -Name "Accounts"
$servers = Find-VBRADEntity -Domain $connection -Root $root -Name "Servers"
$creds = Get-Credential
$custom = New-VBRADCustomCredentials -Entity $servers -Credentials $creds
$adscope = New-VBRADContainer -Domain $connection -Entity $root -ExcludeOfflineComputers -ExcludeComputers -ExcludedEntity $accounts -MasterCredentials support\jsmith -UseCustomCredentials -CustomCredentials $custom
Add-VBRProtectionGroup -Name "AD" -Description "Protection Group" -Container $adscope
This example shows how to create a protection group with a scope of Active Directory objects.
Perform the following steps:
1. Create a scope of Active Directory objects:
- Run the Get-VBRADDomain cmdlet. Specify the ServerName parameter value. Specify the Credentials parameter value. Save the result to the $connection variable.
- Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Save the result to the $root variable.
- Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $root variable as the Root parameter value. Specify the Name parameter value. Save the result to the $accounts variable.
- Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $root variable as the Root parameter value. Specify the Name parameter value. Save the result to the $servers variable.
- Run the Get-credential cmdlet. Type the credentials and save the result to the $creds variable.
- Run the New-VBRADCustomCredentials cmdlet. Set the $servers variable as the Entity parameter value. Set the $creds variable as the Credentials parameter value. The cmdlet will apply custom credentials to the objects from the Servers container. Save the result to the $custom variable.
- Run the New-VBRADContainer cmdlet. Specify the necessary parameters. Save the result to the $adscope variable.
2. Create a protection group. Run the Add-VBRProtectionGroup cmdlet. Specify the Name and the Description parameter values. Set the $adscope variable as the Container parameter value.

---

### Parameters
#### **CustomCredentials**
Specifies custom credentials for authenticating with associated Active Directory objects.

|Type                        |Required|Position|PipelineInput        |
|----------------------------|--------|--------|---------------------|
|`[VBRADCustomCredentials[]]`|false   |named   |True (ByPropertyName)|

#### **Domain**
Specifies the Active Directory domain connection object.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[VBRADDomain]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Entity**
Specifies the array of the Active Directory objects from the same domain. The cmdlet will add these objects to the protection scope.
You can add the following types of Active Directory objects:
* Domain
* Cluster
* Organization unit
* Global group
* Folder
* Computer
Note: You cannot add Domain Local or Universal groups.

|Type             |Required|Position|PipelineInput        |
|-----------------|--------|--------|---------------------|
|`[VBRADEntity[]]`|true    |named   |True (ByPropertyName)|

#### **ExcludeComputers**
Defines that you want to exclude some Active Directory objects from the protection scope.
Use the ExcludeEntity parameter to specify objects you want to exclude from the protection scope.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **ExcludedEntity**
Specifies Active Directory objects you want to exclude from the protection scope.
Note: You cannot exclude Domain Local or Universal groups.

|Type             |Required|Position|PipelineInput        |
|-----------------|--------|--------|---------------------|
|`[VBRADEntity[]]`|false   |named   |True (ByPropertyName)|

#### **ExcludeOfflineComputers**
Defines that the cmdlet will exclude computers that have been offline for over 30 days.
By default this parameter is set to True. If you don't want to exclude offline computers from the protection scope, set this parameter to False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **ExcludeVMs**
Defines that the cmdlet will exclude all VMs from the protection scope.
By default this parameter is set to True. If you don't want to exclude VMs from the protection scope, set this parameter to False.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

#### **MasterCredentials**
Specifies Master account credentials for authenticating with all Active Directory objects in a protection scope.
For authenticating with Active Directory objects that require different credentials, Veeam Backup & Replication uses custom credentials. If you want to use custom credentials for some Active Directory objects, set the UseCustomCredentials parameter.

|Type            |Required|Position|PipelineInput        |
|----------------|--------|--------|---------------------|
|`[CCredentials]`|true    |named   |True (ByPropertyName)|

#### **UseCustomCredentials**
Defines that you want to use custom credentials for authenticating with some Active Directory objects.
To specify custom credentials, use the CustomCredentials parameter.

|Type      |Required|Position|PipelineInput        |
|----------|--------|--------|---------------------|
|`[Switch]`|false   |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRADDomain

Veeam.Backup.PowerShell.Infos.VBRADEntity[]

System.Management.Automation.SwitchParameter

Veeam.Backup.Common.CCredentials

Veeam.Backup.PowerShell.Infos.VBRADCustomCredentials[]

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRADContainer [-CustomCredentials <VBRADCustomCredentials[]>] -Domain <VBRADDomain> -Entity <VBRADEntity[]> [-ExcludeComputers] [-ExcludedEntity <VBRADEntity[]>] 
```
```PowerShell
[-ExcludeOfflineComputers] [-ExcludeVMs] -MasterCredentials <CCredentials> [-UseCustomCredentials] [<CommonParameters>]
```

New-VBRADCustomCredentials
--------------------------

### Synopsis
Specifies custom credentials for authenticating with Active Directory objects.

---

### Description

This cmdlet specifies custom credentials for authenticating with Active Directory objects you want to add to a protection group. Veeam Backup & Replication uses these credentials for Veeam Agent deployment and backup\restore activities.
By default, Veeam Backup & Replication uses Master account credentials for authenticating with all Active Directory objects in a protection group. For authenticating with Active Directory objects that require different credentials Veeam Backup & Replication uses custom credentials.

---

### Related Links
* [Get-VBRADDomain](Get-VBRADDomain.md)

* [Find-VBRADEntity](Find-VBRADEntity.md)

---

### Examples
> Example 1. Specifying Credentials for Authenticating with Active Directory Objects

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
$root = Find-VBRADEntity -Domain $connection
$accounts = Find-VBRADEntity -Domain $connection -Root $root -Name Accounts
$ccreds = Get-Credential
New-VBRADCustomCredentials -Entity $accounts -Credentials $ccreds
This example shows how to specify custom credentials for authenticating with Active Directory objects.
Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Save the result to the $root variable.
3. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Set the $root variable as the Root parameter value. Specify the Name parameter value. Save the result to the $accounts variable.
4. Run the Get-Credential cmdlet. Type the credentials you want to use for authenticating with the Active Directory objects from the Accounts container. Save the result to the $ccreds variable.
5. Run the New-VBRADCustomCredentials cmdlet. Set the $accounts variable as the Entity parameter value. Set the $ccreds variable as the Credentials parameter value.
> Example 2. Specifying Master Account Credentials for Scope of Active Directory Objects

$connection = Get-VBRADDomain -ServerName support.east -Credentials support\jsmith
$objects = Find-VBRADEntity -Domain $connection -Name Support
New-VBRADCustomCredentials -Entity $objects
This example shows how to specify Master account credentials for the scope of Active Directory objects.
Perform the following steps:
1. Run the Get-VBRADDomain cmdlet. Specify the ServerName and Credentials parameter values. Save the result to the $connection variable.
2. Run the Find-VBRADEntity cmdlet. Set the $connection variable as the Domain parameter value. Specify the Name parameter value. Save the result to the $objects variable.
3. Run the New-VBRADCustomCredentials cmdlet. Set the $objects variable as the Entity parameter value.

---

### Parameters
#### **Credentials**
Specifies custom credentials for authenticating with Active Directory objects in a protection group.
If not set, Veeam Backup & Replication will use Master account credentials for authenticating with associated objects.
Note: for string type, enter a user name in the "Domain\Username" format.

|Type            |Required|Position|PipelineInput        |
|----------------|--------|--------|---------------------|
|`[CCredentials]`|false   |named   |True (ByPropertyName)|

#### **Entity**
Specifies Active Directory objects for which you want to specify custom credentials.

|Type           |Required|Position|PipelineInput                 |
|---------------|--------|--------|------------------------------|
|`[VBRADEntity]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRADEntity

Veeam.Backup.Common.CCredentials

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRADCustomCredentials [-Credentials <CCredentials>] -Entity <VBRADEntity> [<CommonParameters>]
```

New-VBRAmazonEC2Container
-------------------------

### Synopsis
Defines a scope of Amazon EC2 instances, EC2 tags or AWS datacenters for a protection group.

---

### Description

This cmdlet defines the VBRAmazonEC2Container object. This object contains a scope of Amazon EC2 instances,  EC2 tags or AWS datacenters.
Use this object to create a protection group with the Add-VBRProtectionGroup cmdlet. After you create a protection group, Veeam Backup & Replication will deploy Veeam Agent on EC2 instances added to the scope of the protection group.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonEC2Region](Get-VBRAmazonEC2Region.md)

* [Get-VBRAmazonEC2VM](Get-VBRAmazonEC2VM.md)

---

### Examples
> Example 1. Defining Scope of Amazon EC2 Instances for Protection Group

$AWSaccount = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$AWSregion = Get-VBRAmazonEC2Region -Account $AWSaccount -RegionType Global -Name "eu-central-1"
$instances = Get-VBRAmazonEC2VM -Region $AWSregion
$container = New-VBRAmazonEC2Container -Region $AWSregion -Entity $instances
This example shows how to define the scope of Amazon EC2 instances to add them to a protection group.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $AWSaccount variable.
2. Run the Get-VBRAmazonEC2Region cmdlet. Set the $AWSaccount variable as the Account parameter value. Set the Global value as the RegionType parameter value. Specify the Name parameter value. Save the result to the $AWSregion variable.
3. Run the Get-VBRAmazonEC2VM cmdlet. Set the $AWSregion variable as the Region parameter value. Save the result to the $instances variable.
4. Run the New-VBRAmazonEC2Container cmdlet. Set the $AWSregion variable as the Region parameter value. Set the $instances variable as the Entity parameter value. Save the result to the $container variable.
> Example 2. Defining Scope of AWS Datacenters for Protection Group

$AWSaccount = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$datacenter = Get-VBRAmazonEC2Region -Account $AWSaccount -RegionType Global -Name "eu-central-1"
$container = New-VBRAmazonEC2Container -Region $AWSregion -Entity $datacenter
This example shows how to define the scope of Amazon EC2 datacenters to add them to a protection group.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $AWSaccount variable.
2. Run the Get-VBRAmazonEC2Region cmdlet. Set the $AWSaccount variable as the Account parameter value. Set the Global value as the RegionType parameter value. Specify the Name parameter value. Save the result to the $datacenter variable.
3. Run the New-VBRAmazonEC2Container cmdlet. Set the $AWSregion variable as the Region parameter value. Set the $datacenter variable as the Entity parameter value. Save the result to the $container variable.
> Example 3. Defining Scope of AWS Tags for Protection Group

$AWSaccount = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$AWSregion = Get-VBRAmazonEC2Region -Account $AWSaccount -RegionType Global -Name "eu-central-1"
$tag = New-VBRAmazonEC2Tag -Key "owner" -Value "vat"
$container = New-VBRAmazonEC2Container -Region $AWSregion -Entity $tag
This example shows how to define the to define the scope of Amazon EC2 tags to add them to a protection group.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $AWSaccount variable.
2. Run the Get-VBRAmazonEC2Region cmdlet. Set the $AWSaccount variable as the Account parameter value. Set the Global value as the RegionType parameter value. Specify the Name parameter value. Save the result to the $AWSregion variable.
3. Run the New-VBRAmazonEC2Tag cmdlet. Specify the Key and the Value parameter values. Save the result to the $tag variable.
4. Run the New-VBRAmazonEC2Container cmdlet. Set the $AWSregion variable as the Region parameter value. Set the $tag variable as the Entity parameter value. Save the result to the $container variable.

---

### Parameters
#### **AutoAssignIAMRole**
Defines that the cmdlet will automatically set the IAM role with the AmazonSSMManagedInstanceCore policy to the EC2 instances that you want to back up.
If you do not provide this parameter, you will have to set the IAM role manually.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Switch]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Entity**
Specifies an array of the following entities that the cmdlet will add to a scope of a protection group:
* EC2 instances.
* EC2 tags.
* AWS datacenters.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[Object[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ExcludedEntity**
Specifies an array of the following entities that the cmdlet will exclude from a scope of a protection group:
* EC2 instances.
* EC2 tags.
* AWS datacenters.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[Object[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **ExcludeEntities**
Defines that the cmdlet will exclude the following entities from a scope of a protection group:
* EC2 instances.
* EC2 tags.
* AWS datacenters.
Provide the ExcludedEntity parameter to specify the excluded entities.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Switch]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Region**
Specifies AWS Regions in which you want to deploy Veeam Agent on cloud machines.

|Type                  |Required|Position|PipelineInput                 |
|----------------------|--------|--------|------------------------------|
|`[VBRAmazonEC2Region]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonEC2Region

System.Object[]

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAmazonEC2Container [-AutoAssignIAMRole] -Entity <Object[]> [-ExcludedEntity <Object[]>] [-ExcludeEntities] -Region <VBRAmazonEC2Region> [<CommonParameters>]
```

New-VBRAmazonEC2DiskConfiguration
---------------------------------

### Synopsis
Creates storage volume settings for Amazon EC2 instances.

---

### Description

This cmdlet creates the VBRAmazonEC2DiskConfiguration object.
This object contains storage volume settings for Amazon EC2 instances.

---

### Examples
> Example 1

```PowerShell
$volumesettings = New-VBRAmazonEC2DiskConfiguration -DiskName "srv20.vhdx" -Include -DiskType ColdHDD
This command defines settings for Cold HDD storage volume of Amazon EC2 instances. Save the result to the variable to be used with the other cmdlets.
```

---

### Parameters
#### **DiskName**
Specifies the disk of the source machine.
Veeam Backup & Replication will restore this disk to Amazon EC2.
Note: You must specify the disk name in the "VMNAME.vhdx" format.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **DiskType**
Specifies the storage volume type.
Veeam Backup & Replication will saves disks of the restored machine as Amazon Elastic Block Store (EBS) volumes.
You can select the following types of EBS volumes:
* GeneralPurposeSSD - use this option to create General Purpose SSD volumes.
* ProvisionedIOPSSSD - use this option to create Provisioned IOPS SSD volumes.
* ColdHDD - use this option to create Cold HDD volumes.
* ThroughtputOptimizedHDD - use this option to create Throughput Optimized HDD volumes.
* Magnetic - use this option to create Magnetic volumes.
Valid Values:

* GeneralPurposeSSD
* ProvisionedIOPSSSD
* ColdHDD
* ThroughtputOptimizedHDD
* Magnetic
* GeneralPurposeSSD3
* ProvisionedIOPSSSD2

|Type                    |Required|Position|PipelineInput|
|------------------------|--------|--------|-------------|
|`[VBRAmazonEC2DiskType]`|false   |named   |False        |

#### **Include**
Defines that Veeam Backup & Replication will restore selected disks to Amazon EC2.
Default: True
Note: To disable this option, set the parameter value to $false. That is, parameter_name:$false.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **ProvisionedIOPSNumber**
For the ProvisionedIOPSSSD option.
Specifies the number of input/output operations per second for the volume.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAmazonEC2DiskConfiguration -DiskName <String> [-DiskType {GeneralPurposeSSD | ProvisionedIOPSSSD | ColdHDD | ThroughtputOptimizedHDD | Magnetic | GeneralPurposeSSD3 | 
```
```PowerShell
ProvisionedIOPSSSD2}] [-Include] [-ProvisionedIOPSNumber <Int32>] [<CommonParameters>]
```

New-VBRAmazonEC2ProxyAppliance
------------------------------

### Synopsis
Defines settings for Amazon EC2 helper appliances.

---

### Description

This cmdlet creates the VBRAmazonEC2ProxyAppliance object. This object contains settings for Amazon EC2 helper appliances.

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Get-VBRAmazonEC2Region](Get-VBRAmazonEC2Region.md)

* [Get-VBRAmazonEC2InstanceType](Get-VBRAmazonEC2InstanceType.md)

* [Get-VBRAmazonEC2VPC](Get-VBRAmazonEC2VPC.md)

* [Get-VBRAmazonEC2SecurityGroup](Get-VBRAmazonEC2SecurityGroup.md)

* [Get-VBRAmazonEC2Subnet](Get-VBRAmazonEC2Subnet.md)

---

### Examples
> Example 1

$account = Get-VBRAmazonAccount -Id "936edf7c-7cf3-4dbd-9895-c7485ef4bb2c"
$region = Get-VBRAmazonEC2Region -Account $account -RegionType Global -Name "ap-northeast-1"
$instance = Get-VBRAmazonEC2InstanceType -Region $region
$vpc = Get-VBRAmazonEC2VPC -Region $region
$sgroup = Get-VBRAmazonEC2SecurityGroup -VPC $vpc
$subnet = Get-VBRAmazonEC2Subnet -VPC $vpc -AvailabilityZone "eu-west-1a"
New-VBRAmazonEC2ProxyAppliance -InstanceType $instance -Subnet $subnet -SecurityGroup $sgroup -RedirectorPort 443
This example shows how to define settings for the AmazonEC2 helper appliance.

Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Get-VBRAmazonEC2Region cmdlet. Set the $account variable as the Account parameter value. Set the Global value as the RegionType parameter value. Specify the Name parameter value. Save the result to the $region variable.
3. Run the Get-VBRAmazonEC2InstanceType cmdlet. Set the $region variable as the Region parameter value. Save the result to the $instance variable.
4. Run the Get-VBRAmazonEC2VPC cmdlet. Set the $region variable as the Region parameter value. Save the result to the $vpc variable.
5. Run the Get-VBRAmazonEC2SecurityGroup cmdlet. Set the $vpc variable as the VPC parameter value. Save the result to the $sgroup variable.
6. Run the Get-VBRAmazonEC2Subnet cmdlet. Set the $vpc variable as the VPC parameter value. Specify the AvailabilityZone parameter value. Save the result to the $subnet variable.
7. Run the New-VBRAmazonEC2ProxyAppliance cmdlet. Specify the following settings:
- Set the $instance variable as the InstanceType parameter value.
- Set the $subnet variable as the Subnet parameter value.
- Set the $sgroup variable as the SecurityGroup parameter value.
- Specify the RedirectorPort parameter value.

---

### Parameters
#### **InstanceType**
Specifies a Amazon EC2 instance type.
The cmdlet will set the CPU and memory settings for a Amazon EC2 instance according to this instance type.
Accepts the VBRAmazonEC2InstanceType object. To get this object, run the Get-VBRAmazonEC2InstanceType cmdlet.

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRAmazonEC2InstanceType]`|true    |named   |False        |

#### **RedirectorPort**
Specifies the redirection port number.
Veeam Backup & Replication will use this port to connect to the proxy appliance.
Default: 443

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|true    |named   |False        |

#### **SecurityGroup**
Specifies the Amazon EC2 security group.
Accepts the VBRAmazonEC2SecurityGroup object.
To get this object, run the Get-VBRAmazonEC2SecurityGroup cmdlet.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRAmazonEC2SecurityGroup]`|true    |named   |False        |

#### **Subnet**
Specifies the Amazon VPC subnet.
Accepts the VBRAmazonEC2Subnet object.
To get this object, run the Get-VBRAmazonEC2Subnet cmdlet.

|Type                  |Required|Position|PipelineInput|
|----------------------|--------|--------|-------------|
|`[VBRAmazonEC2Subnet]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAmazonEC2ProxyAppliance -InstanceType <VBRAmazonEC2InstanceType> -RedirectorPort <Int32> -SecurityGroup <VBRAmazonEC2SecurityGroup> -Subnet <VBRAmazonEC2Subnet> 
```
```PowerShell
[<CommonParameters>]
```

New-VBRAmazonEC2Tag
-------------------

### Synopsis
Defines AWS tags.

---

### Description

This cmdlet creates the VBRAmazonEC2Tag object that contains settings of AWS tags.

---

### Examples
> Defining AWS Tags

```PowerShell
New-VBRAmazonEC2Tag -Key webserver -Value production
This command defines AWS tags.
```

---

### Parameters
#### **Key**
Specifies a key for the AWS tag.
The cmdlet will create the cmdlet with the specified key.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Value**
Specifies a value for the the AWS tag.
The cmdlet will create the cmdlet with the specified value.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAmazonEC2Tag -Key <String> -Value <String> [<CommonParameters>]
```

New-VBRAmazonS3Folder
---------------------

### Synopsis
Creates Amazon S3 folders.

---

### Description

This cmdlet creates Amazon S3 folders in the selected bucket. Veeam Backup & Replication will use these folders to keep backup files there.
You can create a new folder for the following types of Amazon object storage:
- Amazon S3
- S3 compatible (including IBM Cloud Object Storage)

---

### Related Links
* [Get-VBRAmazonAccount](Get-VBRAmazonAccount.md)

* [Connect-VBRAmazonS3Service](Connect-VBRAmazonS3Service.md)

* [Get-VBRAmazonS3Bucket](Get-VBRAmazonS3Bucket.md)

---

### Examples
> Creating New Amazon S3 Folder

$account = Get-VBRAmazonAccount -Id "0x0x0xxx-000x-0x0x-000-000x00000x0x"
$connection = Connect-VBRAmazonS3Service -Account $account -RegionType Global -ServiceType CapacityTier
$bucket = Get-VBRAmazonS3Bucket -Connection $connection
New-VBRAmazonS3Folder -Connection $connection -Bucket $bucket -Name "NewFolder"
This example shows how to create a new Amazon S3 folder.
Perform the following steps:
1. Run the Get-VBRAmazonAccount cmdlet. Specify the Id parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAmazonS3Service cmdlet. Set the $account variable as the Account parameter value. Specify the RegionType and ServiceType parameter values. Save the result to the $connection variable.
3. Run the Get-VBRAmazonS3Bucket cmdlet. Set the $connection variable as the Connection parameter value. Save the result to the $bucket variable.
4. Run the New-VBRAmazonS3Folder cmdlet. Set the $connection variable as the Connection parameter value. Set the $bucket variable as the Bucket parameter value. Specify the Name parameter value.

---

### Parameters
#### **Bucket**
Specifies an Amazon S3 bucket. The cmdlet will add a new Amazon S3 folder to this bucket.

|Type                 |Required|Position|PipelineInput |
|---------------------|--------|--------|--------------|
|`[VBRAmazonS3Bucket]`|true    |named   |True (ByValue)|

#### **Connection**
Specifies an active session with Amazon S3 object storage. The cmdlet will create a new folder in this Amazon S3 object storage.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[IVBRAmazonS3Connection]`|true    |named   |False        |

#### **Name**
Specifies a name of the Amazon S3 folder. The cmdlet will create the Amazon S3 folder with this name.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAmazonS3Bucket

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAmazonS3Folder -Bucket <VBRAmazonS3Bucket> -Connection <IVBRAmazonS3Connection> -Name <String> [<CommonParameters>]
```

New-VBRApplicationBackupOptions
-------------------------------

### Synopsis
Creates the backup settings and full backup schedule for application backup policies.

---

### Description

This cmdlet creates the VBRApplicationBackupOptions object that contains backup settings and full backup schedule for application backup policies.

You can use this cmdlet to create a schedule for application backup policies for the following Veeam Plug-ins managed by Veeam Backup & Replication:
- Veeam Plug-in for Oracle RMAN
- Veeam Plug-in for SAP HANA
- Veeam Plug-in for SAP on Oracle

---

### Examples
> Example 1. Scheduling Application Backup Policy to Create Full Backups Weekly

```PowerShell
New-VBRApplicationBackupOptions -FullBackupScheduleType Weekly -WeeklyScheduleType SelectedDays -SelectedDays Sunday, Wednesday
This command schedules an application backup policy to create full backups weekly. The policy will create full backups on Sunday and Wednesday.
```
> Example 2. Scheduling Application Backup Policy to Create Full Backups Monthly

```PowerShell
New-VBRApplicationBackupOptions  -FullBackupScheduleType Monthly -DayNumber OnDay -DayOfMonth 15 -SelectedMonths January, April, September
This command schedules an application backup policy to create full backups monthly. The policy will create full backups on the 15th of January, April and September.
```

---

### Parameters
#### **BackupMode**
Specifies the backup mode:
* Incremental: the policy will create a backup of data changed since the last incremental data backup.
* Differential: the policy will create a backup of data changed since the last full data backup.
* Cumulative: the policy will create a full data backup.
Valid Values:

* Incremental
* Differential
* Cumulative

|Type                        |Required|Position|PipelineInput|
|----------------------------|--------|--------|-------------|
|`[VBRApplicationBackupMode]`|false   |named   |False        |

#### **DayNumber**
For monthly backups. Specifies the day of the month when the job creates full backups.
* First: the job will create a full backup on the first specified day of the week for the selected months.
* Second: the job will create a full backup on the second specified day of the week for the selected months.
* Third: the job will create a full backup on the third specified day of the week for the selected months.
* Fourth: the job will create a full backup on the fourth specified day of the week for the selected months.
* Last: the job will create a full backup on the last specified day of the week for the selected months.
* OnDay: the job will create a full backup on the selected day of the month. Use the DayOfMonth parameter to set the day.
Valid Values:

* First
* Second
* Third
* Fourth
* Last
* OnDay

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRDayNumberInMonth]`|false   |named   |False        |

#### **DayOfMonth**
For monthly backups with the OnDay option. Specifies the day of the month, when the job creates full backups. For example, on the 3rd day of November.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **DayOfWeek**
For monthly backups. Specifies the day of the week, when the job creates full backups.
Valid Values:

* Sunday
* Monday
* Tuesday
* Wednesday
* Thursday
* Friday
* Saturday

|Type         |Required|Position|PipelineInput|
|-------------|--------|--------|-------------|
|`[DayOfWeek]`|false   |named   |False        |

#### **FullBackupScheduleType**
Specifies the full backups schedule type.
* Monthly: the job will create a full backup on selected days of the month.
* Weekly: the job will create a full backup on selected days of the week.
Valid Values:

* Weekly
* Monthly

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRFullBackupScheduleType]`|false   |named   |False        |

#### **SelectedDays**
For weekly backups with the SelectedDays option. Specifies the day of the week when the job creates full backups.
Valid Values:

* Sunday
* Monday
* Tuesday
* Wednesday
* Thursday
* Friday
* Saturday

|Type           |Required|Position|PipelineInput|
|---------------|--------|--------|-------------|
|`[DayOfWeek[]]`|false   |named   |False        |

#### **SelectedMonths**
Specifies the months, when the job creates full backups. Default: all months are selected.
Valid Values:

* January
* February
* March
* April
* May
* June
* July
* August
* September
* October
* November
* December

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[VBRMonth[]]`|false   |named   |False        |

#### **WeeklyScheduleType**
For weekly backups. Specifies the full backups schedule type.
* Everyday: the job will create a full backup on selected days of the month.
* WeekDays: the job will create a full backup on selected days of the week.
* SelectedDays: the job will create a full backup on selected days.
Valid Values:

* Everyday
* WeekDays
* SelectedDays

|Type                   |Required|Position|PipelineInput|
|-----------------------|--------|--------|-------------|
|`[VBRDailyOptionsType]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRApplicationBackupOptions [-BackupMode {Incremental | Differential | Cumulative}] [-DayNumber {First | Second | Third | Fourth | Last | OnDay}] [-DayOfMonth <String>] 
```
```PowerShell
[-DayOfWeek {Sunday | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday}] [-FullBackupScheduleType {Weekly | Monthly}] [-SelectedDays {Sunday | Monday | Tuesday | 
```
```PowerShell
Wednesday | Thursday | Friday | Saturday}] [-SelectedMonths {January | February | March | April | May | June | July | August | September | October | November | December}] 
```
```PowerShell
[-WeeklyScheduleType {Everyday | WeekDays | SelectedDays}] [<CommonParameters>]
```

New-VBRApplicationGroupStartupOptions
-------------------------------------

### Synopsis
Creates VM startup settings for staged restore.

---

### Description

The cmdlet creates the VBRApplicationGroupStartupOptions object that contains VM startup settings for staged restore.
Run the Start-VBRRestoreVM cmdlet to restore VMware VMs with the staged restore option.
Run the Start-VBRHvRestoreVM cmdlet to restore Hyper-V VMs with the staged restore option.

---

### Examples
> Example 1. Defining Startup Settings

$startupoptions = New-VBRApplicationGroupStartupOptions -MaximumBootTime 200 -ApplicationInitializationTimeout 150 -MemoryAllocationPercent 80
This command defines startup settings for VMs added to an application group. Veeam Backup & Replication will perform staged restore with the following VM startup settings:
- The period that is required for VMs to boot is set to 200 sec.
- The timeout required to initialize applications on VMs is set to 150.
- The amount of memory provided for VMs is set to 80 percent.
> Example 2. Defining Startup Settings with Heartbeat and Ping Tests

$startupoptions = New-VBRApplicationGroupStartupOptions -MaximumBootTime 150 -ApplicationInitializationTimeout 130 -MemoryAllocationPercent 110 -HeartbeatCheck -PingCheck
This command defines startup settings for VMs added to an application group. Veeam Backup & Replication will perform staged restore with the following VM startup settings:
- The period that is required for VMs to boot is set to 150 sec.
- The timeout required to initialize applications on VMs is set to 130.
- The amount of memory provided for VMs is set to 110 percent.

---

### Parameters
#### **ApplicationInitializationTimeout**
Specifies the timeout required to initialize applications on VMs.
Default: 120 sec.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|true    |named   |False        |

#### **HeartbeatCheck**
Defines that Veeam Backup & Replication will perform a heartbeat test for verified VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MaximumBootTime**
Specifies the period that is required for VMs to boot.
Default: 600 sec.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|true    |named   |False        |

#### **MemoryAllocationPercent**
Specifies the amount of memory that you want to pre-allocate to VMs when these VMs start.
Default: 100 percent.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|true    |named   |False        |

#### **PingCheck**
Defines that Veeam Backup & Replication will perform a ping test for verified VMs.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRApplicationGroupStartupOptions -ApplicationInitializationTimeout <Int32> [-HeartbeatCheck] -MaximumBootTime <Int32> -MemoryAllocationPercent <Int32> [-PingCheck] 
```
```PowerShell
[<CommonParameters>]
```

New-VBRApplicationProcessingOptions
-----------------------------------

### Synopsis
Creates application-aware processing settings for Veeam Agent backup jobs.

---

### Description

This cmdlet creates the VBRApplicationProcessingOptions object. This object contains application-aware processing settings for Veeam Agent backup jobs.
For more information about job application-aware settings, see the Application-Aware Processing section of the Veeam Agent Management Guide.
Note: You cannot set up application-aware processing for Veeam Agent jobs that back up workstations.

---

### Related Links
* [New-VBRScriptProcessingOptions](New-VBRScriptProcessingOptions.md)

* [New-VBROracleProcessingOptions](New-VBROracleProcessingOptions.md)

* [Get-VBRProtectionGroup](Get-VBRProtectionGroup.md)

* [New-VBRSQLProcessingOptions](New-VBRSQLProcessingOptions.md)

---

### Examples
> Example 1. Specifying Application-Aware Processing Settings for Veeam Agent Backup Job (Linux)

$script = New-VBRScriptProcessingOptions -ProcessingAction RequireSuccess -ScriptPrefreezeCommand "C:\scripts\pre-scipt.bat" -ScriptPostthawCommand "C:\scripts\post-script.bat"
$creds = Get-Credential
$oracle = New-VBROracleProcessingOptions -Credentials $creds
$group = Get-VBRProtectionGroup -Name "LinuxGroup"
New-VBRApplicationProcessingOptions -BackupObject $group -OSPlatform Linux -Enable -IgnoreErrors -OracleProcessingOptions $oracle -ScriptProcessingOptions $script
This example shows how to specify application-aware processing settings for a Veeam Agent job that backs up Linux computers. The job will run with the following options:
- Veeam Backup & Replication will run pre-freeze and post-thaw scripts to create a transactionally consistent backup.
- Veeam Backup & Replication will use a user account that has SYSDBA rights on the database to connect to an Oracle database.
- In case an error occurs during application-aware processing, Veeam Backup & Replication will proceed with the backup job and will create a crash-consistent backup.
Perform the following steps:
1. Run the New-VBRScriptProcessingOptions cmdlet. Specify the ProcessingAction, ScriptPrefreezeCommand and ScriptPostthawCommand parameter values. Save the result to the $script variable.
2. Run the Get-Credential cmdlet to specify credentials for the Oracle database. Save the result to the $creds variable.
3. Run the New-VBROracleProcessingOptions cmdlet. Set the $creds variable as the Credentials parameter value. Save the result to the $oracle variable.
4. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
5. Run New-VBRApplicationProcessingOptions cmdlet. Specify the following settings:
- Set the $group variable as the BackupObject parameter value.
- Set the Linux value as the OSPlatform parameter value.
- Provide the Enable parameter.
- Provide the IgnoreErrors parameter.
- Set the $oracle variable as the OracleProcessingOptions parameter value.
- Set the $script variable as the ScriptProcessingOptions parameter value.
> Example 2. Specifying Application-Aware Processing Settings for Veeam Agent Backup Job (Windows)

$creds = Get-Credential
$group = Get-VBRProtectionGroup -Name "WindowsGroup"
$sql = New-VBRSQLProcessingOptions -TransactionAction BackupPeriodically -LogBackupPeriod 25 -LogRetainAction KeepOnlyLastDays -LogRetainPeriod 7
New-VBRApplicationProcessingOptions -BackupObject $group -OSPlatform Windows -Enable -GeneralTransactionLogAction ProcessLogsWithJob -SQLProcessingOptions $sql -SharePointCredentials $creds
This example shows how to create application-aware processing settings for a Veeam Agent job that backs up Windows computers. The job will create a consistent backup and will run with the following options:
- Veeam Backup & Replication will apply SQL processing settings.
- Veeam Backup & Replication will use SharePoint admin credentials.
Perform the following steps:
1. Run the Get-Credential cmdlet. Save the result to the $creds variable.
2. Run the Get-VBRProtectionGroup cmdlet. Specify the Name parameter value. Save the result to the $group variable.
3. Run the New-VBRSQLProcessingOptions cmdlet. Specify the TransactionAction, LogBackupPeriod, LogRetainAction and LogRetainPeriod parameter values. Save the result to the $sql variable.
4. Run the New-VBRApplicationProcessingOptions cmdlet. Specify the following settings:
- Set the $group variable as the BackupObject parameter value.
- Set the Windows option for the OSPlatform parameter.
- Provide the Enable parameter.
- Set the ProcessLogsWithJob option for the GeneralTransactionLogAction parameter.
- Set the $sql variable as the SQLProcessingOptions parameter value.
- Set the $creds variable as the SharePointCredentials parameter value.

---

### Parameters
#### **BackupObject**
Specifies a protection group or a discovered computer, for which you want to set up application-aware processing settings.

|Type      |Required|Position|PipelineInput |
|----------|--------|--------|--------------|
|`[Object]`|true    |named   |True (ByValue)|

#### **Enable**
Enables application-aware processing. Veeam Backup & Replication will turn on application-aware processing option for the selected protection group or a discovered computer.
Note: For Veeam Agent jobs that back up Linux computers, this parameter will also stop the backup process if any error occurs during application-aware processing.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **GeneralTransactionLogAction**
Specifies transaction logs action:
* ProcessLogsWithJob: use this option to allow Veeam Backup & Replication to process transaction logs.
Note: For Veeam Agent jobs that back up Windows computers, this option enables SQL and Oracle logs processing options.
* PerformCopyOnly: use this option if you have another tool to maintain consistency of the database state. Veeam Agent for Microsoft Windows will create a copy-only backup.
Note:
* This parameter is required for Veeam Agent jobs that back up Windows computers.
* This parameter does not work for Veeam Agent jobs that back up Linux computers.
Valid Values:

* ProcessLogsWithJob
* PerformCopyOnly

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRGeneralTransactionLogAction]`|false   |named   |False        |

#### **IgnoreErrors**
Defines that Veeam Backup & Replication will ignore application processing errors. In case an error occurs during application-aware processing, Veeam Backup & Replication will continue to run the backup job. The resulting backup will be crash-consistent.
Note: This parameter works for Veeam Agent jobs that back up Linux computers only. You must use the Enable parameter to set up processing options with the IgnoreErrors option.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **MySQLProcessingOptions**
Specifies MySQL processing settings. Veeam Agent will apply these settings to a Veeam Agent backup job.

|Type                         |Required|Position|PipelineInput|
|-----------------------------|--------|--------|-------------|
|`[VBRMySQLProcessingOptions]`|false   |named   |False        |

#### **OracleProcessingOptions**
Specifies Oracle processing settings.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBROracleProcessingOptions]`|false   |named   |False        |

#### **OSPlatform**
Specifies the OS of the protected computers:
* Windows: for Windows computers.
* Linux: for Linux computers.
* Mac: for macOS computers.
Note: Application-aware processing for macOS computers is not supported in current version of Veeam PowerShell.
Valid Values:

* Windows
* Linux
* Mac
* Unix

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRAgentType]`|true    |named   |False        |

#### **PostgreSQLProcessingOptions**
Specifies PostgreSQL processing settings. Veeam Agent will apply these settings to a Veeam Agent backup job.

|Type                              |Required|Position|PipelineInput|
|----------------------------------|--------|--------|-------------|
|`[VBRPostgreSQLProcessingOptions]`|false   |named   |False        |

#### **ScriptProcessingOptions**
Specifies custom script settings. Veeam Agent will run pre-freeze and post-thaw scripts per these settings.

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRScriptProcessingOptions]`|false   |named   |False        |

#### **SharePointCredentials**
Specifies the credentials for the SharePoint user account that has enough permissions on the application. Veeam Agent for Microsoft Windows will use these credentials to connect to SharePoint and to back up the application.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[CCredentials]`|false   |named   |False        |

#### **SQLProcessingOptions**
Specifies SQL processing settings.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[VBRSQLProcessingOptions]`|false   |named   |False        |

---

### Inputs
System.Object

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRApplicationProcessingOptions -BackupObject <Object> [-Enable] [-GeneralTransactionLogAction {ProcessLogsWithJob | PerformCopyOnly}] [-IgnoreErrors] 
```
```PowerShell
[-MySQLProcessingOptions <VBRMySQLProcessingOptions>] [-OracleProcessingOptions <VBROracleProcessingOptions>] -OSPlatform {Windows | Linux | Mac | Unix} 
```
```PowerShell
[-PostgreSQLProcessingOptions <VBRPostgreSQLProcessingOptions>] [-ScriptProcessingOptions <VBRScriptProcessingOptions>] [-SharePointCredentials <CCredentials>] 
```
```PowerShell
[-SQLProcessingOptions <VBRSQLProcessingOptions>] [<CommonParameters>]
```

New-VBRApplicationScheduleOptions
---------------------------------

### Synopsis
Creates the schedule for application backup policies.

---

### Description

This cmdlet creates the VBRApplicationScheduleOptions object that contains schedule settings for application backup policies. You can use this cmdlet to create a schedule for application backup policies for the following Veeam Plug-ins managed by Veeam Backup & Replication:
Veeam Plug-in for Oracle RMAN
Veeam Plug-in for SAP HANA
Veeam Plug-in for SAP on Oracle

---

### Related Links
* [New-VBRDailyOptions](New-VBRDailyOptions.md)

---

### Examples
> Example - Creating Schedule for Application Backup Policy

$daily = New-VBRDailyOptions -DayOfWeek Friday -Period 7:00
New-VBRApplicationScheduleOptions -Type Daily -DailyOptions $daily
This example shows how to create the schedule for an application backup policy. The job will run on Fridays at 7:00 PM.

Perform the following steps:
1. Run the New-VBRDailyOptions cmdlet. Specify the DayOfWeek and Period parameter values. Save the result to the $daily variable.
2. Run the New-VBRApplicationScheduleOptions cmdlet. Set the Daily option for the Type parameter. Set the $daily variable as the DailyOptions parameter value.

---

### Parameters
#### **DailyOptions**
For daily schedule. Specifies daily schedule settings. The cmdlet will create the server schedule with these settings. Accepts the VBRDailyOptions object. To get this object, run the New-VBRDailyOptions cmdlet.

|Type               |Required|Position|PipelineInput|
|-------------------|--------|--------|-------------|
|`[VBRDailyOptions]`|false   |named   |False        |

#### **EnableBackupTerminationWindow**
Enables the option to stop the Veeam Agent backup job if it exceeds the backup window.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableRetry**
Enables the option to run the Veeam Agent backup job again in case it fails.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **Job**
For running after a job. Specifies the name of the backup job after which Veeam Backup & Replication will run application backup policies. The cmdlet will create the schedule with these settings. Accepts the CBackupJob object.  To get this object, run the Get-VBRJob cmdlet.

|Type          |Required|Position|PipelineInput|
|--------------|--------|--------|-------------|
|`[CBackupJob]`|false   |named   |False        |

#### **MonthlyOptions**
For monthly schedule. Specifies monthly schedule settings. The cmdlet will create the server schedule with these settings. Accepts the VBRMonthlyOptions object. To get this object, run the New-VBRMonthlyOptions cmdlet.

|Type                 |Required|Position|PipelineInput|
|---------------------|--------|--------|-------------|
|`[VBRMonthlyOptions]`|false   |named   |False        |

#### **PeriodicallyOptions**
For periodical run. Specifies periodical schedule settings. The cmdlet will create the server schedule with these settings. Accepts the VBRPeriodicallyOptions object. To get this object, run the New-VBRPeriodicallyOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRPeriodicallyOptions]`|false   |named   |False        |

#### **RetryCount**
For the EnableRetry parameter. Specifies the number of attempts to run the failed Veeam Agent backup job. Permitted values: 1 to 999.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **RetryTimeout**
For the EnableRetry parameter. Specifies the time interval between retry attempts in minutes. Permitted values: 1 to 999.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **TerminationWindow**
Specifies the time interval within which the backup job must complete. The cmdlet will create the Veeam Agent backup job with these settings. Accepts the VBRBackupWindowOptions object. To get this object, run the New-VBRBackupWindowOptions cmdlet.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupWindowOptions]`|false   |named   |False        |

#### **Type**
Specifies the backup job schedule type:
* Daily: use this option to run the job at a specific time daily.
* Monthly: use this option to run the job once a month on specific days.
* Periodically: use this option to run the job repeatedly throughout a day with a specific time interval.
* AfterJob: use this option to create a chain of jobs. Veeam Backup & Replication will start the Veeam Agent backup job after the other backup job.
NOTE: The AfterJob option does not work for backup policy.
Valid Values:

* Daily
* Monthly
* Periodically
* AfterJob

|Type                          |Required|Position|PipelineInput|
|------------------------------|--------|--------|-------------|
|`[VBRApplicationScheduleType]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRApplicationScheduleOptions [-DailyOptions <VBRDailyOptions>] [-EnableBackupTerminationWindow] [-EnableRetry] [-Job <CBackupJob>] [-MonthlyOptions <VBRMonthlyOptions>] 
```
```PowerShell
[-PeriodicallyOptions <VBRPeriodicallyOptions>] [-RetryCount <Int32>] [-RetryTimeout <Int32>] [-TerminationWindow <VBRBackupWindowOptions>] -Type {Daily | Monthly | 
```
```PowerShell
Periodically | AfterJob} [<CommonParameters>]
```

New-VBRAzureBlobFolder
----------------------

### Synopsis
Creates Microsoft Azure Blob folders.

---

### Description

This cmdlet creates Microsoft Azure Blob folders. Veeam Backup & Replication will use these folders to keep backup files there.
Important! The default Root container is not supported. For more information about this container, see this Microsoft article.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Connect-VBRAzureBlobService](Connect-VBRAzureBlobService.md)

* [Get-VBRAzureBlobContainer](Get-VBRAzureBlobContainer.md)

---

### Examples
> Adding Microsoft Azure Blob Folder

$account = Get-VBRAzureBlobAccount -Name "Azure Blob"
$connect = Connect-VBRAzureBlobService -Account $account -RegionType Global -ServiceType CapacityTier
$container = Get-VBRAzureBlobContainer -Connection $connect -Name "Container"
New-VBRAzureBlobFolder -Container $container -Connection $connect -Name "Images"
This example shows how to create a Microsoft Azure Blob folder that an Azure Blob object storage will use as a repository.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Run the Connect-VBRAzureBlobService cmdlet. Specify the Account, RegionType and the ServiceType parameter values. Save the result to the $connect variable.
3. Run the Get-VBRAzureBlobContainer cmdlet. Specify the Connection and the Name parameter values. Save the result to the $container variable.
4. Run the New-VBRAzureBlobFolder cmdlet. Set the $container variable as the Container parameter value. Set the $connect variable as the Connection parameter value. Specify the Name parameter value.

---

### Parameters
#### **Connection**
Specifies an active session with Microsoft Azure Blob storage. The cmdlet will use this session to connect to Microsoft Azure object storage.

|Type                       |Required|Position|PipelineInput|
|---------------------------|--------|--------|-------------|
|`[IVBRAzureBlobConnection]`|true    |named   |False        |

#### **Container**
Specifies an Microsoft Azure Blob container. The cmdlet will create a folder in this container.

|Type                     |Required|Position|PipelineInput |
|-------------------------|--------|--------|--------------|
|`[VBRAzureBlobContainer]`|true    |named   |True (ByValue)|

#### **Name**
Specifies a name of the Microsoft Azure Blob container. The cmdlet will create a new Microsoft Azure Blob folder in this container.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureBlobContainer

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAzureBlobFolder -Connection <IVBRAzureBlobConnection> -Container <VBRAzureBlobContainer> -Name <String> [<CommonParameters>]
```

New-VBRAzureComputeProxyAppliance
---------------------------------

### Synopsis
Defines proxy appliance settings for adding Azure Archive repository.

---

### Description

This cmdlet defines the proxy appliance settings for adding an Azure Archive repository.

---

### Related Links
* [Get-VBRAzureBlobAccount](Get-VBRAzureBlobAccount.md)

* [Get-VBRAzureSubscription](Get-VBRAzureSubscription.md)

* [Get-VBRAzureLocation](Get-VBRAzureLocation.md)

* [Get-VBRAzureVMSize](Get-VBRAzureVMSize.md)

* [Get-VBRAzureVirtualNetwork](Get-VBRAzureVirtualNetwork.md)

* [Get-VBRAzureVirtualNetworkSubnet](Get-VBRAzureVirtualNetworkSubnet.md)

* [Get-VBRAzureResourceGroup](Get-VBRAzureResourceGroup.md)

---

### Examples
> Adding Azure Proxy Appliance

$account = Get-VBRAzureBlobAccount -Name "Azure_Blob"
$subscription = Get-VBRAzureSubscription -Account $account
$location = Get-VBRAzureLocation -Subscription $subscription
$vmsize = Get-VBRAzureVMSize -Subscription $subscription -Location $location
$network = Get-VBRAzureVirtualNetwork -Name "VeeamInternalNetwork"
$subnet = Get-VBRAzureVirtualNetworkSubnet -Network $network -Name "VeeamInternalSubnet"
$rg = Get-VBRAzureResourceGroup -Subscription $subscription -Name "VeeamResourceGroup"
New-VBRAzureComputeProxyAppliance -VMSize $vmsize -Network $network -Subnet $subnet -ResourceGroup $rg -RedirectorPort 443
This example shows how to defines settings of an Azure proxy appliance.
Perform the following steps:
1. Run the Get-VBRAzureBlobAccount cmdlet. Specify the Name parameter value. Save the result to the $account variable.
2. Define the Azure proxy settings:
a. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Save the result to the $subscription variable.
b. Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable as the Subscription parameter value. Save the result to the $location variable.
c. Run the Get-VBRAzureVMSize cmdlet. Set the $subscription variable as the Subscription parameter value. Set the $location variable as the Location parameter value. Save the result to the $vmsize variable.
d. Run the Get-VBRAzureVirtualNetwork cmdlet. Specify the Name parameter values. Save the result to the $network variable. e. Run the Get-VBRAzureVirtualNetworkSubnet cmdlet. Set the $network variable as the Network parameter value. Specify the Name parameter value. Save the result to the $subnet variable.
f. Run the Get-VBRAzureResourceGroup cmdlet. Specify the Name parameter value. Save the result to the $rg variable.
3. Run the New-VBRAzureComputeProxyAppliance cmdlet. Specify the following settings:
- Set the $vmsize variable as the VMSize parameter value.
- Set the $network variable as the Network parameter value.
- Set the $subnet variable as the Subnet parameter value.
- Set the $rg variable as the ResourceGroup parameter value.
- Specify the RedirectorPort parameter value.

---

### Parameters
#### **Network**
Specifies the network to which the proxy appliance appliance must be connected.

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRAzureVirtualNetwork]`|true    |named   |False        |

#### **RedirectorPort**
Specifies the port that Veeam Backup & Replication will use to route requests between the proxy appliance and backup infrastructure components.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **ResourceGroup**
Specifies the resource group that will be associated with the proxy appliance.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRAzureResourceGroup]`|true    |named   |False        |

#### **Subnet**
Specifies the subnet for the proxy appliance.

|Type                     |Required|Position|PipelineInput|
|-------------------------|--------|--------|-------------|
|`[VBRAzureNetworkSubnet]`|true    |named   |False        |

#### **VMSize**
Specifies the size of the proxy appliance.

|Type              |Required|Position|PipelineInput|
|------------------|--------|--------|-------------|
|`[VBRAzureVMSize]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* Veeam.Backup.PowerShell.Infos.VBRAzureComputeProxyAppliance

---

### Notes

---

### Syntax
```PowerShell
New-VBRAzureComputeProxyAppliance -Network <VBRAzureVirtualNetwork> [-RedirectorPort <Int32>] -ResourceGroup <VBRAzureResourceGroup> -Subnet <VBRAzureNetworkSubnet> -VMSize 
```
```PowerShell
<VBRAzureVMSize> [<CommonParameters>]
```

New-VBRAzureContainer
---------------------

### Synopsis
Defines a scope of Azure VMs, Azure tags or Azure Availability Zone for a protection group.

---

### Description

This cmdlet defines the VBRAzureContainer object. This object contains a scope of Azure VMs, Azure tags or Azure Availability Zone for a protection group.
Use this object to create a protection group with the Add-VBRProtectionGroup cmdlet. After you create a protection group, Veeam Backup & Replication will deploy Veeam Agent on Azure VMs, Azure tags or Azure Availability Zone added to the scope of the protection group.

---

### Related Links
* [Get-VBRAzureAccount](Get-VBRAzureAccount.md)

* [Get-VBRAzureSubscription](Get-VBRAzureSubscription.md)

* [Get-VBRAzureLocation](Get-VBRAzureLocation.md)

* [Get-VBRAzureVM](Get-VBRAzureVM.md)

---

### Examples
> Defining Scope of Azure VMs for Protection Group

$account = Get-VBRAzureAccount -Type ResourceManager -Name "AzureRM@tech.com"
$subscription = Get-VBRAzureSubscription -Account $account
$location = Get-VBRAzureLocation -Subscription $subscription
$VMs = Get-VBRAzureVM -Subscription $subscription -Location $location
$scope = New-VBRAzureContainer -Subscription $subscription -Location $location -Entity $VMs
This example shows how to define the scope of Azure VMs to add them to a protection group.
Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Specify the Type and the Name parameter values. Save the result to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Save the result to the $subscription variable.
3. Run the Get-VBRAzureLocation cmdlet. Set the $subscription variable as the Subscription parameter value. Save the result to the $location variable.
4. Run the Get-VBRAzureVM cmdlet.  Set the $subscription variable as the Subscription parameter value. Set the $location variable as the Location parameter value. Save the result to the $VMs variable.
5. Run the New-VBRAzureContainer cmdlet. Set the $subscription variable as the Subscription parameter value. Set the $location variable as the Location parameter value. Set the $VMs variable as the Entity parameter value. Save the result to the $scope variable.

---

### Parameters
#### **Entity**
Specifies an array of the following entities that the cmdlet till add to a scope of a protection group:
* Azure VMs.
* Azure tags.
* Azure Availability Zone.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[Object[]]`|true    |named   |True (ByPropertyName, ByValue)|

#### **ExcludedEntity**
Specifies an array of the following entities that the cmdlet will exclude from a scope of a protection group:
* Azure VMs.
* Azure tags.
* Azure Availability Zone.

|Type        |Required|Position|PipelineInput                 |
|------------|--------|--------|------------------------------|
|`[Object[]]`|false   |named   |True (ByPropertyName, ByValue)|

#### **ExcludeEntities**
Specifies an array of the following entities that the cmdlet will exclude from a scope of a protection group:
* Azure VMs.
* Azure tags.
* Azure Availability Zone.

|Type      |Required|Position|PipelineInput                 |
|----------|--------|--------|------------------------------|
|`[Switch]`|false   |named   |True (ByPropertyName, ByValue)|

#### **Location**
Specifies Microsoft Azure region.

|Type                |Required|Position|PipelineInput                 |
|--------------------|--------|--------|------------------------------|
|`[VBRAzureLocation]`|true    |named   |True (ByPropertyName, ByValue)|

#### **Subscription**
Specifies subscriptions associated with a Microsoft Azure account.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

Veeam.Backup.PowerShell.Infos.VBRAzureLocation

System.Object[]

System.Management.Automation.SwitchParameter

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAzureContainer -Entity <Object[]> [-ExcludedEntity <Object[]>] [-ExcludeEntities] -Location <VBRAzureLocation> -Subscription <VBRAzureSubscription> 
```
```PowerShell
[<CommonParameters>]
```

New-VBRAzureDiskConfiguration
-----------------------------

### Synopsis
Defines Azure VM disk types.

---

### Description

This cmdlet creates the VBRAzureDiskConfiguration object that defines Azure VM disk types. Veeam Backup & Replication will attach disks of these types to the restored workloads.

For more information on disk types, see Microsoft Docs.

---

### Examples
> Defining Azure VM Disk Types

```PowerShell
New-VBRAzureDiskConfiguration -DiskName "srv20" -DiskType StandardHDD -Include
This command defines the StandardHDD Azure VM disk types named srv20.
```

---

### Parameters
#### **DiskName**
Specifies a new disk name.
The cmdlet will allocate an Azure VM disk with this name to the restored workloads.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **DiskType**
Specifies the type of the disk that Veeam Backup & Replication will attach to the restored workloads. You can specify the following type:
* StandardHDD
* StandardSSD
* PremiumSSD
Valid Values:

* StandardHDD
* StandardSSD
* PremiumSSD

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBRAzureDiskType]`|true    |named   |False        |

#### **Include**
Defines that the cmdlet will attach an Azure VM disk to the restored workloads.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAzureDiskConfiguration -DiskName <String> -DiskType {StandardHDD | StandardSSD | PremiumSSD} [-Include] [<CommonParameters>]
```

New-VBRAzureLinuxRestoreAppliance
---------------------------------

### Synopsis
Creates appliances for restoring Linux VMs to Microsoft Azure.

---

### Description

This cmdlet creates an appliance for restoring Linux VMs to Microsoft Azure.
You will need to further deploy the appliance with Deploy-VBRAzureLinuxRestoreAppliance.

---

### Examples
> Example 1

$account = Get-VBRAzureAccount -Type ResourceManager -Name "RestoreToAzureRM@Veeam.com"
$subscription = Get-VBRAzureSubscription -Account $account -Name "VeeamDirectRestore2Azure"
$storageaccount = Get-VBRAzureStorageAccount -Subscription $subscription -Name "VeeamDirectRestore2AzureStorage"
$network = Get-VBRAzureVirtualNetwork -Subscription $subscription -Name "VeeamInternalNetwork"
$subnet = Get-VBRAzureVirtualNetworkSubnet -Network $network -Name "VeeamInternalSubnet"
New-VBRAzureLinuxRestoreAppliance -Subscription $subscription -StorageAccount $storageaccount -VirtualNetwork $network -VirtualSubnet $subnet
This example shows how to restore a VM to a Resource Manager account:

Perform the following steps:
1. Run the Get-VBRAzureAccount cmdlet. Set the ResourceManager value as the Type parameter value. Specify the Name parameter value. Save it to the $account variable.
2. Run the Get-VBRAzureSubscription cmdlet. Set the $account variable as the Account parameter value. Specify the Name parameter value. Save it to the $subscription variable.
3. Run the Get-VBRAzureStorageAccount cmdlet.  Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value. Save it to the $storageaccount variable.
4. Run the Get-VBRAzureVirtualNetwork cmdlet. Set the $subscription variable as the Subscription parameter value. Specify the Name parameter value. Save the result to the $network variable.
5. Run the Get-VBRAzureVirtualNetworkSubnet cmdlet. Set the $network variable as the Network parameter value. Specify the Name parameter value. Save the result to the $subnet variable.
6. Run the New-VBRAzureLinuxRestoreAppliance cmdlet. Specify the following settings:
- Set the $subscription variable as the Subscription parameter value.
- Set the $storageaccount variable as the StorageAccount parameter value.
- Set the $network variable as the VirtualNetwork parameter value.
- Set the $subnet variable as the VirtualSubnet parameter value.

---

### Parameters
#### **ResourceGroup**
Specifies the resource group to which you want to connect the helper appliance.

|Type                     |Required|Position|PipelineInput        |
|-------------------------|--------|--------|---------------------|
|`[VBRAzureResourceGroup]`|false   |named   |True (ByPropertyName)|

#### **SshPort**
Specifies the port that used to connect the helper appliance.

|Type     |Required|Position|PipelineInput        |
|---------|--------|--------|---------------------|
|`[Int32]`|false   |named   |True (ByPropertyName)|

#### **StorageAccount**
Specifies the storage account you want to use to deploy the helper appliance.

|Type                      |Required|Position|PipelineInput        |
|--------------------------|--------|--------|---------------------|
|`[VBRAzureStorageAccount]`|true    |named   |True (ByPropertyName)|

#### **Subscription**
Specifies the Microsoft Azure subscription in which you plan to deploy the helper appliance.

|Type                    |Required|Position|PipelineInput                 |
|------------------------|--------|--------|------------------------------|
|`[VBRAzureSubscription]`|true    |named   |True (ByPropertyName, ByValue)|

#### **VirtualNetwork**
Specifies the virtual network to which you want to connect the helper appliance.

|Type                      |Required|Position|PipelineInput        |
|--------------------------|--------|--------|---------------------|
|`[VBRAzureVirtualNetwork]`|true    |named   |True (ByPropertyName)|

#### **VirtualSubnet**
Specifies the virtual network subnet to which you want to connect the helper appliance.

|Type                     |Required|Position|PipelineInput        |
|-------------------------|--------|--------|---------------------|
|`[VBRAzureNetworkSubnet]`|true    |named   |True (ByPropertyName)|

---

### Inputs
Veeam.Backup.PowerShell.Infos.VBRAzureSubscription

Veeam.Backup.PowerShell.Infos.VBRAzureStorageAccount

Veeam.Backup.PowerShell.Infos.VBRAzureResourceGroup

Veeam.Backup.PowerShell.Infos.VBRAzureVirtualNetwork

Veeam.Backup.PowerShell.Infos.VBRAzureNetworkSubnet

System.Int32

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAzureLinuxRestoreAppliance [-ResourceGroup <VBRAzureResourceGroup>] [-SshPort <Int32>] -StorageAccount <VBRAzureStorageAccount> -Subscription <VBRAzureSubscription> 
```
```PowerShell
-VirtualNetwork <VBRAzureVirtualNetwork> -VirtualSubnet <VBRAzureNetworkSubnet> [<CommonParameters>]
```

New-VBRAzureTag
---------------

### Synopsis
Defines Azure metadata tags.

---

### Description

This cmdlet defines the VBRAzureTag object. This object contains Azure metadata tags.

---

### Examples
> Defining Azure MetadataTags

```PowerShell
New-VBRAzureTag -Key Critically -Value High
This command defines Azure metadata tags.
```

---

### Parameters
#### **Key**
Specifies a key for the Azure metadata tag. The cmdlet will create the cmdlet with the specified key.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

#### **Value**
Specifies a value for the the Azure metadata tag. The cmdlet will create the cmdlet with the specified value.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRAzureTag -Key <String> -Value <String> [<CommonParameters>]
```

New-VBRBackupCacheOptions
-------------------------

### Synopsis
Defines backup cache settings for Veeam Agent for Microsoft Windows backup jobs.

---

### Description

This cmdlet creates the VBRBackupCacheOptions object. This object defines backup cache settings that you can apply to backup jobs created by Veeam Agent for Microsoft Windows.
IMPORTANT!
You can apply backup cache settings for Veeam Agent backup jobs that are targeted at the following types of backup location:
- Veeam backup repository.
- Veeam Cloud Connect repository.

---

### Examples
> Example 1. Defining Backup Cache Settings with Automatic Location Option

New-VBRBackupCacheOptions -Enable -Type Automatic -SizeLimit 5 -SizeUnit GB
This command defines the following backup cache settings:
- Veeam Backup & Replication will select the location to keep the backup cache automatically.
- Veeam Agent Backup jobs will not create backup cache files when the backup cache exceeds 5 GB.
> Example 2. Defining Backup Cache Settings with Manual Location Option

New-VBRBackupCacheOptions -Enable -Type Manual -LocalPath "C:\Backup" -SizeLimit 10 -SizeUnit TB
This command defines the following backup cache settings:
- The location to keep backup cache is specified explicitly.
- Veeam Backup & Replication will keep cache in the C:\Backup folder on the protected computer.
- Veeam Agent Backup jobs will not create backup cache files when the backup cache exceeds 10 TB.

---

### Parameters
#### **Enable**
Defines that the backup cache option is enabled.
If you provide this parameter, backup files will remain in the cache of the protected computers until these computers are able to connect to Veeam Backup & Replication.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **LocalPath**
For the Manual option of the Type parameter.
Specifies a path to the folder on a protected computer. The cmdlet will keep the cached data in the specified folder.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[String]`|false   |named   |False        |

#### **SizeLimit**
Specifies a size limit of a backup cache file in numbers. Veeam Agent Backup jobs will not add new backup cache files when this limit is exceeded.
Provide the SizeUnit parameter to specify the unit of measure.
Default: 10.
Note: To run the script, you must provide this parameter.

|Type     |Required|Position|PipelineInput|
|---------|--------|--------|-------------|
|`[Int32]`|false   |named   |False        |

#### **SizeUnit**
For the SizeLimit option.
Specifies the measure unit of a backup cache size limit. You can specify one of the following units:
* GB
* TB
Default: GB.
Note: To run the script, you must provide this parameter.
Valid Values:

* GB
* TB

|Type                      |Required|Position|PipelineInput|
|--------------------------|--------|--------|-------------|
|`[VBRBackupCacheSizeUnit]`|false   |named   |False        |

#### **Type**
Specifies how to choose the location to keep cached data. You can specify one of the following options:
* Automatic: use this option if you want Veeam Agent automatically define location for the backup cache on on each computer added to the backup policy.
* Manual: use this option if you want explicitly define the location to keep cached data on every computer. Provide the LocalPath parameter to specify a path to the folder where the cached data must be stored.
Default: Automatic.
Valid Values:

* Automatic
* Manual

|Type                           |Required|Position|PipelineInput|
|-------------------------------|--------|--------|-------------|
|`[VBRBackupCacheSelectionType]`|false   |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRBackupCacheOptions [-Enable] [-LocalPath <String>] [-SizeLimit <Int32>] [-SizeUnit {GB | TB}] [-Type {Automatic | Manual}] [<CommonParameters>]
```

New-VBRBackupCopyJobStorageOptions
----------------------------------

### Synopsis
Defines storage settings for Veeam Agent backup copy jobs.

---

### Description

This cmdlet creates the VBRBackupCopyJobStorageOptions object that contains storage settings for Veeam Agent backup copy jobs. These settings allow you to modify the following options for the storage:
- Data compression options
- Data deduplication options
- Encryption options
For more information about job storage settings, see the Data Compression and Deduplication section of User Guide for VMware vSphere.

---

### Related Links
* [Add-VBREncryptionKey](Add-VBREncryptionKey.md)

---

### Examples
> Example 1. Defining Storage Optimization Settings for Veeam Agent Backup Copy Job

New-VBRBackupCopyJobStorageOptions -CompressionLevel Optimal -StorageOptimizationType LANTarget
This command defines storage optimization settings for a Veeam Agent backup copy jobs. These settings are defined with the following options:
- The compression level is set to Optimal.
- The storage optimization type is set to back up to NAS.
> Example 2. Defining Storage Optimization Settings with Data Deduplication

New-VBRBackupCopyJobStorageOptions -CompressionLevel Dedupe-friendly -StorageOptimizationType LANTarget -EnableDataDeduplication
This command defines storage optimization settings for a Veeam Agent backup copy job. These settings are defined with the following options:
- The compression level is set to dedupe-friendly.
- The storage optimization type is set to back up to local storage
- Data deduplication is enabled.
> Example 3. Defining Storage Optimization Settings with Encryption Option

$plainpassword = "VeeamPassword"
$securepassword = $plainpassword | ConvertTo-SecureString -AsPlainText -Force
$key = Add-VBREncryptionKey -Password $securepassword -Description "Veeam Administrator"
New-VBRBackupCopyJobStorageOptions -CompressionLevel Optimal -StorageOptimizationType LocalTargetHugeBackup -EnableEncryption -EncryptionKey $key
This example shows how to define storage optimization settings with the encryption option.
Perform the following steps:
1. Create the secure password:
a. Add the $plainpassword variable and set it to the VeeamPassword value.
b. Convert the $plainpassword variable to the secure string. Provide the ConvertTo-SecureString, AsPlainText  and Force parameters. Save the result to the $securepassword variable.
c. Run the Add-VBREncryptionKey cmdlet. Set the $securepassword variable as the Password parameter value. Specify the Description parameter value. Save the result to the $key variable.
2. Run the New-VBRBackupCopyJobStorageOptions cmdlet. Specify the following settings:
- Set the Optimal option for the CompressionLevel parameter.
- Set the LocalTargetHugeBackup option for the StorageOptimizationType parameter.
- Provide the EnableEncryption parameter.
- Set the $key variable as the EncryptionKey parameter value.

---

### Parameters
#### **CompressionLevel**
Specifies a compression level of backup files created with a Veeam Agent backup copy job. You can specify either of the following compression level:
* Auto: use this option to set the same compression level as in the copied backup files.
* None: use this option if you do not want to enable data compression.
* DedupeFriendly: use this option to set a dedupe-friendly compression level.
* Optimal: use this option to set an optimal compression level.
* High: use this option to set a high compression level.
* Extreme: use this option to set an extreme compression level.
Default: Auto.
Valid Values:

* Auto
* None
* DedupeFriendly
* Optimal
* High
* Extreme

|Type                                |Required|Position|PipelineInput|
|------------------------------------|--------|--------|-------------|
|`[VBRBackupCopyJobCompressionLevel]`|true    |named   |False        |

#### **EnableDataDeduplication**
Defines that the cmdlet will enable the data deduplication option for backup files created with a Veeam Agent backup copy job.
If you do not provide this parameter, Veeam Backup & Replication will not decrease the size of these backup files.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EnableEncryption**
Defines that the cmdlet will encrypt backup files created with a Veeam Agent backup copy job.
If you do not provide this parameter, Veeam Backup & Replication will not encrypt these backup files.

|Type      |Required|Position|PipelineInput|
|----------|--------|--------|-------------|
|`[Switch]`|false   |named   |False        |

#### **EncryptionKey**
For the encryption option.
Specifies an encryption key. Veeam Backup & Replication will use this key to encrypt backup files.

|Type                |Required|Position|PipelineInput|
|--------------------|--------|--------|-------------|
|`[VBREncryptionKey]`|false   |named   |False        |

#### **KMSServer**
Specifies the KMS server you want to use to encrypt the data.

|Type            |Required|Position|PipelineInput|
|----------------|--------|--------|-------------|
|`[VBRKMSServer]`|false   |named   |False        |

#### **StorageOptimizationType**
Specifies data deduplication options.
* Automatic: use this option to set the same type of storage as in the copied backup files.
* LocalTarget: use this option for backup to SAN, DAS or local storage.
* LocalTargetHugeBackup: use this option for Veeam Agent jobs that can produce backup files larger than 16 TB.
* LANTarget: use this option for backup to NAS and for onsite backup.
* WANTarget: use this option if you plan to use WAN for offsite backup.
Depending on the selected storage type, the job will use data blocks of different size to optimize the size of backup files.
Default: LocalTarget.
Valid Values:

* Automatic
* LocalTarget
* LocalTargetHugeBackup
* LANTarget
* WANTarget

|Type                                       |Required|Position|PipelineInput|
|-------------------------------------------|--------|--------|-------------|
|`[VBRBackupCopyJobStorageOptimizationType]`|true    |named   |False        |

---

### Inputs
None

---

### Outputs
* [Object](https://learn.microsoft.com/en-us/dotnet/api/System.Object)

---

### Notes

---

### Syntax
```PowerShell
New-VBRBackupCopyJobStorageOptions -CompressionLevel {Auto | None | DedupeFriendly | Optimal | High | Extreme} [-EnableDataDeduplication] [-EnableEncryption] [-EncryptionKey 
```
```PowerShell
<VBREncryptionKey>] [-KMSServer <VBRKMSServer>] -StorageOptimizationType {Automatic | LocalTarget | LocalTargetHugeBackup | LANTarget | WANTarget} [<CommonParameters>]
```

